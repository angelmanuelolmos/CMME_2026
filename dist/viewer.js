/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["cmme"] = factory();
	else
		root["cmme"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/DataStruct/AnnotationTextEvent.ts":
/*!***********************************************!*\
  !*** ./src/DataStruct/AnnotationTextEvent.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationTextEvent: () => (/* binding */ AnnotationTextEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : AnnotationTextEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: AnnotationTextEvent\n\n        Purpose         : Event type for text annotations\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/26/05\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   AnnotationTextEvent\nExtends: Event\nPurpose: Data/routines for text annotation events\n------------------------------------------------------------------------*/\nclass AnnotationTextEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new2(t, sl) {\n        let _new2 = new AnnotationTextEvent;\n        AnnotationTextEvent.set2(_new2, t, sl);\n        return _new2;\n    }\n    static set2(new2, t, sl) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new2);\n        new2.eventtype = AnnotationTextEvent.EVENT_ANNOTATIONTEXT;\n        new2.text = t;\n        new2.staffloc = sl;\n    }\n    static new3(t) {\n        let _new3 = new AnnotationTextEvent;\n        AnnotationTextEvent.set3(_new3, t);\n        return _new3;\n    }\n    static set3(new3, t) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new3);\n        new3.eventtype = AnnotationTextEvent.EVENT_ANNOTATIONTEXT;\n        new3.text = t;\n        new3.staffloc = AnnotationTextEvent.DEFAULT_STAFFLOC;\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = AnnotationTextEvent.new2(this.text, this.staffloc);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherATE = other;\n        return (this.text == otherATE.text) && this.staffloc == otherATE.staffloc;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    gettext() {\n        return this.text;\n    }\n    getstaffloc() {\n        return this.staffloc;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    settext(t) {\n        this.text = t;\n    }\n    setstaffloc(sl) {\n        this.staffloc = sl;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Text annotation: \" + this.text);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nAnnotationTextEvent.DEFAULT_STAFFLOC = -3;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/AnnotationTextEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/BarlineEvent.ts":
/*!****************************************!*\
  !*** ./src/DataStruct/BarlineEvent.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BarlineEvent: () => (/* binding */ BarlineEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : BarlineEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: BarlineEvent\n\n        Purpose         : Event type for barlines\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/23/05\n\n        Updates         :\n11/10/07: added attributes repeatSign, bottomLinePos, and numSpaces\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   BarlineEvent\nExtends: Event\nPurpose: Data/routines for barline events\n------------------------------------------------------------------------*/\nclass BarlineEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new4() {\n        let _new4 = new BarlineEvent;\n        BarlineEvent.set4(_new4);\n        return _new4;\n    }\n    static set4(new4) {\n        BarlineEvent.set5(new4, 1, false, 0, 4);\n    }\n    static new5(nl, repeatSign, bottomLinePos, numSpaces) {\n        let _new5 = new BarlineEvent;\n        BarlineEvent.set5(_new5, nl, repeatSign, bottomLinePos, numSpaces);\n        return _new5;\n    }\n    static set5(new5, nl, repeatSign, bottomLinePos, numSpaces) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new5);\n        new5.eventtype = BarlineEvent.EVENT_BARLINE;\n        new5.numLines = nl;\n        new5.repeatSign = repeatSign;\n        new5.bottomLinePos = bottomLinePos;\n        new5.numSpaces = numSpaces;\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = BarlineEvent.new5(this.numLines, this.repeatSign, this.bottomLinePos, this.numSpaces);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherBE = other;\n        return this.numLines == otherBE.numLines && this.repeatSign == otherBE.repeatSign && this.bottomLinePos == otherBE.bottomLinePos && this.numSpaces == otherBE.numSpaces;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getBottomLinePos() {\n        return this.bottomLinePos;\n    }\n    getNumLines() {\n        return this.numLines;\n    }\n    getNumSpaces() {\n        return this.numSpaces;\n    }\n    isRepeatSign() {\n        return this.repeatSign;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setBottomLinePos(bottomLinePos) {\n        this.bottomLinePos = bottomLinePos;\n    }\n    setNumLines(numLines) {\n        this.numLines = numLines;\n    }\n    setNumSpaces(numSpaces) {\n        this.numSpaces = numSpaces;\n    }\n    setRepeatSign(repeatSign) {\n        this.repeatSign = repeatSign;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Barlines: \" + this.numLines);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/BarlineEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/CMMEParser.ts":
/*!**************************************!*\
  !*** ./src/DataStruct/CMMEParser.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CMMEParser: () => (/* binding */ CMMEParser),\n/* harmony export */   _XMLReader: () => (/* binding */ _XMLReader)\n/* harmony export */ });\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Util/Resources */ \"./src/Util/Resources.ts\");\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _java_lang_Float__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/lang/Float */ \"./src/java/lang/Float.ts\");\n/* harmony import */ var _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/lang/RuntimeException */ \"./src/java/lang/RuntimeException.ts\");\n/* harmony import */ var _java_lang_NumberFormatException__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/lang/NumberFormatException */ \"./src/java/lang/NumberFormatException.ts\");\n/* harmony import */ var _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VoiceMensuralData */ \"./src/DataStruct/VoiceMensuralData.ts\");\n/* harmony import */ var _VoiceChantData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VoiceChantData */ \"./src/DataStruct/VoiceChantData.ts\");\n/* harmony import */ var _Voice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Voice */ \"./src/DataStruct/Voice.ts\");\n/* harmony import */ var _VariantVersionData__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./VariantVersionData */ \"./src/DataStruct/VariantVersionData.ts\");\n/* harmony import */ var _VariantReading__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n/* harmony import */ var _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./VariantMarkerEvent */ \"./src/DataStruct/VariantMarkerEvent.ts\");\n/* harmony import */ var _Signum__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Signum */ \"./src/DataStruct/Signum.ts\");\n/* harmony import */ var _RestEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./RestEvent */ \"./src/DataStruct/RestEvent.ts\");\n/* harmony import */ var _ProportionEvent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ProportionEvent */ \"./src/DataStruct/ProportionEvent.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _PieceData__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PieceData */ \"./src/DataStruct/PieceData.ts\");\n/* harmony import */ var _OriginalTextEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./OriginalTextEvent */ \"./src/DataStruct/OriginalTextEvent.ts\");\n/* harmony import */ var _NoteEvent__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _MusicTextSection__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./MusicTextSection */ \"./src/DataStruct/MusicTextSection.ts\");\n/* harmony import */ var _MusicSection__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n/* harmony import */ var _MusicMensuralSection__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./MusicMensuralSection */ \"./src/DataStruct/MusicMensuralSection.ts\");\n/* harmony import */ var _MusicChantSection__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./MusicChantSection */ \"./src/DataStruct/MusicChantSection.ts\");\n/* harmony import */ var _MultiEvent__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./MultiEvent */ \"./src/DataStruct/MultiEvent.ts\");\n/* harmony import */ var _ModernKeySignatureEvent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ModernKeySignatureEvent */ \"./src/DataStruct/ModernKeySignatureEvent.ts\");\n/* harmony import */ var _ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ModernKeySignatureElement */ \"./src/DataStruct/ModernKeySignatureElement.ts\");\n/* harmony import */ var _ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _ModernAccidental__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n/* harmony import */ var _MetaData__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./MetaData */ \"./src/DataStruct/MetaData.ts\");\n/* harmony import */ var _Mensuration__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _MensSignElement__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _MensEvent__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./MensEvent */ \"./src/DataStruct/MensEvent.ts\");\n/* harmony import */ var _LineEndEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./LineEndEvent */ \"./src/DataStruct/LineEndEvent.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DotEvent__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./DotEvent */ \"./src/DataStruct/DotEvent.ts\");\n/* harmony import */ var _CustosEvent__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./CustosEvent */ \"./src/DataStruct/CustosEvent.ts\");\n/* harmony import */ var _ColorChangeEvent__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ColorChangeEvent */ \"./src/DataStruct/ColorChangeEvent.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _ClefEvent__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./ClefEvent */ \"./src/DataStruct/ClefEvent.ts\");\n/* harmony import */ var _Clef__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _BarlineEvent__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./BarlineEvent */ \"./src/DataStruct/BarlineEvent.ts\");\n/* harmony import */ var _AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./AnnotationTextEvent */ \"./src/DataStruct/AnnotationTextEvent.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass _Attribute {\n    constructor(attr) {\n        this.attr = attr;\n    }\n    getValue() {\n        return this.attr.value;\n    }\n}\nclass _Element {\n    //--write\n    indexOf(e) {\n        return Array.from(this.element.children).indexOf(e.element);\n    }\n    addNamespaceDeclaration(cmmens) {\n        this.element.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns\", cmmens);\n    }\n    set_Attribute(name, value, ns = undefined) {\n        if (ns === undefined)\n            this.element.setAttribute(name, value);\n        else\n            this.element.setAttributeNS(ns, name, value);\n        return this;\n    }\n    addContent(a, b = undefined) {\n        if (arguments.length == 1)\n            this.element.appendChild(a.element);\n        else {\n            const referenceNode = this.element.children[a];\n            this.element.insertBefore(b.element, referenceNode);\n        }\n        return this;\n    }\n    setText(text) {\n        this.element.textContent = text;\n        return this;\n    }\n    constructor(a, b = undefined) {\n        if (arguments.length == 2) {\n            this.element = _Document.docWrite.createElementNS(b, a);\n        }\n        else {\n            if (a instanceof Element)\n                this.element = a;\n            else\n                this.element = _Document.docWrite.createElement(a);\n        }\n    }\n    getName() {\n        return this.element.tagName;\n    }\n    get_Attribute(name) {\n        const attr = this.element.getAttributeNode(name);\n        return attr ? new _Attribute(attr) : null;\n    }\n    getChild(name, namespace) {\n        const child = /*namespace\n          ? this.element.querySelector(namespace + '|' + name)\n          : */ this.element.querySelector(name);\n        return child ? new _Element(child) : null;\n    }\n    getChildText(name, namespace) {\n        const child = this.getChild(name, namespace);\n        return child ? child.getText() : null;\n    }\n    getChildren(name, namespace) {\n        const selector = namespace ? (namespace + '|' + name) : (name || '*');\n        var out = Array.from(this.element.children)\n            .filter((child) => !name || child.tagName === name)\n            .map((child) => new _Element(child));\n        var outout = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_44__.ArrayList();\n        for (var i = 0; i < out.length; i++)\n            outout.add(out[i]);\n        return outout;\n    }\n    getText() {\n        return this.element.textContent || \"\";\n    }\n}\nclass _Document {\n    static create(name, ident, system) {\n        var doctype = name != null ? document.implementation.createDocumentType(name, ident, system) : null;\n        this.docWrite = document.implementation.createDocument(\"\", \"\", doctype);\n    }\n    constructor(a) {\n        if (a instanceof Document)\n            this.doc = a;\n        else {\n            this.doc = _Document.docWrite;\n            _Document.docWrite = undefined;\n            this.doc.appendChild(a.element);\n        }\n    }\n    getRoot_Element() {\n        if (!this.doc.documentElement) {\n            throw new Error(\"Document has no root element\");\n        }\n        return new _Element(this.doc.documentElement);\n    }\n}\n_Document.docWrite = undefined;\nclass _XMLReader {\n    static load(url) {\n        var res = _Util_Resources__WEBPACK_IMPORTED_MODULE_0__.Resources.ensureResource(url)._content;\n        if (res === undefined)\n            throw new Error(\"Missing Resource\");\n        const parser = new DOMParser();\n        const xmlDoc = parser.parseFromString(res, \"text/xml\");\n        return new _Document(xmlDoc);\n    }\n    static parse(s) {\n        const parser = new DOMParser();\n        const xmlDoc = parser.parseFromString(s, \"text/xml\");\n        return new _Document(xmlDoc);\n    }\n}\nclass _XMLOutputter {\n    constructor(format) {\n    }\n    output(outputdoc, outs) {\n        const serializer = new XMLSerializer();\n        const xmlString = serializer.serializeToString(outputdoc.doc);\n        // Step 3: Create an invisible anchor element for downloading\n        const anchor = document.createElement(\"a\");\n        anchor.href = \"data:text/xml;charset=utf-8,\" + encodeURIComponent(xmlString); // Use data URL scheme\n        anchor.download = \"save.xml\"; // Name of the file to save\n        // Step 4: Append the anchor to the body (it won't be visible)\n        document.body.appendChild(anchor);\n        // Step 5: Programmatically trigger a click on the anchor to start the download\n        anchor.click();\n        // Step 6: Clean up by removing the anchor element (optional)\n        document.body.removeChild(anchor);\n    }\n}\nclass CMMEParser {\n    constructor() {\n        /*------------------------------------------------------------------------\n    Method:  void addVariantReadings(int vnum,VoiceEventListData v,_Element varRootEl)\n    Purpose: Parse segment of variant readings and add to voice data\n    Parameters:\n      Input:  int vnum             - voice number\n              _Element varRootEl    - root variant node to parse\n      Output: VoiceEventListData v - voice being constructed\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.parsingVariant = false;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  String getFileVersion(URL remoteloc)\nPurpose: Return version of CMME file\nParameters:\n  Input:  URL remoteloc - URL for input\n  Output: -\n  Return: Version as specified in CMMEversion _Attribute, \"0.5\" for old files\n          with no version information\n------------------------------------------------------------------------*/\n    static getFileVersion_1(remoteloc) {\n        let CMMEdoc = _XMLReader.load(remoteloc);\n        let CMMEversion = CMMEdoc.getRoot_Element().get_Attribute(\"CMMEversion\");\n        if (CMMEversion == null)\n            return \"0.5\";\n        else\n            return CMMEversion.getValue();\n    }\n    static new0(fn, pbar) {\n        let _new0 = new CMMEParser;\n        CMMEParser.set0(_new0, fn, pbar);\n        return _new0;\n    }\n    static set0(new0, fn, pbar) {\n        new0.constructPieceData(_XMLReader.parse(fn), pbar);\n    }\n    static new1(fn) {\n        let _new1 = new CMMEParser;\n        CMMEParser.set1(_new1, fn);\n        return _new1;\n    }\n    static set1(new1, fn) {\n        CMMEParser.set0(new1, fn, null);\n    }\n    static new2(remoteloc, pbar) {\n        let _new2 = new CMMEParser;\n        CMMEParser.set2(_new2, remoteloc, pbar);\n        return _new2;\n    }\n    static set2(new2, remoteloc, pbar) {\n        new2.constructPieceData(_XMLReader.load(remoteloc), pbar);\n    }\n    static new3(remoteloc) {\n        let _new3 = new CMMEParser;\n        CMMEParser.set3(_new3, remoteloc);\n        return _new3;\n    }\n    static set3(new3, remoteloc) {\n        CMMEParser.set2(new3, remoteloc, null);\n    }\n    static new4(musIn, pbar) {\n        let _new4 = new CMMEParser;\n        CMMEParser.set4(_new4, musIn, pbar);\n        return _new4;\n    }\n    static set4(new4, musIn, pbar) {\n        throw new _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_5__.RuntimeException();\n    }\n    constructPieceData(cmmedoc, progressBar) {\n        this.piece = _PieceData__WEBPACK_IMPORTED_MODULE_18__.PieceData.new0();\n        CMMEParser.cmmens = \"http://www.cmme.org\";\n        this.fileVersion = 0;\n        let CMMEversion = cmmedoc.getRoot_Element().get_Attribute(\"CMMEversion\");\n        if (CMMEversion == null)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_2__.System.err.println(\"Deprecated _Document version (pre-.81)\");\n        else\n            this.fileVersion = _java_lang_Float__WEBPACK_IMPORTED_MODULE_4__.Float.parseFloat(CMMEversion.getValue());\n        let GDNode = cmmedoc.getRoot_Element().getChild(\"GeneralData\", CMMEParser.cmmens);\n        this.piece.setGeneralData(GDNode.getChildText(\"Title\", CMMEParser.cmmens), GDNode.getChildText(\"Section\", CMMEParser.cmmens), GDNode.getChildText(\"Composer\", CMMEParser.cmmens), GDNode.getChildText(\"Editor\", CMMEParser.cmmens), GDNode.getChildText(\"PublicNotes\", CMMEParser.cmmens), GDNode.getChildText(\"Notes\", CMMEParser.cmmens));\n        let BC = GDNode.getChild(\"BaseColoration\", CMMEParser.cmmens);\n        if (BC != null)\n            this.piece.setBaseColoration(this.parseColoration(BC));\n        if (GDNode.getChild(\"Incipit\", CMMEParser.cmmens) != null)\n            this.piece.setIncipitScore(true);\n        let VDNode = cmmedoc.getRoot_Element().getChild(\"VoiceData\", CMMEParser.cmmens);\n        let numvoices = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(VDNode.getChildText(\"NumVoices\", CMMEParser.cmmens));\n        let vl = Array(numvoices);\n        this.clefinfoevent = Array(numvoices);\n        this.mensinfoevent = Array(numvoices);\n        this.curcolor = Array(numvoices);\n        this.curModKeySig = Array(numvoices);\n        this.lastevent = Array(numvoices);\n        let vi = 0;\n        for (let curObj of VDNode.getChildren(\"Voice\", CMMEParser.cmmens)) {\n            let curvel = curObj;\n            let suggestedModernClef = null;\n            if (curvel.getChild(\"SuggestedModernClef\", CMMEParser.cmmens) != null)\n                suggestedModernClef = _Clef__WEBPACK_IMPORTED_MODULE_41__.Clef.DefaultModernClefs[_Clef__WEBPACK_IMPORTED_MODULE_41__.Clef.strToCleftype(curvel.getChildText(\"SuggestedModernClef\", CMMEParser.cmmens))];\n            let curv = _Voice__WEBPACK_IMPORTED_MODULE_9__.Voice.new0(this.piece, ((vi + 1) | 0), curvel.getChildText(\"Name\", CMMEParser.cmmens), curvel.getChild(\"Editorial\", CMMEParser.cmmens) != null, suggestedModernClef);\n            this.clefinfoevent[vi] = null;\n            this.mensinfoevent[vi] = null;\n            this.curcolor[vi] = this.piece.getBaseColoration();\n            this.curModKeySig[vi] = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__.ModernKeySignature.DEFAULT_SIG;\n            this.lastevent[vi] = null;\n            vl[(vi++)] = curv;\n        }\n        this.piece.setVoiceData(vl);\n        let varVersionNum = 0;\n        if (this.fileVersion < 0.895)\n            this.piece.addVariantVersion(_VariantVersionData__WEBPACK_IMPORTED_MODULE_10__.VariantVersionData.new0(\"Default\", varVersionNum++));\n        for (let curObj of GDNode.getChildren(\"VariantVersion\", CMMEParser.cmmens)) {\n            let curVVel = curObj;\n            let vvd = _VariantVersionData__WEBPACK_IMPORTED_MODULE_10__.VariantVersionData.new0(curVVel.getChildText(\"ID\", CMMEParser.cmmens), varVersionNum++);\n            let sourceEl = curVVel.getChild(\"Source\", CMMEParser.cmmens);\n            if (sourceEl != null)\n                try {\n                    vvd.setSourceInfo(sourceEl.getChildText(\"Name\", CMMEParser.cmmens), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(sourceEl.getChildText(\"ID\", CMMEParser.cmmens)));\n                }\n                catch (e) {\n                    if (e instanceof _java_lang_NumberFormatException__WEBPACK_IMPORTED_MODULE_6__.NumberFormatException) {\n                    }\n                    else\n                        throw e;\n                }\n            vvd.setEditor(curVVel.getChildText(\"Editor\", CMMEParser.cmmens));\n            vvd.setDescription(curVVel.getChildText(\"Description\", CMMEParser.cmmens));\n            let mvEl = curVVel.getChild(\"MissingVoices\", CMMEParser.cmmens);\n            if (mvEl != null)\n                for (let curMVObj of mvEl.getChildren(\"VoiceNum\", CMMEParser.cmmens)) {\n                    let curMVel = curMVObj;\n                    let vnum = 1;\n                    try {\n                        vnum = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curMVel.getText());\n                    }\n                    catch (e) {\n                        if (e instanceof _java_lang_NumberFormatException__WEBPACK_IMPORTED_MODULE_6__.NumberFormatException) {\n                        }\n                        else\n                            throw e;\n                    }\n                    for (let v of this.piece.getVoiceData())\n                        if (v.getNum() == vnum)\n                            vvd.setMissingVoice(v, true);\n                }\n            this.piece.addVariantVersion(vvd);\n        }\n        let sectionList = cmmedoc.getRoot_Element().getChildren(\"MusicSection\", CMMEParser.cmmens);\n        let numSections = sectionList.size();\n        let PBAdd = 0;\n        if (progressBar != null)\n            PBAdd = (((((progressBar.getMaximum() - progressBar.getValue()) | 0)) / numSections) | 0);\n        for (let curObj of sectionList) {\n            let sectionEl = curObj;\n            let editorialSection = false;\n            let sectionSource = null;\n            let sectionSourceNum = 0;\n            let curSection = null;\n            for (let curSectionChildObj of sectionEl.getChildren()) {\n                let curSectionChild = curSectionChildObj;\n                let childName = curSectionChild.getName();\n                if (childName == (\"Editorial\"))\n                    editorialSection = true;\n                else if (childName == (\"PrincipalSource\")) {\n                    sectionSource = curSectionChild.getChildText(\"Name\", CMMEParser.cmmens);\n                    sectionSourceNum = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curSectionChild.getChildText(\"ID\", CMMEParser.cmmens));\n                }\n                else if (childName == (\"MensuralMusic\"))\n                    curSection = this.parseMensuralMusicSection(curSectionChild);\n                else if (childName == (\"Plainchant\"))\n                    curSection = this.parsePlainchantSection(curSectionChild);\n                else if (childName == (\"Text\"))\n                    curSection = this.parseTextSection(curSectionChild);\n            }\n            curSection.setEditorial(editorialSection);\n            curSection.setPrincipalSource(sectionSource);\n            curSection.setPrincipalSourceNum(sectionSourceNum);\n            this.piece.addSection_2(curSection);\n            if (progressBar != null)\n                progressBar.setValue(((progressBar.getValue() + PBAdd) | 0));\n        }\n        this.piece.recalcAllEventParams();\n    }\n    /* version */\n    /* General data section */\n    /* Voice data section */\n    /* Variant version declarations */\n    /* pre-0.895 files do not declare the \"default\" variant version;\n         create one */\n    /* Music sections */\n    //        curSection.setVersion(piece.getVariantVersions().get(0));\n    /*------------------------------------------------------------------------\nMethod:  MusicMensuralSection parseMensuralMusicSection(_Element curSectionEl)\nPurpose: Create section of mensural music from _Document tree segment\nParameters:\n  Input:  _Element curSectionEl - tree segment representing mensural music section\n  Output: -\n  Return: mensural music section\n------------------------------------------------------------------------*/\n    parseMensuralMusicSection(curSectionEl) {\n        let numVoices = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curSectionEl.getChildText(\"NumVoices\", CMMEParser.cmmens));\n        let sectionVoiceNum = 0;\n        let curSection = _MusicMensuralSection__WEBPACK_IMPORTED_MODULE_23__.MusicMensuralSection.new2(this.piece.getVoiceData().length, false, this.piece.getBaseColoration());\n        if (curSectionEl.getChild(\"BaseColoration\", CMMEParser.cmmens) != null)\n            curSection.setBaseColoration(this.parseColoration(curSectionEl.getChild(\"BaseColoration\", CMMEParser.cmmens)));\n        for (let vi = 0; vi < this.curcolor.length; vi++)\n            this.curcolor[vi] = curSection.getBaseColoration();\n        this.parseTacetInstructions(curSectionEl, curSection);\n        for (let curObj of curSectionEl.getChildren(\"Voice\", CMMEParser.cmmens)) {\n            let curVoiceEl = curObj;\n            let vnum = ((_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curVoiceEl.getChildText(\"VoiceNum\", CMMEParser.cmmens)) - 1) | 0);\n            this.lastNoteEvent = null;\n            let curv = _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_7__.VoiceMensuralData.new3(this.piece.getVoiceData()[vnum], curSection);\n            for (let curMVObj of curVoiceEl.getChildren(\"MissingVersionID\", CMMEParser.cmmens))\n                curv.addMissingVersion(this.piece.getVariantVersion_2(curMVObj.getText()));\n            for (let curEvObj of curVoiceEl.getChild(\"EventList\", CMMEParser.cmmens).getChildren()) {\n                let cureventel = curEvObj;\n                let eventtype = cureventel.getName();\n                if (eventtype == (\"VariantReadings\"))\n                    this.addVariantReadings(vnum, curv, cureventel);\n                else if (eventtype == (\"EditorialData\"))\n                    this.addEditorialEvents(vnum, curv, cureventel);\n                else\n                    this.addSingleOrMultiEvent_1(curv, cureventel);\n            }\n            this.addNewEvent(vnum, curv, _Event__WEBPACK_IMPORTED_MODULE_35__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_SECTIONEND));\n            curSection.setVoice_1(vnum, curv);\n        }\n        return curSection;\n    }\n    /* event list for one voice */\n    /* create structure for current event depending on type */\n    /* add SectionEnd event at end of each voice */\n    /* set voice data in section */\n    /*------------------------------------------------------------------------\nMethod:  MusicChantSection parsePlainchantSection(_Element curSectionEl)\nPurpose: Create section of plainchant from _Document tree segment\nParameters:\n  Input:  _Element curSectionEl - tree segment representing plainchant section\n  Output: -\n  Return: plainchant section\n------------------------------------------------------------------------*/\n    parsePlainchantSection(curSectionEl) {\n        let numVoices = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curSectionEl.getChildText(\"NumVoices\", CMMEParser.cmmens));\n        let curSection = _MusicChantSection__WEBPACK_IMPORTED_MODULE_24__.MusicChantSection.new0(this.piece.getVoiceData().length, false, _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.DEFAULT_CHANT_COLORATION);\n        if (curSectionEl.getChild(\"BaseColoration\", CMMEParser.cmmens) != null)\n            curSection.setBaseColoration(this.parseColoration(curSectionEl.getChild(\"BaseColoration\", CMMEParser.cmmens)));\n        for (let vi = 0; vi < this.curcolor.length; vi++)\n            this.curcolor[vi] = curSection.getBaseColoration();\n        this.parseTacetInstructions(curSectionEl, curSection);\n        for (let curObj of curSectionEl.getChildren(\"Voice\", CMMEParser.cmmens)) {\n            let curVoiceEl = curObj;\n            let vnum = ((_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curVoiceEl.getChildText(\"VoiceNum\", CMMEParser.cmmens)) - 1) | 0);\n            this.lastNoteEvent = null;\n            let curv = _VoiceChantData__WEBPACK_IMPORTED_MODULE_8__.VoiceChantData.new1(this.piece.getVoiceData()[vnum], curSection);\n            for (let curMVObj of curVoiceEl.getChildren(\"MissingVersionID\", CMMEParser.cmmens))\n                curv.addMissingVersion(this.piece.getVariantVersion_2(curMVObj.getText()));\n            for (let curEvObj of curVoiceEl.getChild(\"EventList\", CMMEParser.cmmens).getChildren()) {\n                let cureventel = curEvObj;\n                let eventtype = cureventel.getName();\n                if (eventtype == (\"VariantReadings\"))\n                    this.addVariantReadings(vnum, curv, cureventel);\n                else if (eventtype == (\"EditorialData\"))\n                    this.addEditorialEvents(vnum, curv, cureventel);\n                else\n                    this.addSingleOrMultiEvent_1(curv, cureventel);\n            }\n            this.addNewEvent(vnum, curv, _Event__WEBPACK_IMPORTED_MODULE_35__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_SECTIONEND));\n            curSection.setVoice_1(vnum, curv);\n        }\n        return curSection;\n    }\n    /* event list for one voice */\n    /* create structure for current event depending on type */\n    /* add SectionEnd event at end of each voice */\n    /* set voice data in section */\n    /*------------------------------------------------------------------------\nMethod:  void parseTacetInstructions(_Element curSectionEl,MusicSection curSection)\nPurpose: Parse list of tacet instructions and add to section\nParameters:\n  Input:  _Element curSectionEl - tree segment representing section\n  Output: MusicSection curSection - section being created\n  Return: -\n------------------------------------------------------------------------*/\n    parseTacetInstructions(curSectionEl, curSection) {\n        for (let curObj of curSectionEl.getChildren(\"TacetInstruction\", CMMEParser.cmmens)) {\n            let curTacetEl = curObj;\n            curSection.setTacetText(((_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curTacetEl.getChildText(\"VoiceNum\", CMMEParser.cmmens)) - 1) | 0), curTacetEl.getChildText(\"TacetText\", CMMEParser.cmmens));\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  MusicTextSection parseTextSection(_Element curSectionEl)\nPurpose: Create text section from _Document tree segment\nParameters:\n  Input:  _Element curSectionEl - tree segment representing section\n  Output: -\n  Return: text section\n------------------------------------------------------------------------*/\n    parseTextSection(curSectionEl) {\n        let sectionText = curSectionEl.getChildText(\"Content\", CMMEParser.cmmens);\n        let curSection = _MusicTextSection__WEBPACK_IMPORTED_MODULE_21__.MusicTextSection.new5(sectionText);\n        return curSection;\n    }\n    addVariantReadings(vnum, v, varRootEl) {\n        let varStarti = v.getNumEvents();\n        let vd1 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_12__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_VARIANTDATA_START);\n        this.addNewEvent(vnum, v, vd1);\n        this.lastevent[vnum] = vd1;\n        for (let reObj of varRootEl.getChildren(\"Reading\", CMMEParser.cmmens)) {\n            let curReadingEl = reObj;\n            let curReading = null;\n            let versionIDList = curReadingEl.getChildren(\"VariantVersionID\", CMMEParser.cmmens);\n            let evList = null;\n            let readingVnum = vnum;\n            if (versionIDList.size() == 1 && \"DEFAULT\" == (curReadingEl.getChildText(\"VariantVersionID\", CMMEParser.cmmens)))\n                evList = v;\n            else if (versionIDList.size() > 0) {\n                this.parsingVariant = true;\n                curReading = _VariantReading__WEBPACK_IMPORTED_MODULE_11__.VariantReading.new0();\n                for (let vIDe of versionIDList)\n                    curReading.addVersion(this.piece.getVariantVersion_2(vIDe.getText()));\n                if (curReadingEl.getChild(\"Error\", CMMEParser.cmmens) != null)\n                    curReading.setError(true);\n                if (v instanceof _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_7__.VoiceMensuralData)\n                    evList = _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_7__.VoiceMensuralData.new4();\n                else if (v instanceof _VoiceChantData__WEBPACK_IMPORTED_MODULE_8__.VoiceChantData)\n                    evList = _VoiceChantData__WEBPACK_IMPORTED_MODULE_8__.VoiceChantData.new2();\n            }\n            this.addEventList(readingVnum, evList, curReadingEl.getChild(\"Music\", CMMEParser.cmmens));\n            if (curReading != null) {\n                curReading.addEventList_1(evList);\n                vd1.addReading(curReading);\n            }\n            this.parsingVariant = false;\n        }\n        let vd2 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_12__.VariantMarkerEvent.new34(_Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_VARIANTDATA_END, vd1.getReadings());\n        this.addNewEvent(vnum, v, vd2);\n        this.lastevent[vnum] = vd2;\n        vd1.calcVariantTypes(v);\n        vd2.setVarTypeFlags(vd1.getVarTypeFlags());\n    }\n    //            readingVnum=-1;\n    /*------------------------------------------------------------------------\nMethod:  void addEventList(int vnum,VoiceEventListData v,_Element elistEl)\nPurpose: Parse event list for one default or variant reading\nParameters:\n  Input:  int vnum             - voice number for event list (-1 for variant)\n          _Element elistEl      - root node of event list tree\n  Output: VoiceEventListData v - list being constructed\n  Return: -\n------------------------------------------------------------------------*/\n    addEventList(vnum, v, elistEl) {\n        for (let ei = elistEl.getChildren().iterator(); ei.hasNext();) {\n            this.addSingleOrMultiEvent_2(vnum, v, ei.next());\n        }\n    }\n    /*        if (vnum!=-1)\n          lastevent[vnum].setEditorial(true);*/\n    /*------------------------------------------------------------------------\nMethod:  void addEditorialEvents(int vnum,VoiceEventListData v,_Element cureventel)\nPurpose: Parse one editorial event list (for backwards compatibility) and\n         add to event list of a given voice\nParameters:\n  Input:  int vnum             - voice number (-1 for variant)\n          _Element cureventel   - event node to parse\n  Output: VoiceEventListData v - voice being constructed\n  Return: -\n------------------------------------------------------------------------*/\n    addEditorialEvents(vnum, v, cureventel) {\n        let ed = _AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_43__.AnnotationTextEvent.new3(\"ED DATA START\");\n        this.addNewEvent(vnum, v, ed);\n        this.lastevent[vnum] = ed;\n        for (let edei = cureventel.getChild(\"NewReading\", CMMEParser.cmmens).getChildren().iterator(); edei.hasNext();)\n            this.addSingleOrMultiEvent_1(v, edei.next());\n        this.addNewEvent(vnum, v, ed = _AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_43__.AnnotationTextEvent.new3(\"ED DATA END\"));\n        this.lastevent[vnum] = ed;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addNewEvent(int vnum,VoiceEventListData v,Event e)\nPurpose: Add one parsed event to event list of a given voice\nParameters:\n  Input:  int vnum             - voice number (-1 for variant)\n          Event e              - parsed event\n  Output: VoiceEventListData v - voice being constructed\n  Return: -\n------------------------------------------------------------------------*/\n    addNewEvent(vnum, v, e) {\n        if (vnum != -1) {\n            e.setclefparams(this.clefinfoevent[vnum]);\n            e.setmensparams_1(this.mensinfoevent[vnum]);\n            e.setcolorparams_1(this.curcolor[vnum]);\n            e.setModernKeySigParams(this.curModKeySig[vnum]);\n        }\n        v.addEvent_1(e);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addSingleOrMultiEvent(VoiceEventListData v,_Element cureventel)\nPurpose: Parse one event and add to event list of a given voice\nParameters:\n  Input:  _Element cureventel   - event node to parse\n  Output: VoiceEventListData v - voice being constructed\n  Return: -\n------------------------------------------------------------------------*/\n    addSingleOrMultiEvent_1(v, cureventel) {\n        this.addSingleOrMultiEvent_2(((v.getMetaData().getNum() - 1) | 0), v, cureventel);\n    }\n    addSingleOrMultiEvent_2(vnum, v, cureventel) {\n        let eventtype = cureventel.getName();\n        let curevent;\n        if (eventtype == (\"MultiEvent\"))\n            curevent = this.parseMultiEvent(vnum, cureventel);\n        else\n            curevent = this.parseSingleEvent(vnum, cureventel);\n        this.addNewEvent(vnum, v, curevent);\n        if (vnum != -1)\n            this.lastevent[vnum] = curevent;\n    }\n    /* add event to list */\n    /* add data-free marker for end of lacunae\n    if (curevent.geteventtype()==Event.EVENT_LACUNA)\n      addNewEvent(vnum,v,curevent=new Event(Event.EVENT_LACUNA_END));*/\n    /*------------------------------------------------------------------------\nMethod:  MultiEvent parseMultiEvent(int vnum,_Element cureventel)\nPurpose: Create multi-event (list of simultaneous events) from _Document\n         tree segment\nParameters:\n  Input:  int vnum           - voice number\n          _Element cureventel - multi-event node\n  Output: -\n  Return: multi-event\n------------------------------------------------------------------------*/\n    parseMultiEvent(vnum, cureventel) {\n        let curevent = _MultiEvent__WEBPACK_IMPORTED_MODULE_25__.MultiEvent.new23();\n        let curclefevent = this.clefinfoevent[vnum];\n        for (let ei = cureventel.getChildren().iterator(); ei.hasNext();) {\n            let e = this.parseSingleEvent(vnum, ei.next());\n            curevent.addEvent(e);\n            if (vnum != -1 && this.mensinfoevent[vnum] == e)\n                this.mensinfoevent[vnum] = curevent;\n        }\n        if (curevent.hasSignatureClef_1()) {\n            curevent.constructClefSets_1(this.lastevent[vnum], curclefevent);\n            this.checkClefInfoEvent(vnum, curevent);\n        }\n        return curevent;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseSingleEvent(int vnum,_Element cureventel)\nPurpose: Create single event from _Document tree segment\nParameters:\n  Input:  int vnum           - voice number\n          _Element cureventel - event node\n  Output: -\n  Return: event\n------------------------------------------------------------------------*/\n    parseSingleEvent(vnum, cureventel) {\n        let curevent;\n        let eventtype = cureventel.getName();\n        if (eventtype == (\"Clef\")) {\n            curevent = this.parseClefEvent(vnum, cureventel, this.lastevent[vnum]);\n            this.checkClefInfoEvent(vnum, curevent);\n        }\n        else if (eventtype == (\"Mensuration\")) {\n            curevent = this.parseMensurationEvent(cureventel);\n            if (vnum != -1)\n                this.mensinfoevent[vnum] = curevent;\n        }\n        else if (eventtype == (\"Rest\"))\n            curevent = this.parseRestEvent(cureventel, this.mensinfoevent[vnum]);\n        else if (eventtype == (\"Note\"))\n            curevent = this.parseNoteEvent(cureventel, this.clefinfoevent[vnum], this.curModKeySig[vnum]);\n        else if (eventtype == (\"Dot\"))\n            curevent = this.parseDotEvent(cureventel, this.mensinfoevent[vnum], this.clefinfoevent[vnum]);\n        else if (eventtype == (\"OriginalText\"))\n            curevent = this.parseOriginalTextEvent(cureventel);\n        else if (eventtype == (\"Proportion\"))\n            curevent = this.parseProportionEvent(cureventel);\n        else if (eventtype == (\"ColorChange\")) {\n            curevent = this.parseColorChangeEvent(cureventel, this.curcolor[vnum]);\n            if (vnum != -1)\n                this.curcolor[vnum] = curevent.getcolorscheme();\n        }\n        else if (eventtype == (\"Custos\"))\n            curevent = this.parseCustosEvent(cureventel, this.clefinfoevent[vnum]);\n        else if (eventtype == (\"LineEnd\"))\n            curevent = this.parseLineEndEvent(cureventel);\n        else if (eventtype == (\"MiscItem\"))\n            curevent = this.parseMiscItemEvent(cureventel);\n        else if (eventtype == (\"ModernKeySignature\")) {\n            curevent = this.parseModernKeySignatureEvent(cureventel);\n            if (vnum != -1)\n                this.curModKeySig[vnum] = curevent.getSigInfo();\n        }\n        else {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_2__.System.err.println(\"Unknown event type: \" + eventtype);\n            curevent = _Event__WEBPACK_IMPORTED_MODULE_35__.Event.new0();\n        }\n        if (vnum != -1) {\n            curevent.setclefparams(this.clefinfoevent[vnum]);\n            curevent.setmensparams_1(this.mensinfoevent[vnum]);\n            curevent.setcolorparams_1(this.curcolor[vnum]);\n            curevent.setModernKeySigParams(this.curModKeySig[vnum]);\n        }\n        if (cureventel.getChild(\"Colored\", CMMEParser.cmmens) != null)\n            curevent.setColored_1(true);\n        if (cureventel.getChild(\"Editorial\", CMMEParser.cmmens) != null)\n            curevent.setEditorial(true);\n        if (cureventel.getChild(\"Error\", CMMEParser.cmmens) != null)\n            curevent.setError(true);\n        curevent.setEdCommentary(cureventel.getChildText(\"EditorialCommentary\", CMMEParser.cmmens));\n        return curevent;\n    }\n    /* generic event _Attributes */\n    /*------------------------------------------------------------------------\nMethod:  void checkClefInfoEvent(int vnum,Event e)\nPurpose: Check whether an event has clef/signature info, and set voice\n         params if necessary\nParameters:\n  Input:  int vnum - voice number\n          Event e  - event to check\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    checkClefInfoEvent(vnum, e) {\n        if (e.hasSignatureClef_1() && vnum != -1 && !this.parsingVariant && (this.clefinfoevent[vnum] == null || e.getClefSet_1() != this.clefinfoevent[vnum].getClefSet_1())) {\n            this.clefinfoevent[vnum] = e;\n            this.curModKeySig[vnum] = e.getClefSet_1().getKeySig();\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseClefEvent(int vnum,_Element e,Event le)\nPurpose: Create clef event from _Document tree segment\nParameters:\n  Input:  int vnum  - voice number\n          _Element e - \"Clef\" node\n          Event le  - last event parsed\n  Output: -\n  Return: clef event\n------------------------------------------------------------------------*/\n    parseClefEvent(vnum, e, le) {\n        return _ClefEvent__WEBPACK_IMPORTED_MODULE_40__.ClefEvent.new6(e.getChildText(\"Appearance\", CMMEParser.cmmens), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"StaffLoc\", CMMEParser.cmmens)), _Pitch__WEBPACK_IMPORTED_MODULE_17__.Pitch.new1(e.getChild(\"Pitch\", CMMEParser.cmmens).getChildText(\"LetterName\", CMMEParser.cmmens).substring(0, 1), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChild(\"Pitch\", CMMEParser.cmmens).getChildText(\"OctaveNum\", CMMEParser.cmmens))), le, vnum >= 0 ? this.clefinfoevent[vnum] : null, e.getChild(\"Signature\", CMMEParser.cmmens) != null);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseMensurationEvent(_Element e)\nPurpose: Create mensuration event from _Document tree segment\nParameters:\n  Input:  _Element e - \"Mensuration\" node\n  Output: -\n  Return: mensuration event\n------------------------------------------------------------------------*/\n    parseMensurationEvent(e) {\n        let signs = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_45__.LinkedList();\n        let mensInfo = null;\n        let ssnum = 4;\n        let vertical = false;\n        let small = false;\n        let noScoreSig = false;\n        let curmensel;\n        for (let i = e.getChildren().iterator(); i.hasNext();) {\n            curmensel = i.next();\n            if (curmensel.getName() == (\"Sign\")) {\n                let ms = curmensel.getChildText(\"MainSymbol\", CMMEParser.cmmens);\n                let signType = _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.NO_SIGN;\n                let dotted = false;\n                let stroke = false;\n                if (ms == (\"C\")) {\n                    let or = curmensel.getChild(\"Orientation\", CMMEParser.cmmens);\n                    if (or != null && or.getText() == (\"Reversed\"))\n                        signType = _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_CREV;\n                    else\n                        signType = _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_C;\n                }\n                else if (ms == (\"O\"))\n                    signType = _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_O;\n                if ((curmensel.getChild(\"Strokes\", CMMEParser.cmmens) != null) && _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curmensel.getChildText(\"Strokes\", CMMEParser.cmmens)) > 0)\n                    stroke = true;\n                if (curmensel.getChild(\"Dot\", CMMEParser.cmmens) != null)\n                    dotted = true;\n                signs.add(_MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.new0(signType, dotted, stroke));\n            }\n            else if (curmensel.getName() == (\"Number\"))\n                signs.add(_MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.new1(_MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.NUMBERS, this.parseProportion(curmensel)));\n            else if (curmensel.getName() == (\"StaffLoc\"))\n                ssnum = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curmensel.getText());\n            else if (curmensel.getName() == (\"Orientation\") && curmensel.getText() == (\"Vertical\"))\n                vertical = true;\n            else if (curmensel.getName() == (\"Small\"))\n                small = true;\n            else if (curmensel.getName() == (\"MensInfo\"))\n                mensInfo = _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.new1(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curmensel.getChildText(\"Prolatio\", CMMEParser.cmmens)), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curmensel.getChildText(\"Tempus\", CMMEParser.cmmens)), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curmensel.getChildText(\"ModusMinor\", CMMEParser.cmmens)), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curmensel.getChildText(\"ModusMaior\", CMMEParser.cmmens)), curmensel.getChild(\"TempoChange\", CMMEParser.cmmens) == null ? _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.DEFAULT_TEMPO_CHANGE : this.parseProportion(curmensel.getChild(\"TempoChange\", CMMEParser.cmmens)));\n            else if (curmensel.getName() == (\"NoScoreEffect\"))\n                noScoreSig = true;\n        }\n        return _MensEvent__WEBPACK_IMPORTED_MODULE_33__.MensEvent.new17(signs, ssnum, small, vertical, mensInfo, noScoreSig);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseRestEvent(_Element e,Event me)\nPurpose: Create rest event from _Document tree segment\nParameters:\n  Input:  _Element e - \"Rest\" node\n          Event me  - current mensuration event\n  Output: -\n  Return: rest event\n------------------------------------------------------------------------*/\n    parseRestEvent(e, me) {\n        let re = _RestEvent__WEBPACK_IMPORTED_MODULE_14__.RestEvent.new32(e.getChildText(\"Type\", CMMEParser.cmmens), this.parseProportion(e.getChild(\"Length\", CMMEParser.cmmens)), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"BottomStaffLine\", CMMEParser.cmmens)), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"NumSpaces\", CMMEParser.cmmens)), me == null ? 2 : me.getMensInfo_1().modus_maior);\n        re.setCorona(this.parseSignum(e.getChild(\"Corona\", CMMEParser.cmmens)));\n        re.setSignum(this.parseSignum(e.getChild(\"Signum\", CMMEParser.cmmens)));\n        return re;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseNoteEvent(_Element e,Event ce,ModernKeySignature keySig)\nPurpose: Create note event from _Document tree segment\nParameters:\n  Input:  _Element e                 - \"Note\" node\n          Event ce                  - current clef event\n          ModernKeySignature keySig - current modern key signature\n  Output: -\n  Return: note event\n------------------------------------------------------------------------*/\n    parseNoteEvent(e, ce, keySig) {\n        let pitchOffset;\n        let ligstatus = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.LIG_NONE;\n        let tieType = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.TIE_NONE;\n        let opte;\n        let col = false;\n        let wordEnd = false;\n        let modernTextEditorial = false;\n        let numFlags = 0;\n        let stemdir = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.STEM_NONE;\n        let stemside = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.STEM_NONE;\n        let halfCol = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.HALFCOLORATION_NONE;\n        let modernText = null;\n        let pitch = _Pitch__WEBPACK_IMPORTED_MODULE_17__.Pitch.new0(e.getChildText(\"LetterName\", CMMEParser.cmmens).substring(0, 1), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"OctaveNum\", CMMEParser.cmmens)), ce != null ? ce.getPrincipalClef(false) : null);\n        pitchOffset = this.parseModernAccidental_1(e, pitch, keySig);\n        if ((opte = e.getChild(\"Lig\", CMMEParser.cmmens)) != null)\n            if (opte.getText() == (\"Recta\"))\n                ligstatus = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.LIG_RECTA;\n            else if (opte.getText() == (\"Obliqua\"))\n                ligstatus = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.LIG_OBLIQUA;\n        if ((opte = e.getChild(\"Tie\", CMMEParser.cmmens)) != null)\n            if (opte.getText() == (\"Under\"))\n                tieType = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.TIE_UNDER;\n            else\n                tieType = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.TIE_OVER;\n        if (e.getChild(\"Colored\", CMMEParser.cmmens) != null)\n            col = true;\n        if ((opte = e.getChild(\"Flagged\", CMMEParser.cmmens)) != null)\n            numFlags = ((opte = opte.getChild(\"NumFlags\", CMMEParser.cmmens)) == null) ? 1 : _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(opte.getText());\n        if ((opte = e.getChild(\"Stem\", CMMEParser.cmmens)) != null) {\n            stemdir = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.strtoStemDir(opte.getChildText(\"Dir\", CMMEParser.cmmens));\n            let ss = opte.getChildText(\"Side\", CMMEParser.cmmens);\n            if (ss != null)\n                stemside = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.strtoStemDir(ss);\n        }\n        let halfColType = e.getChildText(\"HalfColoration\", CMMEParser.cmmens);\n        if (halfColType != null)\n            if (halfColType == (\"PrimarySecondary\"))\n                halfCol = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.HALFCOLORATION_PRIMARYSECONDARY;\n            else if (halfColType == (\"SecondaryPrimary\"))\n                halfCol = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.HALFCOLORATION_SECONDARYPRIMARY;\n        if ((opte = e.getChild(\"ModernText\", CMMEParser.cmmens)) != null) {\n            modernText = opte.getChildText(\"Syllable\", CMMEParser.cmmens);\n            if (opte.getChild(\"WordEnd\", CMMEParser.cmmens) != null)\n                wordEnd = true;\n            if (opte.getChild(\"Editorial\", CMMEParser.cmmens) != null)\n                modernTextEditorial = true;\n        }\n        let ne = _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.new25(e.getChildText(\"Type\", CMMEParser.cmmens), this.parseProportion(e.getChild(\"Length\", CMMEParser.cmmens)), pitch, pitchOffset, ligstatus, col, halfCol, stemdir, stemside, numFlags, modernText, wordEnd, modernTextEditorial, tieType);\n        ne.setCorona(this.parseSignum(e.getChild(\"Corona\", CMMEParser.cmmens)));\n        ne.setSignum(this.parseSignum(e.getChild(\"Signum\", CMMEParser.cmmens)));\n        this.lastNoteEvent = ne;\n        return ne;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseDotEvent(_Element e,Event me)\nPurpose: Create dot event from _Document tree segment\nParameters:\n  Input:  _Element e - \"Dot\" node\n          Event me  - current mensuration event\n          Event ce  - current clef event\n  Output: -\n  Return: dot event\n------------------------------------------------------------------------*/\n    parseDotEvent(e, me, ce) {\n        let mens = me == null ? _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.DEFAULT_MENSURATION : me.getMensInfo_1();\n        let lne = this.lastNoteEvent;\n        if (lne != null && lne.getmusictime() != null && mens.ternary(lne.getnotetype_1()) && lne.getmusictime().greaterThan(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.getTypeLength(lne.getnotetype_1(), mens)))\n            lne = null;\n        let sle = e.getChild(\"Pitch\", CMMEParser.cmmens);\n        let p = null;\n        let sl = 0;\n        let de;\n        if (sle != null)\n            de = _DotEvent__WEBPACK_IMPORTED_MODULE_36__.DotEvent.new11(_Pitch__WEBPACK_IMPORTED_MODULE_17__.Pitch.new0(sle.getChildText(\"LetterName\", CMMEParser.cmmens).substring(0, 1), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(sle.getChildText(\"OctaveNum\", CMMEParser.cmmens)), ce != null ? ce.getPrincipalClef(false) : null), lne);\n        else\n            de = _DotEvent__WEBPACK_IMPORTED_MODULE_36__.DotEvent.new11(this.oldDotSLToPitch(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"StaffLoc\", CMMEParser.cmmens)), ce), lne);\n        this.lastNoteEvent = null;\n        return de;\n    }\n    /* IMPLEMENT: relative staff location */\n    /* convert deprecated dot staff location (int) to Pitch */\n    oldDotSLToPitch(sl, ce) {\n        let staffLoc = ((((sl * 2) | 0) - 1) | 0);\n        let p = _Pitch__WEBPACK_IMPORTED_MODULE_17__.Pitch.new2(staffLoc);\n        if (ce != null)\n            p.setclef(ce.getPrincipalClef(false));\n        return p;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseOriginalTextEvent(_Element e)\nPurpose: Create original text event from _Document tree segment\nParameters:\n  Input:  _Element e - \"OriginalText\" node\n  Output: -\n  Return: original text event\n------------------------------------------------------------------------*/\n    parseOriginalTextEvent(e) {\n        return _OriginalTextEvent__WEBPACK_IMPORTED_MODULE_19__.OriginalTextEvent.new28(e.getChildText(\"Phrase\", CMMEParser.cmmens));\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseProportionEvent(_Element e)\nPurpose: Create proportion event from _Document tree segment\nParameters:\n  Input:  _Element e - \"Proportion\" node\n  Output: -\n  Return: proportion event\n------------------------------------------------------------------------*/\n    parseProportionEvent(e) {\n        return _ProportionEvent__WEBPACK_IMPORTED_MODULE_15__.ProportionEvent.new30(this.parseProportion(e));\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseColorChangeEvent(_Element e,Coloration lastc)\nPurpose: Create color change event from _Document tree segment\nParameters:\n  Input:  _Element e        - \"ColorChange\" node\n          Coloration lastc - previous coloration scheme\n  Output: -\n  Return: color change event\n------------------------------------------------------------------------*/\n    parseColorChangeEvent(e, lastc) {\n        return _ColorChangeEvent__WEBPACK_IMPORTED_MODULE_38__.ColorChangeEvent.new8(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.new1(lastc, this.parseColoration(e)));\n    }\n    /* new coloration = last coloration + differences */\n    /*------------------------------------------------------------------------\nMethod:  Event parseCustosEvent(_Element e,Event ce)\nPurpose: Create custos event from _Document tree segment\nParameters:\n  Input:  _Element e - \"Custos\" node\n          Event ce  - current clef event\n  Output: -\n  Return: custos event\n------------------------------------------------------------------------*/\n    parseCustosEvent(e, ce) {\n        return _CustosEvent__WEBPACK_IMPORTED_MODULE_37__.CustosEvent.new9(_Pitch__WEBPACK_IMPORTED_MODULE_17__.Pitch.new0(e.getChildText(\"LetterName\", CMMEParser.cmmens).substring(0, 1), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"OctaveNum\", CMMEParser.cmmens)), ce != null ? ce.getPrincipalClef(false) : null));\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseLineEndEvent(_Element e)\nPurpose: Create line end event from _Document tree segment\nParameters:\n  Input:  _Element e - \"LineEnd\" node\n  Output: -\n  Return: line end event\n------------------------------------------------------------------------*/\n    parseLineEndEvent(e) {\n        return _LineEndEvent__WEBPACK_IMPORTED_MODULE_34__.LineEndEvent.new16(e.getChild(\"PageEnd\", CMMEParser.cmmens) != null);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseMiscItemEvent(_Element e)\nPurpose: Create misc event from _Document tree segment\nParameters:\n  Input:  _Element e - \"MiscItem\" node\n  Output: -\n  Return: event\n------------------------------------------------------------------------*/\n    parseMiscItemEvent(e) {\n        let me;\n        if ((me = e.getChild(\"Barline\", CMMEParser.cmmens)) != null) {\n            let attribEl = me.getChild(\"NumLines\", CMMEParser.cmmens);\n            let numLines = attribEl == null ? 1 : _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(attribEl.getText());\n            let repeatSign = me.getChild(\"RepeatSign\", CMMEParser.cmmens) != null;\n            attribEl = me.getChild(\"BottomStaffLine\", CMMEParser.cmmens);\n            let bottomLinePos = attribEl == null ? 0 : _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(attribEl.getText());\n            attribEl = me.getChild(\"NumSpaces\", CMMEParser.cmmens);\n            let numSpaces = attribEl == null ? 4 : _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(attribEl.getText());\n            return _BarlineEvent__WEBPACK_IMPORTED_MODULE_42__.BarlineEvent.new5(numLines, repeatSign, bottomLinePos, numSpaces);\n        }\n        if ((me = e.getChild(\"TextAnnotation\", CMMEParser.cmmens)) != null) {\n            let s = me.getChildText(\"Text\", CMMEParser.cmmens);\n            let sle = me.getChild(\"StaffLoc\", CMMEParser.cmmens);\n            if (sle != null)\n                return _AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_43__.AnnotationTextEvent.new2(s, _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(sle.getText()));\n            else\n                return _AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_43__.AnnotationTextEvent.new3(s);\n        }\n        if ((me = e.getChild(\"Lacuna\", CMMEParser.cmmens)) != null)\n            return this.parseLacunaEvent(me);\n        if ((me = e.getChild(\"Ellipsis\", CMMEParser.cmmens)) != null)\n            return _Event__WEBPACK_IMPORTED_MODULE_35__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_ELLIPSIS);\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event parseLacunaEvent(_Element e)\nPurpose: Create lacuna event from _Document tree segment\nParameters:\n  Input:  _Element e - \"Lacuna\" node\n  Output: -\n  Return: event\n------------------------------------------------------------------------*/\n    parseLacunaEvent(e) {\n        throw new _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_5__.RuntimeException();\n    }\n    /*\n    _Element lengthEl=e.getChild(\"Length\",cmmens);\n    if (lengthEl!=null)\n      return new LacunaEvent(parseProportion(lengthEl));\n    if (e.getChild(\"Begin\",cmmens)!=null)\n      return new LacunaEvent(Event.EVENT_LACUNA);\n    if (e.getChild(\"End\",cmmens)!=null)\n      return new LacunaEvent(Event.EVENT_LACUNA_END);\n\n    return null;*/\n    /*------------------------------------------------------------------------\nMethod:  Event parseModernKeySignatureEvent(_Element e)\nPurpose: Create modern key signature event from _Document tree segment\nParameters:\n  Input:  _Element e - \"ModernKeySignature\" node\n  Output: -\n  Return: event\n------------------------------------------------------------------------*/\n    parseModernKeySignatureEvent(e) {\n        let mks = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__.ModernKeySignature.new0();\n        for (let ei = e.getChildren().iterator(); ei.hasNext();) {\n            let curElTree = ei.next();\n            let pl = curElTree.getChildText(\"Pitch\", CMMEParser.cmmens).substring(0, 1);\n            let po = -1;\n            if (curElTree.getChild(\"Octave\", CMMEParser.cmmens) != null)\n                po = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(curElTree.getChildText(\"Octave\", CMMEParser.cmmens));\n            let ma = this.parseModernAccidental_2(curElTree.getChild(\"Accidental\", CMMEParser.cmmens));\n            mks.addElement(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_27__.ModernKeySignatureElement.new0(_Pitch__WEBPACK_IMPORTED_MODULE_17__.Pitch.new1(pl, po), ma));\n        }\n        return _ModernKeySignatureEvent__WEBPACK_IMPORTED_MODULE_26__.ModernKeySignatureEvent.new22(mks);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Proportion parseColoration(_Element e)\nPurpose: Create Coloration structure from _Document tree segment\nParameters:\n  Input:  _Element e - coloration node\n  Output: -\n  Return: coloration structure\n------------------------------------------------------------------------*/\n    parseColoration(e) {\n        let pc = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE;\n        let pf = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE;\n        let sc = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE;\n        let sf = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE;\n        let colel = e.getChild(\"PrimaryColor\", CMMEParser.cmmens);\n        pc = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.strtoColor(colel.getChildText(\"Color\", CMMEParser.cmmens));\n        pf = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.strtoColorFill(colel.getChildText(\"Fill\", CMMEParser.cmmens));\n        if ((colel = e.getChild(\"SecondaryColor\", CMMEParser.cmmens)) != null) {\n            sc = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.strtoColor(colel.getChildText(\"Color\", CMMEParser.cmmens));\n            sf = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.strtoColorFill(colel.getChildText(\"Fill\", CMMEParser.cmmens));\n        }\n        else {\n            sc = pc;\n            sf = _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.complementaryFill(pf);\n        }\n        return _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.new0(pc, pf, sc, sf);\n    }\n    /* secondary color unspecified: use default complement */\n    /*------------------------------------------------------------------------\nMethod:  ModernAccidental parseModernAccidental(_Element e,Pitch p,ModernKeySignature keySig)\nPurpose: Choose pitch offset for NoteEvent based on _Document tree segment\nParameters:\n  Input:  _Element e                 - note _Element node\n          Pitch p                   - note pitch\n          ModernKeySignature keySig - current key signature\n  Output: -\n  Return: ModernAccidental structure\n------------------------------------------------------------------------*/\n    /* note accidental */\n    parseModernAccidental_1(e, p, keySig) {\n        let pitchOffset = 0;\n        let optional = false;\n        let acce;\n        if ((acce = e.getChild(\"ModernAccidental\", CMMEParser.cmmens)) != null) {\n            if (acce.getChild(\"AType\", CMMEParser.cmmens) != null) {\n                let numa = (acce.getChild(\"Num\", CMMEParser.cmmens) != null) ? _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(acce.getChildText(\"Num\", CMMEParser.cmmens)) : 1;\n                let depAcc = _ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.new0(_ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.strtoMA(acce.getChildText(\"AType\", CMMEParser.cmmens)), numa, false);\n                pitchOffset = keySig.calcNotePitchOffset_1(p, depAcc);\n            }\n            else\n                pitchOffset = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(acce.getChildText(\"PitchOffset\", CMMEParser.cmmens));\n            optional = acce.getChild(\"Optional\", CMMEParser.cmmens) != null;\n        }\n        else if (this.fileVersion < 0.894)\n            pitchOffset = keySig.calcNotePitchOffset_1(p, null);\n        return _ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.new3(pitchOffset, optional);\n    }\n    /* parse deprecated ModernAccidental structure */\n    /* legacy code: pre-0.894 files have no pitch offset info for notes\n       modified by key signature */\n    /* signature accidental */\n    parseModernAccidental_2(acce) {\n        let numa = (acce.getChild(\"Num\", CMMEParser.cmmens) != null) ? _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(acce.getChildText(\"Num\", CMMEParser.cmmens)) : 1;\n        return _ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.new0(_ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.strtoMA(acce.getChildText(\"AType\", CMMEParser.cmmens)), numa, acce.getChild(\"Optional\", CMMEParser.cmmens) != null);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Signum parseSignum(_Element e)\nPurpose: Create Signum structure from _Document tree segment\nParameters:\n  Input:  _Element e - signum node\n  Output: -\n  Return: signum\n------------------------------------------------------------------------*/\n    parseSignum(e) {\n        if (e == null)\n            return null;\n        let orientation = _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.UP;\n        let side = _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.MIDDLE;\n        let offsetStr = e.getChildText(\"Offset\", CMMEParser.cmmens);\n        let os = e.getChildText(\"Orientation\", CMMEParser.cmmens);\n        if (os != null && (os == \"Down\"))\n            orientation = _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.DOWN;\n        let ss = e.getChildText(\"Side\", CMMEParser.cmmens);\n        if (ss != null)\n            if ((ss == \"Left\"))\n                side = _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.LEFT;\n            else if ((ss == \"Right\"))\n                side = _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.RIGHT;\n        if (offsetStr == null)\n            return _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.new1(orientation, side);\n        return _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.new0(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(offsetStr), orientation, side);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Proportion parseProportion(_Element e)\nPurpose: Create Proportion structure from _Document tree segment\nParameters:\n  Input:  _Element e - proportion node\n  Output: -\n  Return: proportion structure\n------------------------------------------------------------------------*/\n    parseProportion(e) {\n        return e == null ? null : _Proportion__WEBPACK_IMPORTED_MODULE_16__.Proportion.new0(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"Num\", CMMEParser.cmmens)), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.parseInt(e.getChildText(\"Den\", CMMEParser.cmmens)));\n    }\n    static outputPieceData(pdata, outs) {\n        _Document.create(null, null, null);\n        let outputdoc;\n        let rootel;\n        CMMEParser.mainData = pdata;\n        CMMEParser.cmmens = \"http://www.cmme.org\";\n        let xsins = \"http://www.w3.org/2001/XMLSchema-instance\";\n        rootel = new _Element(\"Piece\", CMMEParser.cmmens);\n        rootel.addNamespaceDeclaration(CMMEParser.cmmens);\n        rootel.addNamespaceDeclaration(xsins);\n        rootel.set_Attribute(\"schemaLocation\", \"http://www.cmme.org cmme.xsd\", xsins);\n        rootel.set_Attribute(\"CMMEversion\", _MetaData__WEBPACK_IMPORTED_MODULE_30__.MetaData.CMME_VERSION);\n        pdata.consolidateAllReadings();\n        rootel.addContent(CMMEParser.createGeneralDataTree(pdata));\n        rootel.addContent(CMMEParser.createVoiceDataTree(pdata.getVoiceData()));\n        for (let si = 0; si < pdata.getNumSections(); si++)\n            rootel.addContent(CMMEParser.createMusicSectionTree(pdata.getSection(si)));\n        outputdoc = new _Document(rootel);\n        try {\n            let xout = new _XMLOutputter(\"\");\n            xout.output(outputdoc, outs);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_1__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_2__.System.err.println(\"Error writing XML doc: \" + e);\n            }\n            else\n                throw e;\n        }\n    }\n    // header/root \n    //,cmmens);\n    // actual content \n    // output \n    /*Format.getRawFormat().setIndent(\"  \")*/\n    /*------------------------------------------------------------------------\nMethod:  _Element createGeneralDataTree(PieceData pdata)\nPurpose: Construct tree segment for GeneralData\nParameters:\n  Input:  PieceData pdata - overall piece structure\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createGeneralDataTree(pdata) {\n        let gdel = new _Element(\"GeneralData\", CMMEParser.cmmens);\n        if (pdata.isIncipitScore())\n            gdel.addContent(new _Element(\"Incipit\", CMMEParser.cmmens));\n        gdel.addContent(new _Element(\"Title\", CMMEParser.cmmens).setText(pdata.getTitle()));\n        let st = pdata.getSectionTitle();\n        if (st != null)\n            gdel.addContent(new _Element(\"Section\", CMMEParser.cmmens).setText(st));\n        gdel.addContent(new _Element(\"Composer\", CMMEParser.cmmens).setText(pdata.getComposer()));\n        gdel.addContent(new _Element(\"Editor\", CMMEParser.cmmens).setText(pdata.getEditor()));\n        let publicNotes = pdata.getPublicNotes();\n        if (publicNotes != null && publicNotes.length > 0)\n            gdel.addContent(new _Element(\"PublicNotes\", CMMEParser.cmmens).setText(publicNotes));\n        let notes = pdata.getNotes();\n        if (notes != null && notes.length > 0)\n            gdel.addContent(new _Element(\"Notes\", CMMEParser.cmmens).setText(notes));\n        let vvi = 0;\n        for (let vvd of pdata.getVariantVersions()) {\n            let vvel = new _Element(\"VariantVersion\", CMMEParser.cmmens);\n            if (vvi++ == 0)\n                vvel.addContent(new _Element(\"Default\", CMMEParser.cmmens));\n            vvel.addContent(new _Element(\"ID\", CMMEParser.cmmens).setText(vvd.getID()));\n            let sourceID = vvd.getSourceID();\n            if (sourceID > -1)\n                vvel.addContent(CMMEParser.createSourceInfoTree(\"Source\", vvd.getSourceName(), sourceID));\n            let vEditor = vvd.getEditor();\n            if (vEditor != null && vEditor.length > 0)\n                vvel.addContent(new _Element(\"Editor\", CMMEParser.cmmens).setText(vEditor));\n            let vDescription = vvd.getDescription();\n            if (vDescription != null && vDescription.length > 0)\n                vvel.addContent(new _Element(\"Description\", CMMEParser.cmmens).setText(vDescription));\n            let missingVoices = vvd.getMissingVoices();\n            if (missingVoices.size() > 0) {\n                let mvel = new _Element(\"MissingVoices\", CMMEParser.cmmens);\n                for (let v of missingVoices)\n                    mvel.addContent(new _Element(\"VoiceNum\", CMMEParser.cmmens).setText(`${v.getNum()}`));\n                vvel.addContent(mvel);\n            }\n            gdel.addContent(vvel);\n        }\n        if (!pdata.getBaseColoration().equals(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.DEFAULT_COLORATION))\n            gdel.addContent(CMMEParser.addColorationData(new _Element(\"BaseColoration\", CMMEParser.cmmens), pdata.getBaseColoration()));\n        return gdel;\n    }\n    // variant version declarations \n    /*------------------------------------------------------------------------\nMethod:  _Element createSourceInfoTree(String elName,String sName,int sNum)\nPurpose: Construct tree segment for one source info\nParameters:\n  Input:  String elName - name of _Element to be created\n          String sName  - name of source\n          int sNum      - source ID no.\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createSourceInfoTree(elName, sName, sNum) {\n        let sourceEl = new _Element(elName, CMMEParser.cmmens);\n        sourceEl.addContent(new _Element(\"Name\", CMMEParser.cmmens).setText(sName));\n        sourceEl.addContent(new _Element(\"ID\", CMMEParser.cmmens).setText(`${sNum}`));\n        return sourceEl;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element createVoiceDataTree(Voice[] vdata)\nPurpose: Construct tree segment for VoiceData\nParameters:\n  Input:  Voice[] vdata - array of structures containing voice data\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createVoiceDataTree(vdata) {\n        let vdel = new _Element(\"VoiceData\", CMMEParser.cmmens);\n        vdel.addContent(new _Element(\"NumVoices\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(vdata.length)));\n        for (let curv of vdata) {\n            let curvel = new _Element(\"Voice\", CMMEParser.cmmens);\n            curvel.addContent(new _Element(\"Name\", CMMEParser.cmmens).setText(curv.getName()));\n            if (curv.isEditorial())\n                curvel.addContent(new _Element(\"Editorial\", CMMEParser.cmmens));\n            let c = curv.getSuggestedModernClef();\n            if (c != null)\n                curvel.addContent(new _Element(\"SuggestedModernClef\", CMMEParser.cmmens).setText(_Clef__WEBPACK_IMPORTED_MODULE_41__.Clef.ClefNames[c.cleftype]));\n            vdel.addContent(curvel);\n        }\n        return vdel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element createMusicSectionTree(MusicSection ms)\nPurpose: Construct tree segment for one MusicSection\nParameters:\n  Input:  MusicSection ms - music section\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createMusicSectionTree(ms) {\n        let msel = new _Element(\"MusicSection\", CMMEParser.cmmens);\n        if (ms.isEditorial())\n            msel.addContent(new _Element(\"Editorial\", CMMEParser.cmmens));\n        let msSource = ms.getPrincipalSource();\n        if (msSource != null && !(msSource == \"\"))\n            msel.addContent(CMMEParser.createSourceInfoTree(\"PrincipalSource\", msSource, ms.getPrincipalSourceNum()));\n        switch (ms.getSectionType()) {\n            case _MusicSection__WEBPACK_IMPORTED_MODULE_22__.MusicSection.MENSURAL_MUSIC:\n                {\n                    msel.addContent(CMMEParser.createMusicMensuralSectionTree(ms));\n                    break;\n                }\n            case _MusicSection__WEBPACK_IMPORTED_MODULE_22__.MusicSection.PLAINCHANT:\n                {\n                    msel.addContent(CMMEParser.createMusicChantSectionTree(ms));\n                    break;\n                }\n            default:\n                {\n                    _java_lang_System__WEBPACK_IMPORTED_MODULE_2__.System.err.println(\"Save error: Attempting to create tree for unsupported section type\");\n                    break;\n                }\n        }\n        return msel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element createMusicMensuralSectionTree(MusicMensuralSection mms)\nPurpose: Construct tree segment for one MusicMensuralSection\nParameters:\n  Input:  MusicMensuralSection mms - mensural music section\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createMusicMensuralSectionTree(mms) {\n        let mmsel = new _Element(\"MensuralMusic\", CMMEParser.cmmens);\n        mmsel.addContent(new _Element(\"NumVoices\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(mms.getNumVoicesUsed())));\n        if (mms.getBaseColoration() != null && !mms.getBaseColoration().equals(CMMEParser.mainData.getBaseColoration()))\n            mmsel.addContent(CMMEParser.addColorationData(new _Element(\"BaseColoration\", CMMEParser.cmmens), mms.getBaseColoration()));\n        CMMEParser.addTacetInstructions(mmsel, mms);\n        for (let vi = 0; vi < mms.getNumVoices_1(); vi++)\n            if (mms.getVoice_1(vi) != null) {\n                let curvmd = mms.getVoice_1(vi);\n                let curvel = new _Element(\"Voice\", CMMEParser.cmmens);\n                curvel.addContent(new _Element(\"VoiceNum\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(curvmd.getVoiceNum())));\n                for (let vvd of curvmd.getMissingVersions())\n                    curvel.addContent(new _Element(\"MissingVersionID\", CMMEParser.cmmens).setText(vvd.getID()));\n                curvel.addContent(CMMEParser.createVoiceEventTree(curvmd));\n                mmsel.addContent(curvel);\n            }\n        return mmsel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element createMusicChantSectionTree(MusicChantSection mcs)\nPurpose: Construct tree segment for one MusicChantSection\nParameters:\n  Input:  MusicChantSection mcs - plainchant section\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createMusicChantSectionTree(mcs) {\n        let mcsel = new _Element(\"Plainchant\", CMMEParser.cmmens);\n        mcsel.addContent(new _Element(\"NumVoices\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(mcs.getNumVoicesUsed())));\n        if (mcs.getBaseColoration() != null && !mcs.getBaseColoration().equals(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.DEFAULT_CHANT_COLORATION))\n            mcsel.addContent(CMMEParser.addColorationData(new _Element(\"BaseColoration\", CMMEParser.cmmens), mcs.getBaseColoration()));\n        CMMEParser.addTacetInstructions(mcsel, mcs);\n        for (let vi = 0; vi < mcs.getNumVoices_1(); vi++)\n            if (mcs.getVoice_1(vi) != null) {\n                let curvd = mcs.getVoice_1(vi);\n                let curvel = new _Element(\"Voice\", CMMEParser.cmmens);\n                curvel.addContent(new _Element(\"VoiceNum\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(curvd.getVoiceNum())));\n                for (let vvd of curvd.getMissingVersions())\n                    curvel.addContent(new _Element(\"MissingVersionID\", CMMEParser.cmmens).setText(vvd.getID()));\n                curvel.addContent(CMMEParser.createVoiceEventTree(curvd));\n                mcsel.addContent(curvel);\n            }\n        return mcsel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addTacetInstructions(_Element sectionEl,MusicSection section)\nPurpose: Add tree segments for voice tacet texts in one MusicSection\nParameters:\n  Input:  MusicSection section - music section\n  Output: _Element sectionEl    - _Element representing music section\n  Return: -\n------------------------------------------------------------------------*/\n    static addTacetInstructions(sectionEl, section) {\n        if (section.getTacetInfo() == null)\n            return;\n        for (let ti of section.getTacetInfo())\n            if (!(ti.tacetText == \"\")) {\n                let tacetEl = new _Element(\"TacetInstruction\", CMMEParser.cmmens);\n                tacetEl.addContent(new _Element(\"VoiceNum\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(((ti.voiceNum + 1) | 0))));\n                tacetEl.addContent(new _Element(\"TacetText\", CMMEParser.cmmens).setText(ti.tacetText));\n                sectionEl.addContent(tacetEl);\n            }\n    }\n    static createVoiceEventTree(v) {\n        let elel = new _Element(\"EventList\", CMMEParser.cmmens);\n        let curevel;\n        let cure;\n        CMMEParser.lastcol = v.getSection().getBaseColoration();\n        for (let i = v.events.iterator(); i.hasNext();) {\n            cure = i.next();\n            if (cure.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_VARIANTDATA_START)\n                curevel = CMMEParser.createVariantDataTree(i, cure.getReadings());\n            else\n                curevel = CMMEParser.createOneEventTree(cure);\n            if (curevel != null)\n                elel.addContent(curevel);\n        }\n        return elel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element createVariantDataTree(Iterator i,ArrayList<VariantReadings> varReadings)\nPurpose: Construct tree segment for set of variant readings\nParameters:\n  Input:  Iterator i - event list iterator, positioned at start of variant\n                       segment\n          ArrayList<VariantReadings> varReadings - variant readings\n  Output: Iterator i\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createVariantDataTree(i, varReadings) {\n        let variantRootEl = new _Element(\"VariantReadings\", CMMEParser.cmmens);\n        let readingEl = new _Element(\"Reading\", CMMEParser.cmmens);\n        let eventListEl = null;\n        let curevel;\n        let cure;\n        readingEl.addContent(new _Element(\"VariantVersionID\", CMMEParser.cmmens).setText(\"DEFAULT\"));\n        eventListEl = new _Element(\"Music\", CMMEParser.cmmens);\n        cure = i.hasNext() ? i.next() : null;\n        while (cure.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_VARIANTDATA_END) {\n            curevel = CMMEParser.createOneEventTree(cure);\n            if (curevel != null)\n                eventListEl.addContent(curevel);\n            cure = i.hasNext() ? i.next() : null;\n        }\n        readingEl.addContent(eventListEl);\n        variantRootEl.addContent(readingEl);\n        for (let vr of varReadings) {\n            readingEl = new _Element(\"Reading\", CMMEParser.cmmens);\n            for (let vvd of vr.getVersions())\n                readingEl.addContent(new _Element(\"VariantVersionID\", CMMEParser.cmmens).setText(vvd.getID()));\n            if (vr.isError())\n                readingEl.addContent(new _Element(\"Error\", CMMEParser.cmmens));\n            eventListEl = new _Element(\"Music\", CMMEParser.cmmens);\n            for (let vi = 0; vi < vr.getNumEvents(); vi++) {\n                let ve = vr.getEvent(vi);\n                curevel = CMMEParser.createOneEventTree(ve);\n                if (curevel != null)\n                    eventListEl.addContent(curevel);\n            }\n            readingEl.addContent(eventListEl);\n            variantRootEl.addContent(readingEl);\n        }\n        return variantRootEl;\n    }\n    // create event list for default reading \n    // create event lists for variant readings \n    /*------------------------------------------------------------------------\nMethod:  _Element createMultiEventTree(MultiEvent cure)\nPurpose: Construct tree segment for a multi-event\nParameters:\n  Input:  MultiEvent cure - multi-event data\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createMultiEventTree(cure) {\n        let melel = new _Element(\"MultiEvent\", CMMEParser.cmmens);\n        for (let i = cure.iterator_2(); i.hasNext();)\n            melel.addContent(CMMEParser.createOneEventTree(i.next()));\n        return melel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element createOneEventTree(Event cure)\nPurpose: Construct tree segment for a single Event\nParameters:\n  Input:  Event cure - single event data\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    static createOneEventTree(cure) {\n        let curevel;\n        let mile;\n        switch (cure.geteventtype()) {\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_MULTIEVENT:\n                {\n                    return CMMEParser.createMultiEventTree(cure);\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_CLEF:\n                {\n                    curevel = new _Element(\"Clef\", CMMEParser.cmmens);\n                    let c = cure.getClef_1(false, false);\n                    curevel.addContent(new _Element(\"Appearance\", CMMEParser.cmmens).setText(_Clef__WEBPACK_IMPORTED_MODULE_41__.Clef.ClefNames[c.cleftype]));\n                    curevel.addContent(new _Element(\"StaffLoc\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(c.linespacenum)));\n                    curevel.addContent(CMMEParser.addLocusData(new _Element(\"Pitch\", CMMEParser.cmmens), c.pitch));\n                    if (c._signature)\n                        curevel.addContent(new _Element(\"Signature\", CMMEParser.cmmens));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_MENS:\n                {\n                    curevel = new _Element(\"Mensuration\", CMMEParser.cmmens);\n                    let m = cure;\n                    for (let i = m.iterator_1(); i.hasNext();) {\n                        let mse = i.next();\n                        switch (mse.signType) {\n                            case _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_O:\n                                {\n                                }\n                            case _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_C:\n                                {\n                                }\n                            case _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_CREV:\n                                {\n                                    let signel = new _Element(\"Sign\", CMMEParser.cmmens);\n                                    signel.addContent(new _Element(\"MainSymbol\", CMMEParser.cmmens).setText(mse.signType == _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_O ? \"O\" : \"C\"));\n                                    if (mse.signType == _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.MENS_SIGN_CREV)\n                                        signel.addContent(new _Element(\"Orientation\", CMMEParser.cmmens).setText(\"Reversed\"));\n                                    if (mse.stroke)\n                                        signel.addContent(new _Element(\"Strokes\", CMMEParser.cmmens).setText(\"1\"));\n                                    if (mse.dotted)\n                                        signel.addContent(new _Element(\"Dot\", CMMEParser.cmmens));\n                                    curevel.addContent(signel);\n                                    break;\n                                }\n                            case _MensSignElement__WEBPACK_IMPORTED_MODULE_32__.MensSignElement.NUMBERS:\n                                {\n                                    let numel = CMMEParser.addProportion(new _Element(\"Number\", CMMEParser.cmmens), mse.number);\n                                    curevel.addContent(numel);\n                                    break;\n                                }\n                        }\n                    }\n                    if (m.getStaffLoc() != 4)\n                        curevel.addContent(new _Element(\"StaffLoc\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(m.getStaffLoc())));\n                    if (m.vertical())\n                        curevel.addContent(new _Element(\"Orientation\", CMMEParser.cmmens).setText(\"Vertical\"));\n                    if (m.small())\n                        curevel.addContent(new _Element(\"Small\", CMMEParser.cmmens));\n                    if (m.nonStandard()) {\n                        let mi = m.getMensInfo_1();\n                        let miel = new _Element(\"MensInfo\", CMMEParser.cmmens);\n                        miel.addContent(new _Element(\"Prolatio\", CMMEParser.cmmens).setText(mi.prolatio == _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.MENS_TERNARY ? \"3\" : \"2\"));\n                        miel.addContent(new _Element(\"Tempus\", CMMEParser.cmmens).setText(mi.tempus == _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.MENS_TERNARY ? \"3\" : \"2\"));\n                        miel.addContent(new _Element(\"ModusMinor\", CMMEParser.cmmens).setText(mi.modus_minor == _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.MENS_TERNARY ? \"3\" : \"2\"));\n                        miel.addContent(new _Element(\"ModusMaior\", CMMEParser.cmmens).setText(mi.modus_maior == _Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.MENS_TERNARY ? \"3\" : \"2\"));\n                        if (!mi.tempoChange.equals(_Mensuration__WEBPACK_IMPORTED_MODULE_31__.Mensuration.DEFAULT_TEMPO_CHANGE))\n                            miel.addContent(CMMEParser.addProportion(new _Element(\"TempoChange\", CMMEParser.cmmens), mi.tempoChange));\n                        curevel.addContent(miel);\n                    }\n                    if (m.noScoreSig())\n                        curevel.addContent(new _Element(\"NoScoreEffect\", CMMEParser.cmmens));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_REST:\n                {\n                    curevel = new _Element(\"Rest\", CMMEParser.cmmens);\n                    let r = cure;\n                    CMMEParser.addNoteInfoData(curevel, r.getnotetype_1(), r.getLength_1());\n                    curevel.addContent(new _Element(\"BottomStaffLine\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(r.getbottomline_2())));\n                    curevel.addContent(new _Element(\"NumSpaces\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(r.getnumlines())));\n                    if (r.getCorona() != null)\n                        curevel.addContent(CMMEParser.addSignumData(new _Element(\"Corona\", CMMEParser.cmmens), r.getCorona()));\n                    if (r.getSignum() != null)\n                        curevel.addContent(CMMEParser.addSignumData(new _Element(\"Signum\", CMMEParser.cmmens), r.getSignum()));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_NOTE:\n                {\n                    curevel = new _Element(\"Note\", CMMEParser.cmmens);\n                    let n = cure;\n                    CMMEParser.addNoteInfoData(curevel, n.getnotetype_1(), n.getLength_1());\n                    CMMEParser.addLocusData(curevel, n.getPitch_1());\n                    let ma = n.getPitchOffset();\n                    if (ma.pitchOffset != 0 || ma.optional == true)\n                        curevel.addContent(CMMEParser.addModernAccidentalData(new _Element(\"ModernAccidental\", CMMEParser.cmmens), ma));\n                    if (n.isligated())\n                        curevel.addContent(new _Element(\"Lig\", CMMEParser.cmmens).setText(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.LigTypeNames[n.getligtype()]));\n                    if (n.getTieType() != _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.TIE_NONE)\n                        curevel.addContent(new _Element(\"Tie\", CMMEParser.cmmens).setText(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.TieTypeNames[n.getTieType()]));\n                    let numFlags = n.getNumFlags();\n                    if (numFlags > 0) {\n                        let flagEl = new _Element(\"Flagged\", CMMEParser.cmmens);\n                        if (numFlags > 1)\n                            flagEl.addContent(new _Element(\"NumFlags\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(numFlags)));\n                        curevel.addContent(flagEl);\n                    }\n                    let stemel = null;\n                    if (n.getstemside() != -1 && n.getstemdir() != -1) {\n                        stemel = new _Element(\"Stem\", CMMEParser.cmmens);\n                        stemel.addContent(new _Element(\"Dir\", CMMEParser.cmmens).setText(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.StemDirs[n.getstemdir()]));\n                        stemel.addContent(new _Element(\"Side\", CMMEParser.cmmens).setText(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.StemDirs[n.getstemside()]));\n                    }\n                    else if (n.getstemdir() != _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.STEM_UP && n.getstemdir() != -1) {\n                        stemel = new _Element(\"Stem\", CMMEParser.cmmens);\n                        stemel.addContent(new _Element(\"Dir\", CMMEParser.cmmens).setText(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.StemDirs[n.getstemdir()]));\n                    }\n                    if (stemel != null)\n                        curevel.addContent(stemel);\n                    if (n.getHalfColoration() != _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.HALFCOLORATION_NONE) {\n                        let halfColText = null;\n                        switch (n.getHalfColoration()) {\n                            case _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.HALFCOLORATION_PRIMARYSECONDARY:\n                                {\n                                    halfColText = \"PrimarySecondary\";\n                                    break;\n                                }\n                            case _NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.HALFCOLORATION_SECONDARYPRIMARY:\n                                {\n                                    halfColText = \"SecondaryPrimary\";\n                                    break;\n                                }\n                        }\n                        curevel.addContent(new _Element(\"HalfColoration\", CMMEParser.cmmens).setText(halfColText));\n                    }\n                    if (n.getCorona() != null)\n                        curevel.addContent(CMMEParser.addSignumData(new _Element(\"Corona\", CMMEParser.cmmens), n.getCorona()));\n                    if (n.getSignum() != null)\n                        curevel.addContent(CMMEParser.addSignumData(new _Element(\"Signum\", CMMEParser.cmmens), n.getSignum()));\n                    let mt = n.getModernText();\n                    if (mt != null) {\n                        let mtel = new _Element(\"ModernText\", CMMEParser.cmmens);\n                        mtel.addContent(new _Element(\"Syllable\", CMMEParser.cmmens).setText(mt));\n                        if (n.isWordEnd())\n                            mtel.addContent(new _Element(\"WordEnd\", CMMEParser.cmmens));\n                        if (n.isModernTextEditorial())\n                            mtel.addContent(new _Element(\"Editorial\", CMMEParser.cmmens));\n                        curevel.addContent(mtel);\n                    }\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_DOT:\n                {\n                    curevel = new _Element(\"Dot\", CMMEParser.cmmens);\n                    curevel.addContent(CMMEParser.addLocusData(new _Element(\"Pitch\", CMMEParser.cmmens), cure.getPitch_1()));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_ORIGINALTEXT:\n                {\n                    curevel = new _Element(\"OriginalText\", CMMEParser.cmmens);\n                    curevel.addContent(new _Element(\"Phrase\", CMMEParser.cmmens).setText(cure.getText()));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_PROPORTION:\n                {\n                    curevel = new _Element(\"Proportion\", CMMEParser.cmmens);\n                    CMMEParser.addProportion(curevel, cure.getproportion());\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_COLORCHANGE:\n                {\n                    curevel = new _Element(\"ColorChange\", CMMEParser.cmmens);\n                    let newcol = cure.getcolorscheme();\n                    let coldiff = newcol.differencebetween(CMMEParser.lastcol);\n                    let colel = new _Element(\"PrimaryColor\", CMMEParser.cmmens);\n                    if (coldiff.primaryColor != _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE || coldiff.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE)\n                        colel.addContent(new _Element(\"Color\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorNames[newcol.primaryColor]));\n                    if (coldiff.primaryFill != _Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.NONE)\n                        colel.addContent(new _Element(\"Fill\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorFillNames[newcol.primaryFill]));\n                    curevel.addContent(colel);\n                    if (newcol.secondaryColor != newcol.primaryColor || (newcol.secondaryColor == newcol.primaryColor && newcol.secondaryFill == newcol.primaryFill)) {\n                        colel = new _Element(\"SecondaryColor\", CMMEParser.cmmens);\n                        if (newcol.secondaryColor != newcol.primaryColor)\n                            colel.addContent(new _Element(\"Color\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorNames[newcol.secondaryColor]));\n                        colel.addContent(new _Element(\"Fill\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorFillNames[newcol.secondaryFill]));\n                        curevel.addContent(colel);\n                    }\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_CUSTOS:\n                {\n                    curevel = new _Element(\"Custos\", CMMEParser.cmmens);\n                    CMMEParser.addLocusData(curevel, cure.getPitch_1());\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_LINEEND:\n                {\n                    curevel = new _Element(\"LineEnd\", CMMEParser.cmmens);\n                    if (cure.isPageEnd())\n                        curevel.addContent(new _Element(\"PageEnd\", CMMEParser.cmmens));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_BARLINE:\n                {\n                    curevel = new _Element(\"MiscItem\", CMMEParser.cmmens);\n                    let ble = new _Element(\"Barline\", CMMEParser.cmmens);\n                    let curbe = cure;\n                    let nl = curbe.getNumLines();\n                    if (nl != 1)\n                        ble.addContent(new _Element(\"NumLines\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(nl)));\n                    let isRepeatSign = curbe.isRepeatSign();\n                    if (isRepeatSign)\n                        ble.addContent(new _Element(\"RepeatSign\", CMMEParser.cmmens));\n                    let bl = curbe.getBottomLinePos();\n                    if (bl != 0)\n                        ble.addContent(new _Element(\"BottomStaffLine\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(bl)));\n                    let ns = curbe.getNumSpaces();\n                    if (ns != 4)\n                        ble.addContent(new _Element(\"NumSpaces\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(ns)));\n                    curevel.addContent(ble);\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_ANNOTATIONTEXT:\n                {\n                    curevel = new _Element(\"MiscItem\", CMMEParser.cmmens);\n                    let tae = new _Element(\"TextAnnotation\", CMMEParser.cmmens);\n                    let ae = cure;\n                    let sl = ae.getstaffloc();\n                    tae.addContent(new _Element(\"Text\", CMMEParser.cmmens).setText(ae.gettext()));\n                    if (sl != _AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_43__.AnnotationTextEvent.DEFAULT_STAFFLOC)\n                        tae.addContent(new _Element(\"StaffLoc\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(sl)));\n                    curevel.addContent(tae);\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_LACUNA:\n                {\n                    curevel = new _Element(\"MiscItem\", CMMEParser.cmmens);\n                    mile = new _Element(\"Lacuna\", CMMEParser.cmmens);\n                    let le = cure;\n                    if (le.getLength_1().i1 > 0)\n                        mile.addContent(CMMEParser.addProportion(new _Element(\"Length\", CMMEParser.cmmens), le.getLength_1()));\n                    else\n                        mile.addContent(new _Element(\"Begin\", CMMEParser.cmmens));\n                    curevel.addContent(mile);\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_LACUNA_END:\n                {\n                    curevel = new _Element(\"MiscItem\", CMMEParser.cmmens);\n                    mile = new _Element(\"Lacuna\", CMMEParser.cmmens);\n                    mile.addContent(new _Element(\"End\", CMMEParser.cmmens));\n                    curevel.addContent(mile);\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_MODERNKEYSIGNATURE:\n                {\n                    curevel = new _Element(\"ModernKeySignature\", CMMEParser.cmmens);\n                    let mkse = cure;\n                    for (let i = mkse.getSigInfo().iterator(); i.hasNext();) {\n                        let curSigEl = i.next();\n                        let sigElTree = new _Element(\"Sig_Element\", CMMEParser.cmmens);\n                        sigElTree.addContent(new _Element(\"Pitch\", CMMEParser.cmmens).setText(`${curSigEl.pitch.noteletter}`));\n                        if (curSigEl.pitch.octave != -1)\n                            sigElTree.addContent(new _Element(\"Octave\", CMMEParser.cmmens).setText(`${curSigEl.pitch.octave}`));\n                        sigElTree.addContent(CMMEParser.addModernAccidentalData(new _Element(\"Accidental\", CMMEParser.cmmens), curSigEl.accidental));\n                        curevel.addContent(sigElTree);\n                    }\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_ELLIPSIS:\n                {\n                    curevel = new _Element(\"MiscItem\", CMMEParser.cmmens);\n                    curevel.addContent(new _Element(\"Ellipsis\", CMMEParser.cmmens));\n                    break;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_35__.Event.EVENT_SECTIONEND:\n                {\n                    return null;\n                }\n            default:\n                {\n                    curevel = new _Element(\"Event\", CMMEParser.cmmens);\n                }\n        }\n        if (cure.isColored())\n            curevel.addContent(new _Element(\"Colored\", CMMEParser.cmmens));\n        if (cure.isEditorial())\n            curevel.addContent(new _Element(\"Editorial\", CMMEParser.cmmens));\n        if (cure.isError())\n            curevel.addContent(new _Element(\"Error\", CMMEParser.cmmens));\n        let ec = cure.getEdCommentary();\n        if (ec != null)\n            curevel.addContent(new _Element(\"EditorialCommentary\", CMMEParser.cmmens).setText(ec));\n        CMMEParser.lastcol = cure.getcoloration();\n        return curevel;\n    }\n    // need to add Orientation etc \n    //       -- deprecated --\n    //       curevel.addContent(new _Element(\"StaffLoc\",cmmens).setText(\n    //          Integer.toString(((DotEvent)cure).getstaffloc())));\n    // need to add support for StaffLoc with no Locus \n    /*_Element*/\n    // generic event _Attributes \n    /*------------------------------------------------------------------------\nMethod:  _Element addModernAccidentalData(_Element e,ModernAccidental ma)\nPurpose: Construct tree segment for modern accidental data and add to _Element\nParameters:\n  Input:  ModernAccidental ma - accidental data\n  Output: _Element e           - target _Element\n  Return: new _Element containing accidental data tree\n------------------------------------------------------------------------*/\n    static addModernAccidentalData(e, ma) {\n        if (ma.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.ACC_NONE)\n            e.addContent(new _Element(\"PitchOffset\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(ma.pitchOffset)));\n        else {\n            e.addContent(new _Element(\"AType\", CMMEParser.cmmens).setText(_ModernAccidental__WEBPACK_IMPORTED_MODULE_29__.ModernAccidental.AccidentalNames[ma.accType]));\n            if (ma.numAcc != 1)\n                e.addContent(new _Element(\"Num\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(ma.numAcc)));\n        }\n        if (ma.optional)\n            e.addContent(new _Element(\"Optional\", CMMEParser.cmmens));\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element addColorationData(_Element e,Coloration c)\nPurpose: Construct tree segment for coloration data and add to _Element\nParameters:\n  Input:  Coloration c - coloration data\n  Output: _Element e    - target _Element\n  Return: modified _Element\n------------------------------------------------------------------------*/\n    static addColorationData(e, c) {\n        let colel = new _Element(\"PrimaryColor\", CMMEParser.cmmens);\n        colel.addContent(new _Element(\"Color\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorNames[c.primaryColor]));\n        colel.addContent(new _Element(\"Fill\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorFillNames[c.primaryFill]));\n        e.addContent(colel);\n        colel = new _Element(\"SecondaryColor\", CMMEParser.cmmens);\n        colel.addContent(new _Element(\"Color\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorNames[c.secondaryColor]));\n        colel.addContent(new _Element(\"Fill\", CMMEParser.cmmens).setText(_Coloration__WEBPACK_IMPORTED_MODULE_39__.Coloration.ColorFillNames[c.secondaryFill]));\n        e.addContent(colel);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element addLocusData(_Element e,Pitch p)\nPurpose: Construct tree segment for Locus (pitch) data and add to _Element\nParameters:\n  Input:  Pitch p   - pitch data\n  Output: _Element e - target _Element\n  Return: modified _Element\n------------------------------------------------------------------------*/\n    static addLocusData(e, p) {\n        e.addContent(new _Element(\"LetterName\", CMMEParser.cmmens).setText(`${p.noteletter}`));\n        e.addContent(new _Element(\"OctaveNum\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(p.octave)));\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element addNumberSequence(_Element e,int num)\nPurpose: Construct tree segment for NumberSequence and add to _Element\nParameters:\n  Input:  _Element e - target _Element\n          int num   - number data\n  Output: -\n  Return: modified _Element\n------------------------------------------------------------------------*/\n    static addNumberSequence(e, num) {\n        e.addContent(new _Element(\"Num\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(num)));\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element addNoteInfoData(_Element e,int nt,Proportion l)\nPurpose: Construct tree segment for NoteInfoData and add to _Element\nParameters:\n  Input:  _Element e    - target _Element\n          int nt       - note type\n          Proportion l - note length\n  Output: -\n  Return: modified _Element\n------------------------------------------------------------------------*/\n    static addNoteInfoData(e, nt, l) {\n        e.addContent(new _Element(\"Type\", CMMEParser.cmmens).setText(_NoteEvent__WEBPACK_IMPORTED_MODULE_20__.NoteEvent.NoteTypeNames[nt]));\n        if (l != null && l.i1 != 0)\n            e.addContent(CMMEParser.addProportion(new _Element(\"Length\", CMMEParser.cmmens), l.reduce()));\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element addSignumData(_Element e,Signum s)\nPurpose: Construct tree segment for Signum and add to _Element\nParameters:\n  Input:  _Element e - target _Element\n          Signum s  - signum data\n  Output: -\n  Return: modified _Element\n------------------------------------------------------------------------*/\n    static addSignumData(e, s) {\n        if (s.offset != _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.DEFAULT_YOFFSET)\n            e.addContent(new _Element(\"Offset\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(s.offset)));\n        if (s.orientation != _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.UP)\n            e.addContent(new _Element(\"Orientation\", CMMEParser.cmmens).setText(_Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.orientationNames[s.orientation]));\n        if (s.side != _Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.MIDDLE)\n            e.addContent(new _Element(\"Side\", CMMEParser.cmmens).setText(_Signum__WEBPACK_IMPORTED_MODULE_13__.Signum.sideNames[s.side]));\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  _Element addProportion(_Element e,Proportion p)\nPurpose: Construct tree segment for Proportion and add to _Element\nParameters:\n  Input:  _Element e    - target _Element\n          Proportion p - proportion data\n  Output: -\n  Return: modified _Element\n------------------------------------------------------------------------*/\n    static addProportion(e, p) {\n        e.addContent(new _Element(\"Num\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(p.i1)));\n        e.addContent(new _Element(\"Den\", CMMEParser.cmmens).setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(p.i2)));\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return _Attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: _Attribute variables\n------------------------------------------------------------------------*/\n    getFileVersion_2() {\n        return this.fileVersion;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/CMMEParser.ts?");

/***/ }),

/***/ "./src/DataStruct/Clef.ts":
/*!********************************!*\
  !*** ./src/DataStruct/Clef.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Clef: () => (/* binding */ Clef)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : Clef.java\n\n        Package         : DataStruct\n\n        Classes Included: Clef\n\n        Purpose         : Handle low-level clef information\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 1/99\n\n        Updates         : 4/26/99: modernization option added\n                          2/25/05: imported clef type enum from ClefEvent,\n                                   nominal support for new types\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   Clef\nExtends: -\nPurpose: Clef information structure\n------------------------------------------------------------------------*/\n//CHANGE signature -> _signature ismodernclef -> _ismodernclef drawInSig->_drawInSig to disambiguate signature()\nclass Clef {\n    constructor() {\n        this._ismodernclef = false;\n    }\n    /* whether to draw when constructing signature display */\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  boolean isFlatType(int ct)\nPurpose: Determine whether this type of clef is a type of flat\nParameters:\n  Input:  int ct - clef type\n  Output: -\n  Return: true if this clef type is a flat/round b\n------------------------------------------------------------------------*/\n    static isFlatType(ct) {\n        return ct == Clef.CLEF_Bmol || ct == Clef.CLEF_BmolDouble || ct == Clef.CLEF_Fis || ct == Clef.CLEF_MODERNFlat;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int defaultClefLoc(int ct)\nPurpose: Determine default staff location based on clef type\nParameters:\n  Input:  int ct - clef type\n  Output: -\n  Return: staff location\n------------------------------------------------------------------------*/\n    static defaultClefLoc(ct) {\n        switch (Clef.ClefLetters[ct]) {\n            case \"C\":\n                {\n                    return 1;\n                }\n            case \"F\":\n                {\n                    return 7;\n                }\n            case \"G\":\n                {\n                    return 3;\n                }\n            case \"B\":\n                {\n                    return 7;\n                }\n        }\n        return 1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int strToCleftype(String s)\nPurpose: Translate string to clef type number\nParameters:\n  Input:  String s - string to translate\n  Output: -\n  Return: clef type\n------------------------------------------------------------------------*/\n    static strToCleftype(s) {\n        for (let i = 0; i < Clef.ClefNames.length; i++)\n            if ((s == Clef.ClefNames[i]))\n                return i;\n        return Clef.CLEF_NONE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int lineNumToLinespaceNum(int lnum)\nPurpose: Translate staff line number (1-5) to line-space number\nParameters:\n  Input:  int lnum - staff line number\n  Output: -\n  Return: line-space number\n------------------------------------------------------------------------*/\n    static lineNumToLinespaceNum(lnum) {\n        return ((((lnum * 2) | 0) - 1) | 0);\n    }\n    static linespaceNumToLineNum(lsnum) {\n        return ((((lsnum / 2) | 0) + 1) | 0);\n    }\n    static new0(ct, ln, p, mc, sc, dc) {\n        let _new0 = new Clef;\n        Clef.set0(_new0, ct, ln, p, mc, sc, dc);\n        return _new0;\n    }\n    static set0(new0, ct, ln, p, mc, sc, dc) {\n        new0.setattributes(ct, ln, p, mc, sc, dc);\n    }\n    static new1(c) {\n        let _new1 = new Clef;\n        Clef.set1(_new1, c);\n        return _new1;\n    }\n    static set1(new1, c) {\n        new1.cleftype = c.cleftype;\n        new1.linespacenum = c.linespacenum;\n        new1.line1placenum = c.line1placenum;\n        new1.pitch = _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new3(c.pitch);\n        new1.modernclef = c.modernclef;\n        new1.origModClef = c.origModClef;\n        new1._ismodernclef = c._ismodernclef;\n        new1._signature = c._signature;\n        new1._drawInSig = true;\n    }\n    /*------------------------------------------------------------------------\nMethod : void setattributes(int ct,int ln,Pitch p,boolean mc,boolean sc,Clef dc)\nPurpose: Initialize (or re-initialize) clef information\nParameters:\n  Input:  int ct     - clef type (e.g., CLEF_Bmol)\n          int ln     - staff location of visible clef\n          Pitch p    - pitch represented by clef\n          boolean mc - is this a modern clef?\n          boolean sc - is this a signature clef?\n          Clef dc    - principal clef for display information\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setattributes(ct, ln, p, mc, sc, dc) {\n        this.cleftype = ct;\n        this.linespacenum = ln;\n        this.pitch = _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new4(p, dc);\n        this._signature = sc;\n        this._drawInSig = true;\n        let moderndc = dc == null ? null : dc.modernclef;\n        if (this.isflat() || this.issharp())\n            this.linespacenum = ((this.pitch.staffspacenum + 1) | 0);\n        this.line1placenum = ((this.pitch.placenum - (((this.linespacenum - 1) | 0))) | 0);\n        this._ismodernclef = mc;\n        this.modernclef = (this.origModClef = this);\n        if (!this._ismodernclef) {\n            switch (this.cleftype) {\n                case Clef.CLEF_C:\n                    {\n                    }\n                case Clef.CLEF_CFull:\n                    {\n                        if (this.linespacenum <= 3)\n                            this.modernclef = Clef.DefaultModernClefs[Clef.CLEF_MODERNG];\n                        else if (this.linespacenum > 7)\n                            this.modernclef = Clef.DefaultModernClefs[Clef.CLEF_MODERNF];\n                        else\n                            this.modernclef = Clef.DefaultModernClefs[Clef.CLEF_MODERNG8];\n                        break;\n                    }\n                case Clef.CLEF_F:\n                    {\n                    }\n                case Clef.CLEF_FFull:\n                    {\n                    }\n                case Clef.CLEF_Frnd:\n                    {\n                    }\n                case Clef.CLEF_Fsqr:\n                    {\n                    }\n                case Clef.CLEF_Gamma:\n                    {\n                        this.modernclef = Clef.DefaultModernClefs[Clef.CLEF_MODERNF];\n                        break;\n                    }\n                case Clef.CLEF_G:\n                    {\n                        this.modernclef = Clef.DefaultModernClefs[Clef.CLEF_MODERNG];\n                        break;\n                    }\n                case Clef.CLEF_Bmol:\n                    {\n                    }\n                case Clef.CLEF_BmolDouble:\n                    {\n                        if (this._signature && this.pitch.noteletter == \"B\") {\n                            if (this.pitch.octave == 4)\n                                this.modernclef = Clef.new0(Clef.CLEF_MODERNFlat, 5, _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 4), true, this._signature, moderndc);\n                            else if (this.pitch.octave == 3)\n                                this.modernclef = Clef.new0(Clef.CLEF_MODERNFlat, 5, _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), true, this._signature, moderndc);\n                            else if (this.pitch.octave == 2)\n                                this.modernclef = Clef.new0(Clef.CLEF_MODERNFlat, 3, _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 2), true, this._signature, moderndc);\n                        }\n                        else\n                            this.modernclef = Clef.new0(Clef.CLEF_MODERNFlat, 0, this.pitch, true, this._signature, moderndc);\n                        break;\n                    }\n                case Clef.CLEF_Bqua:\n                    {\n                    }\n                case Clef.CLEF_Diesis:\n                    {\n                    }\n                case Clef.CLEF_Fis:\n                    {\n                        this.modernclef = Clef.new0(this.pitch.noteletter == \"B\" || this.pitch.noteletter == \"E\" ? Clef.CLEF_MODERNNatural : Clef.CLEF_MODERNSharp, ln, p, true, this._signature, moderndc);\n                        break;\n                    }\n            }\n        }\n        this.origModClef = Clef.new1(this.modernclef);\n    }\n    /*------------------------------------------------------------------------\nMethod:  char getclefletter()\nPurpose: Return letter name for this clef type\nParameters:\n  Input:  -\n  Output: -\n  Return: letter of clef type\n------------------------------------------------------------------------*/\n    getclefletter() {\n        return Clef.ClefLetters[this.cleftype];\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcypos(Pitch p)\nPurpose: Calculates staff position on which to display a pitched event,\n         using this as display clef\nParameters:\n  Input:  Pitch p - pitch of event\n  Output: -\n  Return: y line/space position for displaying event\n------------------------------------------------------------------------*/\n    calcypos(p) {\n        return ((p.placenum - this.line1placenum) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getypos(Clef displayclef)\nPurpose: Calculates staff position on which to display this clef\nParameters:\n  Input:  Clef displayclef - currently valid principal clef\n  Output: -\n  Return: y line/space position for displaying this clef\n------------------------------------------------------------------------*/\n    getypos(displayclef) {\n        if (displayclef == null || Clef.ClefLetters[this.cleftype] != \"B\")\n            return ((this.linespacenum - 1) | 0);\n        else\n            return displayclef.calcypos(this.pitch);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean isprincipalclef()\nPurpose: Determine whether this clef is a type of principal clef\nParameters:\n  Input:  -\n  Output: -\n  Return: true if this clef is a principal clef\n------------------------------------------------------------------------*/\n    isprincipalclef() {\n        return !this.isflat() && !this.issharp() && this.cleftype != Clef.CLEF_NONE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean issignatureclef()\nPurpose: Determine whether this clef is a signature clef\nParameters:\n  Input:  -\n  Output: -\n  Return: true if this clef is a signature clef\n------------------------------------------------------------------------*/\n    issignatureclef() {\n        return this._signature;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean isflat()\nPurpose: Determine whether this clef is a type of flat\nParameters:\n  Input:  -\n  Output: -\n  Return: true if this clef is a flat/round b\n------------------------------------------------------------------------*/\n    isflat() {\n        return Clef.isFlatType(this.cleftype);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean issharp()\nPurpose: Determine whether this clef is a type of sharp/natural\nParameters:\n  Input:  -\n  Output: -\n  Return: true if this clef is a sharp/natural\n------------------------------------------------------------------------*/\n    issharp() {\n        return this.cleftype == Clef.CLEF_Bqua || this.cleftype == Clef.CLEF_Diesis || this.cleftype == Clef.CLEF_MODERNNatural || this.cleftype == Clef.CLEF_MODERNSharp;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(Clef other)\nPurpose: Calculate whether this clef equals another one\nParameters:\n  Input:  Clef other - clef against which to compare\n  Output: -\n  Return: Whether clefs are equal\n------------------------------------------------------------------------*/\n    equals(other) {\n        if (this.issharp())\n            return other.issharp() && this.pitch.equals(other.pitch);\n        else if (this.isflat())\n            return other.isflat() && this.pitch.equals(other.pitch);\n        else if (this.cleftype == other.cleftype && this.linespacenum == other.linespacenum && this.pitch.equals(other.pitch))\n            return true;\n        return false;\n    }\n    //ClefLetters[cleftype]==ClefLetters[other.cleftype] &&\n    /*------------------------------------------------------------------------\nMethod:  boolean contradicts(Clef other)\nPurpose: Calculate whether this clef contradicts another one\nParameters:\n  Input:  Clef other - clef against which to compare\n  Output: -\n  Return: Whether clefs conflict\n------------------------------------------------------------------------*/\n    contradicts(other) {\n        return (this.line1placenum != other.line1placenum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getApos()\nPurpose: Determine position of A below middle C on staff with this clef\nParameters:\n  Input:  -\n  Output: -\n  Return: position of 'A' on staff\n------------------------------------------------------------------------*/\n    getApos() {\n        return ((21 - this.line1placenum) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getcleftype() {\n        return this.cleftype;\n    }\n    getloc() {\n        return this.linespacenum;\n    }\n    getStaffLocPitch(staffLoc) {\n        if (this.pitch != null)\n            return _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new3(this.pitch).add(((staffLoc - this.linespacenum) | 0));\n        else\n            return _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new2(staffLoc);\n    }\n    ismodernclef() {\n        return this._ismodernclef;\n    }\n    signature() {\n        return this._signature;\n    }\n    drawInSig() {\n        return this._drawInSig;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    resetModClef() {\n        this.modernclef = Clef.new1(this.origModClef);\n    }\n    setSignature(s) {\n        this._signature = s;\n    }\n    setDrawInSig(d) {\n        this._drawInSig = d;\n    }\n    setFill(filltype) {\n        if (filltype == _Coloration__WEBPACK_IMPORTED_MODULE_2__.Coloration.VOID) {\n            if (this.cleftype == Clef.CLEF_CFull)\n                this.cleftype = Clef.CLEF_C;\n            else if (this.cleftype == Clef.CLEF_FFull)\n                this.cleftype = Clef.CLEF_F;\n        }\n        else if (filltype == _Coloration__WEBPACK_IMPORTED_MODULE_2__.Coloration.FULL) {\n            if (this.cleftype == Clef.CLEF_C)\n                this.cleftype = Clef.CLEF_CFull;\n            else if (this.cleftype == Clef.CLEF_F)\n                this.cleftype = Clef.CLEF_FFull;\n        }\n    }\n    /* only affects main C and F clefs */\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this clef\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    \" + this);\n    }\n    toString() {\n        return \"Clef: \" + Clef.ClefNames[this.cleftype] + this.linespacenum;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nClef.CLEF_C = 0;\nClef.CLEF_F = 1;\nClef.CLEF_G = 2;\nClef.CLEF_MODERNG = 3;\nClef.CLEF_MODERNG8 = 4;\nClef.CLEF_MODERNF = 5;\nClef.CLEF_MODERNC = 6;\nClef.CLEF_Bmol = 7;\nClef.CLEF_Bqua = 8;\nClef.CLEF_Diesis = 9;\nClef.CLEF_BmolDouble = 10;\nClef.CLEF_Fis = 11;\nClef.CLEF_Frnd = 12;\nClef.CLEF_Fsqr = 13;\nClef.CLEF_Gamma = 14;\nClef.CLEF_MODERNFlat = 15;\nClef.CLEF_MODERNNatural = 16;\nClef.CLEF_MODERNSharp = 17;\nClef.CLEF_MODERNDoubleSharp = 18;\nClef.CLEF_MODERNFlatSMALL = 19;\nClef.CLEF_MODERNNaturalSMALL = 20;\nClef.CLEF_MODERNSharpSMALL = 21;\nClef.CLEF_MODERNDoubleSharpSMALL = 22;\nClef.CLEF_CFull = 23;\nClef.CLEF_FFull = 24;\nClef.CLEF_NONE = 25;\nClef.ClefNames = [\"C\", \"F\", \"G\", \"MODERNG\", \"MODERNG8\", \"MODERNF\", \"MODERNC\", \"Bmol\", \"Bqua\", \"Diesis\", \"BmolDouble\", \"Fis\", \"Frnd\", \"Fsqr\", \"Gamma\", \"Flat\", \"Natural\", \"Sharp\", \"DoubleSharp\", \"Flat(Small)\", \"Natural(Small)\", \"Sharp(Small)\", \"DoubleSharp(Small)\", \"C\", \"F\", \"NONE\"];\nClef.ClefLetters = [\"C\", \"F\", \"G\", \"G\", \"G\", \"F\", \"C\", \"B\", \"B\", \"B\", \"B\", \"B\", \"F\", \"F\", \"G\", \"B\", \"B\", \"B\", \"B\", \"B\", \"B2\", \"B\", \"B\", \"C\", \"F\", \"X\"];\nClef.DefaultClefPitches = [_Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"C\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"F\", 2), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"G\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"G\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"G\", 2), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"F\", 2), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"C\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"F\", 2), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"F\", 2), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"G\", 1), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"B\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"C\", 3), _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(\"F\", 2), null];\nClef.DefaultModernClefs = [null, null, null, Clef.new0(Clef.CLEF_MODERNG, 3, Clef.DefaultClefPitches[Clef.CLEF_MODERNG], true, true, null), Clef.new0(Clef.CLEF_MODERNG8, 3, Clef.DefaultClefPitches[Clef.CLEF_MODERNG8], true, true, null), Clef.new0(Clef.CLEF_MODERNF, 7, Clef.DefaultClefPitches[Clef.CLEF_MODERNF], true, true, null)];\n/* non-modern clefs at start of list */\nClef.OFFSET_SMALL_ACC = 4;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Clef.ts?");

/***/ }),

/***/ "./src/DataStruct/ClefEvent.ts":
/*!*************************************!*\
  !*** ./src/DataStruct/ClefEvent.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClefEvent: () => (/* binding */ ClefEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _ClefSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ClefSet */ \"./src/DataStruct/ClefSet.ts\");\n/* harmony import */ var _Clef__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Clef */ \"./src/DataStruct/Clef.ts\");\n\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : ClefEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: ClefEvent\n\n        Purpose         : Clef event type\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 1/99\n\nUpdates:\n4/99:    cleaned up, consolidated with Gfx code\n4/26/99: added b-rotundum and b-quadratum clefs to replace \"signatures\"\n         added automated display modernization\n4/27/99: added multiple simultaneous clef support\n2/25/05: rearranged clef type system (see Clef)\n4/05:    replaced \"multi-clef\" event list with separate class ClefSet (to\n         facilitate more involved clef/signature calculations)\n3/23/06: added support for 'full'-colored clefs\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ClefEvent\nExtends: Event\nPurpose: Data/routines for clef events\n------------------------------------------------------------------------*/\nclass ClefEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new6(n, l, p, le, cie, s) {\n        let _new6 = new ClefEvent;\n        ClefEvent.set6(_new6, n, l, p, le, cie, s);\n        return _new6;\n    }\n    static set6(new6, n, l, p, le, cie, s) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new6);\n        let cleftype = _Clef__WEBPACK_IMPORTED_MODULE_3__.Clef.CLEF_C;\n        let displayClef = null;\n        new6.eventtype = ClefEvent.EVENT_CLEF;\n        cleftype = _Clef__WEBPACK_IMPORTED_MODULE_3__.Clef.strToCleftype(n);\n        if (cie != null)\n            displayClef = cie.getClefSet_1().getprincipalclef();\n        new6.clef = _Clef__WEBPACK_IMPORTED_MODULE_3__.Clef.new0(cleftype, l, p, false, s, displayClef);\n        new6.constructClefSets_1(le, cie);\n    }\n    static new7(c, le, cie) {\n        let _new7 = new ClefEvent;\n        ClefEvent.set7(_new7, c, le, cie);\n        return _new7;\n    }\n    static set7(new7, c, le, cie) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new7);\n        new7.eventtype = ClefEvent.EVENT_CLEF;\n        new7.clef = c;\n        new7.constructClefSets_1(le, cie);\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = ClefEvent.new7(_Clef__WEBPACK_IMPORTED_MODULE_3__.Clef.new1(this.clef), null, null);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherCE = other;\n        return this.clef.equals(otherCE.clef);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void constructClefSets(Event le,Event cie)\nPurpose: Create or modify this event's clef sets\nParameters:\n  Input:  Event le  - previous event\n          Event cie - clef info event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructClefSets_1(le, cie) {\n        this.clef.resetModClef();\n        if (this.hasSignatureClef_1() && le != null && le.hasSignatureClef_1() && le.getClefSet_1() != null) {\n            this.clefset = le.getClefSet_1().addclef(this.clef);\n            this.modernclefset = le.getClefSet_2(true).addclef(this.clef.modernclef);\n        }\n        else {\n            this.clefset = _ClefSet__WEBPACK_IMPORTED_MODULE_2__.ClefSet.new0_1(this.clef);\n            this.modernclefset = _ClefSet__WEBPACK_IMPORTED_MODULE_2__.ClefSet.new0_1(this.clef.modernclef);\n        }\n        if (cie != null && !this.clefset.getprincipalclef().isprincipalclef())\n            this.addToSigClefs(cie);\n        this.clef.setDrawInSig(this.clefset.contains(this.clef));\n        this.clef.modernclef.setDrawInSig(this.modernclefset.contains(this.clef.modernclef));\n    }\n    /* if clef didn't get added to signature set, let's not display it in signature */\n    /*------------------------------------------------------------------------\nMethod:  void removefromclefsets()\nPurpose: Remove this clef from its clef sets (for deleting)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removefromclefsets() {\n        this.clefset.removeclef(this.clef);\n        this.modernclefset.removeclef(this.clef.modernclef);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void selectClefStyle()\nPurpose: Set clef display style based on note type and coloration scheme\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    selectClefStyle() {\n        this.clef.setFill(this.colored ? this.colorscheme.secondaryFill : this.colorscheme.primaryFill);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getPitch_1() {\n        return this.clef.getclefletter() == \"B\" ? this.clef.pitch : null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  ClefSet getClefSet(boolean usemodernclefs)\nPurpose: Returns clef set from this event\nParameters:\n  Input:  boolean usemodernclefs - whether to return modern clefs\n  Output: -\n  Return: clef set data\n------------------------------------------------------------------------*/\n    getClefSet_1() {\n        return this.clefset;\n    }\n    getClefSet_2(useModernAccSystem) {\n        return useModernAccSystem ? this.modernclefset : this.clefset;\n    }\n    hasAccidentalClef_1() {\n        return this.clef.issharp() || this.clef.isflat();\n    }\n    hasPrincipalClef_1() {\n        return this.clef.isprincipalclef();\n    }\n    hasSignatureClef_1() {\n        return this.clef.issignatureclef() || this.clef.isprincipalclef();\n    }\n    drawInSig(useModernClefs, useModernAccSystem) {\n        return this.getClef_1(useModernClefs, useModernAccSystem).drawInSig();\n    }\n    /*------------------------------------------------------------------------\nMethod:  Clef getClef(boolean useModernClefs,boolean useModernAccSystem)\nPurpose: Returns clef data from this event\nParameters:\n  Input:  boolean useModernClefs     - whether to return modern clefs\n          boolean useModernAccSystem - whether to follow modern accidental rules\n  Output: -\n  Return: clef data\n------------------------------------------------------------------------*/\n    getClef_1(useModernClefs, useModernAccSystem) {\n        if (!this.clef.isprincipalclef())\n            return useModernAccSystem ? this.clef.modernclef : this.clef;\n        return useModernClefs ? this.clef.modernclef : this.clef;\n    }\n    getClef_2() {\n        return this.getClef_1(false, false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getnumclefsinset(boolean usemodernclefs)\nPurpose: Returns number of clefs in multi-clef set\nParameters:\n  Input:  boolean usemodernclefs - whether to use modern clef set\n  Output: -\n  Return: number of clefs\n------------------------------------------------------------------------*/\n    getnumclefsinset(usemodernclefs) {\n        return usemodernclefs ? this.modernclefset.size() : this.clefset.size();\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean contradicts(ClefEvent other,boolean usemodernclefs)\nPurpose: Calculate whether this clef contradicts another one\nParameters:\n  Input:  ClefEvent other        - event for comparison clef\n          boolean usemodernclefs - whether to check modern clefs\n  Output: -\n  Return: Whether clefs conflict\n------------------------------------------------------------------------*/\n    /*\n  public boolean contradicts(ClefEvent other,boolean usemodernclefs)\n  {\n    return usemodernclefs ? modernclefset.contradicts(other.modernclefset) :\n                            clefset.contradicts(other.clefset);\n  }*/\n    /*------------------------------------------------------------------------\nMethod:  boolean containsClef(Clef c,boolean usemodernclefs)\nPurpose: Calculate whether this multiple clef contains another\nParameters:\n  Input:  Clef c                 - clef to check for inclusion\n          boolean usemodernclefs - whether to check modern clefs\n  Output: -\n  Return: Whether c is contained in this\n------------------------------------------------------------------------*/\n    containsClef(c, usemodernclefs) {\n        return usemodernclefs ? this.modernclefset.containsClef(c) : this.clefset.containsClef(c);\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setClefSet_1(cs, usemodernclefs) {\n        if (!usemodernclefs)\n            this.clefset = cs;\n        else\n            this.modernclefset = cs;\n    }\n    setSignature(s) {\n        this.clef.setSignature(s);\n    }\n    /* overrides Event methods */\n    setColored_1(c) {\n        super.setColored_1(c);\n        this.selectClefStyle();\n    }\n    setcolorparams_1(c) {\n        this.colorscheme = c;\n        this.selectClefStyle();\n    }\n    modifyPitch_1(offset) {\n        this.getPitch_1().add(offset);\n        this.clef.linespacenum += offset;\n        this.clef.setDrawInSig(true);\n        this.clef.modernclef.setDrawInSig(true);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(this.toString());\n    }\n    toString() {\n        return this.clef.toString();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ClefEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/ClefSet.ts":
/*!***********************************!*\
  !*** ./src/DataStruct/ClefSet.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClefSet: () => (/* binding */ ClefSet)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _ModernKeySignature__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _Clef__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\n\nclass ClefSet extends _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__.ArrayList {\n    static new0_1(c) {\n        let _new0 = new ClefSet;\n        ClefSet.set0_1(_new0, c);\n        return _new0;\n    }\n    static set0_1(new0, c) {\n        new0.keySig = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_2__.ModernKeySignature.new0();\n        new0.add(c);\n        new0.keySig.addClef(c);\n    }\n    static new1_1(cs) {\n        let _new1 = new ClefSet;\n        ClefSet.set1_1(_new1, cs);\n        return _new1;\n    }\n    static set1_1(new1, cs) {\n        for (let c of cs)\n            new1.add(c);\n        new1.keySig = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_2__.ModernKeySignature.new1(cs.keySig);\n    }\n    /*------------------------------------------------------------------------\nMethod:  ClefSet addclef(Clef c)\nPurpose: Add clef to group\nParameters:\n  Input:  Clef c - clef to add\n  Output: -\n  Return: this object after modification\n------------------------------------------------------------------------*/\n    addclef(c) {\n        if (c._ismodernclef) {\n            this.choosemodernclef(c);\n            if (this.containsClef(c) && this.indexOf(c) == -1)\n                c.cleftype = _Clef__WEBPACK_IMPORTED_MODULE_3__.Clef.CLEF_NONE;\n        }\n        if (c.cleftype != _Clef__WEBPACK_IMPORTED_MODULE_3__.Clef.CLEF_NONE && !this.containsClef(c)) {\n            if (c.isprincipalclef())\n                this.add(0, c);\n            else\n                this.add(c);\n            this.keySig.addClef(c);\n        }\n        return this;\n    }\n    /* avoid duplicated accidentals in modern clef sets */\n    /* set clef type to NONE if it\n                                                       duplicates another one in the set,\n                                                       but not if this actual clef object\n                                                       is already in the set */\n    /*------------------------------------------------------------------------\nMethod:  void removeclef(Clef c)\nPurpose: Remove clef from group\nParameters:\n  Input:  Clef c - clef to remove\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeclef(c) {\n        let i = 0;\n        let done = i >= this.size();\n        while (!done) {\n            let ic = this.get(i);\n            if (ic.equals(c)) {\n                this.remove(i);\n                this.keySig.removeClef(c);\n                done = true;\n            }\n            else\n                done = i >= this.size();\n            i++;\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void choosemodernclef(Clef c)\nPurpose: Set modern clef parameters for a new clef within this set\nParameters:\n  Input:  -\n  Output: Clef c - clef to modify\n  Return: -\n------------------------------------------------------------------------*/\n    choosemodernclef(c) {\n        if (c.getclefletter() != \"B\" || !c._signature)\n            return;\n        let pp = this.getprincipalclef().pitch;\n        let newpitch = c.pitch;\n        switch (pp.noteletter) {\n            case \"G\":\n                {\n                    newpitch = _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(c.pitch.noteletter, ((pp.octave + 1) | 0));\n                    break;\n                }\n            case \"F\":\n                {\n                }\n            case \"C\":\n                {\n                    newpitch = _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new1(c.pitch.noteletter, pp.octave);\n                    break;\n                }\n        }\n        c.pitch = newpitch;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void recalcModKeySig()\nPurpose: Recalculate modern key signature data (after clef set has changed)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcModKeySig() {\n        this.keySig = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_2__.ModernKeySignature.new0();\n        for (let c of this)\n            this.keySig.addClef(c);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Clef getprincipalclef()\nPurpose: Return the principal clef in this set\nParameters:\n  Input:  -\n  Output: -\n  Return: principal clef\n------------------------------------------------------------------------*/\n    getprincipalclef() {\n        return (this.get(0));\n    }\n    hasPrincipalClef() {\n        for (let c of this)\n            if (c.isprincipalclef())\n                return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int numflats()\nPurpose: Return number of flat clefs (round bs) in set\nParameters:\n  Input:  -\n  Output: -\n  Return: number of flats\n------------------------------------------------------------------------*/\n    numflats() {\n        let nf = 0;\n        for (let c of this)\n            if (c.isflat())\n                nf++;\n        return nf;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean contradicts(ClefSet other,boolean umc,Clef smc)\nPurpose: Calculate whether this clef set contradicts another one\nParameters:\n  Input:  ClefSet other - clef set for comparison\n          boolean umc   - use modern clefs?\n          Clef smc      - editorially suggested modern clef for this voice\n  Output: -\n  Return: Whether clefs conflict\n------------------------------------------------------------------------*/\n    contradicts_1(other) {\n        return this.contradicts_2(other, false, null);\n    }\n    contradicts_2(other, umc, smc) {\n        if (other == null)\n            return true;\n        if (umc)\n            return !this.getKeySig().equals(other.getKeySig());\n        let ci1 = this.iterator();\n        let ci2 = other.iterator();\n        while (ci1.hasNext())\n            if (!ci2.hasNext())\n                return true;\n            else {\n                let c1c = (ci1.next());\n                let c2c = (ci2.next());\n                if (umc && c1c.isprincipalclef() && c2c.isprincipalclef())\n                    if (smc != null)\n                        c1c = (c2c = smc);\n                    else {\n                        c1c = c1c.modernclef;\n                        c2c = c2c.modernclef;\n                    }\n                if (!c1c.equals(c2c))\n                    return true;\n            }\n        return ci2.hasNext();\n    }\n    sigContradicts(other) {\n        if (other == null)\n            return true;\n        let ci1 = this.iterator();\n        let ci2 = other.iterator();\n        let c1c = null;\n        let c2c = null;\n        while (ci1.hasNext()) {\n            c1c = (ci1.next());\n            if (!c1c.isprincipalclef())\n                break;\n        }\n        while (ci2.hasNext()) {\n            c2c = (ci2.next());\n            if (!c2c.isprincipalclef())\n                break;\n        }\n        while (c1c != null)\n            if (c2c == null)\n                return true;\n            else {\n                if (!c1c.equals(c2c))\n                    return true;\n                c1c = ci1.hasNext() ? (ci1.next()) : null;\n                c2c = ci2.hasNext() ? (ci2.next()) : null;\n            }\n        return c2c != null;\n    }\n    /* iterate past principal clefs */\n    /*------------------------------------------------------------------------\nMethod:  boolean containsClef(Clef c)\nPurpose: Calculate whether this clef set contains a clef\nParameters:\n  Input:  Clef c - clef to check for inclusion\n  Output: -\n  Return: Whether c is contained in this\n------------------------------------------------------------------------*/\n    containsClef(c) {\n        for (let curc of this)\n            if (curc.equals(c))\n                return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Iterator acciterator()\nPurpose: Creates iterator over less principal clefs (accidentals) in set\nParameters:\n  Input:  -\n  Output: -\n  Return: iterator\n------------------------------------------------------------------------*/\n    acciterator() {\n        return this.listIterator(1);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getKeySig() {\n        return this.keySig;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this clef set\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"   Clefset:\");\n        for (let c of this)\n            c.prettyprint();\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"   End ClefSet\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ClefSet.ts?");

/***/ }),

/***/ "./src/DataStruct/ColorChangeEvent.ts":
/*!********************************************!*\
  !*** ./src/DataStruct/ColorChangeEvent.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorChangeEvent: () => (/* binding */ ColorChangeEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : ColorChangeEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: ColorChangeEvent\n\n        Purpose         : Event type for coloration changes\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/13/05\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ColorChangeEvent\nExtends: Event\nPurpose: Data/routines for coloration-change events\n------------------------------------------------------------------------*/\nclass ColorChangeEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new8(nc) {\n        let _new8 = new ColorChangeEvent;\n        ColorChangeEvent.set8(_new8, nc);\n        return _new8;\n    }\n    static set8(new8, nc) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new8);\n        new8.eventtype = ColorChangeEvent.EVENT_COLORCHANGE;\n        new8.newcolor = nc;\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = ColorChangeEvent.new8(_Coloration__WEBPACK_IMPORTED_MODULE_2__.Coloration.new2(this.newcolor));\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherCCE = other;\n        return this.newcolor.equals(otherCCE.newcolor);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getcolorscheme() {\n        return this.newcolor;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setcolorscheme(nc) {\n        this.newcolor = nc;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"    Color change: \");\n        this.newcolor.prettyprint();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ColorChangeEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/Coloration.ts":
/*!**************************************!*\
  !*** ./src/DataStruct/Coloration.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Coloration: () => (/* binding */ Coloration)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : Coloration.java\n\n        Package         : DataStruct\n\n        Classes Included: Coloration\n\n        Purpose         : Low-level coloration scheme handling\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/14/05\n\nUpdates\t:\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*----------------------------------------------------------------------*/\n/* Imported packages */\n/*------------------------------------------------------------------------\nClass:   Coloration\nExtends: -\nPurpose: Low-level coloration scheme handling\n------------------------------------------------------------------------*/\n\nclass Coloration {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  int strtoColor(String c)\nPurpose: Convert string to color number\nParameters:\n  Input:  String c - string to convert\n  Output: -\n  Return: color number\n------------------------------------------------------------------------*/\n    static strtoColor(c) {\n        if (c == null)\n            return Coloration.NONE;\n        for (let i = 0; i < Coloration.ColorNames.length; i++)\n            if ((c == Coloration.ColorNames[i]))\n                return i;\n        return Coloration.NONE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int strtoColorFill(String cf)\nPurpose: Convert string to color fill type number\nParameters:\n  Input:  String cf - string to convert\n  Output: -\n  Return: color fill type number\n------------------------------------------------------------------------*/\n    static strtoColorFill(cf) {\n        if (cf == null)\n            return Coloration.NONE;\n        for (let i = 0; i < Coloration.ColorFillNames.length; i++)\n            if ((cf == Coloration.ColorFillNames[i]))\n                return i;\n        return Coloration.NONE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int complementaryFill(int f)\nPurpose: Calculate complementary fill type (VOID vs FULL)\nParameters:\n  Input:  int f - fill type to complement\n  Output: -\n  Return: complementary color fill type number\n------------------------------------------------------------------------*/\n    static complementaryFill(f) {\n        if (f == Coloration.NONE)\n            return Coloration.NONE;\n        return f == Coloration.VOID ? Coloration.FULL : Coloration.VOID;\n    }\n    static new0(pc, pf, sc, sf) {\n        let _new0 = new Coloration;\n        Coloration.set0(_new0, pc, pf, sc, sf);\n        return _new0;\n    }\n    static set0(new0, pc, pf, sc, sf) {\n        new0.primaryColor = pc;\n        new0.primaryFill = pf;\n        new0.secondaryColor = sc;\n        new0.secondaryFill = sf;\n    }\n    static new1(oldc, newc) {\n        let _new1 = new Coloration;\n        Coloration.set1(_new1, oldc, newc);\n        return _new1;\n    }\n    static set1(new1, oldc, newc) {\n        new1.primaryColor = newc.primaryColor == Coloration.NONE ? oldc.primaryColor : newc.primaryColor;\n        new1.primaryFill = newc.primaryFill == Coloration.NONE ? oldc.primaryFill : newc.primaryFill;\n        new1.secondaryColor = newc.secondaryColor == Coloration.NONE ? oldc.secondaryColor : newc.secondaryColor;\n        new1.secondaryFill = newc.secondaryFill == Coloration.NONE ? oldc.secondaryFill : newc.secondaryFill;\n    }\n    static new2(c) {\n        let _new2 = new Coloration;\n        Coloration.set2(_new2, c);\n        return _new2;\n    }\n    static set2(new2, c) {\n        new2.primaryColor = c.primaryColor;\n        new2.primaryFill = c.primaryFill;\n        new2.secondaryColor = c.secondaryColor;\n        new2.secondaryFill = c.secondaryFill;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(Coloration c)\nPurpose: Compare for equality against another color scheme\nParameters:\n  Input:  Coloration c - color scheme to compare\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    equals(c) {\n        return c != null && this.primaryColor == c.primaryColor && this.primaryFill == c.primaryFill && this.secondaryColor == c.secondaryColor && this.secondaryFill == c.secondaryFill;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Coloration differencebetween(Coloration other)\nPurpose: Creates a color scheme representing the difference between this\n         and another\nParameters:\n  Input:  Coloration other - other color scheme\n  Output: -\n  Return: new Coloration representing difference\n------------------------------------------------------------------------*/\n    differencebetween(other) {\n        let pc = Coloration.NONE;\n        let pf = Coloration.NONE;\n        let sc = Coloration.NONE;\n        let sf = Coloration.NONE;\n        if (this.primaryColor != other.primaryColor)\n            pc = this.primaryColor;\n        if (this.primaryFill != other.primaryFill)\n            pf = this.primaryFill;\n        if (this.secondaryColor != other.secondaryColor)\n            sc = this.secondaryColor;\n        if (this.secondaryFill != other.secondaryFill)\n            sf = this.secondaryFill;\n        return Coloration.new0(pc, pf, sc, sf);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this structure\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"[\");\n        if (this.primaryColor != Coloration.NONE)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(Coloration.ColorNames[this.primaryColor]);\n        if (this.primaryFill != Coloration.NONE)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(Coloration.ColorFillNames[this.primaryFill]);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\" / \");\n        if (this.secondaryColor != Coloration.NONE)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(Coloration.ColorNames[this.secondaryColor]);\n        if (this.secondaryFill != Coloration.NONE)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(Coloration.ColorFillNames[this.secondaryFill]);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"]\");\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nColoration.BLACK = 0;\nColoration.RED = 1;\nColoration.BLUE = 2;\nColoration.GREEN = 3;\nColoration.YELLOW = 4;\nColoration.CYAN = 5;\nColoration.WHITE = 6;\nColoration.GRAY = 7;\nColoration.NONE = -1;\nColoration.VOID = 0;\nColoration.FULL = 1;\nColoration.HALF_FULLVOID = 2;\nColoration.HALF_VOIDFULL = 3;\n/* coloration effects */\nColoration.IMPERFECTIO = 0;\nColoration.SESQUIALTERA = 1;\nColoration.MINOR_COLOR = 2;\nColoration.ColorNames = [\"Black\", \"Red\", \"Blue\", \"Green\", \"Yellow\"];\nColoration.ColorFillNames = [\"Void\", \"Full\"];\nColoration.AWTColors = [_java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.black, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.red, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.blue, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.green, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.yellow, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.cyan, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.white, _java_awt_Color__WEBPACK_IMPORTED_MODULE_1__.Color.gray];\nColoration.DEFAULT_COLORATION = Coloration.new0(Coloration.BLACK, Coloration.VOID, Coloration.BLACK, Coloration.FULL);\nColoration.DEFAULT_CHANT_COLORATION = Coloration.new0(Coloration.BLACK, Coloration.FULL, Coloration.BLACK, Coloration.VOID);\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Coloration.ts?");

/***/ }),

/***/ "./src/DataStruct/CustosEvent.ts":
/*!***************************************!*\
  !*** ./src/DataStruct/CustosEvent.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CustosEvent: () => (/* binding */ CustosEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : CustosEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: CustosEvent\n\n        Purpose         : Custos event type\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 4/25/99\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   CustosEvent\nExtends: Event\nPurpose: Data/routines for custos events\n------------------------------------------------------------------------*/\nclass CustosEvent extends _Event__WEBPACK_IMPORTED_MODULE_2__.Event {\n    static new9(p) {\n        let _new9 = new CustosEvent;\n        CustosEvent.set9(_new9, p);\n        return _new9;\n    }\n    static set9(new9, p) {\n        _Event__WEBPACK_IMPORTED_MODULE_2__.Event.set0(new9);\n        new9.eventtype = CustosEvent.EVENT_CUSTOS;\n        new9.pitch = p;\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = CustosEvent.new9(_Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new3(this.pitch));\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherCE = other;\n        return this.pitch.equals(otherCE.pitch);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Pitch getPitch()\nPurpose: Returns pitch of custos\nParameters:\n  Input:  -\n  Output: -\n  Return: pitch structure\n------------------------------------------------------------------------*/\n    getPitch_1() {\n        return this.pitch;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Custos: \" + this.pitch.toString());\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/CustosEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/DotEvent.ts":
/*!************************************!*\
  !*** ./src/DataStruct/DotEvent.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DotEvent: () => (/* binding */ DotEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : DotEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: DotEvent\n\n        Purpose         : Dot event type\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 1/99\n\n        Updates:\n4/99:    cleaned up, consolidated with Gfx code\n4/24/99: added spacenum parameter\n5/6/05:  began adding type information\n2/9/08:  added note parameter\n7/7/08:  changed staff location to Pitch basis\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   DotEvent\nExtends: Event\nPurpose: Data/routines for dot events\n------------------------------------------------------------------------*/\nclass DotEvent extends _Event__WEBPACK_IMPORTED_MODULE_2__.Event {\n    static new10(dt, p, ne) {\n        let _new10 = new DotEvent;\n        DotEvent.set10(_new10, dt, p, ne);\n        return _new10;\n    }\n    static set10(new10, dt, p, ne) {\n        _Event__WEBPACK_IMPORTED_MODULE_2__.Event.set0(new10);\n        new10.eventtype = DotEvent.EVENT_DOT;\n        new10.staffLoc = p;\n        new10.dottype = dt;\n        new10.note = ne;\n    }\n    static new11(p, ne) {\n        let _new11 = new DotEvent;\n        DotEvent.set11(_new11, p, ne);\n        return _new11;\n    }\n    static set11(new11, p, ne) {\n        DotEvent.set10(new11, DotEvent.DT_Addition, p, ne);\n    }\n    static new12(p) {\n        let _new12 = new DotEvent;\n        DotEvent.set12(_new12, p);\n        return _new12;\n    }\n    static set12(new12, p) {\n        DotEvent.set10(new12, DotEvent.DT_Addition, p, null);\n    }\n    /*  public DotEvent(int dt,int i)\n  {\n    this(dt,i,null);\n  }\n\n  public DotEvent(int dt,int i,NoteEvent ne)\n  {\n    this.eventtype=EVENT_DOT;\n    this.spacenum=i;\n    this.dottype=dt;\n    this.note=ne;\n  }\n\n  public DotEvent(int i,NoteEvent ne)\n  {\n    this(DT_Addition,i,ne);\n  }\n\n  public DotEvent(int i)\n  {\n    this(i,null);\n  }*/\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = DotEvent.new10(this.dottype, _Pitch__WEBPACK_IMPORTED_MODULE_1__.Pitch.new3(this.staffLoc), null);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherDE = other;\n        return this.dottype == otherDE.dottype && this.staffLoc.equals(otherDE.staffLoc);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getdottype() {\n        return this.dottype;\n    }\n    getNote() {\n        return this.note;\n    }\n    getPitch_1() {\n        return this.staffLoc;\n    }\n    calcYPos(c) {\n        return this.staffLoc.calcypos(c);\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setNote(n) {\n        this.note = n;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Dot: \" + this.staffLoc);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* dot type flags */\nDotEvent.DT_Addition = 1;\n/* 001 */\nDotEvent.DT_Division = 2;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/DotEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/Event.ts":
/*!*********************************!*\
  !*** ./src/DataStruct/Event.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Event: () => (/* binding */ Event)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Signum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Signum */ \"./src/DataStruct/Signum.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _ModernKeySignature__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _Mensuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _ClefSet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ClefSet */ \"./src/DataStruct/ClefSet.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\n\n\nclass Event {\n    constructor() {\n        /* to integrate MultiEvents */\n        this.musictime = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.new0(0, 1);\n        this.verticallyAligned = false;\n        /* for multiple events at the same x-loc */\n        this.colored = false;\n        this.editorial = false;\n        this.error = false;\n        this.displayEditorial = false;\n        this.corona = null;\n        this.signum = null;\n        this.edCommentary = null;\n        this.colorscheme = _Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.DEFAULT_COLORATION;\n        this.modernKeySig = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignature.DEFAULT_SIG;\n        this.rhythmicProportion = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.EQUALITY;\n        /* place in event list without variants */\n        this.variantReading = null;\n    }\n    static new0() {\n        let _new0 = new Event;\n        Event.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.eventtype = Event.EVENT_BASE;\n        new0.eventList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_7__.LinkedList();\n        new0.eventList.add(new0);\n    }\n    static new1(etype) {\n        let _new1 = new Event;\n        Event.set1(_new1, etype);\n        return _new1;\n    }\n    static set1(new1, etype) {\n        Event.set0(new1);\n        new1.eventtype = etype;\n        if (new1.eventtype == Event.EVENT_ELLIPSIS)\n            new1.musictime.i1 = 1;\n    }\n    /* treat as timed event */\n    /*------------------------------------------------------------------------\nMethod:  Event createCopy()\nPurpose: Create copy of current event (to be overridden)\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        return Event.new1(this.eventtype);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void copyEventAttributes(Event other)\nPurpose: Copy attributes from another event\nParameters:\n  Input:  Event other - event with attributes to copy\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    copyEventAttributes_1(other) {\n        this.musictime = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.copyProportion(other.musictime);\n        this.verticallyAligned = other.verticallyAligned;\n        this.colored = other.colored;\n        this.editorial = other.editorial;\n        this.error = other.error;\n        this.corona = other.corona == null ? null : _Signum__WEBPACK_IMPORTED_MODULE_1__.Signum.new2(other.corona);\n        this.signum = other.signum == null ? null : _Signum__WEBPACK_IMPORTED_MODULE_1__.Signum.new2(other.signum);\n        this.edCommentary = other.edCommentary == null ? null : other.edCommentary;\n        this.colorscheme = _Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.new2(other.colorscheme);\n        this.modernKeySig = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignature.new1(other.modernKeySig);\n        this.clefinfoevent = other.clefinfoevent;\n        this.mensinfoevent = other.mensinfoevent;\n    }\n    /*------------------------------------------------------------------------\nMethod:  LinkedList<Event> makeModernNoteShapes()\nPurpose: Make event (copy) in modern notation (to be overridden)\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this with modern note shape, expanded into multiple\n          events if necessary\n------------------------------------------------------------------------*/\n    makeModernNoteShapes_1(timePos, measurePos, measureMinims, measureProp, timeProp, useTies) {\n        let el = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_7__.LinkedList();\n        el.add(this);\n        return el;\n    }\n    isMinorColor_1() {\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        return this.eventtype == other.eventtype && this.musictime.equals(other.musictime) && this.verticallyAligned == other.verticallyAligned && this.colored == other.colored && this.editorial == other.editorial && this.error == other.error && this.coronaEquals(other) && this.signumEquals(other) && this.edCommentaryEquals(other);\n    }\n    coronaEquals(other) {\n        if (this.corona == null)\n            return other.corona == null;\n        return this.corona.equals(other.corona);\n    }\n    signumEquals(other) {\n        if (this.signum == null)\n            return other.signum == null;\n        return this.signum.equals(other.signum);\n    }\n    edCommentaryEquals(other) {\n        if (this.edCommentary == null)\n            return other.edCommentary == null;\n        return (this.edCommentary == other.edCommentary);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    geteventtype() {\n        return this.eventtype;\n    }\n    getTypeName() {\n        return Event.EventNames[this.eventtype];\n    }\n    getmusictime() {\n        return this.musictime;\n    }\n    isColored() {\n        return this.colored;\n    }\n    getEdCommentary() {\n        return this.edCommentary;\n    }\n    getcolor_1() {\n        return this.colorscheme.primaryColor;\n    }\n    getcolorfill_1() {\n        return this.colorscheme.primaryFill;\n    }\n    getcoloration() {\n        return this.colorscheme;\n    }\n    getCorona() {\n        return this.corona;\n    }\n    getSignum() {\n        return this.signum;\n    }\n    isEditorial() {\n        return this.editorial;\n    }\n    displayAsEditorial() {\n        return this.displayEditorial;\n    }\n    isError() {\n        return this.error;\n    }\n    alignedWithPrevious() {\n        return this.verticallyAligned;\n    }\n    /* to be overridden */\n    getPitch_1() {\n        return null;\n    }\n    getLength_1() {\n        return null;\n    }\n    getnotetype_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: trying to get notetype of a non-note event\");\n        return -1;\n    }\n    isflagged_1() {\n        return false;\n    }\n    getClefInfoEvent() {\n        return this.clefinfoevent;\n    }\n    getClefSet_1() {\n        return null;\n    }\n    getClefSet_2(usemodernclefs) {\n        return null;\n    }\n    getPrincipalClef(usemodernclefs) {\n        let cs = this.getClefSet_2(usemodernclefs);\n        if (cs == null)\n            return null;\n        return cs.getprincipalclef();\n    }\n    getProportion() {\n        return this.rhythmicProportion;\n    }\n    calcTotalProportion() {\n        if (this.mensinfoevent == null)\n            return this.rhythmicProportion;\n        else\n            return _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.product(this.rhythmicProportion, this.mensinfoevent.getMensInfo_1().tempoChange);\n    }\n    calcProportionalMusicLength() {\n        let ml = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.quotient(this.getmusictime(), this.calcTotalProportion());\n        return ml != null ? ml : _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.new0(0, 1);\n    }\n    getVariantReading_1(version) {\n        if (this.variantReading == null || !this.variantReading.includesVersion(version))\n            return null;\n        return this.variantReading;\n    }\n    getSubEvents() {\n        return this.eventList;\n    }\n    hasEventType_1(etype) {\n        return this.eventtype == etype;\n    }\n    getFirstEventOfType_1(etype) {\n        if (this.eventtype == etype)\n            return this;\n        else\n            return null;\n    }\n    hasAccidentalClef_1() {\n        return false;\n    }\n    hasPrincipalClef_1() {\n        return false;\n    }\n    hasSignatureClef_1() {\n        return false;\n    }\n    hasVariantColoration(other) {\n        if (this.eventtype != other.eventtype)\n            return false;\n        return this.colored != other.colored;\n    }\n    inVariant_1() {\n        return this.variantReading != null;\n    }\n    getBaseMensInfo() {\n        return (this.mensinfoevent != null) ? this.mensinfoevent.getMensInfo_1() : _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.DEFAULT_MENSURATION;\n    }\n    getMensInfo_1() {\n        return null;\n    }\n    getMensInfoEvent() {\n        return this.mensinfoevent;\n    }\n    getModernKeySig() {\n        return this.modernKeySig;\n    }\n    rhythmicEventType_1() {\n        return this.eventtype;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean notePitchMatches(Event other)\nPurpose: Calculate whether this event's pitch(es) match(es) those of another;\n         only for note events\nParameters:\n  Input:  Event other - event for comparison\n  Output: -\n  Return: Whether pitches are equal\n------------------------------------------------------------------------*/\n    notePitchMatches_1(other) {\n        return false;\n    }\n    /* not a note */\n    hasNotePitch_1(p) {\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean principalClefEquals(Event other,boolean usemodernclefs)\nPurpose: Calculate whether this event's clef set has the same principal clef as\n         another one\nParameters:\n  Input:  Event other            - event for comparison clef\n          boolean usemodernclefs - whether to check modern clefs\n  Output: -\n  Return: Whether principal clefs are equal\n------------------------------------------------------------------------*/\n    principalClefEquals(other, usemodernclefs) {\n        let pc1 = this.getPrincipalClef(usemodernclefs);\n        let pc2 = other.getPrincipalClef(usemodernclefs);\n        if (pc1 == null || pc2 == null)\n            return false;\n        return pc1.equals(pc2);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addToSigClefs(Event sigEvent)\nPurpose: Create a new clef set for this event, adding this event's clefs\n         to the current signature set\nParameters:\n  Input:  Event sigEvent - event with current clef set\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addToSigClefs(sigEvent) {\n        let cs = _ClefSet__WEBPACK_IMPORTED_MODULE_6__.ClefSet.new1_1(sigEvent.getClefSet_1());\n        for (let c of this.getClefSet_1())\n            cs.addclef(c);\n        this.setClefSet_1(cs, false);\n        cs = _ClefSet__WEBPACK_IMPORTED_MODULE_6__.ClefSet.new1_1(sigEvent.getClefSet_2(true));\n        for (let c of this.getClefSet_2(true))\n            cs.addclef(c);\n        this.setClefSet_1(cs, true);\n    }\n    /* original clefs */\n    /* modern clefs */\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setColored_1(c) {\n        this.colored = c;\n    }\n    setEdCommentary(s) {\n        this.edCommentary = s;\n    }\n    setCorona(c) {\n        this.corona = c;\n    }\n    setProportion(p) {\n        this.rhythmicProportion = p;\n    }\n    setSignum(s) {\n        this.signum = s;\n    }\n    setDisplayEditorial(newVal) {\n        this.displayEditorial = newVal;\n    }\n    setEditorial(e) {\n        this.editorial = e;\n    }\n    setError(newVal) {\n        this.error = newVal;\n    }\n    setAlignmentWithPrevious(a) {\n        this.verticallyAligned = a;\n    }\n    modifyPitch_1(offset) {\n        this.getPitch_1().add(offset);\n    }\n    /* to be overridden */\n    setpitch_1(p) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: trying to assign pitch to an unpitched event\");\n    }\n    setnotetype_1(nt, f, m) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: trying to assign notetype to a non-note event\");\n    }\n    setLength_1(l) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: trying to assign length to an untimed event\");\n    }\n    setClefSet_1(cs, usemodernclefs) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: trying to set clef set on an invalid event\");\n    }\n    constructClefSets_1(le, cie) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void set*params\nPurpose: Sets music parameters current at this event (clef, mensuration)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*\nprivate ClefEvent asClefEvent() //CHANGE\n{\n  return this instanceof ClefEvent? (ClefEvent) this : null;\n}*/\n    setclefparams(ce) {\n        this.clefinfoevent = ce;\n        if (ce != null && ce.hasPrincipalClef_1()) {\n            let p = this.getPitch_1();\n            if (p != null) {\n                p.setclef(ce.getClefSet_1().getprincipalclef());\n                if (this.geteventtype() == Event.EVENT_CLEF)\n                    this.getClef_1(false, false).linespacenum = p.staffspacenum + 1;\n            }\n        }\n    }\n    /* assign clef information to pitches */\n    setmensparams_1(me) {\n        this.mensinfoevent = me;\n    }\n    setcolorparams_1(c) {\n        this.colorscheme = c;\n    }\n    setModernKeySigParams(mks) {\n        this.modernKeySig = mks;\n    }\n    setVariantReading(variantReading) {\n        this.variantReading = variantReading;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getListPlace()\nPurpose: Returns the list place of this event\nParameters:\n  Input:  -\n  Output: -\n  Return: list place\n------------------------------------------------------------------------*/\n    getListPlace(defaultPlace) {\n        return defaultPlace ? this.defaultListPlace : this.listplace;\n    }\n    getDefaultListPlace() {\n        return this.defaultListPlace;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setListPlace(int lp)\nPurpose: Sets the list place of this event\nParameters:\n  Input:  int lp - new list place\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setListPlace(lp) {\n        this.listplace = lp;\n    }\n    setDefaultListPlace(defaultListPlace) {\n        this.defaultListPlace = defaultListPlace;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    \" + Event.EventNames[this.eventtype]);\n    }\n}\nEvent.NT_Semibrevis = 4;\nEvent.NT_Brevis = 5;\nEvent.NT_Longa = 6;\nEvent.NT_Maxima = 7;\n/*----------------------------------------------------------------------*/\n/* Class variables */\nEvent.EVENT_BASE = 0;\nEvent.EVENT_CLEF = 1;\nEvent.EVENT_MENS = 2;\nEvent.EVENT_NOTE = 3;\nEvent.EVENT_REST = 4;\nEvent.EVENT_DOT = 5;\nEvent.EVENT_ORIGINALTEXT = 6;\nEvent.EVENT_CUSTOS = 7;\nEvent.EVENT_LINEEND = 8;\nEvent.EVENT_SECTIONEND = 9;\nEvent.EVENT_PROPORTION = 10;\nEvent.EVENT_COLORCHANGE = 11;\nEvent.EVENT_BARLINE = 12;\nEvent.EVENT_ANNOTATIONTEXT = 13;\nEvent.EVENT_LACUNA = 14;\nEvent.EVENT_LACUNA_END = 15;\nEvent.EVENT_MODERNKEYSIGNATURE = 16;\nEvent.EVENT_MULTIEVENT = 17;\nEvent.EVENT_ELLIPSIS = 18;\n/* marker for skipped body in incipit scores */\nEvent.EVENT_VARIANTDATA_START = 19;\nEvent.EVENT_VARIANTDATA_END = 20;\nEvent.EVENT_BLANK = 21;\nEvent.EventNames = [\"Event\", \"Clef\", \"Mensuration\", \"Note\", \"Rest\", \"Dot\", \"OriginalText\", \"Custos\", \"Line End\", \"Section End\", \"Proportion\", \"ColorChange\", \"Barline\", \"Annotation\", \"Lacuna\", \"LacunaEnd\", \"ModernKeySignature\", \"MultiEvent\", \"Ellipsis\", \"VariantDataStart\", \"VariantDataEnd\", \"Blank\"];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Event.ts?");

/***/ }),

/***/ "./src/DataStruct/EventListData.ts":
/*!*****************************************!*\
  !*** ./src/DataStruct/EventListData.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventListData: () => (/* binding */ EventListData)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\nclass EventListData {\n    static new0() {\n        let _new0 = new EventListData;\n        EventListData.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.initParams_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  EventListData createCopy()\nPurpose: Copy list with new copies of events\nParameters:\n  Input:  -\n  Output: -\n  Return: list duplicating this one with copied events\n------------------------------------------------------------------------*/\n    createCopy() {\n        let newELD = EventListData.new0();\n        for (let e of this.events)\n            newELD.addEvent_1(e.createCopy_1());\n        return newELD;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initParams()\nPurpose: Initialize basic parameters\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initParams_1() {\n        this.events = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__.ArrayList();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setVoiceParams(Event e)\nPurpose: Update voice parameter variables after adding a new event\nParameters:\n  Input:  Event e - event just added\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVoiceParams_1(e) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addEvent(Event e)\nPurpose: Add event to this voice's list (at end)\nParameters:\n  Input:  Event e - event to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent_1(e) {\n        this.events.add(e);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addEvent(int i,Event e)\nPurpose: Add event to this voice's list (at specified location)\nParameters:\n  Input:  int i   - index of location for addition\n          Event e - event to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent_2(i, e) {\n        this.events.add(i, e);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event deleteEvent(int i)\nPurpose: Remove event from this voice's list\nParameters:\n  Input:  int i - index of event to delete\n  Output: -\n  Return: deleted Event\n------------------------------------------------------------------------*/\n    deleteEvent_1(i) {\n        let deletedEvent = this.events.get(i);\n        this.events.remove(i);\n        return deletedEvent;\n    }\n    deleteEvent_2(e) {\n        this.events.remove(e);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void truncateEvents(int deletionPoint)\nPurpose: Truncate event list at a given point\nParameters:\n  Input:  int deletionPoint - index of first event to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    truncateEvents_1(deletionPoint) {\n        for (let i = ((this.events.size() - 1) | 0); i >= deletionPoint; i--)\n            this.events.remove(i);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcIndexWithinReading(int i)\nPurpose: Calculate \"sub-index\" for event within a variant reading\nParameters:\n  Input:  int i - index of event\n  Output: -\n  Return: index within variant reading's event list\n------------------------------------------------------------------------*/\n    calcIndexWithinReading(i) {\n        let ri = 0;\n        let ve = null;\n        do {\n            ri++;\n            ve = this.getEvent(--i);\n        } while (ve != null && ve.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_VARIANTDATA_START);\n        return ((ri - 1) | 0);\n    }\n    /* index for event within reading */\n    /*------------------------------------------------------------------------\nMethod:  void recalcEventParams([EventListData lastv,Event paramEvent])\nPurpose: Recalculate event attributes based on parameters (clef, mensuration\n         info, etc)\nParameters:\n  Input:  EventListData lastv - previous section of this voice\n          Event paramEvent    - event containing starting parameters\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcEventParams_1() {\n        this.recalcEventParams_2(null);\n    }\n    recalcEventParams_2(lastv) {\n        if (this.events.size() == 0)\n            return;\n        let paramEvent = lastv == null ? this.getEvent(0) : lastv.getEvent(((lastv.getNumEvents() - 1) | 0));\n        this.recalcEventParams_3(paramEvent, paramEvent.getcoloration());\n    }\n    recalcEventParams_3(paramEvent, curcolor) {\n        if (this.events.size() == 0)\n            return;\n        let lastevent = null;\n        let clefinfoevent = paramEvent.getClefInfoEvent();\n        let mensinfoevent = paramEvent.getMensInfoEvent();\n        let curProportion = paramEvent.getProportion();\n        let curModKeySig = paramEvent.getModernKeySig();\n        let displayEditorial = false;\n        let listPlace = 0;\n        for (let curevent of this.events) {\n            if (curevent.hasSignatureClef_1()) {\n                if (curevent.hasPrincipalClef_1())\n                    lastevent = null;\n                curevent.constructClefSets_1(lastevent, clefinfoevent);\n                clefinfoevent = curevent;\n                curModKeySig = curevent.getClefSet_1().getKeySig();\n            }\n            if (curevent.getMensInfo_1() != null)\n                mensinfoevent = curevent;\n            if (curevent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_COLORCHANGE)\n                curcolor = _Coloration__WEBPACK_IMPORTED_MODULE_2__.Coloration.new1(curcolor, curevent.getcolorscheme());\n            else if (curevent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_MODERNKEYSIGNATURE)\n                curModKeySig = curevent.getSigInfo();\n            else if (curevent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_PROPORTION)\n                curProportion = curevent.getProportion();\n            else if (curevent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_LACUNA)\n                displayEditorial = true;\n            else if (curevent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_LACUNA_END)\n                displayEditorial = false;\n            curevent.setclefparams(clefinfoevent);\n            curevent.setmensparams_1(mensinfoevent);\n            curevent.setcolorparams_1(curcolor);\n            curevent.setModernKeySigParams(curModKeySig);\n            curevent.setProportion(curProportion);\n            curevent.setDisplayEditorial(displayEditorial);\n            lastevent = curevent;\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event getEvent(int i)\nPurpose: Return event from list\nParameters:\n  Input:  int i - index of event to return\n  Output: -\n  Return: event\n------------------------------------------------------------------------*/\n    getEvent(i) {\n        if (i >= 0 && i < this.events.size())\n            return this.events.get(i);\n        else\n            return null;\n    }\n    getEvents() {\n        return this.events;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getNextEventOfType(int evType,int i,int dir)\nPurpose: Return index of next event from list of a given type\nParameters:\n  Input:  int evType - event type to find\n          int i      - index of event to begin search\n          int dir    - direction to search (1=forward,-1=backwards)\n  Output: -\n  Return: event index (-1 if not found)\n------------------------------------------------------------------------*/\n    getNextEventOfType(evType, i, dir) {\n        for (; i >= 0 && i < this.events.size(); i += dir)\n            if (this.getEvent(i).geteventtype() == evType)\n                return i;\n        return -1;\n    }\n    /* is there a text-only variant at the indicated location? return it if so */\n    getOrigTextOnlyVariant(ei) {\n        if (ei >= ((this.events.size() - 2) | 0) || this.getEvent(ei).geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_VARIANTDATA_START || this.getEvent(((ei + 2) | 0)).geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_VARIANTDATA_END)\n            return null;\n        let te = this.getEvent(((ei + 1) | 0));\n        return (te.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_ORIGINALTEXT) ? te : null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  String [orig|mod]TextToStr()\nPurpose: Create string containing all texting (original or modern) in list\nParameters:\n  Input:  -\n  Output: -\n  Return: string with all original text, phrases delimited by markers\n          according to style (@ for original phrases, - and space for\n          modern syllables)\n------------------------------------------------------------------------*/\n    origTextToStr() {\n        let text = \"\";\n        for (let ei = this.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_ORIGINALTEXT, 0, 1); ei != -1; ei = this.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_ORIGINALTEXT, ((ei + 1) | 0), 1))\n            text += this.getEvent(ei).getText() + \"@\";\n        if (text.length > 0)\n            text = text.substring(0, ((text.length - 1) | 0));\n        return text;\n    }\n    modTextToStr() {\n        let text = \"\";\n        for (let ei = 0; ei < this.getNumEvents(); ei++) {\n            let e = this.getEvent(ei);\n            switch (e.geteventtype()) {\n                case _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE:\n                    {\n                        text = this.addNoteTextToStr(e, text);\n                        break;\n                    }\n                case _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_MULTIEVENT:\n                    {\n                        for (let i = e.iterator_2(); i.hasNext();) {\n                            let e1 = i.next();\n                            if (e1.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                                text = this.addNoteTextToStr(e1, text);\n                        }\n                        break;\n                    }\n            }\n        }\n        if (text.length > 0)\n            text = text.substring(0, ((text.length - 1) | 0));\n        return text;\n    }\n    addNoteTextToStr(ne, s) {\n        let noteText = ne.getModernText();\n        if (noteText == null)\n            return s;\n        s += noteText + (ne.isWordEnd() ? \" \" : \"-\");\n        return s;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getNumEvents() {\n        return this.events.size();\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this voice\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"  Events:\");\n        for (let e of this.events)\n            e.prettyprint_1();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/EventListData.ts?");

/***/ }),

/***/ "./src/DataStruct/EventLocation.ts":
/*!*****************************************!*\
  !*** ./src/DataStruct/EventLocation.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventLocation: () => (/* binding */ EventLocation)\n/* harmony export */ });\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : EventLocation.java\n\n        Package         : DataStruct\n\n        Classes Included: EventLocation\n\n        Purpose         : Store event location\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 1/23/08\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   EventLocation\nExtends: -\nPurpose: Low-level storage for event location (section number, voice\n         number, index in event list)\n------------------------------------------------------------------------*/\nclass EventLocation {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: EventLocation(int sectionNum,int voiceNum,int eventNum)\nPurpose:     Initialization\nParameters:\n  Input:  int sectionNum,voiceNum,eventNum - location attributes\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(sectionNum, voiceNum, eventNum) {\n        this.sectionNum = sectionNum;\n        this.voiceNum = voiceNum;\n        this.eventNum = eventNum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  String toString()\nPurpose: Convert to string\nParameters:\n  Input:  -\n  Output: -\n  Return: string representation of this\n------------------------------------------------------------------------*/\n    toString() {\n        return \"S: \" + this.sectionNum + \" V: \" + this.voiceNum + \" E: \" + this.eventNum;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/EventLocation.ts?");

/***/ }),

/***/ "./src/DataStruct/LacunaEvent.ts":
/*!***************************************!*\
  !*** ./src/DataStruct/LacunaEvent.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LacunaEvent: () => (/* binding */ LacunaEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : LacunaEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: LacunaEvent\n\n        Purpose         : Event type for lacunae\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 8/1/06\n\n        Updates         :\n8/18/08: added proportionless begin/end markers for LacunaEvents within\n         variant versions\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   LacunaEvent\nExtends: Event\nPurpose: Data/routines for lacuna events\n------------------------------------------------------------------------*/\nclass LacunaEvent extends _Event__WEBPACK_IMPORTED_MODULE_2__.Event {\n    static new13(l) {\n        let _new13 = new LacunaEvent;\n        LacunaEvent.set13(_new13, l);\n        return _new13;\n    }\n    static set13(new13, l) {\n        _Event__WEBPACK_IMPORTED_MODULE_2__.Event.set0(new13);\n        new13.eventtype = LacunaEvent.EVENT_LACUNA;\n        new13.length = (new13.musictime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(l));\n    }\n    static new14(eventType) {\n        let _new14 = new LacunaEvent;\n        LacunaEvent.set14(_new14, eventType);\n        return _new14;\n    }\n    static set14(new14, eventType) {\n        _Event__WEBPACK_IMPORTED_MODULE_2__.Event.set0(new14);\n        new14.eventtype = eventType;\n        new14.length = (new14.musictime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(0, 1));\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = this.length.i1 > 0 ? LacunaEvent.new13(this.length) : LacunaEvent.new14(this.geteventtype());\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherLE = other;\n        return this.length.equals(otherLE.length);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getLength_1() {\n        return this.length;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setLength_1(l) {\n        this.length = (this.musictime = l);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Lacuna: \" + this.length.i1 + \"/\" + this.length.i2);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/LacunaEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/LineEndEvent.ts":
/*!****************************************!*\
  !*** ./src/DataStruct/LineEndEvent.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LineEndEvent: () => (/* binding */ LineEndEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : LineEndEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: LineEndEvent\n\n        Purpose         : Event type for line-ends\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 7/24/06\n\n        Updates         :\n7/24/06: originally this was a \"dataless\" event type without its own class;\n         now it contains an optional page-end marker.\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   LineEndEvent\nExtends: Event\nPurpose: Data/routines for line-end events\n------------------------------------------------------------------------*/\nclass LineEndEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new15() {\n        let _new15 = new LineEndEvent;\n        LineEndEvent.set15(_new15);\n        return _new15;\n    }\n    static set15(new15) {\n        LineEndEvent.set16(new15, false);\n    }\n    static new16(pe) {\n        let _new16 = new LineEndEvent;\n        LineEndEvent.set16(_new16, pe);\n        return _new16;\n    }\n    static set16(new16, pe) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new16);\n        new16.eventtype = LineEndEvent.EVENT_LINEEND;\n        new16.pageEnd = pe;\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = LineEndEvent.new16(this.pageEnd);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherLEE = other;\n        return this.pageEnd == otherLEE.pageEnd;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    isPageEnd() {\n        return this.pageEnd;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setPageEnd(pe) {\n        this.pageEnd = pe;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"    LineEnd\");\n        if (this.pageEnd)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\" (page-end)\");\n        else\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/LineEndEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/MensEvent.ts":
/*!*************************************!*\
  !*** ./src/DataStruct/MensEvent.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MensEvent: () => (/* binding */ MensEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Mensuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _MensSignElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\nclass MensEvent extends _Event__WEBPACK_IMPORTED_MODULE_4__.Event {\n    static new17(sl, ssn, sm, v, mi, noScoreSig) {\n        let _new17 = new MensEvent;\n        MensEvent.set17(_new17, sl, ssn, sm, v, mi, noScoreSig);\n        return _new17;\n    }\n    static set17(new17, sl, ssn, sm, v, mi, noScoreSig) {\n        _Event__WEBPACK_IMPORTED_MODULE_4__.Event.set0(new17);\n        new17.eventtype = MensEvent.EVENT_MENS;\n        new17.signs = sl;\n        new17.ssnum = ssn;\n        new17._small = sm;\n        new17._vertical = v;\n        new17._noScoreSig = noScoreSig;\n        if (mi != null)\n            new17.mensInfo = mi;\n        else\n            new17.initMensInfo();\n    }\n    static new18(sl, ssn, sm, v, mi) {\n        let _new18 = new MensEvent;\n        MensEvent.set18(_new18, sl, ssn, sm, v, mi);\n        return _new18;\n    }\n    static set18(new18, sl, ssn, sm, v, mi) {\n        MensEvent.set17(new18, sl, ssn, sm, v, mi, false);\n    }\n    static new19(sl, ssn, sm, v) {\n        let _new19 = new MensEvent;\n        MensEvent.set19(_new19, sl, ssn, sm, v);\n        return _new19;\n    }\n    static set19(new19, sl, ssn, sm, v) {\n        MensEvent.set18(new19, sl, ssn, sm, v, null);\n    }\n    static new20(sl, ssn) {\n        let _new20 = new MensEvent;\n        MensEvent.set20(_new20, sl, ssn);\n        return _new20;\n    }\n    static set20(new20, sl, ssn) {\n        MensEvent.set19(new20, sl, ssn, false, false);\n    }\n    initMensInfo() {\n        let mainEl = this.getMainSign();\n        this.mensInfo = _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.new0(mainEl.dotted ? _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY : _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_BINARY, mainEl.signType == _MensSignElement__WEBPACK_IMPORTED_MODULE_3__.MensSignElement.MENS_SIGN_O ? _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY : _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_BINARY, _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_BINARY, _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_BINARY);\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let copySigns = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__.LinkedList();\n        for (let s of this.signs)\n            copySigns.add(_MensSignElement__WEBPACK_IMPORTED_MODULE_3__.MensSignElement.new2(s));\n        let e = MensEvent.new17(copySigns, this.ssnum, this._small, this._vertical, _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.new2(this.mensInfo), this._noScoreSig);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherME = other;\n        if (this.signs.size() != otherME.signs.size())\n            return false;\n        for (let i = 0; i < this.signs.size(); i++)\n            if (!this.signs.get(i).equals(otherME.signs.get(i)))\n                return false;\n        return this.mensInfo.equals(otherME.mensInfo) && this.ssnum == otherME.ssnum && this._small == otherME._small && this._noScoreSig == otherME._noScoreSig && this._vertical == otherME._vertical;\n    }\n    signEquals(otherME) {\n        if (this.signs.size() != otherME.signs.size())\n            return false;\n        for (let i = 0; i < this.signs.size(); i++)\n            if (!this.signs.get(i).equals(otherME.signs.get(i)))\n                return false;\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean nonStandard()\nPurpose: Determine whether the mensural interpretation of this sign is standard\n         (e.g., O = perfect tempus, minor prolatio)\nParameters:\n  Input:  -\n  Output: -\n  Return: true if non-standard mensural interpretation of sign\n------------------------------------------------------------------------*/\n    nonStandard() {\n        if (this.signs.size() > 1)\n            return true;\n        if (!this.mensInfo.tempoChange.equals(_Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.DEFAULT_TEMPO_CHANGE))\n            return true;\n        let mainEl = this.getMainSign();\n        if (mainEl.dotted && this.mensInfo.prolatio != _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY)\n            return true;\n        switch (mainEl.signType) {\n            case _MensSignElement__WEBPACK_IMPORTED_MODULE_3__.MensSignElement.MENS_SIGN_O:\n                {\n                    if (this.mensInfo.tempus != _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY)\n                        return true;\n                    break;\n                }\n            case _MensSignElement__WEBPACK_IMPORTED_MODULE_3__.MensSignElement.MENS_SIGN_C:\n                {\n                    if (this.mensInfo.tempus == _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY)\n                        return true;\n                    break;\n                }\n            default:\n                {\n                    return true;\n                }\n        }\n        if (this.mensInfo.modus_minor == _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY || this.mensInfo.modus_maior == _Mensuration__WEBPACK_IMPORTED_MODULE_2__.Mensuration.MENS_TERNARY)\n            return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getMensInfo_1() {\n        return this.mensInfo;\n    }\n    getSigns() {\n        return this.signs;\n    }\n    getMainSign() {\n        return this.signs.getFirst();\n    }\n    getStaffLoc() {\n        return this.ssnum;\n    }\n    iterator_1() {\n        return this.signs.iterator();\n    }\n    getTempoChange() {\n        return this.mensInfo.tempoChange;\n    }\n    noScoreSig() {\n        return this._noScoreSig;\n    }\n    small() {\n        return this._small;\n    }\n    vertical() {\n        return this._vertical;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set parameters and options\nParameters:\n  Input:  new values for parameters and options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addSignElement(mse) {\n        this.signs.add(mse);\n    }\n    deleteSignElement(elNum) {\n        this.signs.remove(elNum);\n    }\n    setMensInfo(m) {\n        this.mensInfo = m;\n    }\n    setNoScoreSig(noScoreSig) {\n        this._noScoreSig = noScoreSig;\n    }\n    setStaffLoc(ssn) {\n        this.ssnum = ssn;\n    }\n    setTempoChange(tempoChange) {\n        this.mensInfo.tempoChange = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(tempoChange);\n    }\n    toggleNoScoreSig() {\n        this._noScoreSig = !this._noScoreSig;\n    }\n    toggleSize() {\n        this._small = !this._small;\n    }\n    toggleVertical() {\n        this._vertical = !this._vertical;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Mensuration: \");\n        for (let i = this.iterator_1(); i.hasNext();)\n            i.next().prettyprint();\n        if (this.nonStandard()) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    \");\n            this.mensInfo.prettyprint();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MensEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/MensSignElement.ts":
/*!*******************************************!*\
  !*** ./src/DataStruct/MensSignElement.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MensSignElement: () => (/* binding */ MensSignElement)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : MensSignElement.java\n\n        Package         : DataStruct\n\n        Classes Included: MensSignElement\n\n        Purpose         : One item in a mensuration sign (symbol, number, etc)\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 7/31/06\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   MensSignElement\nExtends: Event\nPurpose: One element in a mensuration sign\n------------------------------------------------------------------------*/\nclass MensSignElement {\n    static new0(st, d, str) {\n        let _new0 = new MensSignElement;\n        MensSignElement.set0(_new0, st, d, str);\n        return _new0;\n    }\n    static set0(new0, st, d, str) {\n        new0.signType = st;\n        new0.dotted = d;\n        new0.stroke = str;\n        new0.number = null;\n    }\n    static new1(st, n) {\n        let _new1 = new MensSignElement;\n        MensSignElement.set1(_new1, st, n);\n        return _new1;\n    }\n    static set1(new1, st, n) {\n        new1.signType = st;\n        new1.number = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(n);\n    }\n    static new2(other) {\n        let _new2 = new MensSignElement;\n        MensSignElement.set2(_new2, other);\n        return _new2;\n    }\n    static set2(new2, other) {\n        new2.signType = other.signType;\n        new2.dotted = other.dotted;\n        new2.stroke = other.stroke;\n        new2.number = (other.number == null) ? null : _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(other.number);\n    }\n    equals(other) {\n        if (this.number == null)\n            return other.number == null && this.signType == other.signType && this.dotted == other.dotted && this.stroke == other.stroke;\n        else\n            return other.number != null && this.number.equals(other.number) && this.signType == other.signType;\n    }\n    /*------------------------------------------------------------------------\nMethod:  String toString()\nPurpose: Convert to string representation of main element\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toString() {\n        switch (this.signType) {\n            case MensSignElement.MENS_SIGN_C:\n                {\n                }\n            case MensSignElement.MENS_SIGN_CREV:\n                {\n                    return \"C\";\n                }\n            case MensSignElement.MENS_SIGN_O:\n                {\n                    return \"O\";\n                }\n            case MensSignElement.NUMBERS:\n                {\n                    if (this.number.i2 == 0)\n                        return `${this.number.i1}`;\n                    else\n                        return this.number.i1 + \"/\" + this.number.i2;\n                }\n        }\n        return \"!!!\";\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this structure\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(MensSignElement.signNames[this.signType]);\n        if (this.signType == MensSignElement.NO_SIGN) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n            return;\n        }\n        if (this.signType == MensSignElement.NUMBERS) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\": \" + this.number.i1);\n            if (this.number.i2 != 0)\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"/\" + this.number.i2);\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n        }\n        else {\n            if (this.dotted)\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"Dot\");\n            if (this.stroke)\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"Stroke\");\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n        }\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMensSignElement.NO_SIGN = 0;\nMensSignElement.NUMBERS = 1;\nMensSignElement.MENS_SIGN_O = 2;\nMensSignElement.MENS_SIGN_C = 3;\nMensSignElement.MENS_SIGN_CREV = 4;\nMensSignElement.signNames = [\"NoSign\", \"Numbers\", \"O\", \"C\", \"CRev\"];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MensSignElement.ts?");

/***/ }),

/***/ "./src/DataStruct/Mensuration.ts":
/*!***************************************!*\
  !*** ./src/DataStruct/Mensuration.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Mensuration: () => (/* binding */ Mensuration)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : Mensuration.java\n\n        Package         : DataStruct\n\n        Classes Included: Mensuration\n\n        Purpose         : Mensuration description structure\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 11/30/05\n\n        Updates         :\n2/24/06:  changed MENS_BINARY and MENS_TERNARY constants to 2 and 3, to allow\n          instance variables to be used directly in calculations\n12/22/08: added tempo change information\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   Mensuration\nExtends: Event\nPurpose: Structure to hold information about mensuration\n------------------------------------------------------------------------*/\nclass Mensuration {\n    static new0(p, t, m1, m2) {\n        let _new0 = new Mensuration;\n        Mensuration.set0(_new0, p, t, m1, m2);\n        return _new0;\n    }\n    static set0(new0, p, t, m1, m2) {\n        Mensuration.set1(new0, p, t, m1, m2, Mensuration.DEFAULT_TEMPO_CHANGE);\n    }\n    static new1(p, t, m1, m2, tempoChange) {\n        let _new1 = new Mensuration;\n        Mensuration.set1(_new1, p, t, m1, m2, tempoChange);\n        return _new1;\n    }\n    static set1(new1, p, t, m1, m2, tempoChange) {\n        new1.prolatio = p;\n        new1.tempus = t;\n        new1.modus_minor = m1;\n        new1.modus_maior = m2;\n        new1.tempoChange = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(tempoChange);\n    }\n    static new2(other) {\n        let _new2 = new Mensuration;\n        Mensuration.set2(_new2, other);\n        return _new2;\n    }\n    static set2(new2, other) {\n        if (other == null)\n            new2.copyMensuration(Mensuration.DEFAULT_MENSURATION);\n        else\n            new2.copyMensuration(other);\n    }\n    copyMensuration(other) {\n        this.prolatio = other.prolatio;\n        this.tempus = other.tempus;\n        this.modus_minor = other.modus_minor;\n        this.modus_maior = other.modus_maior;\n        this.tempoChange = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(other.tempoChange);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(Mensuration m)\nPurpose: Compare for equality against another mensuration\nParameters:\n  Input:  Mensuration m - mensuration to compare\n  Output: -\n  Return: true if equal\n------------------------------------------------------------------------*/\n    equals(m) {\n        return m.prolatio == this.prolatio && m.tempus == this.tempus && m.modus_minor == this.modus_minor && m.modus_maior == this.modus_maior && m.tempoChange.equals(this.tempoChange);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean ternary(int noteType)\nPurpose: Check if a note type is ternary under this mensuration\nParameters:\n  Input:  int noteType - note type to check\n  Output: -\n  Return: true if type is ternary\n------------------------------------------------------------------------*/\n    ternary(noteType) {\n        switch (noteType) {\n            case _Event__WEBPACK_IMPORTED_MODULE_2__.Event.NT_Semibrevis:\n                {\n                    return this.prolatio == Mensuration.MENS_TERNARY;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_2__.Event.NT_Brevis:\n                {\n                    return this.tempus == Mensuration.MENS_TERNARY;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_2__.Event.NT_Longa:\n                {\n                    return this.modus_minor == Mensuration.MENS_TERNARY;\n                }\n            case _Event__WEBPACK_IMPORTED_MODULE_2__.Event.NT_Maxima:\n                {\n                    return this.modus_maior == Mensuration.MENS_TERNARY;\n                }\n        }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this structure\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(this.prolatio == Mensuration.MENS_TERNARY ? \"3\" : \"2\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(this.tempus == Mensuration.MENS_TERNARY ? \"3\" : \"2\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(this.modus_minor == Mensuration.MENS_TERNARY ? \"3\" : \"2\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(this.modus_maior == Mensuration.MENS_TERNARY ? \"3\" : \"2\");\n        if (!this.tempoChange.equals(Mensuration.DEFAULT_TEMPO_CHANGE))\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\" Tempo: \" + this.tempoChange);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMensuration.MENS_BINARY = 2;\nMensuration.MENS_TERNARY = 3;\nMensuration.DEFAULT_TEMPO_CHANGE = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(1, 1);\nMensuration.DEFAULT_MENSURATION = Mensuration.new0(Mensuration.MENS_BINARY, Mensuration.MENS_BINARY, Mensuration.MENS_BINARY, Mensuration.MENS_BINARY);\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Mensuration.ts?");

/***/ }),

/***/ "./src/DataStruct/MetaData.ts":
/*!************************************!*\
  !*** ./src/DataStruct/MetaData.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MetaData: () => (/* binding */ MetaData)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Float__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Float */ \"./src/java/lang/Float.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : MetaData.java\n\n        Package         : DataStruct\n\n        Classes Included: MetaData\n\n        Purpose         : CMME system meta-data\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 3/1/07\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   MetaData\nExtends: -\nPurpose: CMME system meta-data\n------------------------------------------------------------------------*/\nclass MetaData {\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMetaData.CMME_VERSION = \"0.98\";\nMetaData.CMME_VERSION_FLOAT = _java_lang_Float__WEBPACK_IMPORTED_MODULE_0__.Float.parseFloat(MetaData.CMME_VERSION);\nMetaData.CMME_SOFTWARE_NAME = \"CMME Editor v\" + MetaData.CMME_VERSION;\nMetaData.CMME_OPT_TESTING = false;\nMetaData.CMME_OPT_VALIDATEXML = false;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MetaData.ts?");

/***/ }),

/***/ "./src/DataStruct/ModernAccidental.ts":
/*!********************************************!*\
  !*** ./src/DataStruct/ModernAccidental.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModernAccidental: () => (/* binding */ ModernAccidental)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : ModernAccidental.java\n\n        Package         : DataStruct\n\n        Classes Included: ModernAccidental\n\n        Purpose         : Handle low-level accidental information for modern\n                          notation (sharp/flat/natural rather than square b/\n                          diesis/round b)\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 12/22/05\n\n        Updates         :\n4/25/06: added \"optional\" flag (display accidental in parentheses)\n7/8/08:  converted note accidental to simple pitch offset integer\n         (leaving appearance to be decided by renderer)\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ModernAccidental\nExtends: -\nPurpose: Modern accidental information structure\n------------------------------------------------------------------------*/\nclass ModernAccidental {\n    /* number of applications: 2 for double-flat, etc. */\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  int strtoMA(String at)\nPurpose: Convert string to accidental type number\nParameters:\n  Input:  String at - string to convert\n  Output: -\n  Return: accidental type number\n------------------------------------------------------------------------*/\n    static strtoMA(at) {\n        let i;\n        for (i = 0; i < ModernAccidental.AccidentalNames.length; i++)\n            if ((at == ModernAccidental.AccidentalNames[i]))\n                return i;\n        if (i == ModernAccidental.AccidentalNames.length)\n            i = ((ModernAccidental.AccidentalNames.length - 1) | 0);\n        return i;\n    }\n    /*------------------------------------------------------------------------\nMethod:  ModernAccidental pitchOffsetToAcc(int po)\nPurpose: Convert numerical pitch offset to accidental\nParameters:\n  Input:  int po - pitch offset\n  Output: -\n  Return: new accidental\n------------------------------------------------------------------------*/\n    static pitchOffsetToAcc(po) {\n        if (po < 0)\n            return ModernAccidental.new1(ModernAccidental.ACC_Flat, ((0 - po) | 0));\n        else if (po > 0)\n            return ModernAccidental.new1(ModernAccidental.ACC_Sharp, po);\n        return ModernAccidental.new1(ModernAccidental.ACC_Natural, 1);\n    }\n    static new0(at, na, o) {\n        let _new0 = new ModernAccidental;\n        ModernAccidental.set0(_new0, at, na, o);\n        return _new0;\n    }\n    static set0(new0, at, na, o) {\n        new0.accType = at;\n        new0.numAcc = na;\n        new0.optional = o;\n    }\n    static new1(at, na) {\n        let _new1 = new ModernAccidental;\n        ModernAccidental.set1(_new1, at, na);\n        return _new1;\n    }\n    static set1(new1, at, na) {\n        ModernAccidental.set0(new1, at, na, false);\n    }\n    static new2(at) {\n        let _new2 = new ModernAccidental;\n        ModernAccidental.set2(_new2, at);\n        return _new2;\n    }\n    static set2(new2, at) {\n        ModernAccidental.set0(new2, at, 1, false);\n    }\n    static new3(pitchOffset, optional) {\n        let _new3 = new ModernAccidental;\n        ModernAccidental.set3(_new3, pitchOffset, optional);\n        return _new3;\n    }\n    static set3(new3, pitchOffset, optional) {\n        new3.pitchOffset = pitchOffset;\n        new3.optional = optional;\n        new3.accType = ModernAccidental.ACC_NONE;\n    }\n    static new4(other) {\n        let _new4 = new ModernAccidental;\n        ModernAccidental.set4(_new4, other);\n        return _new4;\n    }\n    static set4(new4, other) {\n        new4.pitchOffset = other.pitchOffset;\n        new4.optional = other.optional;\n        new4.accType = other.accType;\n        new4.numAcc = other.numAcc;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcPitchOffset()\nPurpose: Calculate a numerical representation of the pitch distance from\n         a 'natural' state (-1==1 flat, -2==2 flats, etc.)\nParameters:\n  Input:  -\n  Output: -\n  Return: numerical pitch offset\n------------------------------------------------------------------------*/\n    calcPitchOffset() {\n        switch (this.accType) {\n            case ModernAccidental.ACC_Flat:\n                {\n                    return ((0 - this.numAcc) | 0);\n                }\n            case ModernAccidental.ACC_Sharp:\n                {\n                    return this.numAcc;\n                }\n        }\n        return 0;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(ModernAccidental other)\nPurpose: Compare two accidentals for equality\nParameters:\n  Input:  ModernAccidental other - accidental for comparison to this\n  Output: -\n  Return: true if accidentals are equal (type and number of applications)\n------------------------------------------------------------------------*/\n    equals(other) {\n        if (other == null)\n            return false;\n        if (this.accType == ModernAccidental.ACC_NONE)\n            return this.pitchOffset == other.pitchOffset && this.optional == other.optional;\n        return this.accType == other.accType && this.numAcc == other.numAcc;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this modern accidental\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"    Modern accidental: \" + ModernAccidental.AccidentalNames[this.accType]);\n        if (this.numAcc > 1)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\" (x\" + this.numAcc + \")\");\n        if (this.optional)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\" (optional)\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nModernAccidental.ACC_Flat = 0;\nModernAccidental.ACC_Natural = 1;\nModernAccidental.ACC_Sharp = 2;\nModernAccidental.ACC_NONE = 3;\nModernAccidental.AccidentalNames = [\"Flat\", \"Natural\", \"Sharp\", \"NONE\"];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ModernAccidental.ts?");

/***/ }),

/***/ "./src/DataStruct/ModernKeySignature.ts":
/*!**********************************************!*\
  !*** ./src/DataStruct/ModernKeySignature.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModernKeySignature: () => (/* binding */ ModernKeySignature)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ModernKeySignatureElement */ \"./src/DataStruct/ModernKeySignatureElement.ts\");\n/* harmony import */ var _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\nclass ModernKeySignature {\n    static new0() {\n        let _new0 = new ModernKeySignature;\n        ModernKeySignature.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.accElements = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__.LinkedList();\n        new0.accDistance = 0;\n    }\n    static new1(other) {\n        let _new1 = new ModernKeySignature;\n        ModernKeySignature.set1(_new1, other);\n        return _new1;\n    }\n    static set1(new1, other) {\n        new1.accElements = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__.LinkedList();\n        for (let i = other.iterator(); i.hasNext();)\n            new1.accElements.add(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignatureElement.new2(i.next()));\n        new1.accDistance = other.accDistance;\n    }\n    /* make a deep copy of the other list */\n    /*------------------------------------------------------------------------\nMethod:  int calcNotePitchOffset(NoteEvent ne)\nPurpose: Calculates a numerical representation of the pitch offset from a\n         note's natural state, under this key signature (e.g., a B with no\n         accidental marked, under a 1-flat sig, will be -1, i.e., a half\n         step below B-natural)\nParameters:\n  Input:  NoteEvent ne - note to use for calculation\n  Output: -\n  Return: numerical pitch offset value\n------------------------------------------------------------------------*/\n    calcNotePitchOffset_1(pitch, noteAcc) {\n        let sigAcc = this.getAccidentalAtPitch(pitch);\n        let notePitchOffset = sigAcc == null ? 0 : sigAcc.calcPitchOffset();\n        if (noteAcc != null)\n            notePitchOffset = noteAcc.calcPitchOffset();\n        return notePitchOffset;\n    }\n    calcNotePitchOffset_2(ne) {\n        return this.calcNotePitchOffset_1(ne.getPitch_1(), ne.getPitchOffset());\n    }\n    /*------------------------------------------------------------------------\nMethod:  ModernAccidental chooseNoteAccidental(NoteEvent ne,int notePitchOffset)\nPurpose: Creates a modern accidental to attach to a given note so that it has\n         the given numerical offset from a 'natural' pitch (0)\nParameters:\n  Input:  NoteEvent ne        - note to which to attach modern accidental\n          int notePitchOffset - numerical representation of exact pitch offset\n                                from natural note state\n  Output: -\n  Return: new modern accidental\n------------------------------------------------------------------------*/\n    chooseNoteAccidental(ne, notePitchOffset) {\n        let sigAcc = this.getAccidentalAtPitch(ne.getPitch_1());\n        let sigPitchOffset = sigAcc == null ? 0 : sigAcc.calcPitchOffset();\n        if (notePitchOffset == sigPitchOffset)\n            return null;\n        else if (notePitchOffset == 0)\n            return _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new1(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Natural, 1);\n        else\n            return _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.pitchOffsetToAcc(notePitchOffset);\n    }\n    /* is the accidental subsumed into the signature? */\n    /* does it become a natural? */\n    /*------------------------------------------------------------------------\nMethod:  ModernAccidental getAccidentalAtPitch(Pitch p)\nPurpose: Checks whether a given Locus (generic pitch position) is modified\n         by this key signature; if so, returns accidental information\nParameters:\n  Input:  Pitch p - pitch to check for accidental\n  Output: -\n  Return: accidental associated with given pitch; null if none\n------------------------------------------------------------------------*/\n    getAccDistance() {\n        return this.accDistance;\n    }\n    getAccidentalAtPitch(p) {\n        for (let mske of this.accElements)\n            if (mske.matchesPitch(p))\n                return mske.accidental;\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(ModernKeySignature other)\nPurpose: Check whether this modern key signature is equivalent to another\nParameters:\n  Input:  ModernKeySignature other - other signature\n  Output: -\n  Return: true if this and the other signature are the same\n------------------------------------------------------------------------*/\n    equals(other) {\n        return this.accDistance == other.accDistance;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    iterator() {\n        return this.accElements.iterator();\n    }\n    numEls() {\n        return this.accElements.size();\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addElement(e) {\n        let ma = this.getAccidentalAtPitch(e.pitch);\n        if (ma != null)\n            return;\n        this.accElements.add(e);\n        if (e.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat)\n            this.accDistance -= e.accidental.numAcc;\n        else if (e.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Sharp)\n            this.accDistance += e.accidental.numAcc;\n    }\n    /* already in signature */\n    addClef(c) {\n        if (!c.isflat() && !c.issharp())\n            return;\n        this.addElement(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignatureElement.new1(c));\n    }\n    removeClef(c) {\n    }\n    /* TMP */\n    addFlat() {\n        if (this.accElements.size() == 0)\n            this.accElements.add(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignatureElement.new0(ModernKeySignature.CircleOfFifthsPitches[0], _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new2(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat)));\n        else {\n            let laste = this.accElements.getLast();\n            if (this.accElements.size() < 7)\n                if (laste.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Sharp)\n                    this.accElements.removeLast();\n                else\n                    this.accElements.add(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignatureElement.new0(ModernKeySignature.CircleOfFifthsPitches[this.accElements.size()], _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new2(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat)));\n            else {\n                laste = this.accElements.get((((_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(this.accDistance) - 1) | 0)) % 7);\n                if (laste.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Sharp)\n                    if (this.accDistance == 7)\n                        this.accElements.removeLast();\n                    else\n                        laste.accidental.numAcc--;\n                else {\n                    laste = this.accElements.get(_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(this.accDistance) % 7);\n                    laste.accidental.numAcc++;\n                }\n            }\n        }\n        this.accDistance--;\n    }\n    /* if sig is currently blank, add first item */\n    /* for sigs of less than seven elements, simply add or delete one item */\n    /* for 'full' sigs (7 or more), we may need to change the number of\n           applications of the farthest accidental */\n    /* make laste correspond with the 'furthest' accidental along the\n               cycle of fifths */\n    /* remove one sharp */\n    /* remove one sharp application */\n    /* add one flat application */\n    addSharp() {\n        if (this.accElements.size() == 0)\n            this.accElements.add(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignatureElement.new0(ModernKeySignature.CircleOfFifthsPitches[6], _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new2(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Sharp)));\n        else {\n            let laste = this.accElements.getLast();\n            if (this.accElements.size() < 7)\n                if (laste.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat)\n                    this.accElements.removeLast();\n                else\n                    this.accElements.add(_ModernKeySignatureElement__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignatureElement.new0(ModernKeySignature.CircleOfFifthsPitches[(((6 - this.accElements.size()) | 0))], _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new2(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Sharp)));\n            else {\n                laste = this.accElements.get((((_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(this.accDistance) - 1) | 0)) % 7);\n                if (laste.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat)\n                    if (this.accDistance == -7)\n                        this.accElements.removeLast();\n                    else\n                        laste.accidental.numAcc--;\n                else {\n                    laste = this.accElements.get(_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(this.accDistance) % 7);\n                    laste.accidental.numAcc++;\n                }\n            }\n        }\n        this.accDistance++;\n    }\n    /* if sig is currently blank, add first item */\n    /* for sigs of less than seven elements, simply add or delete one item */\n    /* for 'full' sigs (7 or more), we may need to change the number of\n           applications of the farthest accidental */\n    /* make laste correspond with the 'furthest' accidental along the\n               cycle of fifths */\n    /* remove one flat */\n    /* remove one flat application */\n    /* add one sharp application */\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this key signature\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    --Modern key signature\");\n        for (let mske of this.accElements)\n            mske.prettyprint();\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    --End modern key signature\");\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nModernKeySignature.DEFAULT_SIG = ModernKeySignature.new0();\nModernKeySignature.CircleOfFifthsPitches = [_Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"B\", -1), _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"E\", -1), _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"A\", -1), _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"D\", -1), _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"G\", -1), _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"C\", -1), _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new1(\"F\", -1)];\n/* octave offsets for positioning elements of a standard key signature */\nModernKeySignature.SigFlatOctaveOffsets = [0, 0, 0, 0, 0, -1, -1];\n/* ABCDEFG */\nModernKeySignature.SigSharpOctaveOffsets = [0, 0, 0, 0, 0, 0, 0];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ModernKeySignature.ts?");

/***/ }),

/***/ "./src/DataStruct/ModernKeySignatureElement.ts":
/*!*****************************************************!*\
  !*** ./src/DataStruct/ModernKeySignatureElement.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModernKeySignatureElement: () => (/* binding */ ModernKeySignatureElement)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _ModernKeySignature__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n\n\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : ModernKeySignatureElement.java\n\n        Package         : DataStruct\n\n        Classes Included: ModernKeySignatureElement\n\n        Purpose         : Handle one element (flat, sharp) in a modern key\n                          signature\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 7/25/06\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ModernKeySignatureElement\nExtends: -\nPurpose: One accidental element in a key signature\n------------------------------------------------------------------------*/\nclass ModernKeySignatureElement {\n    static new0(p, a) {\n        let _new0 = new ModernKeySignatureElement;\n        ModernKeySignatureElement.set0(_new0, p, a);\n        return _new0;\n    }\n    static set0(new0, p, a) {\n        new0.pitch = p;\n        p.octave = -1;\n        new0.accidental = a;\n    }\n    static new1(c) {\n        let _new1 = new ModernKeySignatureElement;\n        ModernKeySignatureElement.set1(_new1, c);\n        return _new1;\n    }\n    static set1(new1, c) {\n        new1.pitch = _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new3(c.pitch);\n        new1.pitch.octave = -1;\n        if (c.isflat())\n            new1.accidental = _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new2(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat);\n        else if (c.issharp())\n            new1.accidental = _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new2(_ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Sharp);\n        else\n            new1.accidental = null;\n    }\n    static new2(other) {\n        let _new2 = new ModernKeySignatureElement;\n        ModernKeySignatureElement.set2(_new2, other);\n        return _new2;\n    }\n    static set2(new2, other) {\n        new2.pitch = _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new3(other.pitch);\n        new2.accidental = _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.new4(other.accidental);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean matchesPitch(Pitch p)\nPurpose: Pitch equality test, allowing for accidentals with octave duplication\n         (octave==-1)\nParameters:\n  Input:  Pitch p - pitch to test against this accidental's pitch\n  Output: -\n  Return: true if pitches are equal\n------------------------------------------------------------------------*/\n    matchesPitch(p) {\n        if (this.pitch.octave == -1)\n            return this.pitch.noteletter == p.noteletter;\n        else\n            return this.pitch.equals(p);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcAOffset()\nPurpose: Calculates staff-height display offset from generic pitch 'A'\nParameters:\n  Input:  -\n  Output: -\n  Return: staff-height offset from A\n------------------------------------------------------------------------*/\n    calcAOffset() {\n        if (this.accidental.accType == _ModernAccidental__WEBPACK_IMPORTED_MODULE_4__.ModernAccidental.ACC_Flat)\n            return ((((_java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(this.pitch.noteletter, 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(\"A\", 0)) | 0) + ((7 * _ModernKeySignature__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignature.SigFlatOctaveOffsets[(((_java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(this.pitch.noteletter, 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(\"A\", 0)) | 0))]) | 0)) | 0);\n        else\n            return ((((_java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(this.pitch.noteletter, 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(\"A\", 0)) | 0) + ((7 * _ModernKeySignature__WEBPACK_IMPORTED_MODULE_3__.ModernKeySignature.SigSharpOctaveOffsets[(((_java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(this.pitch.noteletter, 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_1__.Character.codePointAt(\"A\", 0)) | 0))]) | 0)) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this element\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"    Pitch: \" + this.pitch.noteletter);\n        if (this.pitch.octave != -1)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"(\" + this.pitch.octave + \")\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n        this.accidental.prettyprint();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ModernKeySignatureElement.ts?");

/***/ }),

/***/ "./src/DataStruct/ModernKeySignatureEvent.ts":
/*!***************************************************!*\
  !*** ./src/DataStruct/ModernKeySignatureEvent.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModernKeySignatureEvent: () => (/* binding */ ModernKeySignatureEvent)\n/* harmony export */ });\n/* harmony import */ var _ModernKeySignature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : ModernKeySignatureEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: ModernKeySignatureEvent\n\n        Purpose         : Event type for modern key signatures/signature changes\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 7/25/06\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ModernKeySignatureEvent\nExtends: Event\nPurpose: Data/routines for modern key signature events\n------------------------------------------------------------------------*/\nclass ModernKeySignatureEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new21() {\n        let _new21 = new ModernKeySignatureEvent;\n        ModernKeySignatureEvent.set21(_new21);\n        return _new21;\n    }\n    static set21(new21) {\n        ModernKeySignatureEvent.set22(new21, _ModernKeySignature__WEBPACK_IMPORTED_MODULE_0__.ModernKeySignature.DEFAULT_SIG);\n    }\n    static new22(s) {\n        let _new22 = new ModernKeySignatureEvent;\n        ModernKeySignatureEvent.set22(_new22, s);\n        return _new22;\n    }\n    static set22(new22, s) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new22);\n        new22.eventtype = ModernKeySignatureEvent.EVENT_MODERNKEYSIGNATURE;\n        new22.sig = _ModernKeySignature__WEBPACK_IMPORTED_MODULE_0__.ModernKeySignature.new1(s);\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = ModernKeySignatureEvent.new22(this.sig);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherMKE = other;\n        return this.sig.equals(otherMKE.sig);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getSigInfo() {\n        return this.sig;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addFlat() {\n        this.sig.addFlat();\n    }\n    addSharp() {\n        this.sig.addSharp();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        this.sig.prettyprint();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ModernKeySignatureEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/MultiEvent.ts":
/*!**************************************!*\
  !*** ./src/DataStruct/MultiEvent.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MultiEvent: () => (/* binding */ MultiEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\nclass MultiEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    constructor() {\n        super(...arguments);\n        /*----------------------------------------------------------------------*/\n        /* Instance variables */\n        this.mensInfo = null;\n        this.clefset = null;\n        /* clef group */\n        this.modernclefset = null;\n    }\n    static new23() {\n        let _new23 = new MultiEvent;\n        MultiEvent.set23(_new23);\n        return _new23;\n    }\n    static set23(new23) {\n        _Event__WEBPACK_IMPORTED_MODULE_1__.Event.set0(new23);\n        new23.eventtype = MultiEvent.EVENT_MULTIEVENT;\n        new23.eventList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_2__.LinkedList();\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let me = MultiEvent.new23();\n        for (let e of this.eventList)\n            me.addEvent(e.createCopy_1());\n        me.copyEventAttributes_1(this);\n        me.constructClefSets_1(null, null);\n        return me;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherME = other;\n        if (this.getNumEvents() != otherME.getNumEvents())\n            return false;\n        for (let i = 0; i < this.getNumEvents(); i++)\n            if (!this.getEvent(i).equals_1(otherME.getEvent(i)))\n                return false;\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethod:    LinkedList<Event> makeModernNoteShapes()\nOverrides: Event.makeModernNoteShapes\nPurpose:   Make event (copy) in modern notation\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this with modern note shape, expanded into multiple\n          events if necessary\n------------------------------------------------------------------------*/\n    makeModernNoteShapes_1(timePos, measurePos, measureMinims, measureProp, timeProp, useTies) {\n        let modLists = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_2__.LinkedList();\n        let finalLength = 0;\n        for (let e of this.eventList) {\n            let el = e.makeModernNoteShapes_1(timePos, measurePos, measureMinims, measureProp, timeProp, useTies);\n            modLists.add(el);\n            if (el.size() > finalLength)\n                finalLength = el.size();\n        }\n        let finalList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_2__.LinkedList();\n        while (modLists.size() > 1) {\n            let me = MultiEvent.new23();\n            me.clefset = this.clefset;\n            me.modernclefset = this.modernclefset;\n            let removalList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_2__.LinkedList();\n            for (let el of modLists) {\n                me.addEvent(el.remove(0));\n                if (el.isEmpty())\n                    removalList.add(el);\n            }\n            for (let el of removalList)\n                modLists.remove(el);\n            finalList.add(me);\n        }\n        if (modLists.size() == 1) {\n            let el = modLists.get(0);\n            while (!el.isEmpty())\n                finalList.add(el.remove(0));\n        }\n        return finalList;\n    }\n    /* OK, a weird and temporary solution to get through the cases I currently\n       need to deal with: simply combine the event lists 1:1 */\n    /*------------------------------------------------------------------------\nMethod:  boolean notePitchMatches(Event other)\nPurpose: Calculate whether this event's pitch(es) match(es) those of another;\n         only for note events\nParameters:\n  Input:  Event other - event for comparison\n  Output: -\n  Return: Whether pitches are equal\n------------------------------------------------------------------------*/\n    notePitchMatches_1(other) {\n        if (other.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_MULTIEVENT) {\n            for (let e of this.eventList)\n                if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                    if (!other.hasNotePitch_1(e.getPitch_1()))\n                        return false;\n            for (let e of other.eventList)\n                if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                    if (!this.hasNotePitch_1(e.getPitch_1()))\n                        return false;\n            return true;\n        }\n        else {\n            if (other.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                return false;\n            let foundMatch = false;\n            for (let e of this.eventList)\n                if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                    if (e.notePitchMatches_1(other))\n                        foundMatch = true;\n                    else\n                        return false;\n            return foundMatch;\n        }\n    }\n    /* multi-event vs. multi-event */\n    /* every note pitch in this must appear in other, and vice versa */\n    /* multi-event vs. single event */\n    hasNotePitch_1(p) {\n        for (let e of this.eventList)\n            if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                if (e.getPitch_1().equals(p))\n                    return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethods: void calcMusicTime()\nPurpose: Calculate amount of musical time taken by this (length of longest\n         timed event)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    calcMusicTime() {\n        for (let i = this.iterator_2(); i.hasNext();) {\n            let imt = i.next().getmusictime();\n            if (imt.greaterThan(this.musictime))\n                this.musictime.setVal_1(imt);\n        }\n    }\n    /*------------------------------------------------------------------------\nMethods: void addEvent(Event e)\nPurpose: Add one event to list\nParameters:\n  Input:  Event e - event to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent(e) {\n        this.eventList.add(e);\n        if (e.getmusictime().greaterThan(this.musictime))\n            this.musictime.setVal_1(e.getmusictime());\n        let m = e.getMensInfo_1();\n        if (m != null)\n            this.mensInfo = m;\n    }\n    /*------------------------------------------------------------------------\nMethods: Event deleteEvent(Event e)\nPurpose: Delete one event from list\nParameters:\n  Input:  Event e - event to add\n  Output: -\n  Return: this event after deletion\n------------------------------------------------------------------------*/\n    deleteEvent(e) {\n        this.eventList.remove(this.eventList.indexOf(e));\n        if (this.eventList.size() >= 2) {\n            if (e.getmusictime().equals(this.musictime))\n                this.calcMusicTime();\n            if (e.getMensInfo_1() != null) {\n                this.mensInfo = null;\n                for (let i = this.iterator_2(); i.hasNext();) {\n                    let m = i.next().getMensInfo_1();\n                    if (m != null)\n                        this.mensInfo = m;\n                }\n            }\n            return this;\n        }\n        else\n            return (this.eventList.getFirst());\n    }\n    /* recalculate parameters for this multi-event */\n    /* no more multi-event (only one event left) */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    iterator_2() {\n        return this.eventList.iterator();\n    }\n    getNumEvents() {\n        return this.eventList.size();\n    }\n    getEvent(i) {\n        return this.eventList.get(i);\n    }\n    getMensInfo_1() {\n        return this.mensInfo;\n    }\n    hasEventType_1(etype) {\n        for (let e of this.eventList)\n            if (e.hasEventType_1(etype))\n                return true;\n        return false;\n    }\n    getFirstEventOfType_1(etype) {\n        for (let e of this.eventList)\n            if (e.hasEventType_1(etype))\n                return e;\n        return null;\n    }\n    getLowestNote() {\n        let lowestNote = null;\n        for (let e of this.eventList)\n            if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE) {\n                let ne = e;\n                if (lowestNote == null || lowestNote.getPitch_1().isHigherThan(ne.getPitch_1()))\n                    lowestNote = ne;\n            }\n        return lowestNote;\n    }\n    hasAccidentalClef_1() {\n        for (let e of this.eventList)\n            if (e.hasAccidentalClef_1())\n                return true;\n        return false;\n    }\n    hasPrincipalClef_1() {\n        for (let e of this.eventList)\n            if (e.hasPrincipalClef_1())\n                return true;\n        return false;\n    }\n    hasSignatureClef_1() {\n        for (let e of this.eventList)\n            if (e.hasSignatureClef_1())\n                return true;\n        return false;\n    }\n    rhythmicEventType_1() {\n        let lastType = this.geteventtype();\n        for (let e of this.eventList)\n            if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                return _Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE;\n            else if (e.getmusictime().i1 != 0)\n                lastType = e.geteventtype();\n        return lastType;\n    }\n    /*------------------------------------------------------------------------\nMethod:  ClefSet getClefSet(boolean usemodernclefs)\nPurpose: Returns clef set from this event\nParameters:\n  Input:  boolean usemodernclefs - whether to return modern clefs\n  Output: -\n  Return: clef set data\n------------------------------------------------------------------------*/\n    getClefSet_1() {\n        return this.clefset;\n    }\n    getClefSet_2(usemodernclefs) {\n        return usemodernclefs ? this.modernclefset : this.clefset;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void constructClefSets(Event le,Event cie)\nPurpose: Create or modify this event's clef sets\nParameters:\n  Input:  Event le  - previous event\n          Event cie - clef info event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructClefSets_1(le, cie) {\n        for (let i = this.iterator_2(); i.hasNext();) {\n            let e = i.next();\n            if (e.geteventtype() == MultiEvent.EVENT_CLEF) {\n                e.constructClefSets_1(le, cie);\n                le = e;\n            }\n        }\n        this.clefset = le == null ? null : le.getClefSet_2(false);\n        this.modernclefset = le == null ? null : le.getClefSet_2(true);\n        for (let i = this.iterator_2(); i.hasNext();) {\n            let e = i.next();\n            if (e.geteventtype() == MultiEvent.EVENT_CLEF) {\n                e.setClefSet_1(this.clefset, false);\n                e.setClefSet_1(this.modernclefset, true);\n            }\n        }\n        if (cie != null && !this.clefset.getprincipalclef().isprincipalclef())\n            this.addToSigClefs(cie);\n    }\n    /*    for (Iterator i=iterator(); i.hasNext();)\n      {\n        Event e=(Event)i.next();\n        if (e.geteventtype()==EVENT_CLEF)\n          {\n            clefset=e.getClefSet(false);\n            modernclefset=e.getClefSet(true);\n          }\n      }*/\n    /* set individual events to have the same clef sets */\n    //            clefset.addclef(((ClefEvent)e).getClef(false,false));\n    /* mod clefset */\n    /* add to clef set */\n    //    if (!getClefSet().getprincipalclef().isprincipalclef())\n    //    if (cie!=null)\n    /*------------------------------------------------------------------------\nMethod:  Event noClefEvent()\nPurpose: Create copy of this event with no clefs\nParameters:\n  Input:  -\n  Output: -\n  Return: new clefless event\n------------------------------------------------------------------------*/\n    noClefEvent() {\n        let newEvent = MultiEvent.new23();\n        for (let i = this.iterator_2(); i.hasNext();) {\n            let e = i.next();\n            if (e.geteventtype() != MultiEvent.EVENT_CLEF)\n                newEvent.addEvent(e);\n        }\n        if (newEvent.getNumEvents() == 0)\n            return null;\n        if (newEvent.getNumEvents() == 1)\n            return newEvent.getEvent(0);\n        return newEvent;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event noSigClefEvent()\nPurpose: Create copy of this event with no signature less-principal clefs\nParameters:\n  Input:  -\n  Output: -\n  Return: new event\n------------------------------------------------------------------------*/\n    noSigClefEvent() {\n        let newEvent = MultiEvent.new23();\n        let le = null;\n        for (let i = this.iterator_2(); i.hasNext();) {\n            let e = i.next();\n            if (e.geteventtype() != MultiEvent.EVENT_CLEF || e.hasPrincipalClef_1()) {\n                newEvent.addEvent(e);\n                if (e.hasPrincipalClef_1())\n                    le = e;\n            }\n        }\n        if (newEvent.getNumEvents() == 0)\n            return null;\n        if (newEvent.getNumEvents() == 1)\n            return newEvent.getEvent(0);\n        newEvent.clefset = le == null ? null : le.getClefSet_2(false);\n        newEvent.modernclefset = le == null ? null : le.getClefSet_2(true);\n        return newEvent;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setClefSet_1(cs, usemodernclefs) {\n        if (!usemodernclefs)\n            this.clefset = cs;\n        else\n            this.modernclefset = cs;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void set*params\nPurpose: Sets music parameters current at this event (clef, mensuration)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setmensparams_1(me) {\n        for (let i = this.iterator_2(); i.hasNext();)\n            i.next().setmensparams_1(me);\n    }\n    setcolorparams_1(c) {\n        for (let i = this.iterator_2(); i.hasNext();)\n            i.next().setcolorparams_1(c);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"   Multi-Event begin\");\n        for (let i = this.iterator_2(); i.hasNext();)\n            i.next().prettyprint_1();\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"   Multi-Event end\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MultiEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/MusicChantSection.ts":
/*!*********************************************!*\
  !*** ./src/DataStruct/MusicChantSection.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusicChantSection: () => (/* binding */ MusicChantSection)\n/* harmony export */ });\n/* harmony import */ var _VoiceChantData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VoiceChantData */ \"./src/DataStruct/VoiceChantData.ts\");\n/* harmony import */ var _MusicSection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n\n\n\nclass MusicChantSection extends _MusicSection__WEBPACK_IMPORTED_MODULE_1__.MusicSection {\n    static new0(numVoices, editorial, baseColoration) {\n        let _new0 = new MusicChantSection;\n        MusicChantSection.set0(_new0, numVoices, editorial, baseColoration);\n        return _new0;\n    }\n    static set0(new0, numVoices, editorial, baseColoration) {\n        new0.initParams(editorial, _MusicSection__WEBPACK_IMPORTED_MODULE_1__.MusicSection.PLAINCHANT);\n        new0.baseColoration = baseColoration;\n        new0.voices = Array(numVoices);\n        for (let vi = 0; vi < new0.voices.length; vi++)\n            new0.voices[vi] = null;\n    }\n    static new1(numVoices) {\n        let _new1 = new MusicChantSection;\n        MusicChantSection.set1(_new1, numVoices);\n        return _new1;\n    }\n    static set1(new1, numVoices) {\n        MusicChantSection.set0(new1, numVoices, false, _Coloration__WEBPACK_IMPORTED_MODULE_3__.Coloration.DEFAULT_CHANT_COLORATION);\n    }\n    /*------------------------------------------------------------------------\nMethod:  MusicSection shallowCopy()\nPurpose: Create a shallow copy of this object\nParameters:\n  Input:  -\n  Output: -\n  Return: new shallow copy of this\n------------------------------------------------------------------------*/\n    shallowCopy_1() {\n        let copySection = MusicChantSection.new0(this.voices.length, this.editorial, this.baseColoration);\n        this.copyBaseInfo(copySection);\n        copySection.voices = Array(this.voices.length);\n        for (let vi = 0; vi < this.voices.length; vi++)\n            copySection.voices[vi] = this.voices[vi];\n        return copySection;\n    }\n    /*------------------------------------------------------------------------\nMethod:    void addVoice(Voice newv)\nOverrides: MusicSection.addVoice\nPurpose:   Add new voice to end of voice list (if applicable)\nParameters:\n  Input:  Voice newv - new voice metadata\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addVoice_1(newv) {\n        let newVoices = Array((((this.voices.length + 1) | 0)));\n        for (let i = 0; i < this.voices.length; i++)\n            newVoices[i] = this.voices[i];\n        this.voices = newVoices;\n        this.voices[(((this.voices.length - 1) | 0))] = null;\n    }\n    /* copy voice list */\n    /* change array pointer; set new voice as null */\n    /*------------------------------------------------------------------------\nMethod:    void initializeNewVoice(int vnum,Voice newv)\nOverrides: MusicSection.initializeNewVoice\nPurpose:   Create new voice within voice list (if applicable)\nParameters:\n  Input:  int vnum   - new voice number\n          Voice newv - new voice metadata\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initializeNewVoice_1(vnum, newv) {\n        this.voices[vnum] = _VoiceChantData__WEBPACK_IMPORTED_MODULE_0__.VoiceChantData.new1(newv, this);\n        this.voices[vnum].addEvent_1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_SECTIONEND));\n    }\n    /*------------------------------------------------------------------------\nMethod:    void removeVoice(int vnum)\nOverrides: MusicSection.removeVoice\nPurpose:   Remove voice from section (if applicable)\nParameters:\n  Input:  int vnum - number of voice to remove\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeVoice_1(vnum) {\n        this.voices[vnum] = null;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getNumVoices_1() {\n        return this.voices.length;\n    }\n    getVoice_1(vnum) {\n        if (vnum >= this.voices.length)\n            return null;\n        return this.voices[vnum];\n    }\n    getVoiceMetaData_1(vnum) {\n        return this.getVoice_1(vnum).getMetaData();\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVoice_1(vnum, v) {\n        this.voices[vnum] = v;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MusicChantSection.ts?");

/***/ }),

/***/ "./src/DataStruct/MusicMensuralSection.ts":
/*!************************************************!*\
  !*** ./src/DataStruct/MusicMensuralSection.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusicMensuralSection: () => (/* binding */ MusicMensuralSection)\n/* harmony export */ });\n/* harmony import */ var _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VoiceMensuralData */ \"./src/DataStruct/VoiceMensuralData.ts\");\n/* harmony import */ var _MusicSection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\n\nclass MusicMensuralSection extends _MusicSection__WEBPACK_IMPORTED_MODULE_1__.MusicSection {\n    static new2(numVoices, editorial, baseColoration) {\n        let _new2 = new MusicMensuralSection;\n        MusicMensuralSection.set2(_new2, numVoices, editorial, baseColoration);\n        return _new2;\n    }\n    static set2(new2, numVoices, editorial, baseColoration) {\n        new2.initParams(editorial, _MusicSection__WEBPACK_IMPORTED_MODULE_1__.MusicSection.MENSURAL_MUSIC);\n        new2.baseColoration = baseColoration;\n        new2.voices = Array(numVoices);\n        for (let vi = 0; vi < new2.voices.length; vi++)\n            new2.voices[vi] = null;\n    }\n    static new3(numVoices) {\n        let _new3 = new MusicMensuralSection;\n        MusicMensuralSection.set3(_new3, numVoices);\n        return _new3;\n    }\n    static set3(new3, numVoices) {\n        MusicMensuralSection.set2(new3, numVoices, false, _Coloration__WEBPACK_IMPORTED_MODULE_3__.Coloration.DEFAULT_COLORATION);\n    }\n    /*------------------------------------------------------------------------\nMethod:  MusicSection shallowCopy()\nPurpose: Create a shallow copy of this object\nParameters:\n  Input:  -\n  Output: -\n  Return: new shallow copy of this\n------------------------------------------------------------------------*/\n    shallowCopy_1() {\n        let copySection = MusicMensuralSection.new2(this.voices.length, this.editorial, this.baseColoration);\n        this.copyBaseInfo(copySection);\n        copySection.voices = Array(this.voices.length);\n        for (let vi = 0; vi < this.voices.length; vi++)\n            copySection.voices[vi] = this.voices[vi];\n        copySection.tacetInfo = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__.ArrayList(this.tacetInfo);\n        return copySection;\n    }\n    /*------------------------------------------------------------------------\nMethod:    void addVoice(Voice newv)\nOverrides: MusicSection.addVoice\nPurpose:   Add new voice to end of voice list (if applicable)\nParameters:\n  Input:  Voice newv - new voice metadata\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addVoice_1(newv) {\n        let newVoices = Array((((this.voices.length + 1) | 0)));\n        for (let i = 0; i < this.voices.length; i++)\n            newVoices[i] = this.voices[i];\n        this.voices = newVoices;\n        this.initializeNewVoice_1(((this.voices.length - 1) | 0), newv);\n    }\n    /* copy voice list */\n    /* change array pointer and add new voice */\n    /*------------------------------------------------------------------------\nMethod:    void initializeNewVoice(int vnum,Voice newv)\nOverrides: MusicSection.initializeNewVoice\nPurpose:   Create new voice within voice list (if applicable)\nParameters:\n  Input:  int vnum   - new voice number\n          Voice newv - new voice metadata\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initializeNewVoice_1(vnum, newv) {\n        this.voices[vnum] = _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_0__.VoiceMensuralData.new3(newv, this);\n        this.voices[vnum].addEvent_1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_SECTIONEND));\n    }\n    /*------------------------------------------------------------------------\nMethod:    void removeVoice(int vnum)\nOverrides: MusicSection.removeVoice\nPurpose:   Remove voice from section (if applicable)\nParameters:\n  Input:  int vnum - number of voice to remove\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeVoice_1(vnum) {\n        this.voices[vnum] = null;\n    }\n    /*------------------------------------------------------------------------\nMethod:    void updateVoiceList(Voice[] oldVL,Voice[] newVL)\nOverrides: MusicSection.updateVoiceList\nPurpose:   Update voice list to match changes in master voice list (if\n           applicable)\nParameters:\n  Input:  Voice[] oldVL,newVL   - old and new master voice lists\n          Voice[] newVoiceOrder - old voice list rearranged to match new order\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ArraysasList(elements) {\n        let list = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__.ArrayList();\n        for (let element of elements) {\n            list.add(element);\n        }\n        return list;\n    }\n    updateVoiceList_1(oldVL, newVL, newVoiceOrder) {\n        let newVoiceList = Array(newVL.length);\n        let vmd;\n        for (let i = 0; i < newVoiceOrder.length; i++) {\n            if (this.ArraysasList(oldVL).contains(newVoiceOrder[i])) {\n                vmd = this.getMensuralDataForVoice(newVoiceOrder[i]);\n                if (vmd != null)\n                    vmd.setMetaData(newVL[i]);\n            }\n            else {\n                vmd = _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_0__.VoiceMensuralData.new3(newVL[i], this);\n                vmd.addEvent_1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_SECTIONEND));\n            }\n            newVoiceList[i] = vmd;\n        }\n        this.voices = newVoiceList;\n    }\n    //    LinkedList<VoiceMensuralData> newVoiceList=new LinkedList<VoiceMensuralData>();\n    //CHANGE\n    /* voice is in both old and new lists */\n    /* voice is new */\n    //newVoiceList.toArray(new VoiceMensuralData[1]);\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getNumVoices_1() {\n        return this.voices.length;\n    }\n    getVoice_1(vnum) {\n        if (vnum >= this.voices.length)\n            return null;\n        return this.voices[vnum];\n    }\n    getVoiceMetaData_1(vnum) {\n        return this.getVoice_1(vnum).getMetaData();\n    }\n    /* search for mensural data for a given set of master voice meta-data */\n    getMensuralDataForVoice(v) {\n        for (let vmd of this.voices)\n            if (vmd != null && vmd.getMetaData() == v)\n                return vmd;\n        return null;\n    }\n    // not found\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVoice_1(vnum, v) {\n        this.voices[vnum] = v;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MusicMensuralSection.ts?");

/***/ }),

/***/ "./src/DataStruct/MusicSection.ts":
/*!****************************************!*\
  !*** ./src/DataStruct/MusicSection.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusicSection: () => (/* binding */ MusicSection)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _TacetInfo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TacetInfo */ \"./src/DataStruct/TacetInfo.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\nclass MusicSection {\n    constructor() {\n        this.principalSource = null;\n        this.principalSourceNum = 0;\n        this.curVersion = null;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nMethod:  MusicSection shallowCopy()\nPurpose: Create a shallow copy of this object\nParameters:\n  Input:  -\n  Output: -\n  Return: new shallow copy of this\n------------------------------------------------------------------------*/\n    shallowCopy_1() {\n        return null;\n    }\n    /* to be overridden */\n    copyBaseInfo(copySection) {\n        copySection.principalSource = this.principalSource;\n        copySection.principalSourceNum = this.principalSourceNum;\n        copySection.curVersion = this.curVersion;\n        copySection.tacetInfo = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_2__.ArrayList(this.tacetInfo);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initParams()\nPurpose: Basic initialization to be called from all constructors\nParameters:\n  Input:  common MusicSection attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initParams(editorial, sectionType) {\n        this.editorial = editorial;\n        this.sectionType = sectionType;\n        this.tacetInfo = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_2__.ArrayList();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void recalcAllEventParams([VoiceEventListData[] lastv])\nPurpose: Recalculate event attributes based on parameters (clef, mensuration\n         info) for all voices\nParameters:\n  Input:  VoiceEventListData[] last v - voices in last section (providing starting\n                                        parameters for this section)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcAllEventParams_1(lastv) {\n        for (let vi = 0; vi < this.getNumVoices_1(); vi++) {\n            let v = this.getVoice_1(vi);\n            if (v != null)\n                v.recalcEventParams_2(lastv == null ? null : lastv[vi]);\n        }\n    }\n    recalcAllEventParams_2() {\n        this.recalcAllEventParams_1(null);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addVoice(Voice newv)\nPurpose: Add new voice to end of voice list (if applicable)\nParameters:\n  Input:  Voice newv - new voice metadata\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addVoice_1(newv) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: called addVoice in no-voice section\");\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initializeNewVoice(int vnum,Voice newv)\nPurpose: Create new voice within voice list (if applicable)\nParameters:\n  Input:  int vnum   - new voice number\n          Voice newv - new voice metadata\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initializeNewVoice_1(vnum, newv) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: called initializeNewVoice in no-voice section\");\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeVoice(int vnum)\nPurpose: Remove voice from section (if applicable)\nParameters:\n  Input:  int vnum - number of voice to remove\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeVoice_1(vnum) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: called removeVoice in no-voice section\");\n    }\n    /*------------------------------------------------------------------------\nMethods: void updateVoiceList(Voice[] oldVL,Voice[] newVL,Voice[] newVoiceOrder)\nPurpose: Update voice list to match changes in master voice list (if\n         applicable)\nParameters:\n  Input:  Voice[] oldVL,newVL   - old and new master voice lists\n          Voice[] newVoiceOrder - old voice list rearranged to match new order\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateVoiceList_1(oldVL, newVL, newVoiceOrder) {\n    }\n    /* default: no action */\n    /*------------------------------------------------------------------------\nMethods: int getValidVoicenum(int vnum)\nPurpose: Calculate valid voice number closest to a given number\nParameters:\n  Input:  int vnum - voice number to attempt to get\n  Output: -\n  Return: valid voice number (closest to given number)\n------------------------------------------------------------------------*/\n    getValidVoicenum(vnum) {\n        if (this.getVoice_1(vnum) != null)\n            return vnum;\n        let beforeVnum = ((vnum - 1) | 0);\n        let afterVnum = ((vnum + 1) | 0);\n        let done = beforeVnum < 0 && afterVnum >= this.getNumVoices_1();\n        while (!done)\n            if (beforeVnum >= 0 && this.getVoice_1(beforeVnum) != null)\n                return beforeVnum;\n            else if (afterVnum < this.getNumVoices_1() && this.getVoice_1(afterVnum) != null)\n                return afterVnum;\n            else {\n                beforeVnum--;\n                afterVnum++;\n                done = beforeVnum < 0 && afterVnum >= this.getNumVoices_1();\n            }\n        return -1;\n    }\n    /* look for closest valid voice to vnum */\n    /* no voices in section! */\n    /*------------------------------------------------------------------------\nMethods: void initializeNewVoice(Voice v)\nPurpose: Create new voice within\nParameters:\n  Input:  int vnum - voice number to attempt to get\n  Output: -\n  Return: valid voice number (closest to given number)\n------------------------------------------------------------------------*/\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getBaseColoration() {\n        return this.baseColoration;\n    }\n    getMissingVersions(vnum) {\n        return this.getVoice_1(vnum).getMissingVersions();\n    }\n    getNumVoices_1() {\n        return 0;\n    }\n    getNumVoicesUsed() {\n        let numVoices = this.getNumVoices_1();\n        let numVoicesUsed = 0;\n        for (let i = 0; i < numVoices; i++)\n            if (this.getVoice_1(i) != null)\n                numVoicesUsed++;\n        return numVoicesUsed;\n    }\n    getPrincipalSource() {\n        return this.principalSource;\n    }\n    getPrincipalSourceNum() {\n        return this.principalSourceNum;\n    }\n    getSectionType() {\n        return this.sectionType;\n    }\n    getTacetInfo() {\n        return this.tacetInfo;\n    }\n    getTacetText(vnum) {\n        for (let ti of this.tacetInfo)\n            if (ti.voiceNum == vnum)\n                return ti.tacetText;\n        return null;\n    }\n    getVersion() {\n        return this.curVersion;\n    }\n    getVoice_1(vnum) {\n        return null;\n    }\n    getVoiceMetaData_1(vnum) {\n        return null;\n    }\n    isDefaultVersion() {\n        return this.curVersion == null;\n    }\n    isEditorial() {\n        return this.editorial;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addMissingVersion(vnum, vvd) {\n        this.getVoice_1(vnum).addMissingVersion(vvd);\n    }\n    removeMissingVersion(vnum, vvd) {\n        this.getVoice_1(vnum).removeMissingVersion(vvd);\n    }\n    setBaseColoration(baseColoration) {\n        this.baseColoration = baseColoration;\n    }\n    setVersion(version) {\n        this.curVersion = version;\n    }\n    setEditorial(editorial) {\n        this.editorial = editorial;\n    }\n    setMissingVersions(vnum, missingVersions) {\n        this.getVoice_1(vnum).setMissingVersions(missingVersions);\n    }\n    setPrincipalSource(principalSource) {\n        this.principalSource = principalSource;\n    }\n    setPrincipalSourceNum(principalSourceNum) {\n        this.principalSourceNum = principalSourceNum;\n    }\n    setTacetText(vnum, text) {\n        let vi;\n        for (vi = 0; vi < this.tacetInfo.size() && this.tacetInfo.get(vi).voiceNum < vnum; vi++)\n            ;\n        if (vi < this.tacetInfo.size()) {\n            let ti = this.tacetInfo.get(vi);\n            if (ti.voiceNum == vnum)\n                if (!(text == \"\"))\n                    ti.tacetText = text;\n                else\n                    this.tacetInfo.remove(vi);\n            else if (!(text == \"\"))\n                this.tacetInfo.add(vi, new _TacetInfo__WEBPACK_IMPORTED_MODULE_1__.TacetInfo(vnum, text));\n        }\n        else if (!(text == \"\"))\n            this.tacetInfo.add(new _TacetInfo__WEBPACK_IMPORTED_MODULE_1__.TacetInfo(vnum, text));\n    }\n    /* replace existing text */\n    /* remove blank text */\n    /* insert new entry */\n    /* append new entry */\n    setVoice_1(vnum, v) {\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* section types */\nMusicSection.MENSURAL_MUSIC = 0;\nMusicSection.PLAINCHANT = 1;\nMusicSection.TEXT = 2;\nMusicSection.sectionTypeNames = [\"Mensural music\", \"Plainchant\", \"Text\"];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MusicSection.ts?");

/***/ }),

/***/ "./src/DataStruct/MusicTextSection.ts":
/*!********************************************!*\
  !*** ./src/DataStruct/MusicTextSection.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusicTextSection: () => (/* binding */ MusicTextSection)\n/* harmony export */ });\n/* harmony import */ var _MusicSection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : MusicTextSection.java\n\n        Package         : DataStruct\n\n        Classes Included: MusicTextSection\n\n        Purpose         : Contents of one text section\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 2/14/07\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   MusicTextSection\nExtends: MusicSection\nPurpose: Contents of one text section\n------------------------------------------------------------------------*/\nclass MusicTextSection extends _MusicSection__WEBPACK_IMPORTED_MODULE_0__.MusicSection {\n    static new4(sectionText, editorial) {\n        let _new4 = new MusicTextSection;\n        MusicTextSection.set4(_new4, sectionText, editorial);\n        return _new4;\n    }\n    static set4(new4, sectionText, editorial) {\n        new4.initParams(editorial, _MusicSection__WEBPACK_IMPORTED_MODULE_0__.MusicSection.TEXT);\n        new4.sectionText = sectionText;\n    }\n    static new5(sectionText) {\n        let _new5 = new MusicTextSection;\n        MusicTextSection.set5(_new5, sectionText);\n        return _new5;\n    }\n    static set5(new5, sectionText) {\n        MusicTextSection.set4(new5, sectionText, false);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getSectionText() {\n        return this.sectionText;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/MusicTextSection.ts?");

/***/ }),

/***/ "./src/DataStruct/NoteEvent.ts":
/*!*************************************!*\
  !*** ./src/DataStruct/NoteEvent.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoteEvent: () => (/* binding */ NoteEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Pitch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _ModernAccidental__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n/* harmony import */ var _Mensuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\n\n\nclass NoteEvent extends _Event__WEBPACK_IMPORTED_MODULE_5__.Event {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  int strtoNT(String nt)\nPurpose: Convert string to note type number\nParameters:\n  Input:  String nt - string to convert\n  Output: -\n  Return: note type number\n------------------------------------------------------------------------*/\n    static strtoNT(nt) {\n        let i;\n        for (i = 0; i < NoteEvent.NoteTypeNames.length; i++)\n            if ((nt == NoteEvent.NoteTypeNames[i]))\n                return i;\n        if (i == NoteEvent.NoteTypeNames.length)\n            i = ((NoteEvent.NoteTypeNames.length - 1) | 0);\n        return i;\n    }\n    static lenToNT(len) {\n        let nt = 0;\n        for (let dl of NoteEvent.DefaultLengths)\n            if (dl.greaterThan(len))\n                return nt > 0 ? ((nt - 1) | 0) : 0;\n            else\n                nt++;\n        return ((NoteEvent.DefaultLengths.length - 1) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int strtoStemDir(String s)\nPurpose: Convert string to stem direction number\nParameters:\n  Input:  String s - string to convert\n  Output: -\n  Return: stem dir number\n------------------------------------------------------------------------*/\n    static strtoStemDir(s) {\n        for (let i = 0; i < NoteEvent.StemDirs.length; i++)\n            if ((s == NoteEvent.StemDirs[i]))\n                return i;\n        return -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Proportion getTypeLength(int nt,Mensuration mensinfo)\nPurpose: Calculate length of note type (perfect and unaltered when applicable)\nParameters:\n  Input:  int nt               - note type\n          Mensuration mensinfo - mensuration information\n  Output: -\n  Return: length as proportion\n------------------------------------------------------------------------*/\n    static getTypeLength(nt, mensinfo) {\n        let i1 = 0;\n        let i2 = 0;\n        switch (nt) {\n            case NoteEvent.NT_Semifusa:\n                {\n                    i1 = 1;\n                    i2 = 8;\n                    break;\n                }\n            case NoteEvent.NT_Fusa:\n                {\n                    i1 = 1;\n                    i2 = 4;\n                    break;\n                }\n            case NoteEvent.NT_Semiminima:\n                {\n                    i1 = 1;\n                    i2 = 2;\n                    break;\n                }\n            case NoteEvent.NT_Minima:\n                {\n                    i1 = 1;\n                    i2 = 1;\n                    break;\n                }\n            case NoteEvent.NT_Semibrevis:\n                {\n                    i1 = mensinfo.prolatio;\n                    i2 = 1;\n                    break;\n                }\n            case NoteEvent.NT_Brevis:\n                {\n                    i1 = ((mensinfo.tempus * mensinfo.prolatio) | 0);\n                    i2 = 1;\n                    break;\n                }\n            case NoteEvent.NT_Longa:\n                {\n                    i1 = ((((mensinfo.modus_minor * mensinfo.tempus) | 0) * mensinfo.prolatio) | 0);\n                    i2 = 1;\n                    break;\n                }\n            case NoteEvent.NT_Maxima:\n                {\n                    i1 = ((((((mensinfo.modus_maior * mensinfo.modus_minor) | 0) * mensinfo.tempus) | 0) * mensinfo.prolatio) | 0);\n                    i2 = 1;\n                    break;\n                }\n        }\n        return _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(i1, i2);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int oppositefill(int nhs)\nPurpose: Calculate notehead with opposite fill type (void/full)\nParameters:\n  Input:  int nhs - notehead style\n  Output: -\n  Return: opposite-fill notehead style\n------------------------------------------------------------------------*/\n    static oppositefill(nhs) {\n        switch (nhs) {\n            case NoteEvent.NOTEHEADSTYLE_BREVE:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_FULLBREVE;\n                }\n            case NoteEvent.NOTEHEADSTYLE_SEMIBREVE:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_FULLSEMIBREVE;\n                }\n            case NoteEvent.NOTEHEADSTYLE_MAXIMA:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_FULLMAXIMA;\n                }\n            case NoteEvent.NOTEHEADSTYLE_FULLBREVE:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_BREVE;\n                }\n            case NoteEvent.NOTEHEADSTYLE_FULLSEMIBREVE:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_SEMIBREVE;\n                }\n            case NoteEvent.NOTEHEADSTYLE_FULLMAXIMA:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_MAXIMA;\n                }\n            case NoteEvent.NOTEHEADSTYLE_FULLVOID_BREVE:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_VOIDFULL_BREVE;\n                }\n            case NoteEvent.NOTEHEADSTYLE_VOIDFULL_BREVE:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_FULLVOID_BREVE;\n                }\n            case NoteEvent.NOTEHEADSTYLE_FULLVOID_MAXIMA:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_VOIDFULL_MAXIMA;\n                }\n            case NoteEvent.NOTEHEADSTYLE_VOIDFULL_MAXIMA:\n                {\n                    return NoteEvent.NOTEHEADSTYLE_FULLVOID_MAXIMA;\n                }\n        }\n        return -1;\n    }\n    static new24(nt, len, p, po, l, c, hc, sd, ss, f, mt, we, modernTextEditorial, tieType) {\n        let _new24 = new NoteEvent;\n        NoteEvent.set24(_new24, nt, len, p, po, l, c, hc, sd, ss, f, mt, we, modernTextEditorial, tieType);\n        return _new24;\n    }\n    static set24(new24, nt, len, p, po, l, c, hc, sd, ss, f, mt, we, modernTextEditorial, tieType) {\n        _Event__WEBPACK_IMPORTED_MODULE_5__.Event.set0(new24);\n        new24.eventtype = NoteEvent.EVENT_NOTE;\n        new24.notetype = nt;\n        new24.length = (new24.musictime = len == null ? null : _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(len));\n        new24.pitch = p;\n        new24.pitchOffset = po;\n        new24.stemdir = NoteEvent.STEM_UP;\n        new24.stemside = NoteEvent.STEM_NONE;\n        new24.ligstatus = l;\n        new24.colored = c;\n        new24.halfColoration = hc;\n        new24.numFlags = f;\n        if (sd != NoteEvent.STEM_NONE) {\n            new24.stemdir = sd;\n            new24.stemside = ss;\n        }\n        new24.selectNoteheadStyle();\n        new24.modernText = mt;\n        new24.wordEnd = we;\n        new24.modernTextEditorial = modernTextEditorial;\n        new24.tieType = tieType;\n        new24.modernDot = false;\n        new24._displayAccidental = true;\n    }\n    static new25(nt, len, p, po, l, c, hc, sd, ss, f, mt, we, mte, tt) {\n        let _new25 = new NoteEvent;\n        NoteEvent.set25(_new25, nt, len, p, po, l, c, hc, sd, ss, f, mt, we, mte, tt);\n        return _new25;\n    }\n    static set25(new25, nt, len, p, po, l, c, hc, sd, ss, f, mt, we, mte, tt) {\n        NoteEvent.set24(new25, NoteEvent.strtoNT(nt), len, p, po, l, c, hc, sd, ss, f, mt, we, mte, tt);\n    }\n    static new26(nt, len, p, po, l, c, hc, sd, ss, f, mt) {\n        let _new26 = new NoteEvent;\n        NoteEvent.set26(_new26, nt, len, p, po, l, c, hc, sd, ss, f, mt);\n        return _new26;\n    }\n    static set26(new26, nt, len, p, po, l, c, hc, sd, ss, f, mt) {\n        NoteEvent.set25(new26, nt, len, p, po, l, c, hc, sd, ss, f, mt, false, false, NoteEvent.TIE_NONE);\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = NoteEvent.new24(this.notetype, this.length, _Pitch__WEBPACK_IMPORTED_MODULE_2__.Pitch.new3(this.pitch), _ModernAccidental__WEBPACK_IMPORTED_MODULE_3__.ModernAccidental.new4(this.pitchOffset), this.ligstatus, this.colored, this.halfColoration, this.stemdir, this.stemside, this.numFlags, this.modernText == null ? null : this.modernText, this.wordEnd, this.modernTextEditorial, this.tieType);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    copyEventAttributes_1(other) {\n        super.copyEventAttributes_1(other);\n        let ne = other;\n        this.modernDot = ne.modernDot;\n        this._displayAccidental = ne._displayAccidental;\n    }\n    /*------------------------------------------------------------------------\nMethod:    LinkedList<Event> makeModernNoteShapes()\nOverrides: Event.makeModernNoteShapes\nPurpose:   Make event (copy) in modern notation\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this with modern note shape, expanded into multiple\n          events if necessary\n------------------------------------------------------------------------*/\n    makeModernNoteShapes_1(timePos, measurePos, measureMinims, measureProp, timeProp, useTies) {\n        let el = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_7__.LinkedList();\n        let ne = (this.createCopy_1());\n        if (this.length == null) {\n            ne.notetype = NoteEvent.NT_ModernChant;\n            ne.selectNoteheadStyle();\n            el.add(ne);\n            return el;\n        }\n        if (useTies) {\n            timePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(timePos);\n            let noPropTimePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(timePos);\n            measurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(measurePos);\n            let mensInfo = this.getBaseMensInfo();\n            let noteTime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.quotient(this.length, timeProp);\n            let measureLength = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(((measureMinims * measureProp.i2) | 0), measureProp.i1);\n            let endMeasurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.sum(measurePos, measureLength);\n            let noPropEndMeasurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(((measurePos.i1 + measureMinims) | 0), measurePos.i2);\n            if (!measureProp.equals(mensInfo.tempoChange)) {\n                noPropEndMeasurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.sum(measurePos, _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(((((measureMinims * measureProp.i2) | 0) * mensInfo.tempoChange.i1) | 0), ((measureProp.i1 * mensInfo.tempoChange.i2) | 0)));\n            }\n            while (noteTime.i1 > 0) {\n                if (ne.getLength_1().i1 == 0)\n                    break;\n                let noPropTimeLeftInMeasure = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.product(_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.difference(endMeasurePos, timePos), mensInfo.tempoChange);\n                ne.calcModernNoteTypeAndLength(noteTime, timeProp, noPropTimeLeftInMeasure, _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.DEFAULT_MENSURATION);\n                el.add(ne);\n                timePos.add(_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.quotient(ne.getLength_1(), mensInfo.tempoChange));\n                noPropTimePos.add(ne.getLength_1());\n                noteTime.subtract(ne.getLength_1());\n                if (timePos.greaterThanOrEqualTo(endMeasurePos)) {\n                    measurePos.i1 += measureMinims;\n                    endMeasurePos.add(measureLength);\n                }\n                ne = ne.makeNextTiedNote();\n            }\n        }\n        else {\n            let newNoteType = NoteEvent.NT_DoubleWhole;\n            switch (ne.notetype) {\n                case NoteEvent.NT_Semibrevis:\n                    {\n                        newNoteType = NoteEvent.NT_Whole;\n                        break;\n                    }\n                case NoteEvent.NT_Minima:\n                    {\n                        newNoteType = NoteEvent.NT_Half;\n                        break;\n                    }\n                case NoteEvent.NT_Semiminima:\n                    {\n                        newNoteType = NoteEvent.NT_Quarter;\n                        break;\n                    }\n                case NoteEvent.NT_Fusa:\n                    {\n                    }\n                case NoteEvent.NT_Semifusa:\n                    {\n                        newNoteType = NoteEvent.NT_Flagged;\n                        break;\n                    }\n            }\n            ne.notetype = newNoteType;\n            ne.colored = false;\n            ne.halfColoration = NoteEvent.HALFCOLORATION_NONE;\n            ne.colorscheme = _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.DEFAULT_COLORATION;\n            ne.selectNoteheadStyle();\n            el.add(ne);\n        }\n        return el;\n    }\n    /* chant */\n    //        ne.colored=false; ne.halfColoration=HALFCOLORATION_NONE;\n    //        ne.colorscheme=Coloration.DEFAULT_COLORATION;\n    //Mensuration.DEFAULT_MENSURATION;\n    //if (!mensInfo.tempoChange.equals(Proportion.EQUALITY))\n    //System.out.print(\"TC=\"+mensInfo.tempoChange+\"|TP=\"+timeProp+\"|\");\n    //System.out.println(\"------MMNS----- timeprop=\"+timeProp+\n    //                   \" measureprop=\"+measureProp+\" mi.tempochange=\"+mensInfo.tempoChange);\n    //System.out.println(\"XXXXXXXX-NPEMP=\"+noPropEndMeasurePos+\"-XXXXXXXXX\");\n    //if (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\n    //System.out.println(\"------time=\"+timePos+\" endmeasure=\"+endMeasurePos+\"||\");\n    /*if (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\nSystem.out.print(\"  |nt=\"+noteTime+\" nptlim=\"+noPropTimeLeftInMeasure+\" \");\nif (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\nSystem.out.print(\"nl1=\"+ne.getLength()+\" \");*/\n    /*System.out.println(\"  1nt=\"+noteTime+\" tp=\"+timePos+\" emp=\"+endMeasurePos);\nif (!measureProp.equals(mensInfo.tempoChange))\nSystem.out.println(\"XXXXXXXX-NPTLIM=\"+noPropTimeLeftInMeasure);*/\n    /* calcModernNoteTypeAndLength should get measurePos and endMeasurePos\n               as if no proportions are applied... */\n    //            if (Proportion.quotient(ne.getLength(),timeProp).greaterThan(noteTime))\n    //              ne.setLength(Proportion.product(new Proportion(noteTime),timeProp));\n    //            if (ne.getLength().greaterThan(noteTime))\n    //              ne.setLength(new Proportion(noteTime));\n    //if (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\n    //System.out.print(\"nl2=\"+ne.getLength()+\" \");\n    //            noteTime.subtract(Proportion.quotient(ne.getLength(),totalProp));\n    //            timePos.add(Proportion.quotient(ne.getLength(),totalProp));\n    //            timePos.add(ne.getLength());\n    //if (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\n    //System.out.print(\" nptp=\"+noPropTimePos+\" \");\n    //            timePos.add(ne.getLength());\n    //if (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\n    //System.out.print(\"TP=\"+timePos+\" EMP=\"+endMeasurePos+\" \");\n    /*                noPropTimeLeftInMeasure=Proportion.product(\n                  new Proportion(measureMinims,1),\n                  mensInfo.tempoChange);*/\n    //if (!timeProp.equals(Proportion.EQUALITY) || !mensInfo.tempoChange.equals(Proportion.EQUALITY))\n    //System.out.println();\n    //System.out.println(\"  2nt=\"+noteTime+\" tp=\"+timePos+\" emp=\"+endMeasurePos);\n    makeNextTiedNote() {\n        let ne = (this.createCopy_1());\n        ne.setModernText(null);\n        ne.setEdCommentary(null);\n        ne.setDisplayAccidental(false);\n        ne.setSignum(null);\n        return ne;\n    }\n    /* should not take proportions into account!!! */\n    calcModernNoteTypeAndLength(noteTime, timeProp, timeLeftInMeasure, m) {\n        let mensInfo = this.getBaseMensInfo();\n        let maxTime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.min(noteTime, timeLeftInMeasure);\n        let nt = NoteEvent.NT_Maxima;\n        while (nt >= NoteEvent.NT_Fusa && NoteEvent.getTypeLength(nt, m).greaterThan(maxTime))\n            nt--;\n        let newNoteType = NoteEvent.NT_DoubleWhole;\n        switch (nt) {\n            case NoteEvent.NT_Semibrevis:\n                {\n                    newNoteType = NoteEvent.NT_Whole;\n                    break;\n                }\n            case NoteEvent.NT_Minima:\n                {\n                    newNoteType = NoteEvent.NT_Half;\n                    break;\n                }\n            case NoteEvent.NT_Semiminima:\n                {\n                    newNoteType = NoteEvent.NT_Quarter;\n                    break;\n                }\n            case NoteEvent.NT_Fusa:\n                {\n                    this.numFlags = 1;\n                    newNoteType = NoteEvent.NT_Flagged;\n                    break;\n                }\n            case NoteEvent.NT_Semifusa:\n                {\n                    this.numFlags = 2;\n                    newNoteType = NoteEvent.NT_Flagged;\n                    break;\n                }\n        }\n        this.notetype = newNoteType;\n        this.colored = false;\n        this.halfColoration = NoteEvent.HALFCOLORATION_NONE;\n        this.colorscheme = _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.DEFAULT_COLORATION;\n        this.selectNoteheadStyle();\n        this.setLength_1(maxTime);\n        if (this.getLength_1().lessThan(noteTime))\n            this.tieType = NoteEvent.TIE_UNDER;\n        else\n            this.tieType = NoteEvent.TIE_NONE;\n        if (this.getLength_1().toDouble() >= NoteEvent.getTypeLength(nt, m).toDouble() * 1.5)\n            this.modernDot = true;\n    }\n    //Mensuration.DEFAULT_MENSURATION;\n    /*    Proportion timeInMeasure=Proportion.quotient(\n      Proportion.quotient(Proportion.difference(endMeasurePos,timePos),timeProp),\n      mensInfo.tempoChange),*/\n    //    Proportion timeLeftInMeasure=Proportion.difference(endMeasurePos,timePos),\n    //               maxTime=Proportion.min(Proportion.product(noteTime,timeProp),timeLeftInMeasure);\n    //System.out.print(\" MaxT=\"+maxTime+\" \");\n    /*if (!mensInfo.tempoChange.equals(Proportion.EQUALITY))\nSystem.out.print(\" TLIM=\"+timeLeftInMeasure);*/\n    //    this.setLength(NoteEvent.getTypeLength(this.notetype,m));\n    //System.out.print(\"L=\"+this.getLength());\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherNE = other;\n        return this.notetype == otherNE.notetype && this.length.equals(otherNE.length) && this.pitch.equals(otherNE.pitch) && this.pitchOffset.equals(otherNE.pitchOffset) && this.ligstatus == otherNE.ligstatus && this.colored == otherNE.colored && this.halfColoration == otherNE.halfColoration && this.stemdir == otherNE.stemdir && this.stemside == otherNE.stemside && this.numFlags == otherNE.numFlags && this.modernTextEquals(otherNE) && this.wordEnd == otherNE.wordEnd && this.tieType == otherNE.tieType;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean notePitchMatches(Event other)\nPurpose: Calculate whether this event's pitch(es) match(es) those of another;\n         only for note events\nParameters:\n  Input:  Event other - event for comparison\n  Output: -\n  Return: Whether pitches are equal\n------------------------------------------------------------------------*/\n    notePitchMatches_1(other) {\n        if (other.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_MULTIEVENT)\n            return other.notePitchMatches_1(this);\n        if (other.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_NOTE)\n            return false;\n        return this.getPitch_1().equals(other.getPitch_1());\n    }\n    /* note vs. note */\n    /*  boolean accidentalInfoEquals(NoteEvent otherNE)\n  {\n    if (this.accidentalInfo==null)\n      return otherNE.accidentalInfo==null;\n    return this.accidentalInfo.equals(otherNE.accidentalInfo);\n  }*/\n    modernTextEquals(otherNE) {\n        if (this.modernText == null)\n            return otherNE.modernText == null;\n        return (this.modernText == otherNE.modernText);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void selectNoteheadStyle()\nPurpose: Set notehead style based on note type and coloration scheme\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    selectNoteheadStyle() {\n        if (this.modernNoteType()) {\n            switch (this.notetype) {\n                case NoteEvent.NT_ModernChant:\n                    {\n                        this.noteheadstyle = NoteEvent.NOTEHEADSTYLE_MODERN_STEMLESS_CHANT;\n                        break;\n                    }\n                case NoteEvent.NT_Flagged:\n                    {\n                    }\n                case NoteEvent.NT_Quarter:\n                    {\n                        this.noteheadstyle = NoteEvent.NOTEHEADSTYLE_MODERN_CROTCHET_UP;\n                        break;\n                    }\n                case NoteEvent.NT_Half:\n                    {\n                        this.noteheadstyle = NoteEvent.NOTEHEADSTYLE_MODERN_MINIM_UP;\n                        break;\n                    }\n                case NoteEvent.NT_Whole:\n                    {\n                        this.noteheadstyle = NoteEvent.NOTEHEADSTYLE_MODERN_SEMIBREVE;\n                        break;\n                    }\n                default:\n                    {\n                        this.noteheadstyle = NoteEvent.NOTEHEADSTYLE_MODERN_BREVE;\n                        break;\n                    }\n            }\n            return;\n        }\n        let c = this.colorscheme;\n        if (this.halfColoration != NoteEvent.HALFCOLORATION_NONE)\n            switch (this.notetype) {\n                case NoteEvent.NT_Brevis:\n                    {\n                    }\n                case NoteEvent.NT_Longa:\n                    {\n                        if (this.halfColoration == NoteEvent.HALFCOLORATION_PRIMARYSECONDARY)\n                            this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLVOID_BREVE : NoteEvent.NOTEHEADSTYLE_VOIDFULL_BREVE;\n                        else\n                            this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_VOIDFULL_BREVE : NoteEvent.NOTEHEADSTYLE_FULLVOID_BREVE;\n                        break;\n                    }\n                case NoteEvent.NT_Maxima:\n                    {\n                        if (this.halfColoration == NoteEvent.HALFCOLORATION_PRIMARYSECONDARY)\n                            this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLVOID_MAXIMA : NoteEvent.NOTEHEADSTYLE_VOIDFULL_MAXIMA;\n                        else\n                            this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_VOIDFULL_MAXIMA : NoteEvent.NOTEHEADSTYLE_FULLVOID_MAXIMA;\n                        break;\n                    }\n                default:\n                    {\n                        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: attempting to assign half-coloration to an invalid note type\");\n                    }\n            }\n        else if (this.colored)\n            switch (this.notetype) {\n                case NoteEvent.NT_Semifusa:\n                    {\n                    }\n                case NoteEvent.NT_Fusa:\n                    {\n                    }\n                case NoteEvent.NT_Semiminima:\n                    {\n                    }\n                case NoteEvent.NT_Minima:\n                    {\n                    }\n                case NoteEvent.NT_Semibrevis:\n                    {\n                        this.noteheadstyle = c.secondaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLSEMIBREVE : NoteEvent.NOTEHEADSTYLE_SEMIBREVE;\n                        break;\n                    }\n                case NoteEvent.NT_Maxima:\n                    {\n                        this.noteheadstyle = c.secondaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLMAXIMA : NoteEvent.NOTEHEADSTYLE_MAXIMA;\n                        break;\n                    }\n                default:\n                    {\n                        this.noteheadstyle = c.secondaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLBREVE : NoteEvent.NOTEHEADSTYLE_BREVE;\n                        break;\n                    }\n            }\n        else\n            switch (this.notetype) {\n                case NoteEvent.NT_Semifusa:\n                    {\n                    }\n                case NoteEvent.NT_Fusa:\n                    {\n                    }\n                case NoteEvent.NT_Semiminima:\n                    {\n                        this.noteheadstyle = c.secondaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLSEMIBREVE : NoteEvent.NOTEHEADSTYLE_SEMIBREVE;\n                        break;\n                    }\n                case NoteEvent.NT_Minima:\n                    {\n                    }\n                case NoteEvent.NT_Semibrevis:\n                    {\n                        this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLSEMIBREVE : NoteEvent.NOTEHEADSTYLE_SEMIBREVE;\n                        break;\n                    }\n                case NoteEvent.NT_Maxima:\n                    {\n                        this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLMAXIMA : NoteEvent.NOTEHEADSTYLE_MAXIMA;\n                        break;\n                    }\n                default:\n                    {\n                        this.noteheadstyle = c.primaryFill == _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL ? NoteEvent.NOTEHEADSTYLE_FULLBREVE : NoteEvent.NOTEHEADSTYLE_BREVE;\n                        break;\n                    }\n            }\n        if (this.notetype == NoteEvent.NT_Semiminima && this.numFlags > 0 && !this.colored)\n            this.noteheadstyle = NoteEvent.oppositefill(this.noteheadstyle);\n    }\n    /* half-colored notehead */\n    /* colored notes always use Secondary coloration */\n    /*------------------------------------------------------------------------\nMethod:  boolean canBePerfect(Mensuration mensinfo)\nPurpose: Check whether note can be perfected/imperfected under a given\n         mensuration (only checks pars propinqua)\nParameters:\n  Input:  Mensuration mensinfo - mensuration information\n  Output: -\n  Return: whether note can be perfected/imperfected\n------------------------------------------------------------------------*/\n    canBePerfect(mensinfo) {\n        switch (this.notetype) {\n            case NoteEvent.NT_Semibrevis:\n                {\n                    return mensinfo.prolatio == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n            case NoteEvent.NT_Brevis:\n                {\n                    return mensinfo.tempus == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n            case NoteEvent.NT_Longa:\n                {\n                    return mensinfo.modus_minor == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n            case NoteEvent.NT_Maxima:\n                {\n                    return mensinfo.modus_maior == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n        }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean canBeAltered(Mensuration mensinfo)\nPurpose: Check whether note can be altered under a given mensuration\nParameters:\n  Input:  Mensuration mensinfo - mensuration information\n  Output: -\n  Return: whether note can be altered\n------------------------------------------------------------------------*/\n    canBeAltered(mensinfo) {\n        switch (this.notetype) {\n            case NoteEvent.NT_Minima:\n                {\n                    return mensinfo.prolatio == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n            case NoteEvent.NT_Semibrevis:\n                {\n                    return mensinfo.tempus == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n            case NoteEvent.NT_Brevis:\n                {\n                    return mensinfo.modus_minor == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n            case NoteEvent.NT_Longa:\n                {\n                    return mensinfo.modus_maior == _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.MENS_TERNARY;\n                }\n        }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getnotetype_1() {\n        return this.notetype;\n    }\n    getnoteheadstyle() {\n        return this.noteheadstyle;\n    }\n    getHalfColoration() {\n        return this.halfColoration;\n    }\n    getLength_1() {\n        return this.length;\n    }\n    getMIDIPitch() {\n        return ((this.pitch.toMIDIPitch() + this.pitchOffset.pitchOffset) | 0);\n    }\n    getPitch_1() {\n        return this.pitch;\n    }\n    getPitchOffset() {\n        return this.pitchOffset;\n    }\n    isligated() {\n        return this.ligstatus != NoteEvent.LIG_NONE;\n    }\n    getligtype() {\n        return this.ligstatus;\n    }\n    modernNoteType() {\n        return this.notetype >= NoteEvent.NT_Flagged && this.notetype <= NoteEvent.NT_DoubleWhole;\n    }\n    getNumFlags() {\n        return this.numFlags;\n    }\n    isMinorColor_1() {\n        if (!this.isColored())\n            return false;\n        let m = this.getBaseMensInfo();\n        let dtl = NoteEvent.getTypeLength(this.notetype, m);\n        let diffDenominator = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.difference(dtl, this.length).i2;\n        return !m.ternary(this.notetype) && this.length.lessThan(dtl) && (diffDenominator < 3 || diffDenominator == 4 || diffDenominator == 8);\n    }\n    hasStem() {\n        return this.notetype == NoteEvent.NT_Semifusa || this.notetype == NoteEvent.NT_Fusa || this.notetype == NoteEvent.NT_Semiminima || this.notetype == NoteEvent.NT_Minima || this.notetype == NoteEvent.NT_Longa || this.notetype == NoteEvent.NT_Maxima || this.notetype == NoteEvent.NT_Flagged || this.notetype == NoteEvent.NT_Quarter || this.notetype == NoteEvent.NT_Half;\n    }\n    hasModernDot() {\n        return this.modernDot;\n    }\n    getstemdir() {\n        return this.stemdir;\n    }\n    getstemside() {\n        return this.stemside;\n    }\n    getTieType() {\n        return this.tieType;\n    }\n    isflagged_1() {\n        return this.numFlags > 0 || this.notetype == NoteEvent.NT_Flagged;\n    }\n    /*  public boolean hasstem()\n  {\n    return stemside!=-1 ||\n           (notetype!=NT_Brevis && notetype!=NT_Semibrevis);\n  }*/\n    getModernText() {\n        return this.modernText;\n    }\n    isModernTextEditorial() {\n        return this.modernTextEditorial;\n    }\n    isWordEnd() {\n        return this.wordEnd;\n    }\n    displayAccidental() {\n        return this._displayAccidental;\n    }\n    /* overrides Event methods */\n    getcolor_1() {\n        if ((this.colored && (this.numFlags == 0 || this.notetype != NoteEvent.NT_Semiminima)) || this.notetype == NoteEvent.NT_Semifusa || this.notetype == NoteEvent.NT_Fusa || this.notetype == NoteEvent.NT_Semiminima)\n            return this.colorscheme.secondaryColor;\n        else\n            return this.colorscheme.primaryColor;\n    }\n    getcolorfill_1() {\n        if (this.noteheadstyle == NoteEvent.NOTEHEADSTYLE_SEMIBREVE || this.noteheadstyle == NoteEvent.NOTEHEADSTYLE_BREVE || this.noteheadstyle == NoteEvent.NOTEHEADSTYLE_MAXIMA)\n            return _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.VOID;\n        else\n            return _Coloration__WEBPACK_IMPORTED_MODULE_6__.Coloration.FULL;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setpitch_1(p) {\n        this.pitch = p;\n    }\n    modifyPitchOffset(offset) {\n        this.pitchOffset.pitchOffset += offset;\n    }\n    setPitchOffset(pitchOffset) {\n        this.pitchOffset.pitchOffset = pitchOffset;\n    }\n    setnotetype_1(nt, f, m) {\n        this.notetype = nt;\n        this.numFlags = f;\n        this.selectNoteheadStyle();\n    }\n    setLength_1(l) {\n        this.length = (this.musictime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(l));\n    }\n    setstemdir(sd) {\n        this.stemdir = sd;\n    }\n    setstemside(ss) {\n        this.stemside = ss;\n    }\n    setligtype(lt) {\n        this.ligstatus = lt;\n    }\n    setColored_1(c) {\n        super.setColored_1(c);\n        this.selectNoteheadStyle();\n    }\n    setHalfColoration(hc) {\n        this.halfColoration = hc;\n        this.selectNoteheadStyle();\n    }\n    setModernText(s) {\n        this.modernText = s;\n    }\n    setTieType(newval) {\n        this.tieType = newval;\n    }\n    setWordEnd(we) {\n        this.wordEnd = we;\n    }\n    setModernTextEditorial(modernTextEditorial) {\n        this.modernTextEditorial = modernTextEditorial;\n    }\n    setDisplayAccidental(displayAccidental) {\n        this._displayAccidental = displayAccidental;\n    }\n    /* overrides Event methods */\n    setcolorparams_1(c) {\n        this.colorscheme = c;\n        this.selectNoteheadStyle();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Note: \" + NoteEvent.NoteTypeNames[this.notetype] + \",\" + this.length.i1 + \"/\" + this.length.i2 + \",\" + this.pitch.toString());\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nNoteEvent.NT_Semifusa = 0;\nNoteEvent.NT_Fusa = 1;\nNoteEvent.NT_Semiminima = 2;\nNoteEvent.NT_Minima = 3;\n//NT_Semibrevis=4,//Event.NT_Semibrevis,\n//  NT_Brevis=    5,//Event.NT_Brevis,\n//  NT_Longa=     6,//Event.NT_Longa,\n//  NT_Maxima=    7,//Event.NT_Maxima,\nNoteEvent.NT_Flagged = 8;\nNoteEvent.NT_Quarter = 9;\nNoteEvent.NT_Half = 10;\nNoteEvent.NT_Whole = 11;\nNoteEvent.NT_DoubleWhole = 12;\nNoteEvent.NT_ModernChant = 13;\nNoteEvent.NoteTypeNames = [\"Semifusa\", \"Fusa\", \"Semiminima\", \"Minima\", \"Semibrevis\", \"Brevis\", \"Longa\", \"Maxima\", \"Modern Flagged Note\", \"Quarter note\", \"Half note\", \"Whole note\", \"Double whole note\", \"UNKNOWN\"];\nNoteEvent.DefaultLengths = [_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(1, 8), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(1, 4), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(1, 2), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(1, 1), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(2, 1), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(4, 1), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(8, 1), _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(16, 1)];\nNoteEvent.LIG_NONE = 0;\nNoteEvent.LIG_RECTA = 1;\nNoteEvent.LIG_OBLIQUA = 2;\nNoteEvent.LigTypeNames = [\"XXX\", \"Recta\", \"Obliqua\"];\nNoteEvent.TIE_NONE = 0;\nNoteEvent.TIE_OVER = 1;\nNoteEvent.TIE_UNDER = 2;\nNoteEvent.TieTypeNames = [\"XXX\", \"Over\", \"Under\"];\nNoteEvent.STEM_NONE = -1;\nNoteEvent.STEM_UP = 0;\nNoteEvent.STEM_DOWN = 1;\nNoteEvent.STEM_LEFT = 2;\nNoteEvent.STEM_RIGHT = 3;\nNoteEvent.STEM_BARLINE = 4;\nNoteEvent.StemDirs = [\"Up\", \"Down\", \"Left\", \"Right\", \"Barline\"];\nNoteEvent.NOTEHEADSTYLE_BREVE = 0;\nNoteEvent.NOTEHEADSTYLE_SEMIBREVE = 1;\nNoteEvent.NOTEHEADSTYLE_FULLBREVE = 2;\nNoteEvent.NOTEHEADSTYLE_FULLSEMIBREVE = 3;\nNoteEvent.NOTEHEADSTYLE_MAXIMA = 4;\nNoteEvent.NOTEHEADSTYLE_FULLMAXIMA = 5;\nNoteEvent.NOTEHEADSTYLE_FULLVOID_BREVE = 6;\nNoteEvent.NOTEHEADSTYLE_VOIDFULL_BREVE = 7;\nNoteEvent.NOTEHEADSTYLE_FULLVOID_MAXIMA = 8;\nNoteEvent.NOTEHEADSTYLE_VOIDFULL_MAXIMA = 9;\nNoteEvent.NOTEHEADSTYLE_MODERN_BREVE = 30;\nNoteEvent.NOTEHEADSTYLE_MODERN_SEMIBREVE = 31;\nNoteEvent.NOTEHEADSTYLE_MODERN_MINIM_UP = 32;\nNoteEvent.NOTEHEADSTYLE_MODERN_CROTCHET_UP = 33;\nNoteEvent.NOTEHEADSTYLE_MODERN_MINIM_DOWN = 34;\nNoteEvent.NOTEHEADSTYLE_MODERN_CROTCHET_DOWN = 35;\nNoteEvent.NOTEHEADSTYLE_MODERN_STEMLESS_CHANT = 36;\nNoteEvent.HALFCOLORATION_NONE = 0;\nNoteEvent.HALFCOLORATION_PRIMARYSECONDARY = 1;\nNoteEvent.HALFCOLORATION_SECONDARYPRIMARY = 2;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/NoteEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/OriginalTextEvent.ts":
/*!*********************************************!*\
  !*** ./src/DataStruct/OriginalTextEvent.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OriginalTextEvent: () => (/* binding */ OriginalTextEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : OriginalTextEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: OriginalTextEvent\n\n        Purpose         : Event type for old-style text phrases\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/8/06\n\n        Updates         :\n11/28/08: added variant version info (for multi-text display)\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   OriginalTextEvent\nExtends: Event\nPurpose: Data/routines for original text events\n------------------------------------------------------------------------*/\nclass OriginalTextEvent extends _Event__WEBPACK_IMPORTED_MODULE_1__.Event {\n    static new27(t, variantVersion) {\n        let _new27 = new OriginalTextEvent;\n        OriginalTextEvent.set27(_new27, t, variantVersion);\n        return _new27;\n    }\n    static set27(new27, t, variantVersion) {\n        new27.eventtype = OriginalTextEvent.EVENT_ORIGINALTEXT;\n        new27.text = t;\n        new27.variantVersion = variantVersion;\n    }\n    static new28(t) {\n        let _new28 = new OriginalTextEvent;\n        OriginalTextEvent.set28(_new28, t);\n        return _new28;\n    }\n    static set28(new28, t) {\n        OriginalTextEvent.set27(new28, t, null);\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = OriginalTextEvent.new28(this.text);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherOTE = other;\n        return (this.text == otherOTE.text);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getText() {\n        return this.text;\n    }\n    getVariantVersion() {\n        return this.variantVersion;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setText(t) {\n        this.text = t;\n    }\n    setVariantVersion(variantVersion) {\n        this.variantVersion = variantVersion;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Original text: \" + this.text);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/OriginalTextEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/PieceData.ts":
/*!*************************************!*\
  !*** ./src/DataStruct/PieceData.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PieceData: () => (/* binding */ PieceData)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _VariantReading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n/* harmony import */ var _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VariantMarkerEvent */ \"./src/DataStruct/VariantMarkerEvent.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Mensuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _EventLocation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EventLocation */ \"./src/DataStruct/EventLocation.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\n\n\n\n\nclass PieceData {\n    constructor() {\n        this.isIncipit = false;\n        this.baseColoration = _Coloration__WEBPACK_IMPORTED_MODULE_7__.Coloration.DEFAULT_COLORATION;\n        this.baseMensuration = _Mensuration__WEBPACK_IMPORTED_MODULE_4__.Mensuration.DEFAULT_MENSURATION;\n    }\n    static new0() {\n        let _new0 = new PieceData;\n        PieceData.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.defaultMusicData = new0;\n        new0.musicSections = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__.ArrayList();\n        new0.variantVersions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__.ArrayList();\n        new0.variantReadings = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__.ArrayList();\n        new0.curVersion = null;\n    }\n    static new1(other) {\n        let _new1 = new PieceData;\n        PieceData.set1(_new1, other);\n        return _new1;\n    }\n    static set1(new1, other) {\n        new1.defaultMusicData = other;\n        new1.setGeneralData(other.title, other.section, other.composer, other.editor, other.publicNotes, other.notes);\n        new1.baseColoration = other.baseColoration;\n        new1.baseMensuration = other.baseMensuration;\n        new1.voiceData = other.voiceData;\n        new1.musicSections = other.musicSections;\n        new1.variantVersions = other.variantVersions;\n        new1.variantReadings = other.variantReadings;\n        new1.curVersion = null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setGeneralData(String t,String st,String c,String e,String publicNotes,String notes)\nPurpose: Set values for general data\nParameters:\n  Input:  String t           - title\n          String st          - section title\n          String c           - composer\n          String e           - editor\n          String publicNotes - public notes\n          String notes       - private notes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setGeneralData(t, st, c, e, publicNotes, notes) {\n        this.title = t;\n        this.composer = c;\n        this.editor = e;\n        if (st != null && !(st == \"\"))\n            this.section = st;\n        else\n            this.section = null;\n        this.publicNotes = publicNotes;\n        this.notes = notes;\n        this.createFullTitle();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createFullTitle()\nPurpose: Recalculate full display title for score\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createFullTitle() {\n        this.fullTitle = this.title;\n        if (this.section != null)\n            this.fullTitle += \": \" + this.section;\n        if (this.isIncipit)\n            this.fullTitle += \" (incipit)\";\n    }\n    /*------------------------------------------------------------------------\nMethod:  void recalcAllEventParams()\nPurpose: Recalculate event attributes based on parameters (clef, mensuration\n         info) for all voices in all sections\nParameters:\n  Input:  -\n  Output: -\n  Return: this\n------------------------------------------------------------------------*/\n    recalcAllEventParams() {\n        let v = Array(this.voiceData.length);\n        for (let vi = 0; vi < v.length; vi++)\n            v[vi] = null;\n        for (let s of this.musicSections) {\n            s.recalcAllEventParams_1(v);\n            for (let vi = 0; vi < this.voiceData.length; vi++) {\n                let tmpv = s.getVoice_1(vi);\n                if (tmpv != null)\n                    v[vi] = tmpv;\n            }\n        }\n        return this;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addVariantVersion(VariantVersionData newVersion)\nPurpose: Add variant version declaration to list\nParameters:\n  Input:  VariantVersionData newVersion - version to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addVariantVersion(newVersion) {\n        if (this.variantVersions.size() == 0)\n            newVersion.setDefault(true);\n        this.variantVersions.add(newVersion);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addSection([int si,]MusicSection newSection)\nPurpose: Add section to list\nParameters:\n  Input:  int si                  - index of location to insert new section\n          MusicSection newSection - section to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addSection_1(si, newSection) {\n        this.musicSections.add(si, newSection);\n    }\n    addSection_2(newSection) {\n        this.addSection_1(this.getNumSections(), newSection);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteSection(int si)\nPurpose: Remove section from list\nParameters:\n  Input:  int si - index of section to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteSection(si) {\n        this.musicSections.remove(si);\n        this.recalcAllEventParams();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addEvent(int snum,int vnum,int i,Event e)\nPurpose: Insert event in one section and update parameters throughout score\nParameters:\n  Input:  int snum,vnum - section and voice number\n          int i         - index in voice's event list for new event\n          Event e       - new event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent(snum, vnum, i, e) {\n        let v = this.getSection(snum).getVoice_1(vnum);\n        let lastv = v;\n        v.addEvent_2(i, e);\n        for (snum++; snum < this.getNumSections(); snum++) {\n            v = this.getSection(snum).getVoice_1(vnum);\n            if (v != null) {\n                v.recalcEventParams_2(lastv);\n                lastv = v;\n            }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  int addVariantEvent(VariantVersionData vvd,int snum,int vnum,int vi,int di,Event e)\nPurpose: Insert event in one variant version\nParameters:\n  Input:  VariantVersionData vvd - variant version for insertion\n          PieceData vmd          - variant music data\n          int snum,vnum          - section and voice number\n          int vi                 - index in variant voice event list\n          int di                 - index in default voice event list\n          Event e                - new event\n  Output: -\n  Return: positioning of new event within reading (beginning, end, middle)\n------------------------------------------------------------------------*/\n    addVariantEvent(vvd, vmd, snum, vnum, vi, di, e) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let prevEvent = v.getEvent(((vi - 1) | 0));\n        let nextEvent = v.getEvent(vi);\n        let prevEventReading = prevEvent != null ? prevEvent.getVariantReading_1(vvd) : null;\n        let nextEventReading = nextEvent.getVariantReading_1(vvd);\n        let vm1;\n        let vm2;\n        if (prevEventReading != null && prevEventReading == nextEventReading) {\n            if (prevEventReading.getVersions().size() > 1)\n                return this.addEventInVersion(vvd, vmd, snum, vnum, vi, di, e);\n            prevEventReading.addEvent_2(v.calcIndexWithinReading(vi), e);\n            return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.MIDDLE;\n        }\n        let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        newReading.addVersion(vvd);\n        this.variantReadings.add(newReading);\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, ((vi - 1) | 0), -1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, ((vi - 1) | 0), -1);\n        if (vmi1 > vmi2) {\n            vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n            vm1 = v.getEvent(vmi1);\n            vm2 = v.getEvent(vmi2);\n            for (let i = ((vmi1 + 1) | 0); i < vmi2; i++) {\n                let newEventCopy = v.getEvent(i).createCopy_1();\n                vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                if (i == vi)\n                    newReading.addEvent_1(e);\n                newReading.addEvent_1(newEventCopy);\n            }\n            if (vi == vmi2)\n                newReading.addEvent_1(e);\n            vm1.addReading(newReading);\n            return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.MIDDLE;\n        }\n        newReading.addEvent_1(e);\n        vm1 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START);\n        vm2 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END);\n        vm1.addReading(newReading);\n        vm2.setReadingsList(vm1.getReadings());\n        vm2.setDefaultLength(vm1.getDefaultLength());\n        this.addEvent(snum, vnum, di, vm1);\n        this.addEvent(snum, vnum, ((di + 1) | 0), vm2);\n        vmd.addEvent(snum, vnum, vi, vm1);\n        vmd.addEvent(snum, vnum, ((vi + 1) | 0), vm2);\n        return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.NEWVARIANT;\n    }\n    /* adding within reading? */\n    /* eventToDelete is within a variant reading */\n    // create separate reading and add\n    /* not already in a variant reading */\n    /* create new variant */\n    /* currently in-between two variant markers\n           this means that a variant reading exists here in one of the other\n           versions, so we need to attach this new reading to the same markers */\n    /* copy default reading into new reading */\n    /* link default lengths in markers */\n    /*------------------------------------------------------------------------\nMethod:  void deleteEvent(int snum,int vnum,int i)\nPurpose: Delete event in one section and update parameters throughout score\nParameters:\n  Input:  int snum,vnum - section and voice number\n          int i         - index in voice's event list for event to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteEvent(snum, vnum, i) {\n        let v = this.getSection(snum).getVoice_1(vnum);\n        let lastv = null;\n        for (snum--; lastv == null && snum >= 0; snum--)\n            lastv = this.getSection(snum).getVoice_1(vnum);\n        v.deleteEvent_3(i, lastv);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int [add|delete]VariantEvent(VariantVersionData vvd,PieceData vmd,\n                                int snum,int vnum,int vi)\nPurpose: Add/delete event in one variant version\nParameters:\n  Input:  VariantVersionData vvd - variant version for addition/deletion\n          PieceData vmd          - variant music data\n          int snum,vnum          - section and voice number\n          int vi                 - index in variant voice event list\n  Output: -\n  Return: positioning of new event within reading (beginning, end, middle)\n------------------------------------------------------------------------*/\n    addEventInVersion(vvd, vmd, snum, vnum, vi, di, e) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let prevEvent = v.getEvent(((vi - 1) | 0));\n        let nextEvent = v.getEvent(vi);\n        let prevEventReading = prevEvent != null ? prevEvent.getVariantReading_1(vvd) : null;\n        let nextEventReading = nextEvent.getVariantReading_1(vvd);\n        if (prevEventReading != null && prevEventReading == nextEventReading && prevEventReading.getVersions().size() > 1)\n            this.createSeparateReadingForVersion(vvd, vmd, snum, vnum, vi);\n        return this.addVariantEvent(vvd, vmd, snum, vnum, vi, di, e);\n    }\n    /* if necessary, remove this one version from the reading */\n    deleteEventInVersion(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let eventToDelete = v.getEvent(vi);\n        let curEventReading = eventToDelete.getVariantReading_1(vvd);\n        if (curEventReading != null && curEventReading.getVersions().size() > 1)\n            this.createSeparateReadingForVersion(vvd, vmd, snum, vnum, vi);\n        return this.deleteVariantEvent(vvd, vmd, snum, vnum, vi);\n    }\n    /* if necessary, remove this one version from the reading */\n    duplicateEventInVersion(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let eventToDuplicate = v.getEvent(vi);\n        let curEventReading = eventToDuplicate.getVariantReading_1(vvd);\n        if (curEventReading != null && curEventReading.getVersions().size() > 1)\n            this.createSeparateReadingForVersion(vvd, vmd, snum, vnum, vi);\n        return this.duplicateEventInVariant(vvd, vmd, snum, vnum, vi);\n    }\n    /* if necessary, remove this one version from the reading */\n    duplicateEventsInVersion(vvd, vmd, snum, vnum, vi1, vi2) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let eventToDuplicate = v.getEvent(vi1);\n        let curEventReading = eventToDuplicate.getVariantReading_1(vvd);\n        if (curEventReading != null && curEventReading.getVersions().size() > 1)\n            this.createSeparateReadingForVersion(vvd, vmd, snum, vnum, vi1);\n        return this.duplicateEventsInVariant(vvd, vmd, snum, vnum, vi1, vi2);\n    }\n    /* if necessary, remove this one version from the reading */\n    createSeparateReadingForVersion(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi, -1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n        let vm1 = v.getEvent(vmi1);\n        let newReading = vm1.getVariantReading_1(vvd);\n        if (newReading != null) {\n            newReading = newReading.separateVersion(vvd);\n            for (let i = ((vmi1 + 1) | 0); i < vmi2; i++)\n                vmd.replaceEvent(snum, vnum, i, newReading.getEvent(((((i - vmi1) | 0) - 1) | 0)));\n        }\n        else {\n            newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new1(snum, vnum, vmi1);\n            for (let i = ((vmi1 + 1) | 0); i < vmi2; i++)\n                newReading.addEvent_1(v.getEvent(i));\n            newReading.addVersion(vvd);\n        }\n        vm1.addReading(newReading);\n        return newReading;\n    }\n    /* copy reading into separate one for this version only */\n    /* update vmd to reflect new reading */\n    /* this is one of the default versions; copy events directly from vmd */\n    deleteVariantEvent(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let defaultV = this.getSection(snum).getVoice_1(vnum);\n        let eventToDelete = v.getEvent(vi);\n        let prevEvent = v.getEvent(((vi - 1) | 0));\n        let nextEvent = v.getEvent(((vi + 1) | 0));\n        let curEventReading = eventToDelete.getVariantReading_1(vvd);\n        let prevEventReading = prevEvent != null ? prevEvent.getVariantReading_1(vvd) : null;\n        let nextEventReading = nextEvent.getVariantReading_1(vvd);\n        let vm1;\n        let vm2;\n        if (eventToDelete.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START || eventToDelete.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"ERROR: Attempting to delete VariantMarkerEvent: event no. \" + vi);\n            return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.NOACTION;\n        }\n        if (curEventReading != null) {\n            if (curEventReading.getVersions().size() > 1)\n                return this.deleteEventInVersion(vvd, vmd, snum, vnum, vi);\n            curEventReading.deleteEvent_2(eventToDelete);\n            if (curEventReading.getNumEvents() == 0) {\n            }\n            return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.MIDDLE;\n        }\n        let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        newReading.addVersion(vvd);\n        this.variantReadings.add(newReading);\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi, -1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, -1);\n        if (vmi1 > vmi2) {\n            vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n            vm1 = v.getEvent(vmi1);\n            vm2 = v.getEvent(vmi2);\n            for (let i = ((vmi1 + 1) | 0); i < vmi2; i++) {\n                let newEventCopy = v.getEvent(i).createCopy_1();\n                vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                if (i != vi)\n                    newReading.addEvent_1(newEventCopy);\n            }\n            vm1.addReading(newReading);\n            return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.NEWREADING;\n        }\n        let di = eventToDelete.getDefaultListPlace();\n        vm1 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START);\n        vm2 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END);\n        vm1.addReading(newReading);\n        vm2.setReadingsList(vm1.getReadings());\n        vm1.getDefaultLength().add(eventToDelete.getmusictime());\n        vm2.setDefaultLength(vm1.getDefaultLength());\n        this.addEvent(snum, vnum, di, vm1);\n        this.addEvent(snum, vnum, ((di + 2) | 0), vm2);\n        vmd.addEvent(snum, vnum, vi, vm1);\n        vmd.addEvent(snum, vnum, ((vi + 2) | 0), vm2);\n        return _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.NEWVARIANT;\n    }\n    /* check to see whether to delete from an existing variant reading, or create a new one */\n    /* eventToDelete is within a variant reading */\n    // create separate reading and delete\n    /* REMOVED: automatic deletion of empty variant\n               all readings must be manually removed or automatically consolidated\n               upon save (otherwise editing actions which temporarily delete events\n               won't work, e.g., making a multi-event) */\n    /* deleted last event in reading\n            VariantMarkerEvent vme=(VariantMarkerEvent)prevEvent;\n            int di=vme.getDefaultListPlace(),\n                numEventsInDefault=defaultV.getEvent(defaultV.getNextEventOfType(Event.EVENT_VARIANTDATA_END,di,1)).getDefaultListPlace()-di-1;\n\n            if (numEventsInDefault==0)\n              {\n                vme.removeReading(curEventReading);\n                if (vme.getNumReadings()==0)\n                  {\n                     deleted last variant reading at this position;\n                       now delete marker events\n                    deleteEvent(snum,vnum,\n                                defaultV.getNextEventOfType(Event.EVENT_VARIANTDATA_END,di,1));\n                    deleteEvent(snum,vnum,\n                                defaultV.getNextEventOfType(Event.EVENT_VARIANTDATA_START,di,-1));\n\n                    vmd.deleteEvent(snum,vnum,vi+1);\n                    vmd.deleteEvent(snum,vnum,vi-1);\n\n                    return VariantReading.DELETED;\n                  }\n              }*/\n    /* eventToDelete is not already in a variant reading */\n    /* create new variant */\n    /* currently in-between two variant markers\n           this means that a variant reading exists here in one of the other\n           versions, so we need to attach this new reading to the same markers */\n    /* copy default reading into new reading */\n    /* link default lengths in markers */\n    /*------------------------------------------------------------------------\nMethod:  void deleteAllVariantReadingsAtLoc(VariantVersionData vvd,PieceData vmd,\n                                            int snum,int vnum,int vi)\nPurpose: Delete all readings at one location\nParameters:\n  Input:  VariantVersionData vvd - variant version\n          PieceData vmd          - variant music data\n          int snum,vnum          - section and voice number\n          int vi                 - index in variant voice event list\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteAllVariantReadingsAtLoc(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let defaultV = this.getSection(snum).getVoice_1(vnum);\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi, -1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, ((vi - 1) | 0), -1);\n        if (!(vmi1 > vmi2))\n            return;\n        let vme = v.getEvent(vmi1);\n        for (let vr of vme.getReadings())\n            this.variantReadings.remove(vr);\n        vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n        let di1 = vme.getDefaultListPlace();\n        let di2 = defaultV.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, di1, 1);\n        this.deleteEvent(snum, vnum, di2);\n        this.deleteEvent(snum, vnum, di1);\n        if (vvd.isDefault())\n            return;\n        vmd.deleteEvent(snum, vnum, vmi2);\n        vmd.deleteEvent(snum, vnum, vmi1);\n    }\n    /* not in-between markers */\n    /* delete marker events, end of story */\n    /*------------------------------------------------------------------------\nMethod:  void deleteVariantReading(VariantVersionData vvd,PieceData vmd,\n                                   int snum,int vnum,int vi)\nPurpose: Delete reading in one variant version\nParameters:\n  Input:  VariantVersionData vvd - variant version\n          PieceData vmd          - variant music data\n          int snum,vnum          - section and voice number\n          int vi                 - index in variant voice event list\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteVariantReading_1(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let defaultV = this.getSection(snum).getVoice_1(vnum);\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi, -1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n        for (let i = ((vmi2 - 1) | 0); i > vmi1; i--)\n            vmd.deleteEvent(snum, vnum, i);\n        let vme = v.getEvent(vmi1);\n        let di1 = vme.getDefaultListPlace();\n        let di2 = defaultV.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, di1, 1);\n        vmi2 = ((vmi1 + 1) | 0);\n        for (let i = ((di1 + 1) | 0); i < di2; i++)\n            vmd.addEvent(snum, vnum, vmi2++, defaultV.getEvent(i));\n        let readingToDelete = vme.getVariantReading_1(vvd);\n        readingToDelete.deleteVersion(vvd);\n        if (readingToDelete.getVersions().size() == 0) {\n            vme.removeReading(readingToDelete);\n            this.variantReadings.remove(readingToDelete);\n            if (vme.getNumReadings() == 0) {\n                this.deleteEvent(snum, vnum, di2);\n                this.deleteEvent(snum, vnum, di1);\n                vmd.deleteEvent(snum, vnum, vmi2);\n                vmd.deleteEvent(snum, vnum, vmi1);\n            }\n        }\n    }\n    /* check to see whether to delete from an existing variant reading, or create a new one */\n    /* delete events from variant PieceData */\n    /* replace with events from default reading */\n    /* remove links to reading */\n    /* deleted last variant reading at this position;\n               now delete marker events */\n    /* delete version but only update default PieceData */\n    deleteVariantReading_2(vvd, snum, vnum, vi) {\n        let defaultV = this.getSection(snum).getVoice_1(vnum);\n        let vmi1 = defaultV.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi, -1);\n        let vmi2 = defaultV.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n        let vme = defaultV.getEvent(vmi1);\n        let readingToDelete = vme.getVariantReading_1(vvd);\n        readingToDelete.deleteVersion(vvd);\n        if (readingToDelete.getVersions().size() == 0) {\n            vme.removeReading(readingToDelete);\n            this.variantReadings.remove(readingToDelete);\n            if (vme.getNumReadings() == 0) {\n                this.deleteEvent(snum, vnum, vmi2);\n                this.deleteEvent(snum, vnum, vmi1);\n            }\n        }\n    }\n    /* remove links to reading */\n    /* deleted last variant reading at this position;\n               now delete marker events */\n    /*------------------------------------------------------------------------\nMethod:  Event duplicateEventInVariant(VariantVersionData vvd,PieceData vmd,\n                                       int snum,int vnum,int vi)\nPurpose: Create new variant containing copy of one event from default list\nParameters:\n  Input:  VariantVersionData vvd - variant version for new reading\n          PieceData vmd          - variant music data\n          int snum,vnum          - section and voice number\n          int vi                 - index in variant voice event list\n  Output: -\n  Return: new copy of Event\n------------------------------------------------------------------------*/\n    duplicateEventInVariant(vvd, vmd, snum, vnum, vi) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let eventToCopy = vmd.getSection(snum).getVoice_1(vnum).getEvent(vi);\n        let newEventCopy;\n        let curEventReading = eventToCopy.getVariantReading_1(vvd);\n        let di = eventToCopy.getDefaultListPlace();\n        let vm1;\n        let vm2;\n        if (curEventReading != null)\n            if (curEventReading.getVersions().size() > 1)\n                return this.duplicateEventInVersion(vvd, vmd, snum, vnum, vi);\n            else\n                return eventToCopy;\n        let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        newReading.addVersion(vvd);\n        this.variantReadings.add(newReading);\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi, -1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, -1);\n        if (vmi1 > vmi2) {\n            vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n            vm1 = v.getEvent(vmi1);\n            vm2 = v.getEvent(vmi2);\n            let selectedEvent = null;\n            for (let i = ((vmi1 + 1) | 0); i < vmi2; i++) {\n                newEventCopy = v.getEvent(i).createCopy_1();\n                if (i == vi)\n                    selectedEvent = newEventCopy;\n                vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                newReading.addEvent_1(newEventCopy);\n            }\n            vm1.addReading(newReading);\n            return selectedEvent;\n        }\n        newEventCopy = eventToCopy.createCopy_1();\n        vmd.replaceEvent(snum, vnum, vi, newEventCopy);\n        newReading.addEvent_1(newEventCopy);\n        vm1 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START);\n        vm2 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END);\n        vm1.addReading(newReading);\n        let defaultLength = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.copyProportion(newEventCopy.getmusictime());\n        vm1.setDefaultLength(defaultLength == null ? _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1) : defaultLength);\n        vm2.setReadingsList(vm1.getReadings());\n        vm2.setDefaultLength(vm1.getDefaultLength());\n        this.addEvent(snum, vnum, di, vm1);\n        this.addEvent(snum, vnum, ((di + 2) | 0), vm2);\n        vmd.addEvent(snum, vnum, vi, vm1);\n        vmd.addEvent(snum, vnum, ((vi + 2) | 0), vm2);\n        return newEventCopy;\n    }\n    /* already in reading, don't create another */\n    /* create new variant */\n    /* currently in-between two variant markers\n           this means that a variant reading exists here in one of the other\n           versions, so we need to attach this new reading to the same markers */\n    /* copy default reading into new reading */\n    /* link default lengths in markers */\n    /*------------------------------------------------------------------------\nMethod:  Event duplicateEventsInVariant(VariantVersionData vvd,PieceData vmd,\n                                        int snum,int vnum,int vi)\nPurpose: Create new variant containing copy of two events from default list\nParameters:\n  Input:  VariantVersionData vvd - variant version for new reading\n          PieceData vmd          - variant music data\n          int snum,vnum          - section and voice number\n          int vi1,vi2            - index in variant voice event list of\n                                   each event\n  Output: -\n  Return: new copy of first Event\n------------------------------------------------------------------------*/\n    variantsBetweenEvents(v, vi1, vi2) {\n        let vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, ((vi1 + 1) | 0), 1);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vmi1, 1);\n        return vmi1 > vi1 && vmi1 < vi2 && vmi2 > vmi1 && vmi2 < vi2;\n    }\n    duplicateEventsInVariant(vvd, vmd, snum, vnum, vi1, vi2) {\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let eventToCopy1 = v.getEvent(vi1);\n        let eventToCopy2 = v.getEvent(vi2);\n        let curEventReading1 = eventToCopy1.getVariantReading_1(vvd);\n        let curEventReading2 = eventToCopy2.getVariantReading_1(vvd);\n        let di1 = eventToCopy1.getDefaultListPlace();\n        let di2 = eventToCopy2.getDefaultListPlace();\n        let vmi1;\n        let vmi2;\n        let vm1;\n        let vm2;\n        if (this.variantsBetweenEvents(v, vi1, vi2))\n            return null;\n        if (curEventReading1 != null)\n            if (curEventReading1 == curEventReading2)\n                if (curEventReading1.getVersions().size() > 1)\n                    return this.duplicateEventsInVersion(vvd, vmd, snum, vnum, vi1, vi2);\n                else\n                    return eventToCopy1;\n            else if (curEventReading2 == null) {\n                vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi1, -1);\n                vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi1, 1);\n                vm1 = v.getEvent(vmi1);\n                vm2 = v.getEvent(vmi2);\n                this.deleteEvent(snum, vnum, vm2.getDefaultListPlace());\n                vmd.deleteEvent(snum, vnum, vmi2);\n                this.addEvent(snum, vnum, di2, vm2);\n                vmd.addEvent(snum, vnum, vi2, vm2);\n                for (let i = vmi2; i < vm2.getListPlace(false); i++)\n                    for (let vr of vm1.getReadings()) {\n                        let newEventCopy = v.getEvent(i).createCopy_1();\n                        if (vr == curEventReading1)\n                            vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                        vr.addEvent_1(newEventCopy);\n                    }\n                return v.getEvent(vi1);\n            }\n            else {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"duplicateEventsInVariant: case not implemented (combine readings)\");\n                return null;\n            }\n        else if (curEventReading2 != null) {\n            vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi1, 1);\n            vm1 = v.getEvent(vmi1);\n            this.deleteEvent(snum, vnum, vm1.getDefaultListPlace());\n            vmd.deleteEvent(snum, vnum, vmi1);\n            this.addEvent(snum, vnum, di1, vm1);\n            vmd.addEvent(snum, vnum, vi1, vm1);\n            for (let i = vmi1; i > vm1.getListPlace(false); i--)\n                for (let vr of vm1.getReadings()) {\n                    let newEventCopy = v.getEvent(i).createCopy_1();\n                    if (vr == curEventReading2)\n                        vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                    vr.addEvent_2(0, newEventCopy);\n                }\n            return v.getEvent(((vm1.getListPlace(false) + 1) | 0));\n        }\n        let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        newReading.addVersion(vvd);\n        this.variantReadings.add(newReading);\n        vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi1, -1);\n        vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi1, -1);\n        if (vmi1 > vmi2) {\n            vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi1, 1);\n            if (vmi2 > vi2) {\n                vm1 = v.getEvent(vmi1);\n                vm2 = v.getEvent(vmi2);\n                let selectedEvent = null;\n                for (let i = ((vmi1 + 1) | 0); i < vmi2; i++) {\n                    let newEventCopy = v.getEvent(i).createCopy_1();\n                    if (i == vi1)\n                        selectedEvent = newEventCopy;\n                    vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                    newReading.addEvent_1(newEventCopy);\n                }\n                vm1.addReading(newReading);\n                return selectedEvent;\n            }\n            vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi2, -1);\n            if (vmi1 > vi1) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"duplicateEventsInVariant: case not implemented (combine readings)\");\n                return null;\n            }\n            vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi1, -1);\n            vm1 = v.getEvent(vmi1);\n            vm2 = v.getEvent(vmi2);\n            this.deleteEvent(snum, vnum, vm2.getDefaultListPlace());\n            vmd.deleteEvent(snum, vnum, vmi2);\n            this.addEvent(snum, vnum, di2, vm2);\n            vmd.addEvent(snum, vnum, vi2, vm2);\n            for (let i = vmi2; i < vm2.getListPlace(false); i++)\n                for (let vr of vm1.getReadings())\n                    vr.addEvent_1(v.getEvent(i).createCopy_1());\n            for (let i = ((vm1.getListPlace(false) + 1) | 0); i < vm2.getListPlace(false); i++) {\n                let newEventCopy = vmd.getSection(snum).getVoice_1(vnum).getEvent(i).createCopy_1();\n                vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                newReading.addEvent_1(newEventCopy);\n            }\n            vm1.addReading(newReading);\n            return v.getEvent(((vm1.getListPlace(false) + 1) | 0));\n        }\n        else {\n            vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi2, -1);\n            vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi2, -1);\n            if (vmi1 > vmi2) {\n                vmi1 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, vi1, 1);\n                vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi2, 1);\n                vm1 = v.getEvent(vmi1);\n                this.deleteEvent(snum, vnum, vm1.getDefaultListPlace());\n                vmd.deleteEvent(snum, vnum, vmi1);\n                this.addEvent(snum, vnum, di1, vm1);\n                vmd.addEvent(snum, vnum, vi1, vm1);\n                for (let i = vmi1; i > vm1.getListPlace(false); i--)\n                    for (let vr of vm1.getReadings())\n                        vr.addEvent_2(0, v.getEvent(i).createCopy_1());\n                for (let i = ((vm1.getListPlace(false) + 1) | 0); i < vmi2; i++) {\n                    let newEventCopy = vmd.getSection(snum).getVoice_1(vnum).getEvent(i).createCopy_1();\n                    vmd.replaceEvent(snum, vnum, i, newEventCopy);\n                    newReading.addEvent_1(newEventCopy);\n                }\n                vm1.addReading(newReading);\n                return vmd.getSection(snum).getVoice_1(vnum).getEvent(((vm1.getListPlace(false) + 1) | 0));\n            }\n        }\n        for (let i = vi1; i <= vi2; i++) {\n            let newEventCopy = vmd.getSection(snum).getVoice_1(vnum).getEvent(i).createCopy_1();\n            vmd.replaceEvent(snum, vnum, i, newEventCopy);\n            newReading.addEvent_1(newEventCopy);\n        }\n        vm1 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START);\n        vm2 = _VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_2__.VariantMarkerEvent.new33(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END);\n        vm1.addReading(newReading);\n        vm1.setDefaultLength(_Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new1(newReading.getLength()));\n        vm2.setReadingsList(vm1.getReadings());\n        vm2.setDefaultLength(vm1.getDefaultLength());\n        this.addEvent(snum, vnum, di1, vm1);\n        this.addEvent(snum, vnum, ((di2 + 2) | 0), vm2);\n        vmd.addEvent(snum, vnum, vi1, vm1);\n        vmd.addEvent(snum, vnum, ((vi2 + 2) | 0), vm2);\n        return newReading.getEvent(0);\n    }\n    /* check that no other variants are in between events */\n    /* already in the same reading, don't create another */\n    /* extend first reading to encompass second event */\n    /* remove end marker and reinsert after second event */\n    /* duplicate last events in all readings */\n    /* combine readings */\n    /* curEventReading1==null */\n    /* extend second reading to encompass first event */\n    /* remove start marker and reinsert before first event */\n    /* duplicate first events in all readings */\n    /* neither event is already in a reading; create a new one */\n    /* event 1 is currently in-between two variant markers\n           this means that a variant reading exists here in one of the other\n           versions, so we need to attach this new reading to the same markers */\n    /* both events are within the same markers */\n    /* copy default reading into new reading */\n    /* combine readings */\n    /* event 1 is currently in-between two variant markers;\n           event 2 is not */\n    /* remove end marker and reinsert after second event */\n    /* duplicate last events in all readings */\n    /* create new reading */\n    /* event 2 is currently in-between two variant markers;\n               event 1 is not */\n    /* remove start marker and reinsert before first event */\n    /* duplicate first events in all readings */\n    /* create new reading */\n    /* create new reading with new markers */\n    /* link default lengths in markers */\n    /*------------------------------------------------------------------------\nMethod:  void moveEvent(int snum,int vnum,int i,int offset)\nPurpose: Move event in one section and update parameters throughout score\nParameters:\n  Input:  int snum,vnum - section and voice number\n          int i         - index in voice's event list for event to move\n          int offset    - amount to move event in voice list\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveEvent(snum, vnum, i, offset) {\n        let e = this.getSection(snum).getVoice_1(vnum).getEvent(i);\n        this.deleteEvent(snum, vnum, i);\n        this.addEvent(snum, vnum, ((i + offset) | 0), e);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void replaceEvent(int snum,int vnum,int i,Event newEvent)\nPurpose: Replace event in one section and update parameters throughout score\nParameters:\n  Input:  int snum,vnum  - section and voice number\n          int i          - index in voice's event list for event to replace\n          Event newEvent - replacement event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    replaceEvent(snum, vnum, i, newEvent) {\n        this.deleteEvent(snum, vnum, i);\n        this.addEvent(snum, vnum, i, newEvent);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void combineReadingWithNext(PieceData vmd,int snum,int vnum,int VM1starti,int VM2starti)\nPurpose: Combine one set of variant readings with following set in score\nParameters:\n  Input:  PieceData vmd - variant music data\n          int snum,vnum - section and voice number\n          int VM1starti,\n              VM2starti - index in event list of start marker of\n                          each variant set\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    combineReadingWithNext(vmd, snum, vnum, VM1starti, VM2starti) {\n        let defaultV = this.getSection(snum).getVoice_1(vnum);\n        let v = vmd.getSection(snum).getVoice_1(vnum);\n        let VM1endi = ((VM2starti - 1) | 0);\n        let VM2endi = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, ((VM2starti + 1) | 0), 1);\n        let vmStart1 = v.getEvent(VM1starti);\n        let vmStart2 = v.getEvent(VM2starti);\n        let vmEnd1 = v.getEvent(VM1endi);\n        let vmEnd2 = v.getEvent(VM2endi);\n        let defaultVM1starti = vmStart1.getDefaultListPlace();\n        let defaultVM2starti = vmStart2.getDefaultListPlace();\n        let defaultVM1endi = vmEnd1.getDefaultListPlace();\n        let defaultVM2endi = vmEnd2.getDefaultListPlace();\n        let defaultReading1 = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        let defaultReading2 = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        for (let i = ((defaultVM1starti + 1) | 0); i < defaultVM1endi; i++)\n            defaultReading1.addEvent_1(defaultV.getEvent(i));\n        for (let i = ((defaultVM2starti + 1) | 0); i < defaultVM2endi; i++)\n            defaultReading2.addEvent_1(defaultV.getEvent(i));\n        let newReadingList = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__.ArrayList();\n        for (let varReading1 of vmStart1.getReadings())\n            for (let vvd of varReading1.getVersions()) {\n                let varReading2 = vmStart2.getVariantReading_1(vvd);\n                let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n                newReading.addVersion(vvd);\n                newReading.addEventList_2(varReading1);\n                newReading.addEventList_2(varReading2 != null ? varReading2 : defaultReading2);\n                newReadingList.add(newReading);\n            }\n        for (let varReading2 of vmStart2.getReadings())\n            for (let vvd of varReading2.getVersions())\n                if (vmStart1.getVariantReading_1(vvd) == null) {\n                    let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n                    newReading.addVersion(vvd);\n                    newReading.addEventList_2(defaultReading1);\n                    newReading.addEventList_2(varReading2);\n                    newReadingList.add(newReading);\n                }\n        let ri = 0;\n        while (ri < newReadingList.size()) {\n            let vr1 = newReadingList.get(ri);\n            let ri2 = ((ri + 1) | 0);\n            while (ri2 < newReadingList.size()) {\n                let vr2 = newReadingList.get(ri2);\n                if (vr1.eventsEqual(vr2)) {\n                    vr1.addVersion(vr2.getVersion(0));\n                    newReadingList.remove(ri2);\n                }\n                else\n                    ri2++;\n            }\n            ri++;\n        }\n        vmStart1.setReadingsList(newReadingList);\n        vmEnd2.setReadingsList(newReadingList);\n        this.deleteEvent(snum, vnum, defaultVM2starti);\n        this.deleteEvent(snum, vnum, defaultVM1endi);\n        if (vmd != this) {\n            vmd.deleteEvent(snum, vnum, VM2starti);\n            vmd.deleteEvent(snum, vnum, VM1endi);\n            let newReading = vmStart1.getVariantReading_1(vmd.curVersion);\n            if (newReading != null)\n                for (let ei = 0; ei < newReading.getNumEvents(); ei++)\n                    vmd.replaceEvent(snum, vnum, ((((VM1starti + 1) | 0) + ei) | 0), newReading.getEvent(ei));\n        }\n        vmStart1.setDefaultLength(_Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.sum(defaultReading1.getLength(), defaultReading2.getLength()));\n        vmEnd2.setDefaultLength(vmStart1.getLength_1());\n    }\n    /* construct default event lists */\n    /* construct combined variant readings */\n    /* combine duplicates in new reading list\n       pre-condition: each reading in newReadingList is attached to only one version */\n    /* delete markers in middle of new combined default reading */\n    /* replace voice list events with those in new reading */\n    /*------------------------------------------------------------------------\nMethod:  boolean addVersionToReading(EventLocation loc,int ri,VariantVersionData newv)\nPurpose: Associate one variant version with one reading\nParameters:\n  Input:  EventLocation loc       - location of start marker\n          int ri                  - index of reading within marker's list\n          VariantVersionData newv - version to add to reading\n  Output: -\n  Return: true if anything has been changed\n------------------------------------------------------------------------*/\n    addVersionToReading(loc, ri, newv) {\n        let vme1 = this.getEvent_1(loc);\n        let defaultV = this.getSection(loc.sectionNum).getVoice_1(loc.voiceNum);\n        if (vme1.getVariantReading_1(newv) != null)\n            return false;\n        vme1.getReading(ri).addVersion(newv);\n        return true;\n    }\n    /* this version is already attached to a reading here */\n    /*------------------------------------------------------------------------\nMethod:  boolean setReadingAsDefault(EventLocation loc,int ri)\nPurpose: Set one reading as default, swapping out current default (or\n         deleting if the current default is only in the default version)\nParameters:\n  Input:  EventLocation loc - location of start marker\n          int ri            - index of reading within marker's list\n  Output: -\n  Return: true if anything has been changed\n------------------------------------------------------------------------*/\n    setReadingAsDefault(loc, ri) {\n        let vme1 = this.getEvent_1(loc);\n        let defaultV = this.getSection(loc.sectionNum).getVoice_1(loc.voiceNum);\n        let vr = vme1.getReading(ri);\n        let vmi2 = defaultV.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, ((loc.eventNum + 1) | 0), 1);\n        let defaultVersions = vme1.getDefaultVersions(this.variantVersions, this.getVoice(loc.voiceNum), defaultV);\n        defaultVersions.remove(0);\n        if (defaultVersions.size() > 0) {\n            let newReading = this.createSeparateReadingForVersion(defaultVersions.get(0), this, loc.sectionNum, loc.voiceNum, loc.eventNum);\n            for (let vi = 1; vi < defaultVersions.size(); vi++)\n                newReading.addVersion(defaultVersions.get(vi));\n        }\n        for (let i = ((vmi2 - 1) | 0); i > loc.eventNum; i--)\n            this.deleteEvent(loc.sectionNum, loc.voiceNum, i);\n        let ei = ((loc.eventNum + 1) | 0);\n        for (let e of vr.getEvents().getEvents())\n            this.addEvent(loc.sectionNum, loc.voiceNum, ei++, e);\n        this.consolidateReadings(loc);\n        return true;\n    }\n    /* Make new reading for newly non-default versions */\n    /* Copy default events into new reading */\n    /* Add all default versions */\n    /* Delete current default */\n    /* Insert events from new default */\n    /*------------------------------------------------------------------------\nMethod:  boolean consolidateReadings(EventLocation loc)\nPurpose: Find identical variant readings at one location and combine\nParameters:\n  Input:  EventLocation loc - location of start marker\n  Output: -\n  Return: true if anything has been changed\n------------------------------------------------------------------------*/\n    consolidateAllReadings() {\n        let loc = new _EventLocation__WEBPACK_IMPORTED_MODULE_5__.EventLocation(0, 0, 0);\n        let totalConsolidated = 0;\n        for (loc.sectionNum = 0; loc.sectionNum < this.getNumSections(); loc.sectionNum++) {\n            let ms = this.getSection(loc.sectionNum);\n            for (loc.voiceNum = 0; loc.voiceNum < ms.getNumVoices_1(); loc.voiceNum++)\n                if (ms.getVoice_1(loc.voiceNum) != null) {\n                    let curv = ms.getVoice_1(loc.voiceNum);\n                    for (loc.eventNum = 0; loc.eventNum < curv.getNumEvents(); loc.eventNum++)\n                        if (curv.getEvent(loc.eventNum).geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START)\n                            totalConsolidated += this.consolidateReadings(loc) ? 1 : 0;\n                }\n        }\n    }\n    consolidateReadings(loc) {\n        let changed = false;\n        let vme1 = this.getEvent_1(loc);\n        let defaultV = this.getSection(loc.sectionNum).getVoice_1(loc.voiceNum);\n        let vmi1 = vme1.getDefaultListPlace();\n        let vmi2 = defaultV.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vmi1, 1);\n        let vme2 = (this.getSection(loc.sectionNum).getVoice_1(loc.voiceNum).getEvent(vmi2));\n        let delList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_9__.LinkedList();\n        for (let vr of vme1.getReadings())\n            if (vr.equals(defaultV, ((vmi1 + 1) | 0), ((vmi2 - 1) | 0)))\n                delList.add(vr);\n        for (let vr of delList) {\n            vme1.getReadings().remove(vr);\n            this.variantReadings.remove(vr);\n        }\n        if (delList.size() > 0)\n            changed = true;\n        delList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_9__.LinkedList();\n        for (let i1 = 0; i1 < vme1.getNumReadings(); i1++) {\n            let vr1 = vme1.getReading(i1);\n            for (let i2 = ((i1 + 1) | 0); i2 < vme1.getNumReadings(); i2++) {\n                let vr2 = vme1.getReading(i2);\n                if (!delList.contains(vr2) && vr1.equals(vr2.getEvents(), 0, ((vr2.getNumEvents() - 1) | 0)) && vr1.isError() == vr2.isError()) {\n                    vr1.getVersions().addAll(vr2.getVersions());\n                    delList.add(vr2);\n                }\n            }\n        }\n        for (let vr of delList) {\n            vme1.getReadings().remove(vr);\n            this.variantReadings.remove(vr);\n        }\n        if (delList.size() > 0)\n            changed = true;\n        if (vme1.getNumReadings() == 0) {\n            this.deleteEvent(loc.sectionNum, loc.voiceNum, vmi2);\n            this.deleteEvent(loc.sectionNum, loc.voiceNum, vmi1);\n        }\n        else\n            vme2.setVarTypeFlags(vme1.calcVariantTypes(defaultV));\n        return changed;\n    }\n    /* check readings against default */\n    /* check readings against each other */\n    /* all readings have been eliminated; remove variant */\n    /*------------------------------------------------------------------------\nMethod:  EventLocation findEvent(Event e)\nPurpose: Find event\nParameters:\n  Input:  Event e - event to seek\n  Output: -\n  Return: location information (section num, voice num, event index)\n------------------------------------------------------------------------*/\n    findEvent(e) {\n        for (let si = 0; si < this.getNumSections(); si++) {\n            let s = this.getSection(si);\n            for (let vi = 0; vi < s.getNumVoices_1(); vi++) {\n                let v = s.getVoice_1(vi);\n                if (v != null)\n                    for (let ei = 0; ei < v.getNumEvents(); ei++)\n                        if (v.getEvent(ei) == e)\n                            return new _EventLocation__WEBPACK_IMPORTED_MODULE_5__.EventLocation(si, vi, ei);\n            }\n        }\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void updateVariantVersions(ArrayList<VariantVersionData> newVariantVersions,\n                                    ArrayList<Integer> originalVersionNums)\nPurpose: Update versions list to match a new set\nParameters:\n  Input:  ArrayList<VariantVersionData> newVariantVersions - new versions list\n          ArrayList<Integer> originalVersionNums -           indices in current list of items in new list (-1 for new items)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateVariantVersions(newVariantVersions, originalVersionNums) {\n        let finalVersions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__.ArrayList(newVariantVersions.size());\n        for (let vi = 0; vi < newVariantVersions.size(); vi++) {\n            let origi = originalVersionNums.get(vi).intValue();\n            if (origi == -1)\n                finalVersions.add(newVariantVersions.get(vi));\n            else {\n                let vvd = this.variantVersions.get(origi);\n                vvd.copyData(newVariantVersions.get(vi));\n                finalVersions.add(vvd);\n            }\n        }\n        this.variantVersions = finalVersions;\n    }\n    /* new item */\n    /* update existing version, rather than replacing */\n    /*------------------------------------------------------------------------\nMethod:  boolean deleteOriginalText(VariantVersionData vvd,boolean delVoices[])\nPurpose: Delete all original text in some voices in one version (creating\n         variants against default version)\nParameters:\n  Input:  VariantVersionData vvd - variant version\n          boolean delVoices[]    - voices to delete (true = delete)\n  Output: -\n  Return: whether anything has been deleted\n------------------------------------------------------------------------*/\n    deleteOriginalText(vvd, delVoices) {\n        let modified = false;\n        let vmd = vvd.constructMusicData_1(this);\n        for (let vnum = 0; vnum < delVoices.length; vnum++)\n            if (delVoices[vnum] && !vvd.getMissingVoices().contains(this.getVoice(vnum)))\n                for (let snum = 0; snum < this.getNumSections(); snum++) {\n                    let v = vmd.getSection(snum).getVoice_1(vnum);\n                    if (v != null && !v.getMissingVersions().contains(vvd)) {\n                        let ei = 0;\n                        while (ei < v.getNumEvents()) {\n                            let e = v.getEvent(ei);\n                            if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ORIGINALTEXT) {\n                                if (this.deleteEventInVersion(vvd, vmd, snum, vnum, ei) == _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.NEWVARIANT)\n                                    ei++;\n                                modified = true;\n                            }\n                            ei++;\n                        }\n                    }\n                }\n        return modified;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean deleteOriginalText(VariantVersionData vvd,boolean delVoices[])\nPurpose: Delete all modern text in given voices\nParameters:\n  Input:  boolean delVoices[] - voices to delete (true = delete)\n  Output: -\n  Return: whether anything has been deleted\n------------------------------------------------------------------------*/\n    deleteModernText(delVoices) {\n        let modified = false;\n        for (let vnum = 0; vnum < delVoices.length; vnum++)\n            if (delVoices[vnum])\n                for (let snum = 0; snum < this.getNumSections(); snum++) {\n                    let v = this.getSection(snum).getVoice_1(vnum);\n                    if (v != null)\n                        for (let maine of v.getEvents())\n                            for (let e of maine.getSubEvents())\n                                if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE) {\n                                    let ne = e;\n                                    if (ne.getModernText() != null) {\n                                        ne.setModernText(null);\n                                        modified = true;\n                                    }\n                                }\n                }\n        return modified;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean setVersionTextAsDefault(VariantVersionData textVersion)\nPurpose: Set original text of one version as the default (moving current\n         default text to other matching variant versions)\nParameters:\n  Input:  VariantVersionData textVersion - variant version for default text\n  Output: -\n  Return: whether anything has been modified\n------------------------------------------------------------------------*/\n    setVersionTextAsDefault(textVersion) {\n        let modified = false;\n        for (let si = 0; si < this.getNumSections(); si++) {\n            let s = this.getSection(si);\n            for (let vi = 0; vi < s.getNumVoices_1(); vi++) {\n                let v = s.getVoice_1(vi);\n                if (v != null) {\n                    let ei = 0;\n                    while (ei < v.getNumEvents()) {\n                        let e = v.getOrigTextOnlyVariant(ei);\n                        if (e != null) {\n                            let vme = (v.getEvent(ei));\n                            for (let vvd of vme.getDefaultVersions(this.getVariantVersions(), this.getVoice(vi), v))\n                                if (!vvd.isDefault())\n                                    this.duplicateEventInVariant(vvd, this, si, vi, ((ei + 1) | 0));\n                            this.deleteEvent(si, vi, ((ei + 1) | 0));\n                        }\n                        ei++;\n                    }\n                }\n            }\n        }\n        let vmd = textVersion.constructMusicData_1(this);\n        for (let si = 0; si < this.getNumSections(); si++) {\n            let s = vmd.getSection(si);\n            for (let vi = 0; vi < s.getNumVoices_1(); vi++) {\n                let v = s.getVoice_1(vi);\n                if (v != null) {\n                    let ei = 0;\n                    while (ei < v.getNumEvents()) {\n                        let e = v.getOrigTextOnlyVariant(ei);\n                        if (e != null) {\n                            let vme = (v.getEvent(ei));\n                            this.separateDefaultReading(si, vi, vme);\n                            this.addEvent(si, vi, ((vme.getDefaultListPlace() + 1) | 0), e);\n                        }\n                        ei++;\n                    }\n                }\n            }\n        }\n        return true;\n    }\n    /* step 1: disconnect all original text from default version */\n    /* step 2: place current version's text in default */\n    //modified;\n    /*------------------------------------------------------------------------\nMethod:  boolean setVersionAsDefault(VariantVersionData newDefaultVersion)\nPurpose: Set one version's readings as default\nParameters:\n  Input:  VariantVersionData newDefaultVersion - variant version for default\n  Output: -\n  Return: whether anything has been modified\n------------------------------------------------------------------------*/\n    setVersionAsDefault(newDefaultVersion) {\n        let modified = false;\n        for (let si = 0; si < this.getNumSections(); si++) {\n            let s = this.getSection(si);\n            for (let vi = 0; vi < s.getNumVoices_1(); vi++) {\n                let v = s.getVoice_1(vi);\n                if (v != null) {\n                    let ei = 0;\n                    while (ei < v.getNumEvents() && ei >= 0) {\n                        ei = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, ei, 1);\n                        if (ei != -1) {\n                            let vme = (v.getEvent(ei));\n                            let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, ((ei + 1) | 0), 1);\n                            let defaultVersions = vme.getDefaultVersions(this.getVariantVersions(), this.getVoice(vi), v);\n                            if (defaultVersions.size() == 1 || defaultVersions.contains(newDefaultVersion))\n                                ei = ((vmi2 + 1) | 0);\n                            else {\n                                this.separateDefaultReading(si, vi, vme);\n                                for (let dei = ((vmi2 - 1) | 0); dei > ei; dei--)\n                                    this.deleteEvent(si, vi, dei);\n                                let vr = vme.getVariantReading_1(newDefaultVersion);\n                                let listPlace = ((vme.getDefaultListPlace() + 1) | 0);\n                                for (let e of vr.getEvents().getEvents())\n                                    this.addEvent(si, vi, listPlace++, e);\n                            }\n                            ei = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START, ((ei + 1) | 0), 1);\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    }\n    // skip if default is unique\n    /* delete default events */\n    /* copy new events into default */\n    //modified;\n    separateDefaultReading(snum, vnum, vme) {\n        let v = this.getSection(snum).getVoice_1(vnum);\n        let vi = ((vme.getDefaultListPlace() + 1) | 0);\n        let newReading = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.new0();\n        for (let vvd of vme.getDefaultVersions(this.getVariantVersions(), this.getVoice(vnum), v))\n            if (!vvd.isDefault())\n                newReading.addVersion(vvd);\n        this.variantReadings.add(newReading);\n        let vmi2 = v.getNextEventOfType(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END, vi, 1);\n        let selectedEvent = null;\n        for (let i = vi; i < vmi2; i++) {\n            let newEventCopy = v.getEvent(i).createCopy_1();\n            if (i == vi)\n                selectedEvent = newEventCopy;\n            newReading.addEvent_1(newEventCopy);\n        }\n        if (newReading.getVersions().size() > 0)\n            vme.addReading(newReading);\n    }\n    /* create new variant */\n    /* copy default reading into new reading */\n    //            vmd.replaceEvent(snum,vnum,i,newEventCopy);\n    /*------------------------------------------------------------------------\nMethod:  String voiceOrigTextToStr(int vnum)\nPurpose: Create string containing all original texting in one voice\nParameters:\n  Input:  int vnum - number of voice\n  Output: -\n  Return: String containing all text in voice, phrases/syllables delimited\n          by markers according to style (original or modern)\n------------------------------------------------------------------------*/\n    voiceOrigTextToStr(vnum) {\n        return this.voiceTextToStr(vnum, false);\n    }\n    voiceModTextToStr(vnum) {\n        return this.voiceTextToStr(vnum, true);\n    }\n    voiceTextToStr(vnum, modText) {\n        let text = \"\";\n        for (let ms of this.musicSections)\n            if (ms.getVoice_1(vnum) != null) {\n                let sectionText = modText ? ms.getVoice_1(vnum).modTextToStr() : ms.getVoice_1(vnum).origTextToStr();\n                if (sectionText.length > 0)\n                    text += (text.length > 0 ? \"\\n\" : \"\") + sectionText;\n            }\n        return text;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getDefaultMusicData() {\n        return this.defaultMusicData;\n    }\n    getTitle() {\n        return this.title;\n    }\n    getFullTitle() {\n        return this.fullTitle;\n    }\n    getSectionTitle() {\n        return this.section;\n    }\n    getComposer() {\n        return this.composer;\n    }\n    getEditor() {\n        return this.editor;\n    }\n    getNotes() {\n        return this.notes;\n    }\n    getPublicNotes() {\n        return this.publicNotes;\n    }\n    getBaseColoration() {\n        return this.baseColoration;\n    }\n    getBaseMensuration() {\n        return this.baseMensuration;\n    }\n    getEvent_1(loc) {\n        return this.getEvent_2(loc.sectionNum, loc.voiceNum, loc.eventNum);\n    }\n    getEvent_2(snum, vnum, evnum) {\n        return this.getSection(snum).getVoice_1(vnum).getEvent(evnum);\n    }\n    getVoice(vnum) {\n        return this.voiceData[vnum];\n    }\n    getVoiceData() {\n        return this.voiceData;\n    }\n    getNumSections() {\n        return this.musicSections.size();\n    }\n    getSection(sectionNum) {\n        return this.musicSections.get(sectionNum);\n    }\n    getSections() {\n        return this.musicSections;\n    }\n    getVariantReading(snum, vnum, eventnum, version) {\n        return this.getSection(snum).getVoice_1(vnum).getEvent(eventnum).getVariantReading_1(version);\n    }\n    getDefaultVariantVersion() {\n        return this.getVariantVersion_1(0);\n    }\n    getVariantVersion_1(versionNum) {\n        return this.variantVersions.get(versionNum);\n    }\n    getVariantVersion_2(versionID) {\n        for (let vvd of this.variantVersions)\n            if ((vvd.getID() == versionID))\n                return vvd;\n        return null;\n    }\n    getVariantVersionNames() {\n        let versionNames = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_8__.ArrayList(this.variantVersions.size());\n        for (let vvd of this.variantVersions)\n            versionNames.add(vvd.getID());\n        return versionNames;\n    }\n    getVariantVersions() {\n        return this.variantVersions;\n    }\n    getVersion() {\n        return this.curVersion;\n    }\n    isDefaultVersion() {\n        return this.curVersion == null;\n    }\n    isIncipitScore() {\n        return this.isIncipit;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setBaseColoration(c) {\n        this.baseColoration = c;\n    }\n    setCurVersion(version) {\n        this.curVersion = version;\n    }\n    setIncipitScore(i) {\n        this.isIncipit = i;\n        this.createFullTitle();\n    }\n    setSections(musicSections) {\n        this.musicSections = musicSections;\n    }\n    setVariantVersions(variantVersions) {\n        this.variantVersions = variantVersions;\n    }\n    setVoiceData(vd) {\n        this.voiceData = vd;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this structure\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Title:    \" + this.title);\n        if (this.section != null)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Section:  \" + this.section);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Composer: \" + this.composer);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Editor:   \" + this.editor);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Number of voices: \" + this.voiceData.length);\n        for (let i = 0; i < this.voiceData.length; i++)\n            this.voiceData[i].prettyprint();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/PieceData.ts?");

/***/ }),

/***/ "./src/DataStruct/Pitch.ts":
/*!*********************************!*\
  !*** ./src/DataStruct/Pitch.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pitch: () => (/* binding */ Pitch)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : Pitch.java\n\n        Package         : DataStruct\n\n        Classes Included: Pitch\n\n        Purpose         : Handle low-level pitch information\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 99\n\n        Updates         : 3/21/05: added comparison function\n                          3/29/05: converted Integer data (only needed for\n                                   parser interface) to int\n                          6/6/05:  added staffspacenum parameter (to allow\n                                   clefless display)\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   Pitch\nExtends: -\nPurpose: Pitch information structure\n------------------------------------------------------------------------*/\nclass Pitch {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  int calcplacenum(char nl,int o)\nPurpose: Calculates Gamut place number from pitch letter and octave number\nParameters:\n  Input:  char nl - pitch letter\n          int o   - octave number\n  Output: -\n  Return: place number\n------------------------------------------------------------------------*/\n    static calcplacenum(nl, o) {\n        return ((((((o * 7) | 0) + _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(nl, 0)) | 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"A\", 0)) | 0);\n    }\n    static new0(nl, o, c) {\n        let _new0 = new Pitch;\n        Pitch.set0(_new0, nl, o, c);\n        return _new0;\n    }\n    static set0(new0, nl, o, c) {\n        new0.noteletter = nl;\n        new0.octave = o;\n        new0.placenum = Pitch.calcplacenum(nl, o);\n        new0.clef = c;\n        new0.staffspacenum = c != null ? c.calcypos(new0) : 0;\n    }\n    static new1(nl, o) {\n        let _new1 = new Pitch;\n        Pitch.set1(_new1, nl, o);\n        return _new1;\n    }\n    static set1(new1, nl, o) {\n        new1.noteletter = nl;\n        new1.octave = o;\n        new1.placenum = ((((((new1.octave * 7) | 0) + _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(new1.noteletter, 0)) | 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"A\", 0)) | 0);\n        new1.clef = null;\n        new1.staffspacenum = 0;\n    }\n    static new2(ssn) {\n        let _new2 = new Pitch;\n        Pitch.set2(_new2, ssn);\n        return _new2;\n    }\n    static set2(new2, ssn) {\n        new2.noteletter = \"X\";\n        new2.octave = 0;\n        new2.placenum = 0;\n        new2.clef = null;\n        new2.staffspacenum = ssn;\n    }\n    static new3(p) {\n        let _new3 = new Pitch;\n        Pitch.set3(_new3, p);\n        return _new3;\n    }\n    static set3(new3, p) {\n        new3.noteletter = p.noteletter;\n        new3.octave = p.octave;\n        new3.placenum = p.placenum;\n        new3.clef = p.clef;\n        new3.staffspacenum = p.staffspacenum;\n    }\n    static new4(p, c) {\n        let _new4 = new Pitch;\n        Pitch.set4(_new4, p, c);\n        return _new4;\n    }\n    static set4(new4, p, c) {\n        new4.noteletter = p.noteletter;\n        new4.octave = p.octave;\n        new4.placenum = p.placenum;\n        new4.clef = c;\n        new4.staffspacenum = c != null ? c.calcypos(new4) : 0;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setclef(Clef c)\nPurpose: Set clef information and assign Gamut place if it doesn't have one\nParameters:\n  Input:  Clef c - new clef information\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setclef(c) {\n        if (this.noteletter == \"X\") {\n            this.placenum = ((c.line1placenum + this.staffspacenum) | 0);\n            this.octave = ((this.placenum / 7) | 0);\n            this.noteletter = _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.toString((((this.placenum % 7 + _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"A\", 0)) | 0)));\n        }\n        this.clef = c;\n        this.staffspacenum = c != null ? c.calcypos(this) : 0;\n    }\n    setOctave(o) {\n        this.octave = o;\n        this.placenum = Pitch.calcplacenum(this.noteletter, this.octave);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Pitch add(int offset)\nPurpose: Change pitch\nParameters:\n  Input:  int offset - amount to shift pitch\n  Output: -\n  Return: this\n------------------------------------------------------------------------*/\n    add(offset) {\n        if (this.noteletter == \"X\")\n            this.staffspacenum += offset;\n        else {\n            this.placenum += offset;\n            this.octave = ((this.placenum / 7) | 0);\n            this.noteletter = _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.toString(((this.placenum % 7 + _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"A\", 0)) | 0));\n            this.staffspacenum += offset;\n        }\n        return this;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Pitch closestpitch(char nl)\nPurpose: Calculates closest pitch with a given letter\nParameters:\n  Input:  char nl - letter of pitch to calculate\n  Output: -\n  Return: closest pitch with letter nl\n------------------------------------------------------------------------*/\n    closestpitch(nl) {\n        let newoctave = ((this.octave - 1) | 0);\n        let diff = _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(((Pitch.calcplacenum(nl, newoctave) - this.placenum) | 0));\n        while (_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(((Pitch.calcplacenum(nl, ((newoctave + 1) | 0)) - this.placenum) | 0)) < diff) {\n            newoctave++;\n            diff = _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(((Pitch.calcplacenum(nl, newoctave) - this.placenum) | 0));\n        }\n        return Pitch.new0(nl, newoctave, this.clef);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcypos(Clef c)\nPurpose: Calculates staff position on which to display a pitch\nParameters:\n  Input:  Clef c - clef for calculating position\n  Output: -\n  Return: y line/space position for displaying pitch\n------------------------------------------------------------------------*/\n    calcypos(c) {\n        if (c != null)\n            this.staffspacenum = c.calcypos(this);\n        return this.staffspacenum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(Pitch other)\nPurpose: Calculate whether this pitch equals another one\nParameters:\n  Input:  Pitch other - pitch against which to compare\n  Output: -\n  Return: Whether pitches are equal\n------------------------------------------------------------------------*/\n    equals(other) {\n        return this.placenum == other.placenum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean is[Higher|Lower]Than(Pitch other)\nPurpose: Compare against another pitch\nParameters:\n  Input:  Pitch p - pitch against which to compare\n  Output: -\n  Return: true if this is higher/lower than other\n------------------------------------------------------------------------*/\n    isHigherThan(other) {\n        return this.placenum > other.placenum;\n    }\n    isLowerThan(other) {\n        return this.placenum < other.placenum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int toMIDIPitch()\nPurpose: Convert to MIDI pitch number (12-tone, middle C=60); no accidentals\nParameters:\n  Input:  -\n  Output: -\n  Return: MIDI pitch integer\n------------------------------------------------------------------------*/\n    /* convert one letter to a 12-tone pitch number relative to A */\n    static letterToMIDIPitch(nl) {\n        let p = (((((_java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(nl, 0) - _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"A\", 0)) | 0)) * 2) | 0);\n        if (_java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(nl, 0) > _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"B\", 0))\n            p--;\n        if (_java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(nl, 0) > _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(\"E\", 0))\n            p--;\n        return p;\n    }\n    toMIDIPitch() {\n        return (((((((this.octave * 12) | 0)) + 21) | 0) + Pitch.letterToMIDIPitch(this.noteletter)) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  String toString()\nPurpose: Convert pitch to string\nParameters:\n  Input:  -\n  Output: -\n  Return: string representation of pitch\n------------------------------------------------------------------------*/\n    toString() {\n        return this.noteletter + _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__.Integer.toString(this.octave);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nPitch.HIGHEST_PITCH = Pitch.new1(\"A\", 10000);\nPitch.LOWEST_PITCH = Pitch.new1(\"A\", -10000);\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Pitch.ts?");

/***/ }),

/***/ "./src/DataStruct/Proportion.ts":
/*!**************************************!*\
  !*** ./src/DataStruct/Proportion.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Proportion: () => (/* binding */ Proportion)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : Proportion.java\n\n        Package         : DataStruct\n\n        Classes Included: Proportion\n\n        Purpose         : Handle low-level proportion information\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 99\n\nUpdates:\n9/19/05: added some arithmetic operations (addition, reduction, comparison)\n7/1/10:  added init from double (estimate)\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   Proportion\nExtends: -\nPurpose: Information structure for a proportion of two integers\n------------------------------------------------------------------------*/\nclass Proportion {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  Proportion copyProportion(Proportion p)\nPurpose: Create new proportion with given value, or null\nParameters:\n  Input:  Proportion p - item to copy\n  Output: -\n  Return: new proportion or null\n------------------------------------------------------------------------*/\n    static copyProportion(p) {\n        return p == null ? null : Proportion.new1(p);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Proportion difference(Proportion p1,Proportion p2)\nPurpose: Calculate difference of two proportions without modifying either\nParameters:\n  Input:  Proportion p1,p2 - proportions to subtract (p2 from p1)\n  Output: -\n  Return: new proportion representing difference\n------------------------------------------------------------------------*/\n    static difference(p1, p2) {\n        if (p1 == null || p2 == null)\n            return null;\n        let diffVal = Proportion.new1(p1);\n        diffVal.subtract(p2);\n        return diffVal;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Proportion product(Proportion p1,Proportion p2)\nPurpose: Calculate product of two proportions without modifying either\nParameters:\n  Input:  Proportion p1,p2 - proportions to multiply\n  Output: -\n  Return: new proportion representing product\n------------------------------------------------------------------------*/\n    static product(p1, p2) {\n        if (p1 == null || p2 == null)\n            return null;\n        let productVal = Proportion.new1(p1);\n        productVal.multiply_2(p2);\n        return productVal;\n    }\n    static quotient(p1, p2) {\n        if (p1 == null || p2 == null)\n            return null;\n        let quotientVal = Proportion.new1(p1);\n        quotientVal.divide(p2);\n        return quotientVal;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Proportion sum(Proportion p1,Proportion p2)\nPurpose: Calculate sum of two proportions without modifying either\nParameters:\n  Input:  Proportion p1,p2 - proportions to add\n  Output: -\n  Return: new proportion representing sum\n------------------------------------------------------------------------*/\n    static sum(p1, p2) {\n        if (p1 == null && p2 == null)\n            return null;\n        if (p1 == null)\n            return Proportion.new1(p2);\n        if (p2 == null)\n            return Proportion.new1(p1);\n        let sumVal = Proportion.new1(p1);\n        sumVal.add(p2);\n        return sumVal;\n    }\n    /* max/min */\n    static max(p1, p2) {\n        return p1.greaterThanOrEqualTo(p2) ? p1 : p2;\n    }\n    static min(p1, p2) {\n        return p1.lessThanOrEqualTo(p2) ? p1 : p2;\n    }\n    static new0(n1, n2) {\n        let _new0 = new Proportion;\n        Proportion.set0(_new0, n1, n2);\n        return _new0;\n    }\n    static set0(new0, n1, n2) {\n        new0.i1 = n1;\n        new0.i2 = n2;\n    }\n    static new1(p) {\n        let _new1 = new Proportion;\n        Proportion.set1(_new1, p);\n        return _new1;\n    }\n    static set1(new1, p) {\n        new1.i1 = p.i1;\n        new1.i2 = p.i2;\n    }\n    static new2(val) {\n        let _new2 = new Proportion;\n        Proportion.set2(_new2, val);\n        return _new2;\n    }\n    static set2(new2, val) {\n        new2.i1 = (_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(val * Proportion.FLOAT_ACCURACY));\n        new2.i2 = Proportion.FLOAT_ACCURACY;\n        new2.reduce();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setVal(Proportion p)\nPurpose: Copy another proportion\nParameters:\n  Input:  Proportio p - proportion to copy\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVal_1(p) {\n        this.i1 = p.i1;\n        this.i2 = p.i2;\n    }\n    setVal_2(i1, i2) {\n        this.i1 = i1;\n        this.i2 = i2;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void reduce()\nPurpose: Reduce proportion to lowest terms\nParameters:\n  Input:  -\n  Output: -\n  Return: this\n------------------------------------------------------------------------*/\n    reduce() {\n        if (this.i1 == 0)\n            return this;\n        let gnum;\n        let lnum;\n        let remainder;\n        if (this.i1 > this.i2) {\n            gnum = this.i1;\n            lnum = this.i2;\n        }\n        else {\n            gnum = this.i2;\n            lnum = this.i1;\n        }\n        remainder = gnum % lnum;\n        while (remainder != 0) {\n            gnum = lnum;\n            lnum = remainder;\n            remainder = gnum % lnum;\n        }\n        this.i1 /= lnum;\n        this.i2 /= lnum;\n        return this;\n    }\n    /* find greatest common factor */\n    /* lnum==GCF */\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(Proportion p)\nPurpose: Compare for equality against another proportion\nParameters:\n  Input:  Proportion p - proportion to compare\n  Output: -\n  Return: true if equal\n------------------------------------------------------------------------*/\n    equals(p) {\n        return this.toDouble() == p.toDouble();\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean [greater|less]Than[OrEqualto](Proportion p)\nPurpose: Compare against another proportion\nParameters:\n  Input:  Proportion p - proportion to compare\n  Output: -\n  Return: true if this > p\n------------------------------------------------------------------------*/\n    greaterThan(p) {\n        return this.toDouble() > p.toDouble();\n    }\n    greaterThanOrEqualTo(p) {\n        return this.toDouble() >= p.toDouble();\n    }\n    lessThan(p) {\n        return this.toDouble() < p.toDouble();\n    }\n    lessThanOrEqualTo(p) {\n        return this.toDouble() <= p.toDouble();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void add(Proportion p)\nPurpose: Add another proportion to this one\nParameters:\n  Input:  Proportion p - proportion to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    add(p) {\n        if (p == null || p.i1 == 0)\n            return;\n        if (this.i2 != p.i2) {\n            this.i1 = ((((this.i1 * p.i2) | 0) + ((p.i1 * this.i2) | 0)) | 0);\n            this.i2 *= p.i2;\n            this.reduce();\n        }\n        else\n            this.i1 += p.i1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void multiply(int o1,int o2|Proportion other)\nPurpose: Multiply this proportion by another\nParameters:\n  Input:  int o1,int o2|Proportion other - proportion by which to multiply\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    multiply_1(o1, o2) {\n        this.i1 *= o1;\n        this.i2 *= o2;\n        this.reduce();\n    }\n    multiply_2(other) {\n        this.i1 *= other.i1;\n        this.i2 *= other.i2;\n        this.reduce();\n    }\n    divide(other) {\n        this.i1 *= other.i2;\n        this.i2 *= other.i1;\n        this.reduce();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void subtract(Proportion other)\nPurpose: Subtract another proportion from this one\nParameters:\n  Input:  Proportion other - proportion to subtract\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    subtract(other) {\n        if (other == null || other.i1 == 0)\n            return;\n        if (this.i2 != other.i2) {\n            this.i1 = ((((this.i1 * other.i2) | 0) - ((other.i1 * this.i2) | 0)) | 0);\n            this.i2 *= other.i2;\n            this.reduce();\n        }\n        else\n            this.i1 -= other.i1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int toInt()\nPurpose: Convert to int\nParameters:\n  Input:  -\n  Output: -\n  Return: integer representing proportion value rounded down\n------------------------------------------------------------------------*/\n    toInt() {\n        return ((this.i1 / this.i2) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  double toDouble()\nPurpose: Convert to double\nParameters:\n  Input:  -\n  Output: -\n  Return: double representing proportion value\n------------------------------------------------------------------------*/\n    toDouble() {\n        return this.i1 / this.i2;\n    }\n    toString() {\n        return this.i1 + \"/\" + this.i2;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nProportion.EQUALITY = Proportion.new0(1, 1);\n/* estimate from double */\nProportion.FLOAT_ACCURACY = 10000;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Proportion.ts?");

/***/ }),

/***/ "./src/DataStruct/ProportionEvent.ts":
/*!*******************************************!*\
  !*** ./src/DataStruct/ProportionEvent.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProportionEvent: () => (/* binding */ ProportionEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : ProportionEvent.java\n\n        Package         : DataStruct\n\n        Classes Included: ProportionEvent\n\n        Purpose         : Event type for rhythmic proportion (not a sign)\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/9/05\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ProportionEvent\nExtends: Event\nPurpose: Data/routines for proportion events\n------------------------------------------------------------------------*/\nclass ProportionEvent extends _Event__WEBPACK_IMPORTED_MODULE_2__.Event {\n    static new29(i1, i2) {\n        let _new29 = new ProportionEvent;\n        ProportionEvent.set29(_new29, i1, i2);\n        return _new29;\n    }\n    static set29(new29, i1, i2) {\n        _Event__WEBPACK_IMPORTED_MODULE_2__.Event.set0(new29);\n        new29.eventtype = ProportionEvent.EVENT_PROPORTION;\n        new29.proportion = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(i1, i2);\n    }\n    static new30(p) {\n        let _new30 = new ProportionEvent;\n        ProportionEvent.set30(_new30, p);\n        return _new30;\n    }\n    static set30(new30, p) {\n        _Event__WEBPACK_IMPORTED_MODULE_2__.Event.set0(new30);\n        new30.eventtype = ProportionEvent.EVENT_PROPORTION;\n        new30.proportion = p;\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = ProportionEvent.new30(_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(this.proportion));\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherPE = other;\n        return this.proportion.equals(otherPE.proportion);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getproportion() {\n        return this.proportion;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setproportion_1(i1, i2) {\n        this.proportion = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(i1, i2);\n    }\n    setproportion_2(p) {\n        this.proportion = p;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Proportion: \" + this.proportion.i1 + \"/\" + this.proportion.i2);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/ProportionEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/RestEvent.ts":
/*!*************************************!*\
  !*** ./src/DataStruct/RestEvent.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RestEvent: () => (/* binding */ RestEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _NoteEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _Mensuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _Coloration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\n\nclass RestEvent extends _Event__WEBPACK_IMPORTED_MODULE_4__.Event {\n    /* for maximas: number of vertical lines */\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  int calcNumLines(int nt,Mensuration m)\nPurpose: Calculate number of staff lines covered by rest of a given note type\nParameters:\n  Input:  int nt        - note type\n          Mensuration m - mensuration data for calculation\n  Output: -\n  Return: number of lines\n------------------------------------------------------------------------*/\n    static calcNumLines(nt, m) {\n        switch (nt) {\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Semifusa:\n                {\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Fusa:\n                {\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Semiminima:\n                {\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Minima:\n                {\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Semibrevis:\n                {\n                    return 0;\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Brevis:\n                {\n                    return 1;\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Longa:\n                {\n                }\n            case _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Maxima:\n                {\n                    return m.modus_minor;\n                }\n        }\n        return 0;\n    }\n    /* calc largest note type which fits in a given time */\n    static calcLargestRestType(time, m) {\n        for (let nt = _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Maxima; nt >= _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Semifusa; nt--)\n            if (_NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.getTypeLength(nt, m).toDouble() <= time)\n                return nt;\n        return _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Semifusa;\n    }\n    static new31(nt, p, bl, nl, ns) {\n        let _new31 = new RestEvent;\n        RestEvent.set31(_new31, nt, p, bl, nl, ns);\n        return _new31;\n    }\n    static set31(new31, nt, p, bl, nl, ns) {\n        _Event__WEBPACK_IMPORTED_MODULE_4__.Event.set0(new31);\n        new31.eventtype = RestEvent.EVENT_REST;\n        new31.notetype = nt;\n        new31.length = (new31.musictime = p == null ? null : _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(p));\n        new31.bottomline = bl;\n        new31.numlines = nl;\n        new31.numSets = new31.notetype == _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Maxima ? ns : 1;\n    }\n    static new32(nt, p, bl, nl, ns) {\n        let _new32 = new RestEvent;\n        RestEvent.set32(_new32, nt, p, bl, nl, ns);\n        return _new32;\n    }\n    static set32(new32, nt, p, bl, nl, ns) {\n        RestEvent.set31(new32, _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.strtoNT(nt), p, bl, nl, ns);\n    }\n    /*------------------------------------------------------------------------\nMethod:    Event createCopy()\nOverrides: Event.createCopy\nPurpose:   create copy of current event\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this\n------------------------------------------------------------------------*/\n    createCopy_1() {\n        let e = RestEvent.new31(this.notetype, this.length, this.bottomline, this.numlines, this.numSets);\n        e.copyEventAttributes_1(this);\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethod:    LinkedList<Event> makeModernNoteShapes()\nOverrides: Event.makeModernNoteShapes\nPurpose:   Make event (copy) in modern notation\nParameters:\n  Input:  -\n  Output: -\n  Return: copy of this with modern note shape, expanded into multiple\n          events if necessary\n------------------------------------------------------------------------*/\n    makeModernNoteShapes_1(timePos, measurePos, measureMinims, measureProp, timeProp, useTies) {\n        let el = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__.LinkedList();\n        let re = (this.createCopy_1());\n        re.colored = false;\n        re.colorscheme = _Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.DEFAULT_COLORATION;\n        re.bottomline = (re.numlines = (re.numSets = 1));\n        timePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(timePos);\n        let mensInfo = this.getBaseMensInfo();\n        let restTime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.quotient(this.length, timeProp);\n        let measureLength = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(((measureMinims * measureProp.i2) | 0), measureProp.i1);\n        let endMeasurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.sum(measurePos, measureLength);\n        let noPropEndMeasurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(((measurePos.i1 + measureMinims) | 0), measurePos.i2);\n        if (!measureProp.equals(mensInfo.tempoChange)) {\n            noPropEndMeasurePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.sum(measurePos, _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(((((measureMinims * measureProp.i2) | 0) * mensInfo.tempoChange.i1) | 0), ((measureProp.i1 * mensInfo.tempoChange.i2) | 0)));\n        }\n        while (restTime.i1 > 0) {\n            let noPropTimeLeftInMeasure = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.product(_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.difference(endMeasurePos, timePos), mensInfo.tempoChange);\n            re.calcModernRestTypeAndLength(restTime, timeProp, noPropTimeLeftInMeasure, _Mensuration__WEBPACK_IMPORTED_MODULE_3__.Mensuration.DEFAULT_MENSURATION);\n            el.add(re);\n            restTime.subtract(re.getLength_1());\n            timePos.add(_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.quotient(re.getLength_1(), mensInfo.tempoChange));\n            if (timePos.greaterThanOrEqualTo(endMeasurePos)) {\n                timePos = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(endMeasurePos);\n                endMeasurePos.add(measureLength);\n            }\n            re = this.makeNextRest();\n        }\n        return el;\n    }\n    // System.out.println(\"REST MMNS timePos=\"+timePos+\" restTime=\"+restTime+\n    //                    \" endMeasurePos=\"+endMeasurePos+\" timeProp=\"+timeProp);\n    // System.out.println(\" NPEMP=\"+noPropEndMeasurePos);\n    // System.out.println(\"  left in m=\"+noPropTimeLeftInMeasure);\n    // Proportion.product(Proportion.difference(noPropEndMeasurePos,timePos),measureProp).toDouble());\n    //         re.notetype=RestEvent.calcLargestRestType(\n    //           Math.min(restTime.toDouble(),//Proportion.product(restTime,timeProp).toDouble(),\n    //                    noPropTimeLeftInMeasure.toDouble()),\n    // /*                   Proportion.product(\n    //                      Proportion.difference(noPropEndMeasurePos,timePos),\n    //                      measureProp).toDouble()),*///Proportion.product(Proportion.difference(endMeasurePos,timePos),timeProp).toDouble()),\n    //           mensInfo);\n    // re.setLength(NoteEvent.getTypeLength(re.notetype,mensInfo));\n    // if (Proportion.quotient(re.getLength(),timeProp).greaterThan(restTime))\n    //   re.setLength(Proportion.product(new Proportion(restTime),timeProp));\n    // System.out.println(\"  rest type=\"+NoteEvent.NoteTypeNames[re.notetype]);\n    // System.out.println(\"  re.getLength(): \" + re.getLength());\n    // System.out.println(\"  1restTime: \" + restTime);\n    // System.out.println(\"  re.getLength(): \" + re.getLength());\n    // System.out.println(\"  mensInfo.tempoChange: \" + mensInfo.tempoChange);\n    // System.out.println(\"  Proportion.quotient(re.getLength(),mensInfo.tempoChange): \" + Proportion.quotient(re.getLength(),mensInfo.tempoChange));\n    // System.out.println(\"  2restTime: \" + restTime);\n    // System.out.println(\"  rt=\"+restTime+\" tp=\"+timePos+\" emp=\"+endMeasurePos);\n    /*    int newRestType=NT_DoubleWhole;\n    switch (re.notetype)\n      {\n        case NT_Semibrevis:\n          newRestType=NT_Whole;\n          break;\n        case NT_Minima:\n          newRestType=NT_Half;\n          break;\n        case NT_Semiminima:\n          newRestType=NT_Quarter;\n          break;\n        case NT_Fusa:\n        case NT_Semifusa:\n          newRestType=NT_Flagged;\n          break;\n      }\n    ne.notetype=newRestType;*/\n    /* cribbed straight from NoteEvent... */\n    calcModernRestTypeAndLength(restTime, timeProp, timeLeftInMeasure, m) {\n        let maxTime = _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.min(restTime, timeLeftInMeasure);\n        let nt = _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Maxima;\n        while (nt >= _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Fusa && _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.getTypeLength(nt, m).greaterThan(maxTime))\n            nt--;\n        this.notetype = nt;\n        this.colored = false;\n        this.colorscheme = _Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.DEFAULT_COLORATION;\n        this.setLength_1(_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(maxTime));\n    }\n    // Mensuration mensInfo=this.getBaseMensInfo();//Mensuration.DEFAULT_MENSURATION;\n    /*    Proportion timeInMeasure=Proportion.quotient(\n      Proportion.quotient(Proportion.difference(endMeasurePos,timePos),timeProp),\n      mensInfo.tempoChange),*/\n    //    Proportion timeLeftInMeasure=Proportion.difference(endMeasurePos,timePos),\n    //               maxTime=Proportion.min(Proportion.product(restTime,timeProp),timeLeftInMeasure);\n    //System.out.print(\" MaxT=\"+maxTime+\" \");\n    /*if (!mensInfo.tempoChange.equals(Proportion.EQUALITY))\nSystem.out.print(\" TLIM=\"+timeLeftInMeasure);*/\n    // this.selectNoteheadStyle();\n    //    this.setLength(NoteEvent.getTypeLength(this.notetype,m));\n    //System.out.print(\"L=\"+this.getLength());\n    makeNextRest() {\n        let re = RestEvent.new31(_NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Brevis, _Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.EQUALITY, 1, 1, 1);\n        re.copyEventAttributes_1(this);\n        re.setSignum(null);\n        return re;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean equals(Event other)\nPurpose: Check whether the data of this event is exactly equal to another\nParameters:\n  Input:  Event other - event to check against\n  Output: -\n  Return: true if events are equal\n------------------------------------------------------------------------*/\n    equals_1(other) {\n        if (!super.equals_1(other))\n            return false;\n        let otherRE = other;\n        return this.notetype == otherRE.notetype && this.length.equals(otherRE.length) && this.bottomline == otherRE.bottomline && this.numlines == otherRE.numlines && this.numSets == otherRE.numSets;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getnotetype_1() {\n        return this.notetype;\n    }\n    getModNoteType() {\n        return ((this.notetype + 7) | 0);\n    }\n    getLength_1() {\n        return this.length;\n    }\n    getbottomline_1(useModernClefs) {\n        if (useModernClefs)\n            return RestEvent.defaultBottomLine[this.notetype];\n        else\n            return this.bottomline;\n    }\n    getbottomline_2() {\n        return this.getbottomline_1(false);\n    }\n    getnumlines() {\n        return this.numlines;\n    }\n    getNumSets() {\n        return this.numSets;\n    }\n    /* overrides Event methods */\n    getcolor_1() {\n        return this.colored ? this.colorscheme.secondaryColor : this.colorscheme.primaryColor;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setbottomline(bl) {\n        this.bottomline = bl;\n    }\n    setnotetype_1(nt, f, m) {\n        if (this.notetype == nt)\n            return;\n        this.notetype = nt;\n        this.setnumlines(RestEvent.calcNumLines(nt, m));\n        this.numSets = this.notetype == _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NT_Maxima ? m.modus_maior : 1;\n    }\n    setLength_1(l) {\n        this.length = (this.musictime = l);\n    }\n    setnumlines(nl) {\n        this.numlines = nl;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Rest: \" + _NoteEvent__WEBPACK_IMPORTED_MODULE_2__.NoteEvent.NoteTypeNames[this.notetype] + \",\" + this.length.i1 + \"/\" + this.length.i2 + \",\" + this.bottomline + \".\" + this.numlines);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nRestEvent.defaultBottomLine = [3, 3, 3, 3, 4, 3, 2, 2];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/RestEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/Signum.ts":
/*!**********************************!*\
  !*** ./src/DataStruct/Signum.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Signum: () => (/* binding */ Signum)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : Signum.java\n\n        Package         : DataStruct\n\n        Classes Included: Signum\n\n        Purpose         : Handle signum congruentiae or corona attached to\n                          score element\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 11/9/06\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   Signum\nExtends: -\nPurpose: One signum congruentiae or corona\n------------------------------------------------------------------------*/\nclass Signum {\n    static new0(of, or, s) {\n        let _new0 = new Signum;\n        Signum.set0(_new0, of, or, s);\n        return _new0;\n    }\n    static set0(new0, of, or, s) {\n        new0.offset = of;\n        new0.orientation = or;\n        new0.side = s;\n    }\n    static new1(or, s) {\n        let _new1 = new Signum;\n        Signum.set1(_new1, or, s);\n        return _new1;\n    }\n    static set1(new1, or, s) {\n        Signum.set0(new1, Signum.DEFAULT_YOFFSET, or, s);\n    }\n    static new2(other) {\n        let _new2 = new Signum;\n        Signum.set2(_new2, other);\n        return _new2;\n    }\n    static set2(new2, other) {\n        new2.offset = other.offset;\n        new2.orientation = other.orientation;\n        new2.side = other.side;\n    }\n    equals(other) {\n        return other != null && this.offset == other.offset && this.orientation == other.orientation && this.side == other.side;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this element\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"    Signum\");\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nSignum.UP = 0;\nSignum.DOWN = 1;\nSignum.LEFT = 0;\nSignum.MIDDLE = 1;\nSignum.RIGHT = 2;\nSignum.DEFAULT_YOFFSET = 4;\nSignum.orientationNames = [\"Up\", \"Down\"];\nSignum.sideNames = [\"Left\", \"Middle\", \"Right\"];\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Signum.ts?");

/***/ }),

/***/ "./src/DataStruct/TacetInfo.ts":
/*!*************************************!*\
  !*** ./src/DataStruct/TacetInfo.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TacetInfo: () => (/* binding */ TacetInfo)\n/* harmony export */ });\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : TacetInfo.java\n\n        Package         : DataStruct\n\n        Classes Included: TacetInfo\n\n        Purpose         : Information about tacet text for one voice in\n                          one section\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 12/22/07 (moved from MusicMensuralSection)\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\nclass TacetInfo {\n    /*------------------------------------------------------------------------\nConstructor: TacetInfo(int voiceNum,String tacetText)\nPurpose:     Initialize info\nParameters:\n  Input:  int voiceNum     - voice number\n          String tacetText - textual tacet instruction\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(voiceNum, tacetText) {\n        this.voiceNum = voiceNum;\n        this.tacetText = tacetText;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/TacetInfo.ts?");

/***/ }),

/***/ "./src/DataStruct/VariantMarkerEvent.ts":
/*!**********************************************!*\
  !*** ./src/DataStruct/VariantMarkerEvent.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantMarkerEvent: () => (/* binding */ VariantMarkerEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _VariantReading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\n\n\n\n\nclass VariantMarkerEvent extends _Event__WEBPACK_IMPORTED_MODULE_3__.Event {\n    static new33(eventType) {\n        let _new33 = new VariantMarkerEvent;\n        VariantMarkerEvent.set33(_new33, eventType);\n        return _new33;\n    }\n    static set33(new33, eventType) {\n        VariantMarkerEvent.set34(new33, eventType, null);\n    }\n    static new34(eventType, readings) {\n        let _new34 = new VariantMarkerEvent;\n        VariantMarkerEvent.set34(_new34, eventType, readings);\n        return _new34;\n    }\n    static set34(new34, eventType, readings) {\n        _Event__WEBPACK_IMPORTED_MODULE_3__.Event.set0(new34);\n        new34.eventtype = eventType;\n        new34.readings = readings != null ? readings : new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__.ArrayList();\n        new34.defaultLength = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.new0(0, 1);\n    }\n    /*------------------------------------------------------------------------\nMethods: long calcVariantTypes(VoiceEventListData v)\nPurpose: Calculate which types of variant are present within this set of\n         readings\nParameters:\n  Input:  VoiceEventListData v - default event list of voice containing this\n  Output: -\n  Return: new flags\n------------------------------------------------------------------------*/\n    calcVariantTypes(v) {\n        let newFlags = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.VAR_NONE;\n        let varStarti = ((this.getDefaultListPlace() + 1) | 0);\n        for (let r of this.readings) {\n            r.recalcEventParams(this);\n            newFlags |= r.calcVariantTypes(v, varStarti);\n        }\n        if (newFlags == _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.VAR_NONE)\n            newFlags = _VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.VAR_NONSUBSTANTIVE;\n        this.varTypeFlags = newFlags;\n        return this.varTypeFlags;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getDefaultLength() {\n        return this.defaultLength;\n    }\n    getNumReadings() {\n        return this.readings.size();\n    }\n    getReading(i) {\n        return this.readings.get(i);\n    }\n    getReadings() {\n        return this.readings;\n    }\n    getVarTypeFlags() {\n        return this.varTypeFlags;\n    }\n    includesVarType(varType) {\n        return (this.varTypeFlags & varType) != 0;\n    }\n    /* get reading associated with a specific version */\n    getVariantReading_1(version) {\n        for (let vr of this.readings)\n            if (vr.includesVersion(version))\n                return vr;\n        return null;\n    }\n    getDefaultVersions(allVersions, v, veld) {\n        let defaultVersions = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__.LinkedList();\n        for (let vvd of allVersions)\n            if (this.getVariantReading_1(vvd) == null)\n                defaultVersions.add(vvd);\n        for (let vvd of veld.getMissingVersions())\n            defaultVersions.remove(vvd);\n        let versionsToRemove = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_5__.LinkedList();\n        for (let vvd of defaultVersions)\n            if (vvd.isVoiceMissing(v))\n                versionsToRemove.add(vvd);\n        for (let vvd of versionsToRemove)\n            defaultVersions.remove(vvd);\n        return defaultVersions;\n    }\n    /* remove versions from default list if they are missing the current\n       section */\n    /* remove versions which are missing the current voice entirely */\n    inVariant_1() {\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addReading(vr) {\n        this.readings.add(vr);\n    }\n    removeReading(vr) {\n        this.readings.remove(vr);\n    }\n    setDefaultLength(p) {\n        this.defaultLength = p;\n    }\n    setReadingsList(readings) {\n        this.readings = readings;\n    }\n    setVarTypeFlags(newval) {\n        this.varTypeFlags = newval;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"    Variant \");\n        if (this.eventtype == _Event__WEBPACK_IMPORTED_MODULE_3__.Event.EVENT_VARIANTDATA_START)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"begin\");\n        else\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"end\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/VariantMarkerEvent.ts?");

/***/ }),

/***/ "./src/DataStruct/VariantReading.ts":
/*!******************************************!*\
  !*** ./src/DataStruct/VariantReading.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantReading: () => (/* binding */ VariantReading)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _NoteEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _EventListData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EventListData */ \"./src/DataStruct/EventListData.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\n\n\n\n\nclass VariantReading {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethods: int varIndex(long varType)\nPurpose: Calculate array index of one variant flag\nParameters:\n  Input:  long varType - flag\n  Output: -\n  Return: index in arrays of variant types\n------------------------------------------------------------------------*/\n    static varIndex(varType) {\n        let i = 0;\n        switch (varType) {\n            case 0:\n                {\n                    i = 1;\n                    break;\n                }\n            case 1:\n                {\n                    i = 1;\n                    break;\n                }\n            default:\n                {\n                    i = 1 + _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.floor(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.log(varType) / _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.log(2));\n                }\n        }\n        return ((i - 1) | 0);\n    }\n    /* call \"none\" and \"non-substantive\" the same */\n    /* log2(varType)+1 */\n    /*------------------------------------------------------------------------\nMethods: String varTypesToStr(long varTypeFlags)\nPurpose: Create string representation of variant types in a set of flags\nParameters:\n  Input:  long varTypeFlags - flags\n  Output: -\n  Return: string\n------------------------------------------------------------------------*/\n    static varTypesToStr(varTypeFlags) {\n        if (varTypeFlags == VariantReading.VAR_NONE || varTypeFlags == VariantReading.VAR_NONSUBSTANTIVE)\n            return \"Non-substantive\";\n        let vs = \"\";\n        if ((varTypeFlags & VariantReading.VAR_RHYTHM) > 0)\n            vs += \"Rhythm / \";\n        if ((varTypeFlags & VariantReading.VAR_PITCH) > 0)\n            vs += \"Pitch / \";\n        if ((varTypeFlags & VariantReading.VAR_ORIGTEXT) > 0)\n            vs += \"Text / \";\n        if ((varTypeFlags & VariantReading.VAR_CLEF) > 0)\n            vs += \"Clef / \";\n        if ((varTypeFlags & VariantReading.VAR_MENSSIGN) > 0)\n            vs += \"Mensuration / \";\n        if ((varTypeFlags & VariantReading.VAR_ACCIDENTAL) > 0)\n            vs += \"Accidental / \";\n        if ((varTypeFlags & VariantReading.VAR_COLORATION) > 0)\n            vs += \"Coloration / \";\n        if ((varTypeFlags & VariantReading.VAR_LIGATURE) > 0)\n            vs += \"Ligature / \";\n        if ((varTypeFlags & VariantReading.VAR_LINEEND) > 0)\n            vs += \"Line break / \";\n        try {\n            vs = vs.substring(0, ((vs.length - 3) | 0));\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                vs = \"\";\n            }\n            else\n                throw e;\n        }\n        return vs;\n    }\n    static new0() {\n        let _new0 = new VariantReading;\n        VariantReading.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.versions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__.ArrayList();\n        new0.events = _EventListData__WEBPACK_IMPORTED_MODULE_5__.EventListData.new0();\n        new0.error = false;\n        new0.length = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n    }\n    static new1(sectionNum, voiceNum, eventIndex) {\n        let _new1 = new VariantReading;\n        VariantReading.set1(_new1, sectionNum, voiceNum, eventIndex);\n        return _new1;\n    }\n    static set1(new1, sectionNum, voiceNum, eventIndex) {\n        new1.versions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__.ArrayList();\n        new1.events = _EventListData__WEBPACK_IMPORTED_MODULE_5__.EventListData.new0();\n        new1.error = false;\n        new1.length = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        new1.sectionNum = sectionNum;\n        new1.voiceNum = voiceNum;\n        new1.eventIndex = eventIndex;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean equals(EventListData el,int i1,int i2)\nPurpose: Check whether this reading is identical to another\nParameters:\n  Input:  EventListData el - event list to check against this\n          int i1,i2        - first and last indices to check\n  Output: -\n  Return: true if this is equal to the indicated portion of el\n------------------------------------------------------------------------*/\n    equals(el, i1, i2) {\n        if (((((i2 - i1) | 0) + 1) | 0) != this.getNumEvents())\n            return false;\n        for (let i = i1; i <= i2; i++)\n            if (!el.getEvent(i).equals_1(this.getEvent(((i - i1) | 0))))\n                return false;\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean eventsEqual(VariantReading other)\nPurpose: Check whether two readings contain the same event list\nParameters:\n  Input:  VariantReading other - reading to compare against this\n  Output: -\n  Return: true if other has same list of events\n------------------------------------------------------------------------*/\n    eventsEqual(other) {\n        let numEvents = this.getNumEvents();\n        let otherNumEvents = other.getNumEvents();\n        if (numEvents != otherNumEvents)\n            return false;\n        for (let i = 0; i < numEvents; i++)\n            if (this.getEvent(i) != other.getEvent(i))\n                return false;\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void recalcEventParams(Event paramEvent)\nPurpose: Recalculate event parameters\nParameters:\n  Input:  Event paramEvent - event for starting parameters\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcEventParams(paramEvent) {\n        this.events.recalcEventParams_3(paramEvent, paramEvent.getcoloration());\n    }\n    /*------------------------------------------------------------------------\nMethods: long calcVariantTypes(VoiceEventListData v)\nPurpose: Calculate which types of variant are present between this reading\n         and one other\nParameters:\n  Input:  EventListData v - event list for comparison\n          int varStarti   - index in list to start looking\n  Output: -\n  Return: flags representing variation types\n------------------------------------------------------------------------*/\n    calcVariantTypes(v, varStarti) {\n        let varFlags = VariantReading.VAR_NONE;\n        if (this.hasVariantRhythm(v, varStarti))\n            varFlags |= VariantReading.VAR_RHYTHM;\n        if (this.hasVariantPitch(v, varStarti))\n            varFlags |= VariantReading.VAR_PITCH;\n        if (this.hasVariantOrigText(v, varStarti))\n            varFlags |= VariantReading.VAR_ORIGTEXT;\n        if (this.hasVariantAccidental(v, varStarti))\n            varFlags |= VariantReading.VAR_ACCIDENTAL;\n        if (this.hasVariantClef(v, varStarti))\n            varFlags |= VariantReading.VAR_CLEF;\n        if (this.hasVariantLineEnd(v, varStarti))\n            varFlags |= VariantReading.VAR_LINEEND;\n        if (this.hasVariantColoration(v, varStarti))\n            varFlags |= VariantReading.VAR_COLORATION;\n        if (this.hasVariantLigature(v, varStarti))\n            varFlags |= VariantReading.VAR_LIGATURE;\n        if (this.hasVariantMensSign(v, varStarti))\n            varFlags |= VariantReading.VAR_MENSSIGN;\n        if (this.isError())\n            varFlags |= VariantReading.VAR_ERROR;\n        return varFlags;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean hasVariant*(EventListData v,int vi)\nPurpose: Calculate whether this reading has different rhythm|pitches|etc\n         than the reading in another event list\nParameters:\n  Input:  EventListData v - event list for comparison\n          int vi          - index in list to start looking\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    hasVariantRhythm(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && e1.rhythmicEventType_1() != _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE) {\n                mt1.add(e1.calcProportionalMusicLength());\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && e2.rhythmicEventType_1() != _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE) {\n                mt2.add(e2.calcProportionalMusicLength());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n            if (!mt1.equals(mt2))\n                return true;\n            if (e1 != null && e2 != null && !e1.calcProportionalMusicLength().equals(e2.calcProportionalMusicLength()))\n                return true;\n            if (e1 != null) {\n                mt1.add(e1.calcProportionalMusicLength());\n                i++;\n            }\n            if (e2 != null) {\n                mt2.add(e2.calcProportionalMusicLength());\n                vi++;\n            }\n            if (!mt1.equals(mt2))\n                return true;\n        } while (e1 != null && e2 != null);\n        e1 = this.getVarEvent(this.events, i);\n        e2 = this.getVarEvent(v, vi);\n        if (e1 == null)\n            if (e2 == null)\n                return false;\n            else\n                while (e2 != null) {\n                    if (e2.getmusictime().i1 != 0)\n                        return true;\n                    e2 = this.getVarEvent(v, ++vi);\n                }\n        else\n            while (e1 != null) {\n                if (e1.getmusictime().i1 != 0)\n                    return true;\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n        return false;\n    }\n    /* find position of next note in each list */\n    /* differing rest arrangements (e.g. B vs. SB SB) are NOT rhythmic variants */\n    /* differing rest lengths? */\n    /* differing note lengths? */\n    /* are voices in the same place after adding the previous note(s)? */\n    /* at least 1 list is finished; check that the other doesn't have any\n       further rhythms */\n    hasVariantPitch(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let pe1 = null;\n        let pe2 = null;\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && !e1.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE))\n                e1 = this.getVarEvent(this.events, ++i);\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && !e2.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE))\n                e2 = this.getVarEvent(v, ++vi);\n            if (e1 != null) {\n                pe1 = e1;\n                e1 = this.getVarEvent(this.events, ++i);\n                let done = e1 == null;\n                while (!done)\n                    if (e1.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE) && !e1.notePitchMatches_1(pe1))\n                        done = true;\n                    else\n                        done = (e1 = this.getVarEvent(this.events, ++i)) == null;\n                if (e1 != null)\n                    i--;\n            }\n            if (e2 != null) {\n                pe2 = e2;\n                e2 = this.getVarEvent(v, ++vi);\n                let done = e2 == null;\n                while (!done)\n                    if (e2.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE) && !e2.notePitchMatches_1(pe2))\n                        done = true;\n                    else\n                        done = (e2 = this.getVarEvent(v, ++vi)) == null;\n                if (e2 != null)\n                    vi--;\n            }\n            if ((pe1 == null) != (pe2 == null))\n                return true;\n            if (pe1 == null)\n                return false;\n            if (!pe1.notePitchMatches_1(pe2))\n                return true;\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null || e2 != null);\n        return false;\n    }\n    /* events with pitch info */\n    /* find position of next note in each list */\n    /* skip to following notes if pitches are repeated */\n    /* found next non-matching pitch? */\n    /* found next non-matching pitch? */\n    /* extra pitch(es) in one? */\n    /* no pitches left in either? */\n    /* different pitches? */\n    hasVariantOrigText(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && !e1.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ORIGINALTEXT)) {\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && !e2.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ORIGINALTEXT)) {\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n            if ((e1 == null) != (e2 == null))\n                return true;\n            if (e1 == null)\n                return false;\n            if (!(e1.getText() == e2.getText()))\n                return true;\n            if (!mt1.equals(mt2))\n                return true;\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null || e2 != null);\n        return false;\n    }\n    /* find position of next text event in each list */\n    /* text in one but not the other? */\n    /* no text in either? */\n    /* same text? */\n    /* different positioning? */\n    hasVariantAccidental(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        e2 = this.getVarEvent(v, vi);\n        let mainClefEvent = e2 == null ? v.getEvent(((vi - 1) | 0)).getClefInfoEvent() : e2.getClefInfoEvent();\n        let mainClefSet = mainClefEvent == null ? null : mainClefEvent.getClefSet_1();\n        let fullClefs = this.hasVariantLineEnd(v, vi) || vi == 0 || mainClefSet == null || v.getEvent(((vi - 1) | 0)).getClefInfoEvent() == null || (e2 != null && e2.hasPrincipalClef_1());\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && !e1.hasAccidentalClef_1()) {\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && !e2.hasAccidentalClef_1()) {\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n            let e1NewSig = false;\n            let e2NewSig = false;\n            if (mainClefSet != null) {\n                if (e1 != null)\n                    e1NewSig = e1.getClefSet_1().sigContradicts(mainClefSet);\n                if (e2 != null)\n                    e2NewSig = e2.getClefSet_1().sigContradicts(mainClefSet);\n            }\n            if ((e1 == null) != (e2 == null)) {\n                if (!fullClefs)\n                    return true;\n                else if (e1NewSig || e2NewSig)\n                    return true;\n            }\n            else if (e1 == null)\n                return false;\n            else {\n                if (e1.getClefSet_1().sigContradicts(e2.getClefSet_1()))\n                    return true;\n                if (!fullClefs) {\n                    if (!mt1.equals(mt2))\n                        return true;\n                }\n            }\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null || e2 != null);\n        return false;\n    }\n    //System.out.println(\"HVA vi=\"+vi);\n    //System.out.println(\"    mce=\"+mainClefEvent);\n    //System.out.println(\"fullClefs=\"+fullClefs);\n    /* find position of next accidental in each list */\n    //System.out.println(\"HVA1\");\n    /* does either event change the key sig? */\n    /*        if (mainClefEvent==null)\n          {\n            e1NewSig=e1!=null;\n            e2NewSig=e2!=null;\n          }\n        else*/\n    /* accidental in one but not the other? */\n    /* no accidental in either? */\n    /* two clefs; same? */\n    /* different positioning? (if both are clef+sig, doesn't matter) */\n    hasVariantClef(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && !e1.hasPrincipalClef_1()) {\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && !e2.hasPrincipalClef_1()) {\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n            if ((e1 == null) != (e2 == null))\n                return true;\n            if (e1 == null)\n                return false;\n            if (e1.getClefSet_1().contradicts_2(e2.getClefSet_1(), false, null))\n                return true;\n            if (!mt1.equals(mt2))\n                return true;\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null || e2 != null);\n        return false;\n    }\n    /* find position of next (principal) clef in each list */\n    /* clef in one but not the other? */\n    /* no clef in either? */\n    /* same clefs? */\n    /* different positioning? */\n    hasVariantMensSign(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && !e1.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_MENS)) {\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && !e2.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_MENS)) {\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n            if ((e1 == null) != (e2 == null))\n                return true;\n            if (e1 == null)\n                return false;\n            let me1 = (e1.getFirstEventOfType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_MENS));\n            let me2 = (e2.getFirstEventOfType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_MENS));\n            if (!me1.getMensInfo_1().equals(me2.getMensInfo_1()) || !me1.signEquals(me2))\n                return true;\n            if (!mt1.equals(mt2))\n                return true;\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null || e2 != null);\n        return false;\n    }\n    /* find position of next mensuration change in each list */\n    /* mensuration in one but not the other? */\n    /* no mensuration in either? */\n    /* same mensurations and signs? */\n    /* different positioning? */\n    hasVariantLigature(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        do {\n            let lne1 = null;\n            let lne2 = null;\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && lne1 == null) {\n                lne1 = (e1.getFirstEventOfType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE));\n                if (lne1 != null && !lne1.isligated())\n                    lne1 = null;\n                if (lne1 == null) {\n                    mt1.add(e1.getmusictime());\n                    e1 = this.getVarEvent(this.events, ++i);\n                }\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && lne2 == null) {\n                lne2 = (e2.getFirstEventOfType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE));\n                if (lne2 != null && !lne2.isligated())\n                    lne2 = null;\n                if (lne2 == null) {\n                    mt2.add(e2.getmusictime());\n                    e2 = this.getVarEvent(v, ++vi);\n                }\n            }\n            if ((e1 == null) != (e2 == null))\n                return true;\n            if (e1 == null)\n                return false;\n            if (!mt1.equals(mt2))\n                return true;\n            let doneLigCheck = false;\n            while (!doneLigCheck) {\n                if (lne1.getnotetype_1() != lne2.getnotetype_1() || lne1.getligtype() != lne2.getligtype())\n                    return true;\n                if (lne1.getligtype() == _NoteEvent__WEBPACK_IMPORTED_MODULE_4__.NoteEvent.LIG_NONE)\n                    doneLigCheck = true;\n                else {\n                    mt1.add(e1.getmusictime());\n                    mt2.add(e2.getmusictime());\n                    e1 = this.getVarEvent(this.events, ++i);\n                    while (e1 != null && !e1.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE)) {\n                        mt1.add(e1.getmusictime());\n                        e1 = this.getVarEvent(this.events, ++i);\n                    }\n                    e2 = this.getVarEvent(v, ++vi);\n                    while (e2 != null && !e2.hasEventType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE)) {\n                        mt2.add(e2.getmusictime());\n                        e2 = this.getVarEvent(v, ++vi);\n                    }\n                    lne1 = e1 == null ? null : (e1.getFirstEventOfType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE));\n                    lne2 = e2 == null ? null : (e2.getFirstEventOfType_1(_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE));\n                    if ((e1 == null) != (e2 == null))\n                        return true;\n                    if (e1 == null)\n                        return false;\n                }\n            }\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null || e2 != null);\n        return false;\n    }\n    /* find position of next ligature in each list */\n    /* ligature in one but not the other? */\n    /* no ligature in either? */\n    /* different positioning? */\n    /* now check that entire ligature matches */\n    /* same ligature type at each note? */\n    /* yes, now get next note of ligature */\n    hasVariantLineEnd(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        do {\n            e1 = this.getVarEvent(this.events, i);\n            while (e1 != null && e1.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_LINEEND) {\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n            e2 = this.getVarEvent(v, vi);\n            while (e2 != null && e2.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_LINEEND) {\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n            if (e1 != null && e2 != null && !mt1.equals(mt2))\n                return true;\n            if ((e1 == null) != (e2 == null))\n                return true;\n            if (e1 != null)\n                i++;\n            if (e2 != null)\n                vi++;\n        } while (e1 != null && e2 != null);\n        e1 = this.getVarEvent(this.events, i);\n        e2 = this.getVarEvent(v, vi);\n        if (e1 == null)\n            if (e2 == null)\n                return false;\n            else\n                while (e2 != null) {\n                    if (e2.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_LINEEND)\n                        return true;\n                    e2 = this.getVarEvent(v, ++vi);\n                }\n        else\n            while (e1 != null) {\n                if (e1.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_LINEEND)\n                    return true;\n                e1 = this.getVarEvent(this.events, ++i);\n            }\n        return false;\n    }\n    /* find position of next line end in each list */\n    /* differing position of line ends? */\n    /* one has line end and the other doesn't? */\n    /* at least 1 list is finished; check that the other doesn't have any\n       further line ends */\n    hasVariantColoration(v, vi) {\n        let i = 0;\n        let e1 = null;\n        let e2 = null;\n        let mt1 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        let mt2 = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.new0(0, 1);\n        e1 = this.getVarEvent(this.events, i);\n        e2 = this.getVarEvent(v, vi);\n        if (e1 == null || e2 == null)\n            return false;\n        do {\n            let nextE1T = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.sum(mt1, e1.getmusictime());\n            while (nextE1T.greaterThan(mt2)) {\n                if (mt2.equals(mt1) && e2.hasVariantColoration(e1))\n                    return true;\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n                if (e2 == null)\n                    return false;\n            }\n            let nextE2T = _Proportion__WEBPACK_IMPORTED_MODULE_3__.Proportion.sum(mt2, e2.getmusictime());\n            while (nextE2T.greaterThan(mt1)) {\n                if (mt2.equals(mt1) && e2.hasVariantColoration(e1))\n                    return true;\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n                if (e1 == null)\n                    return false;\n            }\n            if (mt1.equals(mt2) && nextE1T.equals(nextE2T)) {\n                if (e2.hasVariantColoration(e1))\n                    return true;\n                mt1.add(e1.getmusictime());\n                e1 = this.getVarEvent(this.events, ++i);\n                mt2.add(e2.getmusictime());\n                e2 = this.getVarEvent(v, ++vi);\n            }\n        } while (e1 != null && e2 != null);\n        return false;\n    }\n    /* is either list empty? if so, no coloration variant */\n    /* at least 1 list is finished; no coloration variant */\n    getVarEvent(el, i) {\n        if (i >= el.getNumEvents())\n            return null;\n        let e = el.getEvent(i);\n        if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END)\n            return null;\n        return e;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getEvent(i) {\n        return this.events.getEvent(i);\n    }\n    getEvents() {\n        return this.events;\n    }\n    getEventIndex() {\n        return this.eventIndex;\n    }\n    getLength() {\n        return this.length;\n    }\n    getNumEvents() {\n        return this.events.getNumEvents();\n    }\n    getSectionNum() {\n        return this.sectionNum;\n    }\n    getVersion(vi) {\n        return this.versions.get(vi);\n    }\n    getVersions() {\n        return this.versions;\n    }\n    getVoiceNum() {\n        return this.voiceNum;\n    }\n    includesVersion(v) {\n        return this.versions.contains(v);\n    }\n    isError() {\n        return this.error;\n    }\n    /*------------------------------------------------------------------------\nMethods: void add*()\nPurpose: Routines to add elements (events, event lists, versions)\nParameters:\n  Input:  new elements, indices\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent_1(e) {\n        this.addEvent_2(this.events.getNumEvents(), e);\n    }\n    addEvent_2(i, e) {\n        e.setVariantReading(this);\n        this.events.addEvent_2(i, e);\n        this.length.add(e.getmusictime());\n    }\n    addEventList_1(el) {\n        let numEvents = el.getNumEvents();\n        for (let ei = 0; ei < numEvents; ei++)\n            this.addEvent_1(el.getEvent(ei).createCopy_1());\n    }\n    addEventList_2(other) {\n        for (let i = 0; i < other.getNumEvents(); i++)\n            this.addEvent_1(other.getEvent(i).createCopy_1());\n    }\n    addVersion(v) {\n        if (!this.includesVersion(v))\n            this.versions.add(v);\n    }\n    /*------------------------------------------------------------------------\nMethods: void delete*()\nPurpose: Routines to delete elements (events, event lists, versions)\nParameters:\n  Input:  indices/elements to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteEvent_1(i) {\n        this.deleteEvent_2(this.events.getEvent(i));\n    }\n    deleteEvent_2(e) {\n        this.events.deleteEvent_2(e);\n        this.length.subtract(e.getmusictime());\n    }\n    deleteVersion(v) {\n        this.versions.remove(v);\n    }\n    /* remove one version into a new reading */\n    separateVersion(versionToSeparate) {\n        let newReading = VariantReading.new1(this.sectionNum, this.voiceNum, this.eventIndex);\n        newReading.error = this.error;\n        newReading.addVersion(versionToSeparate);\n        for (let i = 0; i < this.getNumEvents(); i++)\n            newReading.addEvent_1(this.getEvent(i).createCopy_1());\n        this.deleteVersion(versionToSeparate);\n        return newReading;\n    }\n    /* copy events */\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setError(error) {\n        this.error = error;\n    }\n    /*------------------------------------------------------------------------\nMethod:  String toString()\nPurpose: Convert to string\nParameters:\n  Input:  -\n  Output: -\n  Return: string representation of structure\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"Variant events:\");\n        for (let i = 0; i < this.getNumEvents(); i++)\n            this.getEvent(i).prettyprint_1();\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"End variant\");\n    }\n    toString() {\n        let ret = \"VR: \";\n        for (let vvd of this.getVersions())\n            ret += vvd.getID() + \" \";\n        return ret;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* flags for possible types of variation between readings */\nVariantReading.VAR_NONE = 0;\n/* 0000000000000000 */\nVariantReading.VAR_NONSUBSTANTIVE = 1;\n/* 0000000000000001 */\nVariantReading.VAR_RHYTHM = VariantReading.VAR_NONSUBSTANTIVE << 1;\nVariantReading.VAR_PITCH = VariantReading.VAR_RHYTHM << 1;\nVariantReading.VAR_ORIGTEXT = VariantReading.VAR_PITCH << 1;\nVariantReading.VAR_ACCIDENTAL = VariantReading.VAR_ORIGTEXT << 1;\nVariantReading.VAR_CLEF = VariantReading.VAR_ACCIDENTAL << 1;\nVariantReading.VAR_LINEEND = VariantReading.VAR_CLEF << 1;\nVariantReading.VAR_COLORATION = VariantReading.VAR_LINEEND << 1;\nVariantReading.VAR_LIGATURE = VariantReading.VAR_COLORATION << 1;\nVariantReading.VAR_MENSSIGN = VariantReading.VAR_LIGATURE << 1;\nVariantReading.VAR_ERROR = VariantReading.VAR_MENSSIGN << 1;\nVariantReading.VAR_ALL = 0x7fffffff;\n// Long.MAX_VALUE;CHANGE\nVariantReading.typeNames = [\"Non-substantive\", \"Rhythm\", \"Pitch\", \"Text\", \"Accidental\", \"Clef\", \"Line-break\", \"Coloration\", \"Ligature\", \"Mensuration\", \"Error\"];\n/* positioning of inserted event within reading */\nVariantReading.NEWVARIANT = 0;\nVariantReading.BEGINNING = 1;\nVariantReading.MIDDLE = 2;\nVariantReading.END = 3;\nVariantReading.DELETED = 4;\nVariantReading.COMBINED = 5;\nVariantReading.NEWREADING = 6;\nVariantReading.NOACTION = 7;\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/VariantReading.ts?");

/***/ }),

/***/ "./src/DataStruct/VariantVersionData.ts":
/*!**********************************************!*\
  !*** ./src/DataStruct/VariantVersionData.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantVersionData: () => (/* binding */ VariantVersionData)\n/* harmony export */ });\n/* harmony import */ var _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VoiceMensuralData */ \"./src/DataStruct/VoiceMensuralData.ts\");\n/* harmony import */ var _VoiceChantData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VoiceChantData */ \"./src/DataStruct/VoiceChantData.ts\");\n/* harmony import */ var _Proportion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _PieceData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PieceData */ \"./src/DataStruct/PieceData.ts\");\n/* harmony import */ var _MusicMensuralSection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MusicMensuralSection */ \"./src/DataStruct/MusicMensuralSection.ts\");\n/* harmony import */ var _MusicChantSection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MusicChantSection */ \"./src/DataStruct/MusicChantSection.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\n\n\n\n\nclass VariantVersionData {\n    constructor() {\n        this.defaultVersion = false;\n    }\n    static new0(ID, numInList) {\n        let _new0 = new VariantVersionData;\n        VariantVersionData.set0(_new0, ID, numInList);\n        return _new0;\n    }\n    static set0(new0, ID, numInList) {\n        new0.ID = ID;\n        new0.numInList = numInList;\n        new0.sourceID = -1;\n        new0.missingVoices = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__.ArrayList(16);\n    }\n    static new1(ID) {\n        let _new1 = new VariantVersionData;\n        VariantVersionData.set1(_new1, ID);\n        return _new1;\n    }\n    static set1(new1, ID) {\n        VariantVersionData.set0(new1, ID, 0);\n    }\n    static new2(other) {\n        let _new2 = new VariantVersionData;\n        VariantVersionData.set2(_new2, other);\n        return _new2;\n    }\n    static set2(new2, other) {\n        new2.copyData(other);\n    }\n    copyData(other) {\n        this.ID = other.ID;\n        this.sourceName = other.sourceName;\n        this.sourceID = other.sourceID;\n        this.numInList = other.numInList;\n        this.editor = other.editor;\n        this.description = other.description;\n        this.missingVoices = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__.ArrayList(other.missingVoices);\n    }\n    /*------------------------------------------------------------------------\nMethod:  PieceData constructMusicData(PieceData defaultMusicData[,PieceData newMusicData])\nPurpose: Create music data set incorporating this version's variant\n         readings\nParameters:\n  Input:  PieceData defaultMusicData - base music version without variants\n          PieceData newMusicData     - variant music structure to write into\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructMusicData_1(defaultMusicData) {\n        return this.constructMusicData_2(defaultMusicData, _PieceData__WEBPACK_IMPORTED_MODULE_3__.PieceData.new1(defaultMusicData));\n    }\n    constructMusicData_2(defaultMusicData, newMusicData) {\n        newMusicData.setCurVersion(this);\n        newMusicData.setSections(new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__.ArrayList());\n        for (let origSection of defaultMusicData.getSections()) {\n            let newSection = origSection.shallowCopy_1();\n            newSection.setVersion(this);\n            for (let vi = 0; vi < origSection.getNumVoices_1(); vi++) {\n                let origV = origSection.getVoice_1(vi);\n                let newV = null;\n                if (origV != null) {\n                    if (newSection instanceof _MusicMensuralSection__WEBPACK_IMPORTED_MODULE_4__.MusicMensuralSection)\n                        newV = _VoiceMensuralData__WEBPACK_IMPORTED_MODULE_0__.VoiceMensuralData.new3(origV.getMetaData(), newSection);\n                    else if (newSection instanceof _MusicChantSection__WEBPACK_IMPORTED_MODULE_5__.MusicChantSection)\n                        newV = _VoiceChantData__WEBPACK_IMPORTED_MODULE_1__.VoiceChantData.new1(origV.getMetaData(), newSection);\n                    newV.setMissingVersions(origV.getMissingVersions());\n                    let ei = 0;\n                    let done = ei >= origV.getNumEvents();\n                    while (!done) {\n                        let e = origV.getEvent(ei);\n                        newV.addEvent_1(e);\n                        if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START) {\n                            let vr = e.getVariantReading_1(this);\n                            if (vr != null) {\n                                let variantLength = vr.getLength();\n                                let defaultLength = e.getDefaultLength();\n                                let curProp = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.new0(1, 1);\n                                variantLength.setVal_2(0, 1);\n                                defaultLength.setVal_2(0, 1);\n                                for (let i = 0; i < vr.getNumEvents(); i++) {\n                                    let ve = vr.getEvent(i);\n                                    newV.addEvent_1(ve);\n                                    variantLength.add(_Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.product(ve.getmusictime(), curProp));\n                                    if (ve.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_PROPORTION)\n                                        curProp.divide(ve.getproportion());\n                                }\n                                curProp = _Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.new0(1, 1);\n                                while (e.geteventtype() != _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END) {\n                                    e = origV.getEvent(++ei);\n                                    defaultLength.add(_Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.product(e.getmusictime(), curProp));\n                                    if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_PROPORTION)\n                                        curProp.divide(e.getproportion());\n                                }\n                            }\n                            else\n                                ei++;\n                        }\n                        else\n                            ei++;\n                        done = ei >= origV.getNumEvents();\n                    }\n                }\n                newSection.setVoice_1(vi, newV);\n            }\n            newMusicData.addSection_2(newSection);\n        }\n        newMusicData.recalcAllEventParams();\n        return newMusicData;\n    }\n    /* iterate through events list, copying everything but replacing\n                   VARIANTDATA segments when necessary */\n    /* add variant events */\n    /* skip default reading */\n    /*            if (newSection instanceof MusicMensuralSection)\n              ((MusicMensuralSection)newSection).setVoice(vi,(VoiceMensuralData)newV);\n            else if (newSection instanceof MusicChantSection)\n              ((MusicChantSection)newSection).setVoice(vi,(VoiceChantData)newV);*/\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setDefault(defaultVersion) {\n        this.defaultVersion = defaultVersion;\n    }\n    setDescription(description) {\n        this.description = description;\n    }\n    setEditor(editor) {\n        this.editor = editor;\n    }\n    setID(ID) {\n        this.ID = ID;\n    }\n    setMissingVoice(v, missing) {\n        if (missing) {\n            if (!this.missingVoices.contains(v))\n                this.missingVoices.add(v);\n        }\n        else\n            this.missingVoices.remove(v);\n    }\n    setNumInList(numInList) {\n        this.numInList = numInList;\n    }\n    setSourceInfo(sourceName, sourceID) {\n        this.sourceName = sourceName;\n        this.sourceID = sourceID;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getDescription() {\n        return this.description;\n    }\n    getEditor() {\n        return this.editor;\n    }\n    getID() {\n        return this.ID;\n    }\n    getMissingVoices() {\n        return this.missingVoices;\n    }\n    getNumInList() {\n        return this.numInList;\n    }\n    getSourceID() {\n        return this.sourceID;\n    }\n    getSourceIDString() {\n        return this.sourceID == -1 ? null : `${this.sourceID}`;\n    }\n    getSourceName() {\n        return this.sourceName;\n    }\n    isDefault() {\n        return this.defaultVersion;\n    }\n    isVoiceMissing(v) {\n        return this.missingVoices.contains(v);\n    }\n    /*------------------------------------------------------------------------\nMethod:  String toString()\nPurpose: Convert to string\nParameters:\n  Input:  -\n  Output: -\n  Return: string representation of structure\n------------------------------------------------------------------------*/\n    toString() {\n        let ret = \"Variant Version \" + this.ID;\n        if (this.sourceName != null)\n            ret += \"; source: \" + this.sourceName + \" (ID \" + this.sourceID + \")\";\n        if (this.editor != null)\n            ret += \"; editor: \" + this.editor;\n        if (this.description != null)\n            ret += \"; \" + this.description;\n        return ret;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/VariantVersionData.ts?");

/***/ }),

/***/ "./src/DataStruct/Voice.ts":
/*!*********************************!*\
  !*** ./src/DataStruct/Voice.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Voice: () => (/* binding */ Voice)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n\nclass Voice {\n    static new0(gd, vn, n, e, smc) {\n        let _new0 = new Voice;\n        Voice.set0(_new0, gd, vn, n, e, smc);\n        return _new0;\n    }\n    static set0(new0, gd, vn, n, e, smc) {\n        new0.vnum = vn;\n        new0.name = n;\n        new0.editorial = e;\n        new0.suggestedModernClef = smc;\n        new0.generalData = gd;\n    }\n    static new1(gd, vn, n, e) {\n        let _new1 = new Voice;\n        Voice.set1(_new1, gd, vn, n, e);\n        return _new1;\n    }\n    static set1(new1, gd, vn, n, e) {\n        Voice.set0(new1, gd, vn, n, e, null);\n    }\n    static new2(v) {\n        let _new2 = new Voice;\n        Voice.set2(_new2, v);\n        return _new2;\n    }\n    static set2(new2, v) {\n        new2.vnum = v.vnum;\n        new2.name = v.name;\n        new2.editorial = v.editorial;\n        new2.suggestedModernClef = v.suggestedModernClef;\n        new2.generalData = v.generalData;\n    }\n    /*------------------------------------------------------------------------\nMethods: boolean hasFinalisSection()\nPurpose: Checks whether this voice, in an incipit score, has a non-empty\n         Finalis section\nParameters:\n  Input:  -\n  Output: -\n  Return: true if a finalis appears in this voice-incipit\n------------------------------------------------------------------------*/\n    hasFinalisSection() {\n        if (!this.getGeneralData().isIncipitScore()) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: called Voice.hasFinalisSection() in a non-incipit score\");\n            return false;\n        }\n        if (this.getGeneralData().getNumSections() < 2)\n            return false;\n        let ms = this.getGeneralData().getSection(((this.getGeneralData().getNumSections() - 1) | 0));\n        let v = ms.getVoice_1(((this.getNum() - 1) | 0));\n        if (v == null || v.getNumEvents() < 2)\n            return false;\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getName() {\n        return this.name;\n    }\n    getAbbrevLetter() {\n        if (this.name.length == 0)\n            return \" \";\n        if (this.name.length > 1 && this.name.charAt(0) == \"[\")\n            return \"\" + this.name.charAt(1);\n        return \"\" + this.name.charAt(0);\n    }\n    getNum() {\n        return this.vnum;\n    }\n    getStaffTitle() {\n        if (this.editorial)\n            return this.name + \" (Editorial)\";\n        return this.name;\n    }\n    isEditorial() {\n        return this.editorial;\n    }\n    getSuggestedModernClef() {\n        return this.suggestedModernClef;\n    }\n    getGeneralData() {\n        return this.generalData;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setName(n) {\n        this.name = n;\n    }\n    setNum(n) {\n        this.vnum = n;\n    }\n    setEditorial(e) {\n        this.editorial = e;\n    }\n    setSuggestedModernClef(c) {\n        this.suggestedModernClef = c;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this voice\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"Voice \" + this.vnum);\n        if (this.editorial)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\" (editorial)\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\":\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"  Name: \" + this.name);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/Voice.ts?");

/***/ }),

/***/ "./src/DataStruct/VoiceChantData.ts":
/*!******************************************!*\
  !*** ./src/DataStruct/VoiceChantData.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VoiceChantData: () => (/* binding */ VoiceChantData)\n/* harmony export */ });\n/* harmony import */ var _VoiceEventListData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VoiceEventListData */ \"./src/DataStruct/VoiceEventListData.ts\");\n\nclass VoiceChantData extends _VoiceEventListData__WEBPACK_IMPORTED_MODULE_0__.VoiceEventListData {\n    static new1(v, section) {\n        let _new1 = new VoiceChantData;\n        VoiceChantData.set1(_new1, v, section);\n        return _new1;\n    }\n    static set1(new1, v, section) {\n        new1.initParams_2(v, section);\n    }\n    static new2() {\n        let _new2 = new VoiceChantData;\n        VoiceChantData.set2(_new2);\n        return _new2;\n    }\n    static set2(new2) {\n        new2.initParams_1();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/VoiceChantData.ts?");

/***/ }),

/***/ "./src/DataStruct/VoiceEventListData.ts":
/*!**********************************************!*\
  !*** ./src/DataStruct/VoiceEventListData.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VoiceEventListData: () => (/* binding */ VoiceEventListData)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _EventListData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventListData */ \"./src/DataStruct/EventListData.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\nclass VoiceEventListData extends _EventListData__WEBPACK_IMPORTED_MODULE_1__.EventListData {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nMethod:  void initParams(Voice v,MusicSection section)\nPurpose: Initialize basic parameters\nParameters:\n  Input:  Voice v              - voice metadata\n          MusicSection section - section data\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initParams_2(v, section) {\n        this.metaData = v;\n        this.section = section;\n        this.missingVersions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__.ArrayList();\n        super.initParams_1();\n    }\n    initParams_1() {\n        this.metaData = null;\n        this.section = null;\n        this.missingVersions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__.ArrayList();\n        super.initParams_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setVoiceParams(Event e)\nPurpose: Update voice parameter variables after adding a new event\nParameters:\n  Input:  Event e - event just added\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVoiceParams_1(e) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addEvent(Event e)\nPurpose: Add event to this voice's list (at end)\nParameters:\n  Input:  Event e - event to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent_1(e) {\n        let listPlace = this.events.size();\n        if (this.isDefaultVersion())\n            e.setDefaultListPlace(listPlace);\n        else\n            e.setListPlace(listPlace);\n        super.addEvent_1(e);\n        this.setVoiceParams_1(e);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addEvent(int i,Event e)\nPurpose: Add event to this voice's list (at specified location)\nParameters:\n  Input:  int i   - index of location for addition\n          Event e - event to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addEvent_2(i, e) {\n        let addedEvent = e;\n        let listPlace = i;\n        if (this.isDefaultVersion())\n            e.setDefaultListPlace(listPlace);\n        else\n            e.setListPlace(listPlace);\n        super.addEvent_2(i, e);\n        this.setVoiceParams_1(e);\n        if (this.section.isDefaultVersion()) {\n            e.setDefaultListPlace(listPlace);\n            for (let li = this.events.listIterator(((listPlace + 1) | 0)); li.hasNext();) {\n                e = li.next();\n                e.setDefaultListPlace(((e.getDefaultListPlace() + 1) | 0));\n            }\n        }\n        else\n            for (let li = this.events.listIterator(((i + 1) | 0)); li.hasNext();) {\n                e = li.next();\n                e.setListPlace(++i);\n            }\n        e.setcolorparams_1(this.section.getBaseColoration());\n        if (addedEvent.hasSignatureClef_1() || addedEvent.getMensInfo_1() != null || addedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_COLORCHANGE || addedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_LACUNA || addedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_LACUNA_END || addedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_MODERNKEYSIGNATURE || addedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_VARIANTDATA_START || addedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_VARIANTDATA_END)\n            this.recalcEventParams_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event deleteEvent(int i[,VoiceEventListData lastv])\nPurpose: Remove event from this voice's list\nParameters:\n  Input:  int i                    - index of event to delete\n          VoiceEventListData lastv - previous section of this voice\n  Output: -\n  Return: deleted Event\n------------------------------------------------------------------------*/\n    deleteEvent_1(i) {\n        return this.deleteEvent_3(i, null);\n    }\n    deleteEvent_3(i, lastv) {\n        let e;\n        let deletedEvent = super.deleteEvent_1(i);\n        if (this.isDefaultVersion())\n            for (let li = this.events.listIterator(i); li.hasNext();) {\n                e = li.next();\n                e.setDefaultListPlace(((e.getDefaultListPlace() - 1) | 0));\n            }\n        else\n            for (let li = this.events.listIterator(i); li.hasNext();) {\n                e = li.next();\n                e.setListPlace(((e.getListPlace(false) - 1) | 0));\n            }\n        if (deletedEvent.hasSignatureClef_1() || deletedEvent.getMensInfo_1() != null || deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_COLORCHANGE || deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_LACUNA || deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_LACUNA_END || deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_MODERNKEYSIGNATURE || deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_VARIANTDATA_START || deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_VARIANTDATA_END)\n            this.recalcEventParams_2(lastv);\n        return deletedEvent;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void truncateEvents(int deletionPoint)\nPurpose: Truncate event list at a given point\nParameters:\n  Input:  int deletionPoint - index of first event to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    truncateEvents_1(deletionPoint) {\n        super.truncateEvents_1(deletionPoint);\n        this.addEvent_1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.new1(_Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_SECTIONEND));\n        this.recalcEventParams_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void recalcEventParams([EventListData lastv,Event paramEvent])\nPurpose: Recalculate event attributes based on parameters (clef, mensuration\n         info, etc)\nParameters:\n  Input:  EventListData lastv - previous section of this voice\n          Event paramEvent    - event containing starting parameters\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcEventParams_2(lastv) {\n        if (this.events.size() == 0)\n            return;\n        let paramEvent = lastv == null ? this.getEvent(0) : lastv.getEvent(((lastv.getNumEvents() - 1) | 0));\n        this.recalcEventParams_4(paramEvent);\n    }\n    recalcEventParams_4(paramEvent) {\n        if (this.events.size() == 0)\n            return;\n        super.recalcEventParams_3(paramEvent, this.section.getBaseColoration());\n        let listPlace = 0;\n        for (let curevent of this.events)\n            if (this.isDefaultVersion())\n                curevent.setDefaultListPlace(listPlace++);\n            else\n                curevent.setListPlace(listPlace++);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getMetaData() {\n        return this.metaData;\n    }\n    getMissingVersions() {\n        return this.missingVersions;\n    }\n    getSection() {\n        return this.section;\n    }\n    getVoiceNum() {\n        return this.metaData.getNum();\n    }\n    isDefaultVersion() {\n        return this.section == null ? false : this.section.isDefaultVersion();\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setMetaData(md) {\n        this.metaData = md;\n    }\n    addMissingVersion(vvd) {\n        this.missingVersions.add(vvd);\n    }\n    removeMissingVersion(vvd) {\n        this.missingVersions.remove(vvd);\n    }\n    setMissingVersions(missingVersions) {\n        this.missingVersions = missingVersions;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this voice\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_1() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Voice \" + this.metaData.getNum() + \":\");\n        super.prettyprint_1();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/VoiceEventListData.ts?");

/***/ }),

/***/ "./src/DataStruct/VoiceMensuralData.ts":
/*!*********************************************!*\
  !*** ./src/DataStruct/VoiceMensuralData.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VoiceMensuralData: () => (/* binding */ VoiceMensuralData)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _VoiceEventListData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VoiceEventListData */ \"./src/DataStruct/VoiceEventListData.ts\");\n/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ \"./src/DataStruct/Event.ts\");\n\n\n\nclass VoiceMensuralData extends _VoiceEventListData__WEBPACK_IMPORTED_MODULE_1__.VoiceEventListData {\n    static new3(v, section) {\n        let _new3 = new VoiceMensuralData;\n        VoiceMensuralData.set3(_new3, v, section);\n        return _new3;\n    }\n    static set3(new3, v, section) {\n        new3.initParams_2(v, section);\n        new3.ellipsisEventNum = -1;\n    }\n    static new4() {\n        let _new4 = new VoiceMensuralData;\n        VoiceMensuralData.set4(_new4);\n        return _new4;\n    }\n    static set4(new4) {\n        new4.initParams_1();\n        new4.ellipsisEventNum = -1;\n    }\n    /* vestigial limb ! */\n    /*------------------------------------------------------------------------\nMethod:  void setVoiceParams(Event e)\nPurpose: Update voice parameter variables after adding a new event\nParameters:\n  Input:  Event e - event just added\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVoiceParams_1(e) {\n        if (e.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_ELLIPSIS) {\n            if (this.ellipsisEventNum != -1)\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: Multiple ellipses in one voice\");\n            if (!this.metaData.getGeneralData().isIncipitScore())\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: Adding ellipsis to non-incipit score\");\n            this.ellipsisEventNum = e.getListPlace(this.isDefaultVersion());\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event deleteEvent(int i)\nPurpose: Remove event from this voice's list\nParameters:\n  Input:  int i - index of event to delete\n  Output: -\n  Return: deleted Event\n------------------------------------------------------------------------*/\n    deleteEvent_1(i) {\n        let deletedEvent = super.deleteEvent_1(i);\n        if (deletedEvent.geteventtype() == _Event__WEBPACK_IMPORTED_MODULE_2__.Event.EVENT_ELLIPSIS)\n            this.ellipsisEventNum = -1;\n        return deletedEvent;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getEllipsisEventNum() {\n        return this.ellipsisEventNum;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/DataStruct/VoiceMensuralData.ts?");

/***/ }),

/***/ "./src/Editor/ClipboardData.ts":
/*!*************************************!*\
  !*** ./src/Editor/ClipboardData.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClipboardData: () => (/* binding */ ClipboardData)\n/* harmony export */ });\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_EventListData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DataStruct/EventListData */ \"./src/DataStruct/EventListData.ts\");\n\n\nclass ClipboardData {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ClipboardData(int snum,int vnum,int evnum1,int evnum2)\nPurpose:     Init and copy events into list\nParameters:\n  Input:\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(renderedSections, snum, vnum, evnum1, evnum2) {\n        this.events = _DataStruct_EventListData__WEBPACK_IMPORTED_MODULE_1__.EventListData.new0();\n        for (let ei = evnum1; ei <= evnum2; ei++) {\n            let e = renderedSections[snum].eventinfo[vnum].getEvent(ei).getEvent_1();\n            switch (e.geteventtype()) {\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__.Event.EVENT_VARIANTDATA_START:\n                    {\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__.Event.EVENT_VARIANTDATA_END:\n                    {\n                        break;\n                    }\n                default:\n                    {\n                        let newe = e.createCopy_1();\n                        this.events.addEvent_1(newe);\n                    }\n            }\n        }\n    }\n    /* copy events */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getEventList() {\n        return this.events;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/ClipboardData.ts?");

/***/ }),

/***/ "./src/Editor/ColorationChooser.ts":
/*!*****************************************!*\
  !*** ./src/Editor/ColorationChooser.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorationChooser: () => (/* binding */ ColorationChooser)\n/* harmony export */ });\n/* harmony import */ var _java_awt_GridLayout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/awt/GridLayout */ \"./src/java/awt/GridLayout.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/JComboBox */ \"./src/javax/swing/JComboBox.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n\n\n\n\n\nclass ColorationChooser extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel {\n    static new0_1() {\n        let _new0 = new ColorationChooser;\n        ColorationChooser.set0_1(_new0);\n        return _new0;\n    }\n    static set0_1(new0) {\n        let colorNames = Array(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.ColorNames.length);\n        let colorFillNames = Array(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.ColorFillNames.length);\n        for (let ci = 0; ci < colorNames.length; ci++)\n            colorNames[ci] = \" \" + _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.ColorNames[ci];\n        for (let ci = 0; ci < colorFillNames.length; ci++)\n            colorFillNames[ci] = \" \" + _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.ColorFillNames[ci];\n        new0.PrimaryColorChooser = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_3__.JComboBox(colorNames);\n        new0.PrimaryFillChooser = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_3__.JComboBox(colorFillNames);\n        new0.SecondaryColorChooser = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_3__.JComboBox(colorNames);\n        new0.SecondaryFillChooser = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_3__.JComboBox(colorFillNames);\n        new0.setLayout(new _java_awt_GridLayout__WEBPACK_IMPORTED_MODULE_0__.GridLayout(2, 3));\n        let primaryLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__.JLabel(\"Primary:\");\n        primaryLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_2__.BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        new0.add(primaryLabel);\n        new0.add(new0.PrimaryColorChooser);\n        new0.add(new0.PrimaryFillChooser);\n        let secondaryLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__.JLabel(\"Secondary:\");\n        secondaryLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_2__.BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        new0.add(secondaryLabel);\n        new0.add(new0.SecondaryColorChooser);\n        new0.add(new0.SecondaryFillChooser);\n    }\n    static new1_1(c) {\n        let _new1 = new ColorationChooser;\n        ColorationChooser.set1_1(_new1, c);\n        return _new1;\n    }\n    static set1_1(new1, c) {\n        ColorationChooser.set0_1(new1);\n        new1.setIndices_1(c);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setIndices(Coloration c)\nPurpose: Set values of combo boxes\nParameters:\n  Input:  Coloration c - data for combo boxes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setIndices_1(c) {\n        this.PrimaryColorChooser.setSelectedIndex(c.primaryColor);\n        this.PrimaryFillChooser.setSelectedIndex(c.primaryFill);\n        this.SecondaryColorChooser.setSelectedIndex(c.secondaryColor);\n        this.SecondaryFillChooser.setSelectedIndex(c.secondaryFill);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Coloration createColoration()\nPurpose: Generate Coloration structure with values from combo boxes\nParameters:\n  Input:  -\n  Output: -\n  Return: new coloration structure\n------------------------------------------------------------------------*/\n    createColoration() {\n        return _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_5__.Coloration.new0(this.PrimaryColorChooser.getSelectedIndex(), this.PrimaryFillChooser.getSelectedIndex(), this.SecondaryColorChooser.getSelectedIndex(), this.SecondaryFillChooser.getSelectedIndex());\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addListener(ItemListener aListener)\nPurpose: Register GUI listener\nParameters:\n  Input:  ItemListener aListener - listener to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addListener(aListener) {\n        this.PrimaryColorChooser.addItemListener(aListener);\n        this.PrimaryFillChooser.addItemListener(aListener);\n        this.SecondaryColorChooser.addItemListener(aListener);\n        this.SecondaryFillChooser.addItemListener(aListener);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeListener(ItemListener aListener)\nPurpose: Unregister GUI listener\nParameters:\n  Input:  ItemListener aListener - listener to remove\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeListener(aListener) {\n        this.PrimaryColorChooser.removeItemListener(aListener);\n        this.PrimaryFillChooser.removeItemListener(aListener);\n        this.SecondaryColorChooser.removeItemListener(aListener);\n        this.SecondaryFillChooser.removeItemListener(aListener);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean itemSelected(Object o)\nPurpose: Check whether a given object corresponds to one of this chooser's\n         items\nParameters:\n  Input:  Object o - selected item\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    itemSelected(o) {\n        return o == this.PrimaryColorChooser || o == this.PrimaryFillChooser || o == this.SecondaryColorChooser || o == this.SecondaryFillChooser;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/ColorationChooser.ts?");

/***/ }),

/***/ "./src/Editor/EditingOptionsFrame.ts":
/*!*******************************************!*\
  !*** ./src/Editor/EditingOptionsFrame.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditingOptionsFrame: () => (/* binding */ EditingOptionsFrame)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JRadioButton */ \"./src/javax/swing/JRadioButton.ts\");\n/* harmony import */ var _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/ButtonGroup */ \"./src/javax/swing/ButtonGroup.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n\n\n\n\n\n\n\n\n\nclass EditingOptionsFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_3__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: EditingOptionsFrame(EditorWin owner)\nPurpose:     Initialize and lay out frame\nParameters:\n  Input:  EditorWin owner - parent frame\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(owner) {\n        super(owner, \"Input options\", false);\n        this.owner = owner;\n        let eecp = this.getContentPane();\n        let editOptionsBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createVerticalBox();\n        let noteInputPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel();\n        noteInputPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createTitledBorder(\"Note/Rest Input\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        noteInputPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout(noteInputPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout.Y_AXIS));\n        let cBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalBox();\n        this.colorationOnCheckBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_8__.JCheckBox(\"Coloration\", false);\n        cBox.add(this.colorationOnCheckBox);\n        cBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalGlue());\n        noteInputPanel.add(cBox);\n        let colorationTypePanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel();\n        colorationTypePanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createTitledBorder(\"Current Coloration Type\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        colorationTypePanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout(colorationTypePanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout.X_AXIS));\n        let ctBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createVerticalBox();\n        this.colorationTypeMinorColor = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_6__.JRadioButton(\"'Minor color'\", true);\n        this.colorationTypeSesquialtera = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_6__.JRadioButton(\"Sesquialtera (3/2)\");\n        this.colorationTypeImperfectio = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_6__.JRadioButton(\"Imperfectio\");\n        let ctGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_7__.ButtonGroup();\n        ctGroup.add(this.colorationTypeMinorColor);\n        ctGroup.add(this.colorationTypeSesquialtera);\n        ctGroup.add(this.colorationTypeImperfectio);\n        ctBox.add(this.colorationTypeMinorColor);\n        ctBox.add(this.colorationTypeSesquialtera);\n        ctBox.add(this.colorationTypeImperfectio);\n        colorationTypePanel.add(ctBox);\n        colorationTypePanel.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalGlue());\n        this.colorationOnCheckBox.addItemListener(owner);\n        this.colorationTypeMinorColor.addActionListener(owner);\n        this.colorationTypeSesquialtera.addActionListener(owner);\n        this.colorationTypeImperfectio.addActionListener(owner);\n        editOptionsBox.add(noteInputPanel);\n        editOptionsBox.add(colorationTypePanel);\n        editOptionsBox.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        eecp.add(editOptionsBox);\n        this.pack();\n        this.addWindowListener({\n            /* note/rest input panel */\n            /* coloration type panel */\n            windowClosing: (event) => {\n                this.ownerSetEditMenuEditingOptions(false);\n            }\n        });\n    }\n    ownerSetEditMenuEditingOptions(newval) {\n        this.owner.setEditMenuEditingOptions(newval);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setLocation(int eox,int eoy)\nPurpose: Position frame\nParameters:\n  Input:  int eox,eoy - new location to attempt\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setLocation(eox, eoy) {\n        let eoWidth = this.getSize().width;\n        let eoHeight = this.getSize().height;\n        let screenSize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_0__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (((eox + eoWidth) | 0) > screenSize.width)\n            eox = ((screenSize.width - eoWidth) | 0);\n        if (((eoy + eoHeight) | 0) > screenSize.height)\n            eoy = ((screenSize.height - eoHeight) | 0);\n        super.setLocation(eox, eoy);\n    }\n    /* position relative to event editor frame\n    int eox=eventEditorFrame.getLocation().x+eventEditorFrame.getSize().width,\n        eoy=eventEditorFrame.getLocation().y,*/\n    /*------------------------------------------------------------------------\nMethod:  void [set|toggle]*Option()\nPurpose: Control options in frame\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleColorationOption() {\n        let newState = !this.colorationOnCheckBox.isSelected();\n        this.colorationOnCheckBox.setSelected(newState);\n        this.owner.setInputColorationOn(newState);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeListeners()\nPurpose: Unregister GUI listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*\n    private WindowListener[] getListeners(Object o) //CHANGE\n    {\n        throw new RuntimeException();\n    }*/\n    removeListeners_3() {\n        this.colorationOnCheckBox.removeItemListener(this.owner);\n        this.colorationTypeImperfectio.removeActionListener(this.owner);\n        this.colorationTypeSesquialtera.removeActionListener(this.owner);\n        this.colorationTypeMinorColor.removeActionListener(this.owner);\n        for (let wl of this.getListeners(\"WindowListener\"))\n            this.removeWindowListener(wl);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/EditingOptionsFrame.ts?");

/***/ }),

/***/ "./src/Editor/EditorWin.ts":
/*!*********************************!*\
  !*** ./src/Editor/EditorWin.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorWin: () => (/* binding */ EditorWin)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _VariantVersionInfoFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VariantVersionInfoFrame */ \"./src/Editor/VariantVersionInfoFrame.ts\");\n/* harmony import */ var _TextEditorFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TextEditorFrame */ \"./src/Editor/TextEditorFrame.ts\");\n/* harmony import */ var _SectionAttribsFrame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SectionAttribsFrame */ \"./src/Editor/SectionAttribsFrame.ts\");\n/* harmony import */ var _ScoreEditorCanvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ScoreEditorCanvas */ \"./src/Editor/ScoreEditorCanvas.ts\");\n/* harmony import */ var _OriginalTextDeleteDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OriginalTextDeleteDialog */ \"./src/Editor/OriginalTextDeleteDialog.ts\");\n/* harmony import */ var _NoteInfoPanel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./NoteInfoPanel */ \"./src/Editor/NoteInfoPanel.ts\");\n/* harmony import */ var _ModernTextDeleteDialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ModernTextDeleteDialog */ \"./src/Editor/ModernTextDeleteDialog.ts\");\n/* harmony import */ var _ModernKeySigPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ModernKeySigPanel */ \"./src/Editor/ModernKeySigPanel.ts\");\n/* harmony import */ var _MensurationChooser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./MensurationChooser */ \"./src/Editor/MensurationChooser.ts\");\n/* harmony import */ var _GeneralInfoFrame__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./GeneralInfoFrame */ \"./src/Editor/GeneralInfoFrame.ts\");\n/* harmony import */ var _EditingOptionsFrame__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./EditingOptionsFrame */ \"./src/Editor/EditingOptionsFrame.ts\");\n/* harmony import */ var _ColorationChooser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ColorationChooser */ \"./src/Editor/ColorationChooser.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../java/net/URL */ \"./src/java/net/URL.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _java_io_FileOutputStream__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../java/io/FileOutputStream */ \"./src/java/io/FileOutputStream.ts\");\n/* harmony import */ var _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../javax/imageio/ImageIO */ \"./src/javax/imageio/ImageIO.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../javax/swing/ButtonGroup */ \"./src/javax/swing/ButtonGroup.ts\");\n/* harmony import */ var _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../javax/swing/ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n/* harmony import */ var _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../javax/swing/JCheckBoxMenuItem */ \"./src/javax/swing/JCheckBoxMenuItem.ts\");\n/* harmony import */ var _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../javax/swing/JComboBox */ \"./src/javax/swing/JComboBox.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../javax/swing/JMenu */ \"./src/javax/swing/JMenu.ts\");\n/* harmony import */ var _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../javax/swing/JMenuItem */ \"./src/javax/swing/JMenuItem.ts\");\n/* harmony import */ var _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../javax/swing/JOptionPane */ \"./src/javax/swing/JOptionPane.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../javax/swing/JRadioButton */ \"./src/javax/swing/JRadioButton.ts\");\n/* harmony import */ var _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../javax/swing/JSpinner */ \"./src/javax/swing/JSpinner.ts\");\n/* harmony import */ var _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../javax/swing/JTextField */ \"./src/javax/swing/JTextField.ts\");\n/* harmony import */ var _javax_swing_JToolBar__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../javax/swing/JToolBar */ \"./src/javax/swing/JToolBar.ts\");\n/* harmony import */ var _javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../javax/swing/KeyStroke */ \"./src/javax/swing/KeyStroke.ts\");\n/* harmony import */ var _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../javax/swing/SpinnerNumberModel */ \"./src/javax/swing/SpinnerNumberModel.ts\");\n/* harmony import */ var _javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../javax/swing/SwingConstants */ \"./src/javax/swing/SwingConstants.ts\");\n/* harmony import */ var _javax_swing_WindowConstants__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../javax/swing/WindowConstants */ \"./src/javax/swing/WindowConstants.ts\");\n/* harmony import */ var _java_awt_Component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../java/awt/Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../java/awt/BorderLayout */ \"./src/java/awt/BorderLayout.ts\");\n/* harmony import */ var _java_awt_GridLayout__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../java/awt/GridLayout */ \"./src/java/awt/GridLayout.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Insets__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../java/awt/Insets */ \"./src/java/awt/Insets.ts\");\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../java/awt/event/KeyEvent */ \"./src/java/awt/event/KeyEvent.ts\");\n/* harmony import */ var _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../java/awt/event/ActionEvent */ \"./src/java/awt/event/ActionEvent.ts\");\n/* harmony import */ var _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../Gfx/MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../Gfx/MusicWin */ \"./src/Gfx/MusicWin.ts\");\n/* harmony import */ var _Gfx_OptionSet__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../Gfx/OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _Gfx_PartsWin__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../Gfx/PartsWin */ \"./src/Gfx/PartsWin.ts\");\n/* harmony import */ var _Gfx_PDFCreator__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../Gfx/PDFCreator */ \"./src/Gfx/PDFCreator.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../DataStruct/CMMEParser */ \"./src/DataStruct/CMMEParser.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../DataStruct/DotEvent */ \"./src/DataStruct/DotEvent.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../DataStruct/MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../DataStruct/MusicMensuralSection */ \"./src/DataStruct/MusicMensuralSection.ts\");\n/* harmony import */ var _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../DataStruct/MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _DataStruct_PieceData__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ../DataStruct/PieceData */ \"./src/DataStruct/PieceData.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _DataStruct_VariantVersionData__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ../DataStruct/VariantVersionData */ \"./src/DataStruct/VariantVersionData.ts\");\n/* harmony import */ var _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! ../DataStruct/Voice */ \"./src/DataStruct/Voice.ts\");\n/* harmony import */ var _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! ../DataStruct/VoiceMensuralData */ \"./src/DataStruct/VoiceMensuralData.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : EditorWin.java\n\n        Package         : Editor\n\n        Classes Included: EditorWin\n\n        Purpose         : Lays out main music editor window and functions\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 5/4/05\n\nUpdates:\n6/13/05:  started adding file functions (Open, Save, New)\n12/21/05: improved file functions (prompt to overwrite, save on exit, etc)\n1/13/06:  added basic import functionality for MIDI files\n2/14/06:  began text editor\n3/6/06:   consolidated separate event-editing tools (proportion, coloration,\n          text annotations, etc.) into a single event editor window\n3/10/06:  started Mensuration chooser GUI\n3/20/06:  added Rest buttons to main toolbar\n4/3/06:   no longer auto-creates PartsWin when opening window (for memory/speed)\n4/5/06:   added NoteInfoPanel\n5/4/06:   moved static file-browsing/opening functions to Gfx.MusicWin\n7/26/06:  added ModernKeySigPanel\n9/11/06:  added original texting functions to text editor; temporarily disabled\n          individual voice text areas (until actual functionality is implemented)\n11/26/08: allowed event editor to be hidden\n          added Text menu\n6/29/08:  added taskbar icons for dots+mensuration\n9/8/09:   GeneralInfoFrame moved to separate class\n5/7/10:   Improved error-handling/idiot-proofing in file save (as) functions\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*----------------------------------------------------------------------*/\n/* Imported packages */\n//import java.io.*;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//import javax.swing.*;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass EditorWin extends _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__.MusicWin {\n    constructor() {\n        super(...arguments);\n        this.mytype_WindowFocusListener = true;\n        this.mytype_ItemListener = true;\n        this.mytype_DocumentListener = true;\n        this.mytype_ChangeListener = true;\n        this.mytype_ActionListener = true;\n        this.windowFilePath = null;\n        this.modified = false;\n        /*------------------------------------------------------------------------\n    Method:  void changeCommentaryTextAreaStatus(boolean enabled)\n    Purpose: Enable or disable commentary text area editing\n    Parameters:\n      Input:  boolean enabled - whether to enable editing\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.commentaryGUIupdating = 0;\n        /*------------------------------------------------------------------------\n    Method:  void disableAllEventEditors()\n    Purpose: Mark all individual event editor types as disabled\n    Parameters:\n      Input:  -\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this._noteInfoPanelEnabled = false;\n        this._modernKeySigPanelEnabled = false;\n        this._mensurationChooserEnabled = false;\n        this._colorationChooserEnabled = false;\n        this._annotationEditorEnabled = false;\n        this.allDisabled = false;\n        /*------------------------------------------------------------------------\n    Method:  void [create|close]GeneralInfoFrame()\n    Purpose: Create or close panel for editing general/voice info\n    Parameters:\n      Input:  -\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        /* general/voice info editing panel */\n        this.inGeneralInfoFrame = false;\n        /*------------------------------------------------------------------------\n    Method:  void editVariantVersionInfo()\n    Purpose: Edit variant version info in separate dialog\n    Parameters:\n      Input:  -\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.variantVersionInfoFrame = null;\n    }\n    /*----------------------------------------------------------------------*/\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  void initScoreWindowing(String bdu,String initDir,boolean inApplet)\nPurpose: Initialize global objects shared by music windows\nParameters:\n  Input:  String bdu       - URL of program data directories\n          String initDir   - initial directory for file chooser\n          boolean inApplet - running within applet context?\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static initScoreWindowing_1(bdu, initDir, inApplet) {\n        _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__.MusicWin.initScoreWindowing_1(bdu, initDir, inApplet);\n        EditorWin.initEditorIcons();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initEditorIcons()\nPurpose: Initialize tool icons for editor GUI\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static initEditorIcons() {\n        try {\n            let i;\n            let curCanvas;\n            let curFileImg;\n            let curG;\n            let lightBG = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_20__.ImageIO.read(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/buttonbg-light.gif\"));\n            let darkBG = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_20__.ImageIO.read(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/buttonbg-dark.gif\"));\n            let iconWidth = lightBG.getWidth();\n            let iconHeight = lightBG.getHeight();\n            EditorWin.NVIcons_light = Array(EditorWin.NVButtonVals.length);\n            EditorWin.NVIcons_dark = Array(EditorWin.NVButtonVals.length);\n            for (i = 0; i < EditorWin.NVButtonVals.length; i++) {\n                EditorWin.NVIcons_light[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/noteval-button\" + (((i + 1) | 0)) + \"a.gif\"));\n                EditorWin.NVIcons_dark[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/noteval-button\" + (((i + 1) | 0)) + \"a-dark.gif\"));\n            }\n            EditorWin.OtherSM_light = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/noteval-button\" + (((EditorWin.NVB_SEMIMINIMA + 1) | 0)) + \"b.gif\"));\n            EditorWin.OtherSM_dark = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/noteval-button\" + (((EditorWin.NVB_SEMIMINIMA + 1) | 0)) + \"b-dark.gif\"));\n            EditorWin.RVIcons_light = Array(EditorWin.NVButtonVals.length);\n            for (i = 0; i < EditorWin.NVButtonVals.length; i++)\n                EditorWin.RVIcons_light[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/restval-button\" + (((i + 1) | 0)) + \"a.gif\"));\n            EditorWin.ClefIcons = Array(EditorWin.ClefButtonVals.length);\n            for (i = 0; i < EditorWin.ClefButtonVals.length; i++) {\n                curCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage(iconWidth, iconHeight, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage.TYPE_INT_ARGB);\n                curFileImg = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_20__.ImageIO.read(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/clef-button\" + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.ClefNames[EditorWin.ClefButtonVals[i]] + \"1a.gif\"));\n                curG = curCanvas.createGraphics();\n                curG.drawImage(lightBG, 0, 0, null);\n                curG.drawImage(curFileImg, 0, 0, null);\n                EditorWin.ClefIcons[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(curCanvas);\n            }\n            EditorWin.MiscIcons = Array(EditorWin.MiscButtonVals.length);\n            for (i = 0; i < EditorWin.MiscButtonVals.length; i++) {\n                curCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage(iconWidth, iconHeight, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage.TYPE_INT_ARGB);\n                curFileImg = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_20__.ImageIO.read(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/misc-button\" + EditorWin.MiscButtonVals[i] + \".gif\"));\n                curG = curCanvas.createGraphics();\n                curG.drawImage(lightBG, 0, 0, null);\n                curG.drawImage(curFileImg, 0, 0, null);\n                EditorWin.MiscIcons[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(curCanvas);\n            }\n            EditorWin.MensIcons_light = Array(EditorWin.MensButtonVals.length);\n            EditorWin.MensIcons_dark = Array(EditorWin.MensButtonVals.length);\n            for (i = 0; i < EditorWin.MensButtonVals.length; i++) {\n                curCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage(iconWidth, iconHeight, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage.TYPE_INT_ARGB);\n                curFileImg = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_20__.ImageIO.read(new _java_net_URL__WEBPACK_IMPORTED_MODULE_15__.URL(EditorWin.BaseDataURL + \"imgs/mens-button\" + EditorWin.MensButtonVals[i] + \".gif\"));\n                curG = curCanvas.createGraphics();\n                curG.drawImage(lightBG, 0, 0, null);\n                curG.drawImage(curFileImg, 0, 0, null);\n                EditorWin.MensIcons_light[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(curCanvas);\n                curCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage(iconWidth, iconHeight, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_52__.BufferedImage.TYPE_INT_ARGB);\n                curG = curCanvas.createGraphics();\n                curG.drawImage(darkBG, 0, 0, null);\n                curG.drawImage(curFileImg, 0, 0, null);\n                EditorWin.MensIcons_dark[i] = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_25__.ImageIcon(curCanvas);\n            }\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error loading icons: \" + e);\n            }\n            else\n                throw e;\n        }\n    }\n    /* basic image elements */\n    /* notes */\n    /* rests */\n    /* clefs */\n    /* misc buttons */\n    /* mensuration buttons */\n    /*------------------------------------------------------------------------\nMethod:  void newfile()\nPurpose: Open new music window for new blank score\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static newfile() {\n        let musicdat = _DataStruct_PieceData__WEBPACK_IMPORTED_MODULE_69__.PieceData.new0();\n        musicdat.setGeneralData(\"Title\", null, \"Composer\", \"Editor\", null, null);\n        let vl = Array(1);\n        vl[0] = _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_72__.Voice.new1(musicdat, 1, \"[1]\", false);\n        musicdat.setVoiceData(vl);\n        musicdat.addVariantVersion(_DataStruct_VariantVersionData__WEBPACK_IMPORTED_MODULE_71__.VariantVersionData.new1(\"Default\"));\n        let blankSec = _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_66__.MusicMensuralSection.new3(1);\n        let newv = _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_73__.VoiceMensuralData.new3(vl[0], blankSec);\n        newv.addEvent_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_SECTIONEND));\n        blankSec.setVoice_1(0, newv);\n        musicdat.addSection_2(blankSec);\n        try {\n            let xl = 10;\n            let yl = 10;\n            if (EditorWin.curWindow != null) {\n                xl = ((EditorWin.curWindow.getLocation().x + 20) | 0);\n                yl = ((EditorWin.curWindow.getLocation().y + 20) | 0);\n            }\n            EditorWin.new3(\"Untitled score\", musicdat, null, false, xl, yl);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error creating editor window: \" + e);\n                e.printStackTrace();\n            }\n            else\n                throw e;\n        }\n    }\n    /* create window in separate thread */\n    //final SwingWorker ofthread=new SwingWorker()\n    // {\n    // public Object construct()\n    // {\n    /* real code */\n    /* construct blank piece data */\n    //    blankSec.setVersion(musicdat.getVariantVersions().get(0));\n    /* open music window */\n    // return null; /* not used */\n    // }; /* end SwingWorker */\n    //  ofthread.start();\n    // }\n    /*------------------------------------------------------------------------\nMethod:  void exitprogram()\nPurpose: Attempt to close all windows and exit program\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static exitprogram() {\n        EditorWin.exitingProgram = true;\n        while (EditorWin.fileWindows.size() > 0) {\n            let mw = EditorWin.fileWindows.getFirst();\n            if (!mw.closewin_1()) {\n                EditorWin.exitingProgram = false;\n                return;\n            }\n        }\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.exit(0);\n    }\n    static new3(fn, p, fp, convertedData, xl, yl) {\n        let _new3 = new EditorWin;\n        EditorWin.set3(_new3, fn, p, fp, convertedData, xl, yl);\n        return _new3;\n    }\n    static set3(new3, fn, p, fp, convertedData, xl, yl) {\n        _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__.MusicWin.set0_6(new3, fn, p, xl, yl);\n        new3.windowFilePath = fp;\n        new3.EditScr = new3.ViewScr;\n        new3.createInsertSectionDialog();\n        new3.setSectionNum_2(new3.EditScr.getCurSectionNum());\n        if (convertedData)\n            new3.fileModified_2();\n    }\n    static new4(fn, p, fp) {\n        let _new4 = new EditorWin;\n        EditorWin.set4(_new4, fn, p, fp);\n        return _new4;\n    }\n    static set4(new4, fn, p, fp) {\n        EditorWin.set3(new4, fn, p, fp, false, 10, 10);\n    }\n    static new5() {\n        let _new5 = new EditorWin;\n        EditorWin.set5(_new5);\n        return _new5;\n    }\n    static set5(new5) {\n    }\n    /*------------------------------------------------------------------------\nMethod:    MusicWin getWinToReplace()\nOverrides: Gfx.MusicWin.getWinToReplace\nPurpose:   If a new opening score window is to replace another one, return\n           window to be replaced\nParameters:\n  Input:  -\n  Output: -\n  Return: window to be replaced\n------------------------------------------------------------------------*/\n    getWinToReplace_1() {\n        let blankWin = null;\n        if (EditorWin.fileWindows.size() == 1) {\n            blankWin = (EditorWin.fileWindows.getFirst());\n            if (blankWin.windowFilePath != null || blankWin.modified)\n                blankWin = null;\n        }\n        return blankWin;\n    }\n    /* if nothing has been opened/modified, replace blank score */\n    /*------------------------------------------------------------------------\nMethod:    MusicWin openWin()\nOverrides: Gfx.MusicWin.openWin\nPurpose:   Open new window after loading music data\nParameters:\n  Input:  String fn           - filename\n          String path         - canonical path to file\n          PieceData musicData - music data from file\n          int xl,yl           - coordinates for new window\n  Output: -\n  Return: new window\n------------------------------------------------------------------------*/\n    openWin_1(fn, path, musicData, convertedData, xl, yl) {\n        return EditorWin.new3(fn, musicData, path, convertedData, xl, yl);\n    }\n    /*------------------------------------------------------------------------\nMethod:    MusicWin openInViewer()\nPurpose:   Open new MusicWin with the same music data\nParameters:\n  Input:  -\n  Output: -\n  Return: new window\n------------------------------------------------------------------------*/\n    openInViewer() {\n        try {\n            return _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__.MusicWin.new1_6(this.windowFileName, this.musicData);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.handleRuntimeError(e);\n                return null;\n            }\n            else\n                throw e;\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:    void addCMMETitle(String fn)\nOverrides: Gfx.MusicWin.addCMMETitle\nPurpose:   Add title to window\nParameters:\n  Input:  String fn - name of file in window\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addCMMETitle_1(fn) {\n        this.setTitle(fn + \": CMME Editor\");\n    }\n    /*------------------------------------------------------------------------\nMethod:    void initializeOptions()\nOverrides: Gfx.MusicWin.initializeOptions\nPurpose:   Initialize option set before creating view canvas\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initializeOptions_1() {\n        let newVS = (EditorWin.curWindow != null) ? EditorWin.curWindow.optSet.getVIEWSCALE() : EditorWin.DefaultViewScale / 100;\n        this.optSet.set_usemodernclefs(false);\n        this.optSet.set_noteShapeType(_Gfx_OptionSet__WEBPACK_IMPORTED_MODULE_57__.OptionSet.OPT_NOTESHAPE_ORIG);\n        this.optSet.set_barline_type(_Gfx_OptionSet__WEBPACK_IMPORTED_MODULE_57__.OptionSet.OPT_BARLINE_TICK);\n        this.optSet.setVIEWSCALE(newVS);\n        this.optSet.set_displayedittags(true);\n        this.optSet.set_displayOrigText(true);\n        this.optSet.set_displayModText(true);\n        this.optSet.setUseModernAccidentalSystem(false);\n        this.optSet.setMarkVariants(_Gfx_OptionSet__WEBPACK_IMPORTED_MODULE_57__.OptionSet.OPT_VAR_ALL);\n    }\n    /*------------------------------------------------------------------------\nMethod:    void setSubframeLocations()\nOverrides: Gfx.MusicWin.setSubframeLocations\nPurpose:   Set locations of frames dependent upon main window (after window\n           has been packed)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setSubframeLocations_1() {\n        this.setEventEditorLocation();\n        this.setEditingOptionsLocation();\n        this.setSectionAttribsFrameLocation();\n    }\n    /*------------------------------------------------------------------------\nMethod:  PartsWin createInitialPartsWin()\nOverrides: Gfx.MusicWin.createInitialPartsWin\nPurpose: Initialize unscored parts window when opening window\nParameters:\n  Input:  -\n  Output: -\n  Return: null - EditorWin only creates a PartsWin when necessary\n------------------------------------------------------------------------*/\n    createInitialPartsWin_1() {\n        return null;\n    }\n    createFileMenu_1() {\n        let FM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__.JMenu(\"File\");\n        this.FileMenuNew = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"New\");\n        this.FileMenuNew.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_N, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.FileMenuNew.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_N);\n        this.FileMenuOpen = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Open...\");\n        this.FileMenuOpen.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_O, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.FileMenuOpen.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_O);\n        this.FileMenuSave = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Save\");\n        this.FileMenuSave.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_S, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.FileMenuSave.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_S);\n        this.FileMenuSaveAs = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Save As...\");\n        this.FileMenuSaveAs.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_A);\n        this.FileMenuSaveAs.setVisible(false);\n        this.FileMenuExport = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__.JMenu(\"Export\");\n        this.FileMenuExport.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_E);\n        this.FMExportMIDI = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"MIDI\");\n        this.FMExportXML = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"MusicXML\");\n        this.FileMenuExport.add(this.FMExportMIDI);\n        this.FileMenuExport.add(this.FMExportXML);\n        this.FileMenuGeneratePDF = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Generate PDF...\");\n        this.FileMenuGeneratePDF.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_P, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.FileMenuGeneratePDF.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_P);\n        this.FileMenuGeneratePDF.setEnabled(false);\n        this.FileMenuGeneratePDF.setVisible(false);\n        this.FileMenuClose = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Close\");\n        this.FileMenuClose.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_W, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.FileMenuClose.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_C);\n        this.FileMenuClose.setVisible(false);\n        this.FileMenuExit = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Exit\");\n        this.FileMenuExit.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_Q, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.FileMenuExit.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_X);\n        this.FileMenuExit.setVisible(false);\n        FM.add(this.FileMenuNew);\n        FM.add(this.FileMenuOpen);\n        FM.add(this.FileMenuSave);\n        FM.add(this.FileMenuSaveAs);\n        FM.add(this.FileMenuExport);\n        FM.add(this.FileMenuGeneratePDF);\n        FM.add(this.FileMenuClose);\n        FM.add(this.FileMenuExit);\n        this.FileMenuNew.addActionListener(this);\n        this.FileMenuOpen.addActionListener(this);\n        this.FileMenuSave.addActionListener(this);\n        this.FileMenuSaveAs.addActionListener(this);\n        this.FMExportMIDI.addActionListener(this);\n        this.FMExportXML.addActionListener(this);\n        this.FileMenuGeneratePDF.addActionListener(this);\n        this.FileMenuClose.addActionListener(this);\n        this.FileMenuExit.addActionListener(this);\n        return FM;\n    }\n    createEditMenu_1() {\n        this.editingOptionsFrame = new _EditingOptionsFrame__WEBPACK_IMPORTED_MODULE_13__.EditingOptionsFrame(this);\n        let EM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__.JMenu(\"Edit\");\n        this.EditMenuCopy = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Copy\");\n        this.EditMenuCopy.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_C, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.EditMenuCopy.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_C);\n        this.EditMenuCut = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Cut\");\n        this.EditMenuCut.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_X, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.EditMenuCut.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_U);\n        this.EditMenuPaste = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Paste\");\n        this.EditMenuPaste.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_V, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.EditMenuPaste.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_P);\n        this.EditMenuPaste.setEnabled(false);\n        this.EditMenuSelectAll = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Select all\");\n        this.EditMenuSelectAll.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_A, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.EditMenuSelectAll.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_A);\n        this.EditMenuDelete = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Delete\");\n        this.EditMenuDelete.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_DELETE);\n        this.EditMenuGeneralInformation = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"General information...\");\n        this.EditMenuGeneralInformation.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_G, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.EditMenuGeneralInformation.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_G);\n        this.EditMenuDisplayEventEditor = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_28__.JCheckBoxMenuItem(\"Display event editor\", false);\n        this.EditMenuDisplayEventEditor.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_E, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.EditMenuDisplayEventEditor.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_E);\n        this.EditMenuEditingOptions = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_28__.JCheckBoxMenuItem(\"Display input options\", false);\n        EM.add(this.EditMenuCut);\n        EM.add(this.EditMenuCopy);\n        EM.add(this.EditMenuPaste);\n        EM.add(this.EditMenuSelectAll);\n        EM.add(this.EditMenuDelete);\n        EM.addSeparator();\n        EM.add(this.EditMenuGeneralInformation);\n        EM.add(this.EditMenuDisplayEventEditor);\n        EM.add(this.EditMenuEditingOptions);\n        this.EditMenuCopy.addActionListener(this);\n        this.EditMenuCut.addActionListener(this);\n        this.EditMenuPaste.addActionListener(this);\n        this.EditMenuSelectAll.addActionListener(this);\n        this.EditMenuDelete.addActionListener(this);\n        this.EditMenuGeneralInformation.addActionListener(this);\n        this.EditMenuDisplayEventEditor.addItemListener(this);\n        this.EditMenuEditingOptions.addItemListener(this);\n        return EM;\n    }\n    createSectionsMenu_1() {\n        this.initSectionAttribsFrame();\n        let SM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__.JMenu(\"Sections\");\n        this.SectionsMenuInsertSection = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Insert new section...\");\n        this.SectionsMenuInsertSection.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_S);\n        this.SectionsMenuInsertSectionBreak = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Insert section break\");\n        this.SectionsMenuInsertSectionBreak.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_B);\n        this.SectionsMenuDisplaySectionAttribs = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_28__.JCheckBoxMenuItem(\"Display section attributes\", false);\n        this.SectionsMenuDisplaySectionAttribs.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_R, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.SectionsMenuDisplaySectionAttribs.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_R);\n        SM.add(this.SectionsMenuInsertSection);\n        SM.add(this.SectionsMenuInsertSectionBreak);\n        SM.add(this.SectionsMenuDisplaySectionAttribs);\n        this.SectionsMenuInsertSectionBreak.addActionListener(this);\n        this.SectionsMenuInsertSection.addActionListener(this);\n        this.SectionsMenuDisplaySectionAttribs.addItemListener(this);\n        return SM;\n    }\n    //    SectionsMenuInsertSection.setEnabled(false);\n    initSectionAttribsFrame() {\n        if (this.sectionAttribsFrame != null) {\n            this.sectionAttribsFrame.setVisible(false);\n            this.sectionAttribsFrame.unregisterListeners_6();\n        }\n        this.sectionAttribsFrame = new _SectionAttribsFrame__WEBPACK_IMPORTED_MODULE_5__.SectionAttribsFrame(this);\n    }\n    /* hide for re-init */\n    setSectionAttribsFrameLocation() {\n        this.sectionAttribsFrame.setLocation(((this.getLocation().x + this.getSize().width) | 0), this.getLocation().y);\n    }\n    showSectionAttribsFrame(show) {\n        if (this.sectionAttribsFrame.isShowing()) {\n            if (!show)\n                this.sectionAttribsFrame.setVisible(false);\n        }\n        else if (show) {\n            this.initSectionAttribsFrame();\n            this.setSectionNum_2(this.EditScr.getCurSectionNum());\n            this.setSectionAttribsFrameLocation();\n            this.sectionAttribsFrame.setVisible(true);\n        }\n    }\n    createTextMenu_1() {\n        let TM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__.JMenu(\"Text\");\n        this.TextMenuOpenEditor = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Open text editor\");\n        this.TextMenuOpenEditor.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_40__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_T, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_54__.ActionEvent.CTRL_MASK));\n        this.TextMenuOpenEditor.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_T);\n        this.TextMenuSetCurrentAsDefault = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Set current version text as default\");\n        this.TextMenuDeleteOriginalText = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Delete original text...\");\n        this.TextMenuDeleteOriginalText.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_O);\n        this.TextMenuDeleteModernText = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Delete modern text...\");\n        this.TextMenuDeleteModernText.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_M);\n        TM.add(this.TextMenuOpenEditor);\n        TM.add(this.TextMenuSetCurrentAsDefault);\n        TM.add(this.TextMenuDeleteOriginalText);\n        TM.add(this.TextMenuDeleteModernText);\n        this.TextMenuOpenEditor.addActionListener(this);\n        this.TextMenuSetCurrentAsDefault.addActionListener(this);\n        this.TextMenuDeleteOriginalText.addActionListener(this);\n        this.TextMenuDeleteModernText.addActionListener(this);\n        return TM;\n    }\n    createViewMenu_1() {\n        let VM = super.createViewMenu_1();\n        this.VMTBothText.setSelected(true);\n        this.ViewMenuDisplayallnewlineclefs.setState(true);\n        this.ViewMenuDisplayligbrackets.setState(true);\n        this.VMTOrigText.setEnabled(false);\n        this.VMTModText.setEnabled(false);\n        this.VMTBothText.setEnabled(false);\n        this.VMTNoText.setEnabled(false);\n        this.ViewMenuBarlineStyle.setEnabled(false);\n        this.ViewMenuNoteShapeStyle.setEnabled(false);\n        this.ViewMenuTexting.setEnabled(false);\n        this.ViewMenuPitchSystem.setEnabled(false);\n        this.ViewMenuUsemodernclefs.setEnabled(false);\n        this.ViewMenuDisplayEditorialAccidentals.setEnabled(false);\n        this.ViewMenuModernAccidentalSystem.setEnabled(false);\n        this.ViewMenuDisplayallnewlineclefs.setEnabled(false);\n        this.ViewMenuDisplayligbrackets.setEnabled(false);\n        this.ViewMenuEdCommentary.setEnabled(false);\n        VM.remove(this.ViewMenuPrintPreviews);\n        this.ViewMenuPrintPreview = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Print Preview\");\n        this.ViewMenuPrintPreview.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_R);\n        VM.add(this.ViewMenuPrintPreview);\n        this.ViewMenuPrintPreview.addActionListener(this);\n        this.ViewMenuOpenInViewer = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Open in CMME Viewer\");\n        VM.add(this.ViewMenuOpenInViewer);\n        this.ViewMenuOpenInViewer.addActionListener(this);\n        return VM;\n    }\n    createVersionsMenu_1() {\n        let VM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_32__.JMenu(\"Versions\");\n        this.VersionsMenuGeneralInfo = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Variant Version Information...\");\n        this.VersionsMenuGeneralInfo.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_I);\n        this.VersionsMenuSetVersionAsDefault = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Set current version as default\");\n        this.VersionsMenuNewNotesWindow = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"New critical notes list...\");\n        this.VersionsMenuNewNotesWindow.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_N);\n        this.VersionsMenuSourceAnalysis = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_33__.JMenuItem(\"Source analysis...\");\n        this.VersionsMenuSourceAnalysis.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_53__.KeyEvent.VK_A);\n        VM.add(this.VersionsMenuGeneralInfo);\n        VM.add(this.VersionsMenuSetVersionAsDefault);\n        this.VersionsMenuGeneralInfo.addActionListener(this);\n        this.VersionsMenuSetVersionAsDefault.addActionListener(this);\n        this.VersionsMenuNewNotesWindow.addActionListener(this);\n        this.VersionsMenuSourceAnalysis.addActionListener(this);\n        return VM;\n    }\n    /* create menu and items */\n    //  VM.add(VersionsMenuNewNotesWindow);\n    //    VM.add(VersionsMenuSourceAnalysis);\n    /* handle menu actions */\n    createAnalysisMenu_1() {\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethod:    JPanel createStatusPanel()\nOverrides: Gfx.MusicWin.createStatusPanel\nPurpose:   Create information panel under viewscreen/scrollbar\nParameters:\n  Input:  -\n  Output: -\n  Return: panel\n------------------------------------------------------------------------*/\n    createStatusPanel_1() {\n        let sp = super.createStatusPanel_1();\n        this.commentaryTextArea.setContentType(\"text/plain\");\n        this.commentaryTextArea.setText(\"\");\n        this.commentaryScrollPane.setFocusable(false);\n        this.commentaryTextArea.setFocusable(false);\n        this.commentaryTextArea.getDocument().addDocumentListener(this);\n        return sp;\n    }\n    changeCommentaryTextAreaStatus(enabled) {\n        if (this.commentaryTextArea == null)\n            return;\n        if (this.commentaryGUIupdating > 0) {\n            return;\n        }\n        this.commentaryGUIupdating++;\n        this.commentaryScrollPane.setFocusable(enabled);\n        this.commentaryTextArea.setFocusable(enabled);\n        this.commentaryTextArea.setEditable(enabled);\n        if (!enabled)\n            this.commentaryTextArea.setText(\"\");\n        this.commentaryGUIupdating--;\n    }\n    //        commentaryGUIupdating--;\n    /*------------------------------------------------------------------------\nMethod:  void loadCommentaryText(Event e)\nPurpose: Load text in commentary area from musical Event\nParameters:\n  Input:  Event e - event source for commentary text\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    loadCommentaryText(e) {\n        if (this.commentaryGUIupdating > 0) {\n            return;\n        }\n        this.commentaryGUIupdating++;\n        let newText = e.getEdCommentary();\n        if (newText == null)\n            newText = \"\";\n        this.commentaryTextArea.setText(newText);\n        this.commentaryGUIupdating--;\n    }\n    createMainToolBar_1() {\n        let mtb = new _javax_swing_JToolBar__WEBPACK_IMPORTED_MODULE_39__.JToolBar();\n        mtb.setFloatable(false);\n        mtb.setFocusable(false);\n        mtb.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_47__.GridBagLayout());\n        mtb.setAlignmentY(_java_awt_Component__WEBPACK_IMPORTED_MODULE_44__.Component.LEFT_ALIGNMENT);\n        mtb.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_44__.Component.LEFT_ALIGNMENT);\n        let cic = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_48__.GridBagConstraints();\n        cic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_48__.GridBagConstraints.WEST;\n        cic.weightx = 0;\n        this.NoteValueButtons = Array(EditorWin.NVButtonVals.length);\n        for (let i = 0; i < EditorWin.NVButtonVals.length; i++) {\n            this.NoteValueButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton();\n            this.NoteValueButtons[i].setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_50__.Insets(1, 1, 1, 1));\n            this.NoteValueButtons[i].setIcon(EditorWin.NVIcons_dark[i]);\n            this.NoteValueButtons[i].setToolTipText(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NoteTypeNames[EditorWin.NVButtonVals[i]]);\n            this.NoteValueButtons[i].setFocusable(false);\n            this.NoteValueButtons[i].addActionListener(this);\n            cic.gridx = i % 4;\n            cic.gridy = ((i / 4) | 0);\n            mtb.add(this.NoteValueButtons[i], cic);\n        }\n        this.flagged_semiminima = false;\n        this.selectedNVButton = 3;\n        this.NoteValueButtons[this.selectedNVButton].setIcon(EditorWin.NVIcons_light[this.selectedNVButton]);\n        mtb.addSeparator();\n        this.RestValueButtons = Array(EditorWin.NVButtonVals.length);\n        for (let i = 0; i < EditorWin.NVButtonVals.length; i++) {\n            this.RestValueButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton();\n            this.RestValueButtons[i].setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_50__.Insets(1, 1, 1, 1));\n            this.RestValueButtons[i].setIcon(EditorWin.RVIcons_light[i]);\n            this.RestValueButtons[i].setToolTipText(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NoteTypeNames[EditorWin.NVButtonVals[i]] + \" rest\");\n            this.RestValueButtons[i].setFocusable(false);\n            this.RestValueButtons[i].addActionListener(this);\n            cic.gridx = ((5 + i % 4) | 0);\n            cic.gridy = ((i / 4) | 0);\n            mtb.add(this.RestValueButtons[i], cic);\n        }\n        mtb.addSeparator();\n        this.ClefButtons = Array(EditorWin.ClefButtonVals.length);\n        for (let i = 0; i < EditorWin.ClefButtonVals.length; i++) {\n            this.ClefButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton();\n            this.ClefButtons[i].setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_50__.Insets(1, 1, 1, 1));\n            this.ClefButtons[i].setIcon(EditorWin.ClefIcons[i]);\n            this.ClefButtons[i].setToolTipText(\"Clef: \" + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.ClefNames[EditorWin.ClefButtonVals[i]]);\n            this.ClefButtons[i].setFocusable(false);\n            this.ClefButtons[i].addActionListener(this);\n            cic.gridx = ((10 + i % 3) | 0);\n            cic.gridy = ((i / 3) | 0);\n            mtb.add(this.ClefButtons[i], cic);\n        }\n        cic.gridx++;\n        mtb.addSeparator();\n        let startx = ((cic.gridx + 1) | 0);\n        this.MiscButtons = Array(EditorWin.MiscButtonVals.length);\n        for (let i = 0; i < EditorWin.MiscButtonVals.length; i++) {\n            this.MiscButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton();\n            this.MiscButtons[i].setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_50__.Insets(1, 1, 1, 1));\n            this.MiscButtons[i].setIcon(EditorWin.MiscIcons[i]);\n            this.MiscButtons[i].setToolTipText(EditorWin.MiscButtonNames[i]);\n            this.MiscButtons[i].setFocusable(false);\n            this.MiscButtons[i].addActionListener(this);\n            cic.gridx = ((startx + ((i / 2) | 0)) | 0);\n            cic.gridy = i % 2;\n            mtb.add(this.MiscButtons[i], cic);\n            mtb.add(this.MiscButtons[i], cic);\n        }\n        cic.gridx++;\n        mtb.addSeparator();\n        startx = ((cic.gridx + 1) | 0);\n        this.MensButtons = Array(EditorWin.MensButtonVals.length);\n        for (let i = 0; i < EditorWin.MensButtonVals.length; i++) {\n            this.MensButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton();\n            this.MensButtons[i].setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_50__.Insets(1, 1, 1, 1));\n            this.MensButtons[i].setIcon((i == EditorWin.MENS_BUTTON_DOT || i == EditorWin.MENS_BUTTON_STROKE) ? EditorWin.MensIcons_dark[i] : EditorWin.MensIcons_light[i]);\n            this.MensButtons[i].setToolTipText(\"Mensuration: \" + EditorWin.MensButtonNames[i]);\n            this.MensButtons[i].setFocusable(false);\n            this.MensButtons[i].addActionListener(this);\n            cic.gridx = ((startx + ((i / 2) | 0)) | 0);\n            cic.gridy = i % 2;\n            mtb.add(this.MensButtons[i], cic);\n            mtb.add(this.MensButtons[i], cic);\n        }\n        cic.gridx++;\n        mtb.addSeparator();\n        cic.weightx = 1;\n        cic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_48__.GridBagConstraints.EAST;\n        this.PlayButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton(\"PLAY\");\n        this.PlayButton.addActionListener(this);\n        cic.gridx++;\n        cic.gridy = 0;\n        mtb.add(this.PlayButton, cic);\n        cic.gridx++;\n        mtb.addSeparator();\n        cic.weightx = 0;\n        cic.gridx++;\n        cic.gridy = 0;\n        mtb.add(this.createTBZoomControl(), cic);\n        let versionsBoxLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_31__.JLabel(\"Version: \");\n        this.variantVersionsBox = null;\n        this.initVariantVersionsBox();\n        let versionsComboGroup = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createHorizontalBox();\n        versionsComboGroup.add(versionsBoxLabel);\n        versionsComboGroup.add(this.variantVersionsBox);\n        cic.weightx = 0;\n        cic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_48__.GridBagConstraints.EAST;\n        cic.gridy = 1;\n        mtb.add(versionsComboGroup, cic);\n        this.textEditorFrame = new _TextEditorFrame__WEBPACK_IMPORTED_MODULE_4__.TextEditorFrame(this);\n        this.createEventEditorFrame();\n        return mtb;\n    }\n    /* note-value buttons */\n    /* Semibrevis */\n    /* rest-value buttons */\n    /* clef buttons */\n    /*        if (i==ClefButtonVals.length-1)\n          cic.weightx=1;*/\n    /* misc buttons */\n    /* mensuration buttons */\n    /* RIGHT SIDE */\n    /* ------------------------- SEPARATE FRAMES ------------------------- */\n    /* modern text editor */\n    /* event editor - must first create modern text editor */\n    /*------------------------------------------------------------------------\nMethod:  void toggleFlaggedSemiminima()\nPurpose: Toggle between colored and flagged semiminima style on toolbar\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleFlaggedSemiminima() {\n        let TMP_light = EditorWin.NVIcons_light[EditorWin.NVB_SEMIMINIMA];\n        let TMP_dark = EditorWin.NVIcons_dark[EditorWin.NVB_SEMIMINIMA];\n        EditorWin.NVIcons_light[EditorWin.NVB_SEMIMINIMA] = EditorWin.OtherSM_light;\n        EditorWin.NVIcons_dark[EditorWin.NVB_SEMIMINIMA] = EditorWin.OtherSM_dark;\n        EditorWin.OtherSM_light = TMP_light;\n        EditorWin.OtherSM_dark = TMP_dark;\n        this.NoteValueButtons[EditorWin.NVB_SEMIMINIMA].setIcon(this.selectedNVButton == EditorWin.NVB_SEMIMINIMA ? EditorWin.NVIcons_light[EditorWin.NVB_SEMIMINIMA] : EditorWin.NVIcons_dark[EditorWin.NVB_SEMIMINIMA]);\n        this.flagged_semiminima = !this.flagged_semiminima;\n    }\n    /* swap icon images */\n    /* update button and flag */\n    useFlaggedSemiminima() {\n        return this.flagged_semiminima;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void selectNVButton(int bnum)\nPurpose: Switch selected note-value button\nParameters:\n  Input:  int bnum - number of button to be selected\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    selectNVButton(bnum) {\n        if (bnum == this.selectedNVButton)\n            return;\n        if (bnum >= EditorWin.NVButtonVals.length)\n            bnum = ((EditorWin.NVButtonVals.length - 1) | 0);\n        else if (bnum < 0)\n            bnum = 0;\n        this.NoteValueButtons[this.selectedNVButton].setIcon(EditorWin.NVIcons_dark[this.selectedNVButton]);\n        this.selectedNVButton = bnum;\n        this.NoteValueButtons[this.selectedNVButton].setIcon(EditorWin.NVIcons_light[this.selectedNVButton]);\n    }\n    /* convert note type to button number */\n    NTtoBNum(nt) {\n        for (let i = 0; i < EditorWin.NVButtonVals.length; i++)\n            if (nt == EditorWin.NVButtonVals[i])\n                return i;\n        return -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getSelectedNoteVal()\nPurpose: Return currently selected note value (for adding notes)\nParameters:\n  Input:  -\n  Output: -\n  Return: selected note value\n------------------------------------------------------------------------*/\n    getSelectedNoteVal() {\n        return EditorWin.NVButtonVals[this.selectedNVButton];\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setSectionNum(int snum)\nPurpose: Update GUI to reflect section number of cursor\nParameters:\n  Input:  int snum - cursor's current section number\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setSectionNum_2(snum) {\n        this.sectionAttribsFrame.setSectionNum_1(snum);\n    }\n    updateSectionGUI_2(snum) {\n        this.sectionAttribsFrame.updateSectionGUI_1(snum);\n    }\n    createEventEditorFrame() {\n        this.eventEditorFrame = new _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_30__.JDialog(this, \"Event information\", false);\n        let eecp = this.eventEditorFrame.getContentPane();\n        eecp.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout(eecp, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout.Y_AXIS));\n        let topPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        topPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createTitledBorder(\"\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        topPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout(topPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout.X_AXIS));\n        this.eventInfoPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        this.eventTypeLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_31__.JLabel(EditorWin.NO_EVENT_LABEL);\n        this.eventTypeLabel.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_44__.Component.LEFT_ALIGNMENT);\n        this.eventInfoPanel.add(this.eventTypeLabel);\n        this.eventProportion1 = new _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_37__.JSpinner(new _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_41__.SpinnerNumberModel(1, 1, 999, 1));\n        this.eventProportion2 = new _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_37__.JSpinner(new _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_41__.SpinnerNumberModel(1, 1, 999, 1));\n        let proportionNumberPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        proportionNumberPanel.add(this.eventProportion1);\n        proportionNumberPanel.add(this.eventProportion2);\n        proportionNumberPanel.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_44__.Component.RIGHT_ALIGNMENT);\n        this.proportionPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel(new _java_awt_GridLayout__WEBPACK_IMPORTED_MODULE_46__.GridLayout(1, 0));\n        this.proportionLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_31__.JLabel();\n        this.proportionLabel.setHorizontalAlignment(_javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_42__.SwingConstants.RIGHT);\n        this.proportionPanel.add(this.proportionLabel);\n        this.proportionPanel.add(proportionNumberPanel);\n        this.eventProportion1.setEnabled(false);\n        this.eventProportion2.setEnabled(false);\n        this.eventProportion1.addChangeListener(this);\n        this.eventProportion2.addChangeListener(this);\n        this.eventInfoPanel.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_44__.Component.LEFT_ALIGNMENT);\n        this.proportionPanel.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_44__.Component.RIGHT_ALIGNMENT);\n        topPanel.add(this.eventInfoPanel);\n        topPanel.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createGlue());\n        topPanel.add(this.proportionPanel);\n        let bottomPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        bottomPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createTitledBorder(\"\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        bottomPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout(bottomPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout.Y_AXIS));\n        let eventAttribsBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createHorizontalBox();\n        this.eventEditorialCheckBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_27__.JCheckBox(\"Editorial\");\n        this.eventErrorCheckBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_27__.JCheckBox(\"Error\");\n        eventAttribsBox.add(this.eventEditorialCheckBox);\n        eventAttribsBox.add(this.eventErrorCheckBox);\n        eventAttribsBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createHorizontalGlue());\n        this.eventEditorialCheckBox.setEnabled(false);\n        this.eventErrorCheckBox.setEnabled(false);\n        this.eventEditorialCheckBox.addActionListener(this);\n        this.eventErrorCheckBox.addActionListener(this);\n        bottomPanel.add(eventAttribsBox);\n        this.eventVariPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        bottomPanel.add(this.eventVariPanel);\n        this.createNoteInfoPanel();\n        this.createModernKeySigPanel();\n        this.createMensurationChooser();\n        this.createColorationChooser();\n        this.createAnnotationEditor();\n        this.eventVariPanel.add(this.mensurationPanel);\n        eecp.add(topPanel);\n        eecp.add(bottomPanel);\n        this.eventEditorFrame.pack();\n        let els = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(this.eventTypeLabel.getSize());\n        els.width += 20;\n        this.eventTypeLabel.setPreferredSize(els);\n        this.eventVariPanel.setPreferredSize(this.eventVariPanel.getSize());\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.setDefaultCloseOperation(_javax_swing_WindowConstants__WEBPACK_IMPORTED_MODULE_43__.WindowConstants.HIDE_ON_CLOSE);\n        this.addWindowListener({\n            //    eventEditorFrame.setUndecorated(true);\n            /* event proportion fields */\n            /* individual editors which can appear in bottom panel */\n            /* temporarily add largest editor panel to get size */\n            /* pack and play with sizes */\n            windowClosing: (event) => {\n                this.setEditMenuDisplayEventEditor(false);\n            }\n        });\n        this.updateEventEditor_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setEventEditorLocation()\nPurpose: Position event editor relative to parent frame\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setEventEditorLocation() {\n        let eex = this.getLocation().x;\n        let eey = ((this.getLocation().y + this.getSize().height) | 0);\n        let eeWidth = this.eventEditorFrame.getSize().width;\n        let eeHeight = this.eventEditorFrame.getSize().height;\n        let screenSize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_51__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (((eey + eeHeight) | 0) > screenSize.height) {\n            eey = this.getLocation().y;\n            eex += this.getSize().width;\n        }\n        if (((eex + eeWidth) | 0) > screenSize.width)\n            eex = ((screenSize.width - eeWidth) | 0);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.setLocation(eex, eey);\n        this.toFront();\n    }\n    /* position relative to main frame */\n    /* if too low on screen, position to right of main window */\n    //    eventEditorFrame.setVisible(true);\n    setEditingOptionsLocation() {\n        this.editingOptionsFrame.setLocation(((this.eventEditorFrame.getLocation().x + this.eventEditorFrame.getSize().width) | 0), this.eventEditorFrame.getLocation().y);\n    }\n    disableAllEventEditors() {\n        this.eventVariPanel.removeAll();\n        this._noteInfoPanelEnabled = false;\n        this._modernKeySigPanelEnabled = false;\n        this._mensurationChooserEnabled = false;\n        this._colorationChooserEnabled = false;\n        this._annotationEditorEnabled = false;\n        this.disableNoteInfoPanel();\n        this.disableModernKeySigPanel();\n        this.disableProportionPanel();\n        this.disableEventAttributesGUI();\n        this.textEditorFrame.disableSetSyllable();\n        this.textEditorFrame.disableRemoveSyllable();\n        this.changeCommentaryTextAreaStatus(false);\n        this.allDisabled = true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void clipboard[Copy|Cut|Paste]()\nPurpose: Clipboard functions based on current cursor position and\n         highlighted items\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    clipboardCopy_2() {\n        this.EditScr.clipboardCopy_1();\n        for (let ew of _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__.MusicWin.fileWindows)\n            if (ew instanceof EditorWin)\n                ew.EditMenuPaste.setEnabled(_ScoreEditorCanvas__WEBPACK_IMPORTED_MODULE_6__.ScoreEditorCanvas.clipboard != null);\n    }\n    clipboardCut_2() {\n        this.EditScr.clipboardCut_1();\n        for (let ew of _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_56__.MusicWin.fileWindows)\n            if (ew instanceof EditorWin)\n                ew.EditMenuPaste.setEnabled(_ScoreEditorCanvas__WEBPACK_IMPORTED_MODULE_6__.ScoreEditorCanvas.clipboard != null);\n    }\n    clipboardPaste_2() {\n        this.EditScr.clipboardPaste_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void updateEventEditor([Event e|int ne])\nPurpose: Set event editor to reflect state of currently highlighted events\nParameters:\n  Input:  Event e - event to edit\n          int ne  - number of highlighted events\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /* nothing highlighted */\n    updateEventEditor_1() {\n        if (this.allDisabled)\n            return;\n        this.disableAllEventEditors();\n        this.eventTypeLabel.setText(EditorWin.NO_EVENT_LABEL);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this.EditMenuCut.setEnabled(false);\n        this.EditMenuDelete.setEnabled(false);\n        this.updateToolbarMens(null);\n    }\n    /* multiple events highlighted */\n    updateEventEditor_2(ne) {\n        this.disableAllEventEditors();\n        this.eventTypeLabel.setText(ne + EditorWin.MULTI_EVENT_LABEL);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this.allDisabled = false;\n        this.EditMenuCut.setEnabled(true);\n        this.EditMenuCopy.setEnabled(true);\n        this.EditMenuDelete.setEnabled(true);\n        this.updateToolbarMens(null);\n    }\n    /* one event highlighted */\n    updateEventEditor_3(re) {\n        let e = re.getEvent_1();\n        this.disableAllEventEditors();\n        this.eventTypeLabel.setText(e.getTypeName());\n        this.enableEventAttributesGUI(e);\n        this.loadCommentaryText(e);\n        this.changeCommentaryTextAreaStatus(true);\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_NOTE:\n                {\n                    if (e.getLength_1() != null)\n                        this.enableProportionPanel(\"Length (minims)\", e.getLength_1());\n                    this.textEditorFrame.enableSetSyllable();\n                    if (e.getModernText() != null)\n                        this.textEditorFrame.enableRemoveSyllable();\n                    this.enableNoteInfoPanel(re);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_REST:\n                {\n                    if (e.getLength_1() != null)\n                        this.enableProportionPanel(\"Length (minims)\", e.getLength_1());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_MODERNKEYSIGNATURE:\n                {\n                    this.enableModernKeySigPanel(e.getSigInfo());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_MENS:\n                {\n                    this.enableProportionPanel(\"Proportion\", e.getTempoChange());\n                    this.enableMensurationChooser(e);\n                    this.updateToolbarMens(e);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_PROPORTION:\n                {\n                    this.enableProportionPanel(\"\", e.getproportion());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_COLORCHANGE:\n                {\n                    this.enableColorationChooser(e.getcolorscheme());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_ANNOTATIONTEXT:\n                {\n                    this.enableAnnotationEditor(e.gettext());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_LACUNA:\n                {\n                    this.enableProportionPanel(\"Length (minims)\", e.getLength_1());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_MULTIEVENT:\n                {\n                    let ne = e.getLowestNote();\n                    if (ne != null) {\n                        this.textEditorFrame.enableSetSyllable();\n                        if (ne.getModernText() != null)\n                            this.textEditorFrame.enableRemoveSyllable();\n                    }\n                    break;\n                }\n        }\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this.allDisabled = false;\n        this.EditMenuCut.setEnabled(true);\n        this.EditMenuCopy.setEnabled(true);\n        this.EditMenuDelete.setEnabled(true);\n    }\n    updateToolbarMens(me) {\n        let dotIcon = EditorWin.MensIcons_dark[EditorWin.MENS_BUTTON_DOT];\n        let strokeIcon = EditorWin.MensIcons_dark[EditorWin.MENS_BUTTON_STROKE];\n        if (me != null) {\n            if (!me.getMainSign().dotted)\n                dotIcon = EditorWin.MensIcons_light[EditorWin.MENS_BUTTON_DOT];\n            if (!me.getMainSign().stroke)\n                strokeIcon = EditorWin.MensIcons_light[EditorWin.MENS_BUTTON_STROKE];\n        }\n        this.MensButtons[EditorWin.MENS_BUTTON_DOT].setIcon(dotIcon);\n        this.MensButtons[EditorWin.MENS_BUTTON_STROKE].setIcon(strokeIcon);\n    }\n    setEditMenuDisplayEventEditor(newval) {\n        this.EditMenuDisplayEventEditor.setSelected(newval);\n    }\n    setEditMenuEditingOptions(newval) {\n        this.EditMenuEditingOptions.setSelected(newval);\n    }\n    toggleEditingOptionsColoration() {\n        this.editingOptionsFrame.toggleColorationOption();\n    }\n    setInputColorationOn(newval) {\n        this.EditScr.setColorationOn(newval);\n    }\n    /* ------------------------- SECTION WINDOW -------------------------- */\n    setSectionsMenuDisplaySectionAttribs(newval) {\n        this.SectionsMenuDisplaySectionAttribs.setSelected(newval);\n    }\n    setVoiceUsedInSection(snum, vnum, newState) {\n        let ms = this.musicData.getSection(snum);\n        if (newState == (ms.getVoice_1(vnum) != null))\n            return;\n        if (newState == true)\n            ms.initializeNewVoice_1(vnum, this.musicData.getVoiceData()[vnum]);\n        else {\n            ms.removeVoice_1(vnum);\n            if (vnum == this.EditScr.getCurVoiceNum()) {\n                this.EditScr.setVoicenum(ms.getValidVoicenum(0));\n                this.EditScr.setEventNum(0);\n            }\n        }\n        this.fileModified_2();\n        this.rerendermusic = true;\n        this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]ProportionPanel(String s,Proportion p)\nPurpose: Enable/disable proportion display/input on tool bar (for timed events\n         and proportions)\nParameters:\n  Input:  String s     - label for panel\n          Proportion p - value to edit\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableProportionPanel(s, p) {\n        this.eventProportion1.setEnabled(false);\n        this.eventProportion2.setEnabled(false);\n        this.proportionLabel.setText(s);\n        this.eventProportion1.setValue(new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer(p.i1));\n        this.eventProportion2.setValue(new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer(p.i2));\n        this.eventProportion1.setEnabled(true);\n        this.eventProportion2.setEnabled(true);\n    }\n    disableProportionPanel() {\n        this.proportionLabel.setText(null);\n        this.eventProportion1.setEnabled(false);\n        this.eventProportion2.setEnabled(false);\n        this.eventProportion1.setValue(new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer(1));\n        this.eventProportion2.setValue(new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer(1));\n    }\n    proportionPanelEnabled() {\n        return this.eventProportion1.isEnabled();\n    }\n    enableEventAttributesGUI(e) {\n        this.eventEditorialCheckBox.setEnabled(false);\n        this.eventErrorCheckBox.setEnabled(false);\n        this.eventEditorialCheckBox.setSelected(e.isEditorial());\n        this.eventErrorCheckBox.setSelected(e.isError());\n        this.eventEditorialCheckBox.setEnabled(true);\n        this.eventErrorCheckBox.setEnabled(true);\n    }\n    disableEventAttributesGUI() {\n        this.eventEditorialCheckBox.setEnabled(false);\n        this.eventErrorCheckBox.setEnabled(false);\n        this.eventEditorialCheckBox.setSelected(false);\n        this.eventErrorCheckBox.setSelected(false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createNoteInfoPanel()\nPurpose: Create and lay out note editor/display\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createNoteInfoPanel() {\n        this.noteInfoPanel = new _NoteInfoPanel__WEBPACK_IMPORTED_MODULE_8__.NoteInfoPanel(_Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_55__.MusicFont.new0());\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]NoteInfoPanel(RenderedEvent rne)\nPurpose: Enable/disable note display/input\nParameters:\n  Input:  RenderedEvent rne - rendered event with values to edit\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableNoteInfoPanel(rne) {\n        this.eventVariPanel.removeAll();\n        this.noteInfoPanel.setInfo_2(rne);\n        this.eventVariPanel.add(this.noteInfoPanel);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._noteInfoPanelEnabled = true;\n    }\n    disableNoteInfoPanel() {\n        this.eventVariPanel.removeAll();\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._noteInfoPanelEnabled = false;\n    }\n    noteInfoPanelEnabled() {\n        return this._noteInfoPanelEnabled;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createModernKeySigPanel()\nPurpose: Create and lay out modern key signature display/editor\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createModernKeySigPanel() {\n        this.modernKeySigPanel = new _ModernKeySigPanel__WEBPACK_IMPORTED_MODULE_10__.ModernKeySigPanel(this.MusicGfx);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]ModernKeySigPanel(ModernKeySignature sigInfo)\nPurpose: Enable/disable modern key signature display/input\nParameters:\n  Input:  ModernKeySignature sigInfo - values to edit\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableModernKeySigPanel(sigInfo) {\n        this.eventVariPanel.removeAll();\n        this.modernKeySigPanel.setInfo_1(sigInfo);\n        this.eventVariPanel.add(this.modernKeySigPanel);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._modernKeySigPanelEnabled = true;\n    }\n    disableModernKeySigPanel() {\n        this.eventVariPanel.removeAll();\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._modernKeySigPanelEnabled = false;\n    }\n    modernKeySigPanelEnabled() {\n        return this._modernKeySigPanelEnabled;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createMensurationChooser()\nPurpose: Create and lay out mensuration editor\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createMensurationChooser() {\n        this.mensurationPanel = _MensurationChooser__WEBPACK_IMPORTED_MODULE_11__.MensurationChooser.new0_2();\n        this.mensurationPanel.mensOButton.addActionListener(this);\n        this.mensurationPanel.mensCButton.addActionListener(this);\n        this.mensurationPanel.mens2Button.addActionListener(this);\n        this.mensurationPanel.mens3Button.addActionListener(this);\n        this.mensurationPanel.deleteButton.addActionListener(this);\n        this.mensurationPanel.mensDotBox.addActionListener(this);\n        this.mensurationPanel.mensStrokeBox.addActionListener(this);\n        this.mensurationPanel.mensReverseBox.addActionListener(this);\n        this.mensurationPanel.mensNoScoreSigBox.addActionListener(this);\n        this.mensurationPanel.prolatioBinaryButton.addActionListener(this);\n        this.mensurationPanel.prolatioTernaryButton.addActionListener(this);\n        this.mensurationPanel.tempusBinaryButton.addActionListener(this);\n        this.mensurationPanel.tempusTernaryButton.addActionListener(this);\n        this.mensurationPanel.modus_minorBinaryButton.addActionListener(this);\n        this.mensurationPanel.modus_minorTernaryButton.addActionListener(this);\n        this.mensurationPanel.modus_maiorBinaryButton.addActionListener(this);\n        this.mensurationPanel.modus_maiorTernaryButton.addActionListener(this);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]MensurationChooser(MensEvent me)\nPurpose: Enable/disable mensuration display/input\nParameters:\n  Input:  MensEvent me - event with values to edit\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableMensurationChooser(me) {\n        this.eventVariPanel.removeAll();\n        this.mensurationPanel.setIndices_2(me);\n        this.eventVariPanel.add(this.mensurationPanel);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._mensurationChooserEnabled = true;\n    }\n    disableMensurationChooser() {\n        this.eventVariPanel.removeAll();\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._mensurationChooserEnabled = false;\n    }\n    mensurationChooserEnabled() {\n        return this._mensurationChooserEnabled;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createColorationChooser()\nPurpose: Create and lay out coloration editor\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createColorationChooser() {\n        this.colorationPanel = _ColorationChooser__WEBPACK_IMPORTED_MODULE_14__.ColorationChooser.new0_1();\n        this.colorationPanel.PrimaryColorChooser.addActionListener(this);\n        this.colorationPanel.PrimaryFillChooser.addActionListener(this);\n        this.colorationPanel.SecondaryColorChooser.addActionListener(this);\n        this.colorationPanel.SecondaryFillChooser.addActionListener(this);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]ColorationChooser(Coloration c)\nPurpose: Enable/disable coloration display/input\nParameters:\n  Input:  Coloration c - value to edit\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableColorationChooser(c) {\n        this.eventVariPanel.removeAll();\n        this.colorationPanel.setIndices_1(c);\n        this.eventVariPanel.add(this.colorationPanel);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._colorationChooserEnabled = true;\n    }\n    disableColorationChooser() {\n        this.eventVariPanel.removeAll();\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._colorationChooserEnabled = false;\n    }\n    colorationChooserEnabled() {\n        return this._colorationChooserEnabled;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createAnnotationEditor()\nPurpose: Create and lay out annotation editor\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createAnnotationEditor() {\n        this.annotationPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        this.annotationTextField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_38__.JTextField(20);\n        this.annotationPanel.add(this.annotationTextField);\n        this.annotationTextField.addActionListener(this);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]AnnotationEditor(String s)\nPurpose: Enable/disable text annotation display/input\nParameters:\n  Input:  String s - value to edit\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableAnnotationEditor(s) {\n        this.eventVariPanel.removeAll();\n        this.annotationTextField.setText(s);\n        this.eventVariPanel.add(this.annotationPanel);\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._annotationEditorEnabled = true;\n    }\n    disableAnnotationEditor() {\n        this.eventVariPanel.removeAll();\n        this.eventEditorFrame.pack();\n        this.eventEditorFrame.repaint();\n        this._annotationEditorEnabled = false;\n    }\n    annotationEditorEnabled() {\n        return this._annotationEditorEnabled;\n    }\n    /*------------------------------------------------------------------------\nMethod:     void stateChanged(ChangeEvent e)\nImplements: ChangeListener.stateChanged\nPurpose:    Take action when a proportion-spinner value has changed\nParameters:\n  Input:  ChangeEvent e - state-changed event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    stateChanged(e) {\n        if (!this.proportionPanelEnabled())\n            return;\n        let itemChanged = e.getSource();\n        this.EditScr.setEventProportion(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_70__.Proportion.new0((this.eventProportion1.getValue()).intValue(), (this.eventProportion2.getValue()).intValue()));\n    }\n    createGeneralInfoFrame() {\n        this.generalInfoFrame = new _GeneralInfoFrame__WEBPACK_IMPORTED_MODULE_12__.GeneralInfoFrame(this, this.EditScr.getCurVoiceNum());\n    }\n    closeGeneralInfoFrame() {\n        this.inGeneralInfoFrame = false;\n        this.generalInfoFrame.closewin_2();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [edit|save]GeneralInfo()\nPurpose: Edit and apply general info changes to music data and close dialog\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    editGeneralInfo() {\n        this.createGeneralInfoFrame();\n        this.inGeneralInfoFrame = true;\n        this.generalInfoFrame.setVisible(true);\n    }\n    saveGeneralInfo() {\n        this.generalInfoFrame.saveData();\n        let numVoicesChanged = this.generalInfoFrame.numVoicesChanged();\n        let editorVoiceDeleted = this.generalInfoFrame.editorVoiceDeleted();\n        let newEditorVoiceNum = this.generalInfoFrame.getNewEditorVoiceNum();\n        this.fileModified_2();\n        this.closeGeneralInfoFrame();\n        if (numVoicesChanged) {\n            this.reinitVoiceTextAreas();\n            this.EditScr.initdrawingparams();\n            this.EditScr.newsize(this.EditScr.screensize.width, this.EditScr.screensize.height);\n            this.pack();\n            this.setSubframeLocations_1();\n        }\n        this.musicData.recalcAllEventParams();\n        this.rerendermusic = true;\n        if (editorVoiceDeleted) {\n            this.EditScr.setVoicenum(this.EditScr.getCurSection().getValidVoicenum(0));\n            this.EditScr.setEventNum(0);\n        }\n        else\n            this.EditScr.setVoicenum(newEditorVoiceNum);\n        this.repaint();\n    }\n    editVariantVersionInfo() {\n        this.variantVersionInfoFrame = new _VariantVersionInfoFrame__WEBPACK_IMPORTED_MODULE_3__.VariantVersionInfoFrame(this);\n        this.variantVersionInfoFrame.setVisible(true);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initVariantVersionsBox()\nPurpose: Initialize combo box with list of version names\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initVariantVersionsBox() {\n        let versionNames = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_17__.LinkedList();\n        for (let vvd of this.musicData.getVariantVersions())\n            versionNames.add(vvd.getID());\n        let newBox = false;\n        if (this.variantVersionsBox == null) {\n            this.variantVersionsBox = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_29__.JComboBox();\n            newBox = true;\n        }\n        this.variantVersionsBox.removeAllItems();\n        for (let s of versionNames)\n            this.variantVersionsBox.addItem(s);\n        if (newBox)\n            this.variantVersionsBox.addActionListener(this);\n    }\n    showInsertSectionDialog() {\n        this.insertSectionDialog.setLocationRelativeTo(this);\n        this.insertSectionDialog.setVisible(true);\n    }\n    createInsertSectionDialog() {\n        this.insertSectionDialog = new _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_30__.JDialog(this, \"Insert new section\", true);\n        let optionsPane = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_35__.JPanel();\n        optionsPane.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout(optionsPane, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_23__.BoxLayout.Y_AXIS));\n        optionsPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createTitledBorder(\"Section type\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        this.ISMensuralButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_36__.JRadioButton(\"Mensural music\", true);\n        this.ISChantButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_36__.JRadioButton(\"Plainchant\");\n        this.ISTextButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_36__.JRadioButton(\"Text\");\n        let SectionTypeGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_24__.ButtonGroup();\n        SectionTypeGroup.add(this.ISMensuralButton);\n        SectionTypeGroup.add(this.ISChantButton);\n        SectionTypeGroup.add(this.ISTextButton);\n        optionsPane.add(this.ISMensuralButton);\n        optionsPane.add(this.ISChantButton);\n        optionsPane.add(this.ISTextButton);\n        this.insertSectionOKButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton(\"Insert\");\n        this.insertSectionCancelButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_26__.JButton(\"Cancel\");\n        let buttonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createHorizontalBox();\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createHorizontalGlue());\n        buttonPane.add(this.insertSectionOKButton);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_22__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.insertSectionCancelButton);\n        buttonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_21__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        let gpcp = this.insertSectionDialog.getContentPane();\n        gpcp.add(optionsPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_45__.BorderLayout.CENTER);\n        gpcp.add(buttonPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_45__.BorderLayout.SOUTH);\n        this.insertSectionOKButton.addActionListener(this);\n        this.insertSectionCancelButton.addActionListener(this);\n        this.insertSectionDialog.pack();\n    }\n    /* action buttons */\n    /* lay out frame */\n    /* register listeners */\n    /*------------------------------------------------------------------------\nMethod:  void insertNewSection()\nPurpose: Insert new section, type based on dialog selection\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    insertNewSection() {\n        let newSectionType = _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_67__.MusicSection.MENSURAL_MUSIC;\n        if (this.ISChantButton.isSelected())\n            newSectionType = _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_67__.MusicSection.PLAINCHANT;\n        else if (this.ISTextButton.isSelected())\n            newSectionType = _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_67__.MusicSection.TEXT;\n        this.EditScr.insertSection(newSectionType);\n        this.insertSectionDialog.setVisible(false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteSection(int snum)\nPurpose: Delete one section\nParameters:\n  Input:  int snum - number of section to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteSection_2(snum) {\n        this.EditScr.deleteSection_1(snum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void combineSectionWithNext()\nPurpose: Combine section currently holding cursor with following section\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    combineSectionWithNext_2() {\n        this.EditScr.combineSectionWithNext_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void showTextEditorFrame()\nPurpose: Show panel for editing text for music\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initVoiceTextAreas() {\n    }\n    /*    voiceTextAreasPanel.setLayout(new GridBagLayout());\n    GridBagConstraints vtc=new GridBagConstraints();\n    vtc.anchor=GridBagConstraints.LINE_START;\n    voiceTextAreasPanel.setBorder(BorderFactory.createCompoundBorder(\n      BorderFactory.createTitledBorder(\"Voice texts\"),\n      BorderFactory.createEmptyBorder(5,5,5,5)));\n\n    Voice[] voices=musicData.getVoiceData();\n    int     numvoices=voices.length;\n    voiceTextAreas=new JTextPane[numvoices];\n    for (int i=0; i<numvoices; i++)\n      {\n        JTextPane   curTP=new JTextPane();\n        JScrollPane curSP=new JScrollPane(curTP);\n        curTP.setEditable(false);\n        curSP.setPreferredSize(new Dimension(350,40));\n        curSP.setMinimumSize(new Dimension(10,10));\n        JLabel curL=new JLabel(voices[i].getName());\n        curL.setLabelFor(curSP);\n        curL.setBorder(BorderFactory.createEmptyBorder(0,5,0,5));\n        vtc.gridx=0; vtc.gridy=i; voiceTextAreasPanel.add(curL,vtc);\n        vtc.gridx=1; vtc.gridy=i; voiceTextAreasPanel.add(curSP,vtc);\n\n        voiceTextAreas[i]=curTP;\n      }*/\n    reinitVoiceTextAreas() {\n    }\n    /*    voiceTextAreasPanel.removeAll();\n    initVoiceTextAreas();\n    textEditorFrame.pack();*/\n    showTextEditorFrame() {\n        let tex = ((this.getLocation().x + this.getSize().width) | 0);\n        let tey = this.getLocation().y;\n        let teWidth = this.textEditorFrame.getSize().width;\n        let teHeight = this.textEditorFrame.getSize().height;\n        let screenSize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_51__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (((tex + teWidth) | 0) > screenSize.width)\n            tex = ((screenSize.width - teWidth) | 0);\n        if (((tey + teHeight) | 0) > screenSize.height)\n            tey = ((screenSize.height - teHeight) | 0);\n        this.textEditorFrame.setLocation(tex, tey);\n        this.textEditorFrame.setVisible(true);\n    }\n    /* position relative to parent frame */\n    closeTextEditorFrame() {\n        this.textEditorFrame.setVisible(false);\n    }\n    textEditorFrameEnabled() {\n        return this.textEditorFrame.isVisible();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addOriginalText(String t)\nPurpose: Insert string as new OriginalText event\nParameters:\n  Input:  String t - text to insert\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addOriginalText_3(t) {\n        this.EditScr.addOriginalText_1(t);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setNoteSyllable(String t,boolean wordEnd)\nPurpose: Set text syllable on currently highlighted note\nParameters:\n  Input:  String t        - syllable text\n          boolean wordEnd - word end?\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setNoteSyllable_2(t, wordEnd) {\n        this.EditScr.setNoteSyllable_1(t, wordEnd);\n        this.highlightNextNote();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void highlight[Next|Previous]Note()\nPurpose: Highlight next or previous note event from current cursor position\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    highlightNextNote() {\n        let snum = this.EditScr.getCurSectionNum();\n        let vnum = this.EditScr.getCurVoiceNum();\n        let eventnum = this.EditScr.getCurEventNum();\n        if (this.EditScr.oneItemHighlighted())\n            eventnum++;\n        let nextnenum = this.EditScr.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_NOTE, snum, vnum, eventnum, 1);\n        if (nextnenum == -1)\n            this.EditScr.moveCursor(snum, vnum, eventnum);\n        else\n            this.EditScr.highlightOneItem(snum, vnum, nextnenum);\n    }\n    /* no note, just move cursor */\n    highlightPreviousNote() {\n        let snum = this.EditScr.getCurSectionNum();\n        let vnum = this.EditScr.getCurVoiceNum();\n        let eventnum = this.EditScr.getCurEventNum();\n        let nextnenum = this.EditScr.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        if (nextnenum == -1)\n            this.EditScr.moveCursor(snum, vnum, eventnum);\n        else\n            this.EditScr.highlightOneItem(snum, vnum, nextnenum);\n    }\n    /* no note, just move cursor */\n    /*------------------------------------------------------------------------\nMethod:  void loadVoiceNamesInComboBox(JComboBox cb)\nPurpose: Initialize combo box with names of voices\nParameters:\n  Input:  JComboBox cb - box to init\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    loadVoiceNamesInComboBox(cb) {\n        for (let v of this.musicData.getVoiceData())\n            cb.addItem(v.getName());\n    }\n    /*------------------------------------------------------------------------\nMethod:  String voice[Orig|Mod]TextToStr(int vnum)\nPurpose: Create string containing all texting in one voice (original or\n         modern)\nParameters:\n  Input:  int vnum - number of voice\n  Output: -\n  Return: String containing all text in voice\n------------------------------------------------------------------------*/\n    voiceOrigTextToStr(vnum) {\n        return this.EditScr.getMusicData_1().voiceOrigTextToStr(vnum);\n    }\n    voiceModTextToStr(vnum) {\n        return this.EditScr.getMusicData_1().voiceModTextToStr(vnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void open[Modern]TextDeleteDialog()\nPurpose: Show text deletion dialog\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openOriginalTextDeleteDialog() {\n        new _OriginalTextDeleteDialog__WEBPACK_IMPORTED_MODULE_7__.OriginalTextDeleteDialog(this);\n    }\n    openModernTextDeleteDialog() {\n        new _ModernTextDeleteDialog__WEBPACK_IMPORTED_MODULE_9__.ModernTextDeleteDialog(this);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteOriginalText(ArrayList<VariantVersionData> versions,boolean[] voices)\nPurpose: Delete original text from a given set of versions/voices\nParameters:\n  Input:  ArrayList<VariantVersionData> versions - versions from which to delete\n          boolean[] voices                       - voices from which to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteOriginalText(versions, voices) {\n        let modified = false;\n        for (let vvd of versions) {\n            if (this.musicData.deleteOriginalText(vvd, voices))\n                modified = true;\n        }\n        this.musicData.consolidateAllReadings();\n        if (modified)\n            this.fileModified_2();\n        this.EditScr.resetMusicData();\n    }\n    /* rerender and reset EditScr */\n    deleteModernText(voices) {\n        let modified = this.musicData.deleteModernText(voices);\n        if (modified)\n            this.fileModified_2();\n        this.EditScr.resetMusicData();\n    }\n    /* rerender and reset EditScr */\n    /*------------------------------------------------------------------------\nMethod:  void setVersionTextAsDefault(VariantVersionData v)\nPurpose: Set the original texting of one version as the default\nParameters:\n  Input:  VariantVersionData v - version to get text from\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVersionTextAsDefault(v) {\n        if (v.isDefault())\n            return;\n        let modified = this.musicData.setVersionTextAsDefault(v);\n        this.musicData.consolidateAllReadings();\n        if (modified)\n            this.fileModified_2();\n        this.EditScr.resetMusicData();\n    }\n    /* rerender and reset EditScr */\n    setCurrentVersionAsDefault() {\n        let v = this.getCurrentVariantVersion_2();\n        if (v.isDefault() || !this.confirmAction(\"Copy readings from version \" + v.getID() + \" to default?\", \"Confirm new default readings\"))\n            return;\n        let modified = this.musicData.setVersionAsDefault(v);\n        this.musicData.consolidateAllReadings();\n        if (modified)\n            this.fileModified_2();\n        this.EditScr.resetMusicData();\n    }\n    /* rerender and reset EditScr */\n    /*------------------------------------------------------------------------\nMethod:  ViewCanvas createMusicCanvas(PieceData p,MusicFont mf,MusicWin mw,OptionSet os)\nPurpose: Create music editing area\nParameters:\n  Input:  PieceData p,MusicFont mf,MusicWin mw,OptionSet os - constructor params\n  Output: -\n  Return: editing canvas\n------------------------------------------------------------------------*/\n    createMusicCanvas_1(p, mf, mw, os) {\n        return new _ScoreEditorCanvas__WEBPACK_IMPORTED_MODULE_6__.ScoreEditorCanvas(p, mf, mw, os);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setKeyboardHandler()\nPurpose: Add keyboard handler\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setKeyboardHandler_1() {\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu/tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.FileMenuNew)\n            EditorWin.newfile();\n        else if (item == this.FileMenuOpen)\n            this.fileChooseAndOpen();\n        else if (item == this.FileMenuSave)\n            this.fileSave();\n        else if (item == this.FileMenuSaveAs)\n            this.fileSaveAs();\n        else if (item == this.FMExportMIDI)\n            this.fileExportAs(EditorWin.FILETYPE_MIDI);\n        else if (item == this.FMExportXML)\n            this.fileExportAs(EditorWin.FILETYPE_XML);\n        else if (item == this.FileMenuGeneratePDF) {\n            let tmppw = _Gfx_PartsWin__WEBPACK_IMPORTED_MODULE_58__.PartsWin.new0_8(this.musicData, this.MusicGfx, this, true);\n            let pdfname = (this.windowFileName == \"Untitled score\") ? \"untitled.pdf\" : \"data/PDFout/\" + this.windowFileName.replaceFirst(\"cmme\\\\.xml\", \"pdf\");\n            try {\n                _Gfx_PDFCreator__WEBPACK_IMPORTED_MODULE_59__.PDFCreator.new0(tmppw.getRenderLists()).createPDF_2(pdfname);\n            }\n            catch (e) {\n                if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                    this.handleRuntimeError(e);\n                }\n                else\n                    throw e;\n            }\n            tmppw.closewin_3();\n        }\n        else if (item == this.FileMenuClose)\n            this.closewin_1();\n        else if (item == this.FileMenuExit)\n            EditorWin.exitprogram();\n        else if (item == this.EditMenuCopy)\n            this.clipboardCopy_2();\n        else if (item == this.EditMenuCut)\n            this.clipboardCut_2();\n        else if (item == this.EditMenuPaste)\n            this.clipboardPaste_2();\n        else if (item == this.EditMenuSelectAll)\n            this.EditScr.highlightAll();\n        else if (item == this.EditMenuDelete)\n            this.EditScr.deleteHighlightedItems();\n        else if (item == this.EditMenuGeneralInformation)\n            this.editGeneralInfo();\n        else if (item == this.SectionsMenuInsertSection)\n            this.showInsertSectionDialog();\n        else if (item == this.SectionsMenuInsertSectionBreak)\n            this.EditScr.splitMensuralSection();\n        else if (item == this.TextMenuOpenEditor)\n            this.showTextEditorFrame();\n        else if (item == this.TextMenuSetCurrentAsDefault)\n            this.setVersionTextAsDefault(this.getCurrentVariantVersion_2());\n        else if (item == this.TextMenuDeleteOriginalText)\n            this.openOriginalTextDeleteDialog();\n        else if (item == this.TextMenuDeleteModernText)\n            this.openModernTextDeleteDialog();\n        else if (item == this.VersionsMenuGeneralInfo)\n            this.editVariantVersionInfo();\n        else if (item == this.VersionsMenuSetVersionAsDefault)\n            this.setCurrentVersionAsDefault();\n        else if (item == this.VersionsMenuNewNotesWindow)\n            this.openNewNotesWindow();\n        else if (item == this.VersionsMenuSourceAnalysis)\n            this.openSourceAnalysisWindow();\n        else if (item == this.ViewMenuViewParts)\n            this.openPartsLayout_1(false);\n        else if (item == this.ViewMenuPrintPreview)\n            this.openPartsLayout_1(true);\n        else if (item == this.ViewMenuOpenInViewer)\n            this.openInViewer();\n        else if (item == this.MTZoomControl.viewSizeField)\n            this.ViewSizeFieldAction();\n        else if (item == this.VMVSZoomOut || item == this.MTZoomControl.zoomOutButton)\n            this.zoomOut_2();\n        else if (item == this.VMVSZoomIn || item == this.MTZoomControl.zoomInButton)\n            this.zoomIn_2();\n        else if (item == this.insertSectionOKButton)\n            this.insertNewSection();\n        else if (item == this.insertSectionCancelButton)\n            this.insertSectionDialog.setVisible(false);\n        else if (item == this.eventEditorialCheckBox)\n            this.EditScr.toggleEditorial();\n        else if (item == this.eventErrorCheckBox)\n            this.EditScr.toggleError();\n        else if (this.mensurationChooserEnabled()) {\n            if (item == this.mensurationPanel.mensOButton)\n                this.EditScr.addMensurationElementSign(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__.MensSignElement.MENS_SIGN_O);\n            else if (item == this.mensurationPanel.mensCButton)\n                this.EditScr.addMensurationElementSign(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__.MensSignElement.MENS_SIGN_C);\n            else if (item == this.mensurationPanel.mens2Button)\n                this.EditScr.addMensurationElementNumber_2(2);\n            else if (item == this.mensurationPanel.mens3Button)\n                this.EditScr.addMensurationElementNumber_2(3);\n            else if (item == this.mensurationPanel.deleteButton)\n                this.EditScr.deleteMensurationElement(this.mensurationPanel.getSelectedElementNum());\n            else if (item == this.mensurationPanel.mensDotBox)\n                this.EditScr.toggleMensurationDot();\n            else if (item == this.mensurationPanel.mensStrokeBox)\n                this.EditScr.toggleMensurationStroke();\n            else if (item == this.mensurationPanel.mensReverseBox)\n                this.EditScr.setMensurationSign(this.mensurationPanel.mensReverseBox.isSelected() ? _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__.MensSignElement.MENS_SIGN_CREV : _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__.MensSignElement.MENS_SIGN_C);\n            else if (item == this.mensurationPanel.mensNoScoreSigBox)\n                this.EditScr.toggleMensurationNoScoreSig();\n            else if (this.mensurationPanel.isMensurationButton(item))\n                this.EditScr.setEventMensuration(this.mensurationPanel.createMensuration());\n        }\n        else if (this.colorationChooserEnabled() && (item == this.colorationPanel.PrimaryColorChooser || item == this.colorationPanel.PrimaryFillChooser || item == this.colorationPanel.SecondaryColorChooser || item == this.colorationPanel.SecondaryFillChooser)) {\n            let pci = this.colorationPanel.PrimaryColorChooser.getSelectedIndex();\n            let pfi = this.colorationPanel.PrimaryFillChooser.getSelectedIndex();\n            let sci = this.colorationPanel.SecondaryColorChooser.getSelectedIndex();\n            let sfi = this.colorationPanel.SecondaryFillChooser.getSelectedIndex();\n            if (item == this.colorationPanel.PrimaryColorChooser)\n                sci = pci;\n            else if (item == this.colorationPanel.PrimaryFillChooser)\n                sfi = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_62__.Coloration.complementaryFill(pfi);\n            this.EditScr.setEventColoration(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_62__.Coloration.new0(pci, pfi, sci, sfi));\n        }\n        else if (this.annotationEditorEnabled() && item == this.annotationTextField)\n            this.EditScr.setAnnotationText(this.annotationTextField.getText());\n        else if (item == this.editingOptionsFrame.colorationTypeImperfectio)\n            this.EditScr.setEditorColorationType(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_62__.Coloration.IMPERFECTIO);\n        else if (item == this.editingOptionsFrame.colorationTypeSesquialtera)\n            this.EditScr.setEditorColorationType(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_62__.Coloration.SESQUIALTERA);\n        else if (item == this.editingOptionsFrame.colorationTypeMinorColor)\n            this.EditScr.setEditorColorationType(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_62__.Coloration.MINOR_COLOR);\n        for (let i = 0; i < this.NoteValueButtons.length; i++)\n            if (item == this.NoteValueButtons[i]) {\n                this.selectNVButton(i);\n                return;\n            }\n        for (let i = 0; i < this.RestValueButtons.length; i++)\n            if (item == this.RestValueButtons[i]) {\n                if (this.EditScr.getHighlightBegin() == -1)\n                    this.EditScr.addRest(EditorWin.NVButtonVals[i]);\n                else if (this.EditScr.oneItemHighlighted() && this.EditScr.getCurEvent_2().getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_64__.Event.EVENT_REST)\n                    this.EditScr.modifyNoteType(EditorWin.NVButtonVals[i]);\n                return;\n            }\n        for (let i = 0; i < this.ClefButtons.length; i++)\n            if (item == this.ClefButtons[i]) {\n                this.EditScr.doClefAction_1(EditorWin.ClefButtonVals[i]);\n                return;\n            }\n        for (let i = 0; i < this.MiscButtons.length; i++)\n            if (item == this.MiscButtons[i]) {\n                switch (i) {\n                    case EditorWin.MISC_BUTTON_DOT:\n                        {\n                            this.EditScr.addDot_2(_DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_63__.DotEvent.DT_Addition);\n                            break;\n                        }\n                    case EditorWin.MISC_BUTTON_DOTDIV:\n                        {\n                            this.EditScr.addDot_2(_DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_63__.DotEvent.DT_Division);\n                            break;\n                        }\n                }\n                return;\n            }\n        for (let i = 0; i < this.MensButtons.length; i++)\n            if (item == this.MensButtons[i]) {\n                switch (i) {\n                    case EditorWin.MENS_BUTTON_O:\n                        {\n                            this.EditScr.doMensurationAction(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__.MensSignElement.MENS_SIGN_O);\n                            break;\n                        }\n                    case EditorWin.MENS_BUTTON_C:\n                        {\n                            this.EditScr.doMensurationAction(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_65__.MensSignElement.MENS_SIGN_C);\n                            break;\n                        }\n                    case EditorWin.MENS_BUTTON_DOT:\n                        {\n                            this.EditScr.toggleMensurationDot();\n                            break;\n                        }\n                    case EditorWin.MENS_BUTTON_STROKE:\n                        {\n                            this.EditScr.toggleMensurationStroke();\n                            break;\n                        }\n                    case EditorWin.MENS_BUTTON_3:\n                        {\n                            this.EditScr.doMensurationNumberAction(3);\n                            break;\n                        }\n                    case EditorWin.MENS_BUTTON_2:\n                        {\n                            this.EditScr.doMensurationNumberAction(2);\n                            break;\n                        }\n                }\n                return;\n            }\n        if (item == this.variantVersionsBox)\n            this.setCurrentVariantVersion_2(this.variantVersionsBox.getSelectedIndex());\n        else if (item == this.PlayButton)\n            this.toggleMIDIPlay();\n    }\n    /* File Menu */\n    /* Edit Menu */\n    /* Text Menu */\n    /* Versions Menu */\n    /* View Menu */\n    /* Insert Section dialog */\n    /* editor frames */\n    /* editing options */\n    /* toolbar note buttons */\n    /* toolbar rest buttons */\n    /* toolbar clef buttons */\n    /* toolbar misc buttons */\n    /* toolbar mensuration buttons */\n    /* toolbar versions box */\n    /*------------------------------------------------------------------------\nMethod:     void itemStateChanged(ItemEvent event)\nImplements: ItemListener.itemStateChanged\nPurpose:    Check for item state changes in menu and take appropriate action\nParameters:\n  Input:  ItemEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    itemStateChanged(event) {\n        let item = event.getItemSelectable();\n        if (item == this.EditMenuDisplayEventEditor)\n            this.eventEditorFrame.setVisible(this.EditMenuDisplayEventEditor.isSelected());\n        else if (item == this.EditMenuEditingOptions)\n            this.editingOptionsFrame.setVisible(this.EditMenuEditingOptions.isSelected());\n        else if (item == this.editingOptionsFrame.colorationOnCheckBox)\n            this.setInputColorationOn(this.editingOptionsFrame.colorationOnCheckBox.isSelected());\n        else if (item == this.SectionsMenuDisplaySectionAttribs)\n            this.showSectionAttribsFrame(this.SectionsMenuDisplaySectionAttribs.isSelected());\n        super.itemStateChanged(event);\n    }\n    /*------------------------------------------------------------------------\nMethod:     void [insert|remove|changed]Update(DocumentEvent e)\nImplements: DocumentListener.[insert|remove|changed]Update\nPurpose:    Check for changes to commentary text area and take appropriate\n            action\nParameters:\n  Input:  DocumentEvent e - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    insertUpdate(e) {\n        this.doDocChange();\n    }\n    removeUpdate(e) {\n        this.doDocChange();\n    }\n    changedUpdate(e) {\n    }\n    /* actual change handler (for both insertion and deletion) */\n    doDocChange() {\n        if (this.commentaryGUIupdating > 0) {\n            return;\n        }\n        this.commentaryGUIupdating++;\n        this.EditScr.setEventCommentary(this.commentaryTextArea.getText());\n        this.commentaryGUIupdating--;\n    }\n    //        commentaryGUIupdating--;\n    /*------------------------------------------------------------------------\nMethod:  boolean fileSaveAs()\nPurpose: Choose new file name and save score\nParameters:\n  Input:  -\n  Output: -\n  Return: whether file saved successfully\n------------------------------------------------------------------------*/\n    fileSaveAs() {\n        return false;\n    }\n    //CHANGE\n    /*\n    String origWindowFileName=new String(windowFileName),\n           origWindowFilePath=windowFilePath==null ? null : new String(windowFilePath);\n\n    int fcval=getSaveFileChooser().showSaveDialog(this);\n\n    if (fcval==JFileChooser.APPROVE_OPTION)\n      try\n        {\n          File saveFile=saveFileChooser.getSelectedFile();\n\n          //make sure extension is valid\n          String fn=saveFile.getCanonicalPath();\n          if (!isCMMEFilename(fn))\n            {\n              fn+=FILENAME_EXTENSION_CMME;\n              saveFile=new File(fn);\n            }\n\n          if (doNotOverwrite(saveFile))\n            return false;\n\n          // save\n          windowFileName=saveFile.getName();\n          windowFilePath=fn;\n          writeCMMEFile(saveFile);\n\n          return true;\n        }\n      catch (Exception e)\n        {\n          displayErrorMessage(\"Error saving file \\\"\"+musicWinFileChooser.getSelectedFile().getName()+\"\\\":\\n\"+e,\"File not saved\");\n\n//          System.err.println(\"Error saving \"+musicWinFileChooser.getSelectedFile().getName());\n//          e.printStackTrace();\n\n          windowFileName=origWindowFileName;\n          windowFilePath=origWindowFilePath;\n        }\n\n    return false;*/\n    //CHANGE\n    /*------------------------------------------------------------------------\nMethod:  boolean fileSave()\n         void writeCMMEFile(File f)\nPurpose: Save current score into file\nParameters:\n  Input:  File f - file to save into\n  Output: -\n  Return: whether file saved successfully\n------------------------------------------------------------------------*/\n    fileSave() {\n        try {\n            this.writeCMMEFile(new _java_io_File__WEBPACK_IMPORTED_MODULE_18__.File(this.windowFilePath));\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.handleRuntimeError(e);\n                return false;\n            }\n            else\n                throw e;\n        }\n        return true;\n    }\n    // if (windowFilePath==null)\n    //   return fileSaveAs();\n    // else\n    //          System.err.println(\"Error saving \"+windowFilePath);\n    //          e.printStackTrace();\n    //displayErrorMessage(\"Error saving \"+windowFilePath+\":\\n\"+e,\"File not saved\");\n    writeCMMEFile(f) {\n        _DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_61__.CMMEParser.outputPieceData(this.musicData, new _java_io_FileOutputStream__WEBPACK_IMPORTED_MODULE_19__.FileOutputStream(f));\n        this.addCMMETitle_1(this.windowFileName);\n        this.modified = false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void fileModified()\nPurpose: Update GUI to reflect modification of the current file from its\n         last saved state\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    fileModified_2() {\n        if (this.modified)\n            return;\n        this.modified = true;\n        this.setTitle(this.getTitle() + \" (modified)\");\n    }\n    /*------------------------------------------------------------------------\nMethod:    void unregisterMenuListeners()\nOverrides: Gfx.MusicWin.unregisterMenuListeners\nPurpose: Remove all action/item/etc listeners when disposing of window\n         resources\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*\nprivate WindowFocusListener[] eventEditorFramegetListeners(Object o) //CHANGE\n    {\n        throw new RuntimeException();\n    }*/\n    /*private WindowFocusListener[] getListeners(Object o) //CHANGE\n    {\n        throw new RuntimeException();\n    }*/\n    unregisterListeners_3() {\n        let wl = this.getListeners(\"WindowFocusListener\");\n        for (let i = 0; i < wl.length; i++)\n            this.removeWindowFocusListener(wl[i]);\n        super.unregisterListeners_3();\n    }\n    unregisterToolListeners_1() {\n        this.FileMenuNew.removeActionListener(this);\n        this.FileMenuOpen.removeActionListener(this);\n        this.FileMenuSave.removeActionListener(this);\n        this.FileMenuSaveAs.removeActionListener(this);\n        this.FMExportMIDI.removeActionListener(this);\n        this.FMExportXML.removeActionListener(this);\n        this.FileMenuGeneratePDF.removeActionListener(this);\n        this.FileMenuClose.removeActionListener(this);\n        this.FileMenuExit.removeActionListener(this);\n        this.EditMenuCopy.removeActionListener(this);\n        this.EditMenuCut.removeActionListener(this);\n        this.EditMenuPaste.removeActionListener(this);\n        this.EditMenuSelectAll.removeActionListener(this);\n        this.EditMenuDelete.removeActionListener(this);\n        this.EditMenuGeneralInformation.removeActionListener(this);\n        this.EditMenuDisplayEventEditor.removeItemListener(this);\n        this.EditMenuEditingOptions.removeItemListener(this);\n        this.SectionsMenuInsertSectionBreak.removeActionListener(this);\n        this.SectionsMenuInsertSection.removeActionListener(this);\n        this.SectionsMenuDisplaySectionAttribs.removeActionListener(this);\n        this.TextMenuOpenEditor.removeActionListener(this);\n        this.TextMenuSetCurrentAsDefault.removeActionListener(this);\n        this.TextMenuDeleteOriginalText.removeActionListener(this);\n        this.TextMenuDeleteModernText.removeActionListener(this);\n        for (let i = 0; i < this.VMVSnumItems.length; i++)\n            this.VMVSnumItems[i].removeActionListener(this.VSListener);\n        for (let i = 0; i < this.VMBSItems.length; i++)\n            this.VMBSItems[i].removeActionListener(this.VMBSListener);\n        this.VMVSZoomOut.removeActionListener(this);\n        this.VMVSZoomIn.removeActionListener(this);\n        this.VMTOrigText.removeActionListener(this);\n        this.VMTModText.removeActionListener(this);\n        this.VMTBothText.removeActionListener(this);\n        this.ViewMenuUsemodernclefs.removeItemListener(this);\n        this.ViewMenuDisplayEditorialAccidentals.removeItemListener(this);\n        this.ViewMenuModernAccidentalSystem.removeItemListener(this);\n        this.ViewMenuDisplayallnewlineclefs.removeItemListener(this);\n        this.ViewMenuDisplayligbrackets.removeItemListener(this);\n        this.ViewMenuEdCommentary.removeItemListener(this);\n        this.ViewMenuViewParts.removeActionListener(this);\n        this.ViewMenuPrintPreview.removeActionListener(this);\n        this.ViewMenuOpenInViewer.removeActionListener(this);\n        this.VersionsMenuGeneralInfo.removeActionListener(this);\n        this.VersionsMenuSetVersionAsDefault.removeActionListener(this);\n        this.VersionsMenuNewNotesWindow.removeActionListener(this);\n        this.VersionsMenuSourceAnalysis.removeActionListener(this);\n        for (let i = 0; i < this.NoteValueButtons.length; i++)\n            this.NoteValueButtons[i].removeActionListener(this);\n        for (let i = 0; i < this.RestValueButtons.length; i++)\n            this.RestValueButtons[i].removeActionListener(this);\n        for (let i = 0; i < this.ClefButtons.length; i++)\n            this.ClefButtons[i].removeActionListener(this);\n        for (let i = 0; i < this.MiscButtons.length; i++)\n            this.MiscButtons[i].removeActionListener(this);\n        for (let i = 0; i < this.MensButtons.length; i++)\n            this.MensButtons[i].removeActionListener(this);\n        this.MTZoomControl.removeListeners_2();\n        this.variantVersionsBox.removeActionListener(this);\n        this.PlayButton.removeActionListener(this);\n        for (let wl of this.eventEditorFrame.getListeners(\"WindowListener\"))\n            this.removeWindowListener(wl);\n        this.editingOptionsFrame.removeListeners_3();\n        this.sectionAttribsFrame.unregisterListeners_6();\n        this.eventProportion1.removeChangeListener(this);\n        this.eventProportion2.removeChangeListener(this);\n        this.eventEditorialCheckBox.removeActionListener(this);\n        this.eventErrorCheckBox.removeActionListener(this);\n        this.commentaryTextArea.getDocument().removeDocumentListener(this);\n        this.mensurationPanel.mensOButton.removeActionListener(this);\n        this.mensurationPanel.mensCButton.removeActionListener(this);\n        this.mensurationPanel.mens2Button.removeActionListener(this);\n        this.mensurationPanel.mens3Button.removeActionListener(this);\n        this.mensurationPanel.deleteButton.removeActionListener(this);\n        this.mensurationPanel.mensDotBox.removeActionListener(this);\n        this.mensurationPanel.mensStrokeBox.removeActionListener(this);\n        this.mensurationPanel.mensReverseBox.removeActionListener(this);\n        this.mensurationPanel.mensNoScoreSigBox.removeActionListener(this);\n        this.mensurationPanel.prolatioBinaryButton.removeActionListener(this);\n        this.mensurationPanel.prolatioTernaryButton.removeActionListener(this);\n        this.mensurationPanel.tempusBinaryButton.removeActionListener(this);\n        this.mensurationPanel.tempusTernaryButton.removeActionListener(this);\n        this.mensurationPanel.modus_minorBinaryButton.removeActionListener(this);\n        this.mensurationPanel.modus_minorTernaryButton.removeActionListener(this);\n        this.mensurationPanel.modus_maiorBinaryButton.removeActionListener(this);\n        this.mensurationPanel.modus_maiorTernaryButton.removeActionListener(this);\n        this.colorationPanel.PrimaryColorChooser.removeActionListener(this);\n        this.colorationPanel.PrimaryFillChooser.removeActionListener(this);\n        this.colorationPanel.SecondaryColorChooser.removeActionListener(this);\n        this.colorationPanel.SecondaryFillChooser.removeActionListener(this);\n        this.annotationTextField.removeActionListener(this);\n        this.textEditorFrame.unregisterListeners_7();\n    }\n    //CHANGE\n    /*------------------------------------------------------------------------\nMethod:    boolean closewin()\nOverrides: Gfx.MusicWin.closewin\nPurpose:   Close window and dependents\nParameters:\n  Input:  -\n  Output: -\n  Return: whether window was closed or not\n------------------------------------------------------------------------*/\n    closewin_1() {\n        if (this.modified) {\n            let confirm_option = _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__.JOptionPane.showConfirmDialog(this, \"Save changes to \" + this.windowFileName + \"?\", \"File not saved\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__.JOptionPane.YES_NO_CANCEL_OPTION, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__.JOptionPane.WARNING_MESSAGE);\n            switch (confirm_option) {\n                case _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__.JOptionPane.YES_OPTION:\n                    {\n                        if (this.fileSave() == false)\n                            return false;\n                        break;\n                    }\n                case _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__.JOptionPane.NO_OPTION:\n                    {\n                        break;\n                    }\n                case _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_34__.JOptionPane.CANCEL_OPTION:\n                    {\n                        return false;\n                    }\n                default:\n                    {\n                        return false;\n                    }\n            }\n        }\n        this.stopMIDIPlay();\n        EditorWin.fileWindows.remove(this);\n        this.EditScr.stopThreads();\n        let openNotesWindows = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_16__.ArrayList(this.notesWindows);\n        for (let cnw of openNotesWindows)\n            cnw.closeFrame_2();\n        this.genPDFDialog.dispose();\n        this.insertSectionDialog.dispose();\n        this.unregisterListeners_3();\n        if (this.partsWin != null)\n            this.partsWin.closewin_3();\n        this.textEditorFrame.dispose();\n        this.dispose();\n        return true;\n    }\n}\nEditorWin.NVButtonVals = [_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Maxima, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Longa, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Brevis, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Semibrevis, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Minima, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Semiminima, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Fusa, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_68__.NoteEvent.NT_Semifusa];\nEditorWin.NVB_SEMIMINIMA = 5;\nEditorWin.ClefButtonVals = [_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_C, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_F, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_G, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_Bmol, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_Bqua, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_Diesis];\nEditorWin.AlternateClefButtonVals = [_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_NONE, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_Frnd, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_NONE, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_BmolDouble, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_NONE, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_60__.Clef.CLEF_NONE];\n/* misc buttons */\nEditorWin.MISC_BUTTON_DOT = 0;\nEditorWin.MISC_BUTTON_DOTDIV = 1;\nEditorWin.MiscButtonVals = [\"Dot\", \"DotDiv\"];\nEditorWin.MiscButtonNames = [\"Dot of Addition\", \"Dot of Division/Perfection/etc\"];\n/* mensuration buttons */\nEditorWin.MENS_BUTTON_O = 0;\nEditorWin.MENS_BUTTON_C = 1;\nEditorWin.MENS_BUTTON_DOT = 2;\nEditorWin.MENS_BUTTON_STROKE = 3;\nEditorWin.MENS_BUTTON_3 = 4;\nEditorWin.MENS_BUTTON_2 = 5;\nEditorWin.MensButtonVals = [\"O\", \"C\", \"Dot\", \"Stroke\", \"3\", \"2\"];\nEditorWin.MensButtonNames = [\"O\", \"C\", \"Toggle dot\", \"Toggle stroke\", \"Add 3\", \"Add 2\"];\nEditorWin.NO_EVENT_LABEL = \"No event selected\";\nEditorWin.MULTI_EVENT_LABEL = \" events selected\";\n\n\n//# sourceURL=webpack://cmme/./src/Editor/EditorWin.ts?");

/***/ }),

/***/ "./src/Editor/GeneralInfoFrame.ts":
/*!****************************************!*\
  !*** ./src/Editor/GeneralInfoFrame.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeneralInfoFrame: () => (/* binding */ GeneralInfoFrame)\n/* harmony export */ });\n/* harmony import */ var _ColorationChooser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ColorationChooser */ \"./src/Editor/ColorationChooser.ts\");\n/* harmony import */ var _java_awt_Component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JTextArea__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/JTextArea */ \"./src/javax/swing/JTextArea.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/JTextField */ \"./src/javax/swing/JTextField.ts\");\n/* harmony import */ var _javax_swing_ScrollPaneConstants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/ScrollPaneConstants */ \"./src/javax/swing/ScrollPaneConstants.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../DataStruct/MusicMensuralSection */ \"./src/DataStruct/MusicMensuralSection.ts\");\n/* harmony import */ var _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/Voice */ \"./src/DataStruct/Voice.ts\");\n/* harmony import */ var _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DataStruct/VoiceMensuralData */ \"./src/DataStruct/VoiceMensuralData.ts\");\n/* harmony import */ var _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../Gfx/MusicWin */ \"./src/Gfx/MusicWin.ts\");\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : GeneralInfoFrame.java\n\n        Package         : Editor\n\n        Classes Included: GeneralInfoFrame\n\n        Purpose         : GUI window for general file options/metadata\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 9/8/09 (moved from EditorWin.java, created class)\n\n        Updates         :\n9/9/09: added scroll pane around voice list to avoid growing beyond\n        screen limits\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass GeneralInfoFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_7__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: GeneralInfoFrame(EditorWin owner,int curEditorVoiceNum)\nPurpose:     Initialize and lay out frame\nParameters:\n  Input:  EditorWin owner       - parent frame\n          int curEditorVoiceNum - voice where cursor currently stands on\n                                  editor canvas\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(owner, curEditorVoiceNum) {\n        super(owner, \"General information: \" + owner.getWindowFileName(), true);\n        this.mytype_ActionListener = true;\n        this.owner = owner;\n        this.musicData = owner.getMusicData_2();\n        this.newEditorVoiceNum = curEditorVoiceNum;\n        let editFieldsBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createVerticalBox();\n        let compInfoPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__.JPanel();\n        compInfoPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createTitledBorder(\"Composition information\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        compInfoPanel.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let cic = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        let compInfoLabelTitle = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Title\");\n        compInfoLabelTitle.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.compInfoTFTitle = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_14__.JTextField(this.musicData.getTitle(), 30);\n        let compInfoLabelSection = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Section\");\n        compInfoLabelSection.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.compInfoTFSection = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_14__.JTextField(this.musicData.getSectionTitle(), 30);\n        let compInfoLabelComposer = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Composer\");\n        compInfoLabelComposer.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.compInfoTFComposer = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_14__.JTextField(this.musicData.getComposer(), 30);\n        let compInfoLabelEditor = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Editor\");\n        compInfoLabelEditor.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.compInfoTFEditor = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_14__.JTextField(this.musicData.getEditor(), 30);\n        let compInfoLabelPubNotes = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Public Notes\");\n        compInfoLabelPubNotes.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.compInfoPubNotesArea = new _javax_swing_JTextArea__WEBPACK_IMPORTED_MODULE_11__.JTextArea(this.musicData.getPublicNotes(), 4, 30);\n        this.compInfoPubNotesPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__.JScrollPane(this.compInfoPubNotesArea);\n        let compInfoLabelNotes = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Private Notes\");\n        compInfoLabelNotes.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.compInfoNotesArea = new _javax_swing_JTextArea__WEBPACK_IMPORTED_MODULE_11__.JTextArea(this.musicData.getNotes(), 4, 30);\n        this.compInfoNotesPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__.JScrollPane(this.compInfoNotesArea);\n        cic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.LINE_START;\n        cic.gridx = 0;\n        cic.gridy = 0;\n        compInfoPanel.add(compInfoLabelTitle, cic);\n        cic.gridx = 1;\n        compInfoPanel.add(this.compInfoTFTitle, cic);\n        cic.gridx = 0;\n        cic.gridy++;\n        compInfoPanel.add(compInfoLabelSection, cic);\n        cic.gridx = 1;\n        compInfoPanel.add(this.compInfoTFSection, cic);\n        cic.gridx = 0;\n        cic.gridy++;\n        compInfoPanel.add(compInfoLabelComposer, cic);\n        cic.gridx = 1;\n        compInfoPanel.add(this.compInfoTFComposer, cic);\n        cic.gridx = 0;\n        cic.gridy++;\n        compInfoPanel.add(compInfoLabelEditor, cic);\n        cic.gridx = 1;\n        compInfoPanel.add(this.compInfoTFEditor, cic);\n        cic.gridx = 3;\n        cic.gridy = 0;\n        cic.gridheight = 1;\n        compInfoPanel.add(compInfoLabelPubNotes, cic);\n        cic.gridx = 4;\n        cic.gridheight = 2;\n        compInfoPanel.add(this.compInfoPubNotesPane, cic);\n        cic.gridx = 3;\n        cic.gridy += 2;\n        cic.gridheight = 1;\n        compInfoPanel.add(compInfoLabelNotes, cic);\n        cic.gridx = 4;\n        cic.gridheight = 2;\n        compInfoPanel.add(this.compInfoNotesPane, cic);\n        let numvoices = this.musicData.getVoiceData().length;\n        this.newVoiceOrderList = Array(numvoices);\n        for (let i = 0; i < numvoices; i++)\n            this.newVoiceOrderList[i] = this.musicData.getVoiceData()[i];\n        this.voiceInfoPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__.JPanel();\n        this.initVoiceInfoPanel(this.musicData.getVoiceData());\n        let voiceInfoScrollPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__.JScrollPane(this.voiceInfoPanel, _javax_swing_ScrollPaneConstants__WEBPACK_IMPORTED_MODULE_15__.ScrollPaneConstants.VERTICAL_SCROLLBAR_AS_NEEDED, _javax_swing_ScrollPaneConstants__WEBPACK_IMPORTED_MODULE_15__.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        voiceInfoScrollPane.setMinimumSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__.Dimension(20, 20));\n        let generalOptionsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__.JPanel();\n        generalOptionsPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_9__.BoxLayout(generalOptionsPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_9__.BoxLayout.X_AXIS));\n        generalOptionsPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createTitledBorder(\"Options\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        this.incipitCheckBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_12__.JCheckBox(\"Incipit-score\", this.musicData.isIncipitScore());\n        this.incipitCheckBox.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 25, 5));\n        this.baseColorationChooser = _ColorationChooser__WEBPACK_IMPORTED_MODULE_0__.ColorationChooser.new1_1(this.musicData.getBaseColoration());\n        let cBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createHorizontalBox();\n        cBox.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_1__.Component.CENTER_ALIGNMENT);\n        cBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createHorizontalGlue());\n        cBox.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Base coloration: \"));\n        cBox.add(this.baseColorationChooser);\n        cBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createHorizontalGlue());\n        generalOptionsPanel.add(this.incipitCheckBox);\n        generalOptionsPanel.add(cBox);\n        editFieldsBox.add(compInfoPanel);\n        editFieldsBox.add(voiceInfoScrollPane);\n        editFieldsBox.add(generalOptionsPanel);\n        editFieldsBox.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        this.OKButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Apply\");\n        this.cancelButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Cancel\");\n        let buttonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createHorizontalBox();\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createHorizontalGlue());\n        buttonPane.add(this.OKButton);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_6__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.cancelButton);\n        buttonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        let gicp = this.getContentPane();\n        gicp.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let cc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        cc.gridx = 0;\n        cc.gridy = 0;\n        gicp.add(editFieldsBox, cc);\n        cc.gridx = 0;\n        cc.gridy++;\n        cc.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.EAST;\n        gicp.add(buttonPane, cc);\n        this.OKButton.addActionListener(this);\n        this.cancelButton.addActionListener(this);\n        this.pack();\n        this.setLocationRelativeTo(owner);\n        let freeYSpace = (((((((_Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_21__.MusicWin.SCREEN_DIMENSION.height * 0.8 - compInfoPanel.getSize().height) | 0) - generalOptionsPanel.getSize().height) | 0) - buttonPane.getSize().height) | 0));\n        let voiceInfoYSize = this.voiceInfoPanel.getSize().height;\n        voiceInfoYSize = freeYSpace;\n        voiceInfoScrollPane.setPreferredSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__.Dimension(this.voiceInfoPanel.getSize().width, voiceInfoYSize));\n        this.voiceInfoPanel.revalidate();\n        this.pack();\n    }\n    /* fields for editing */\n    /* voice information */\n    //    voiceInfoScrollPane.setPreferredSize(MusicWin.fitInScreen(DEFAULT_PANESIZE,0.5f));\n    //    voiceInfoScrollPane.setPreferredSize(MusicWin.fitInScreen(MusicWin.SCREEN_DIMENSION,0.9f,0.3f));\n    /* other options */\n    /* action buttons */\n    //  if (freeYSpace<voiceInfoYSize)\n    /* check current size of voiceInfoPanel as basis for preferred scroll pane size */\n    /*------------------------------------------------------------------------\nMethod:  void initVoiceInfoPanel(Voice[] voices)\nPurpose: Create content for voiceInfoPanel\nParameters:\n  Input:  Voice[] voices - voice data for display\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initVoiceInfoPanel(voices) {\n        this.voiceInfoPanel.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let vic = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        vic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.LINE_START;\n        this.voiceInfoPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createTitledBorder(\"Voices\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        let numvoices = voices.length;\n        this.newVoiceList = Array(numvoices);\n        let headingNum = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"No. \");\n        let headingName = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Name\");\n        let headingEditorial = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Editorial\");\n        vic.gridx = 0;\n        vic.gridy = 0;\n        this.voiceInfoPanel.add(headingNum, vic);\n        vic.gridx = 1;\n        vic.gridy = 0;\n        this.voiceInfoPanel.add(headingName, vic);\n        vic.gridx = 2;\n        vic.gridy = 0;\n        this.voiceInfoPanel.add(headingEditorial, vic);\n        this.voiceInfoNames = Array(numvoices);\n        this.voiceNumLabels = Array(numvoices);\n        this.voiceEditorialCheckBoxes = Array(numvoices);\n        this.voiceUpButtons = Array(numvoices);\n        this.voiceDownButtons = Array(numvoices);\n        this.voiceInsertUpButtons = Array(numvoices);\n        this.voiceInsertDownButtons = Array(numvoices);\n        this.voiceDeleteButtons = Array(numvoices);\n        for (let i = 0; i < numvoices; i++) {\n            let newv = _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_19__.Voice.new2(voices[i]);\n            this.newVoiceList[i] = newv;\n            this.voiceNumLabels[i] = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(`${i + 1}`);\n            this.voiceNumLabels[i].setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_8__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            this.voiceInfoNames[i] = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_14__.JTextField(newv.getName(), 20);\n            this.voiceNumLabels[i].setLabelFor(this.voiceInfoNames[i]);\n            this.voiceEditorialCheckBoxes[i] = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_12__.JCheckBox(\"\", newv.isEditorial());\n            this.voiceUpButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"\\u2191\" + \" Move\");\n            this.voiceDownButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Move \" + \"\\u2193\");\n            this.voiceInsertUpButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"\\u2191\" + \" Insert\");\n            this.voiceInsertDownButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Insert \" + \"\\u2193\");\n            this.voiceDeleteButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Delete\");\n            if (i == 0)\n                this.voiceUpButtons[i].setEnabled(false);\n            if (((i + 1) | 0) >= numvoices)\n                this.voiceDownButtons[i].setEnabled(false);\n            vic.gridx = 0;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceNumLabels[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceInfoNames[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceEditorialCheckBoxes[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceUpButtons[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceDownButtons[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceInsertUpButtons[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceInsertDownButtons[i], vic);\n            vic.gridx++;\n            vic.gridy = ((i + 1) | 0);\n            this.voiceInfoPanel.add(this.voiceDeleteButtons[i], vic);\n            this.voiceUpButtons[i].addActionListener(this);\n            this.voiceDownButtons[i].addActionListener(this);\n            this.voiceInsertUpButtons[i].addActionListener(this);\n            this.voiceInsertDownButtons[i].addActionListener(this);\n            this.voiceDeleteButtons[i].addActionListener(this);\n        }\n        if (numvoices == 1)\n            this.voiceDeleteButtons[0].setEnabled(false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void voiceInfo[Move|Insert|Delete](int vnum,int offset)\nPurpose: Perform operations on one voice in voice info panel (move up or\n         down one place, insert before, delete)\nParameters:\n  Input:  int vnum   - voice number to modify\n          int offset - amount to displace voice (1 or -1)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    voiceInfoMove(vnum, offset) {\n        if (vnum == this.newEditorVoiceNum)\n            this.newEditorVoiceNum += offset;\n        else if (((vnum + offset) | 0) == this.newEditorVoiceNum)\n            this.newEditorVoiceNum = vnum;\n        this.newVoiceList[vnum].setName(this.voiceInfoNames[vnum].getText());\n        this.newVoiceList[(((vnum + offset) | 0))].setName(this.voiceInfoNames[(((vnum + offset) | 0))].getText());\n        let tmpv = this.newVoiceList[vnum];\n        this.newVoiceList[vnum] = this.newVoiceList[(((vnum + offset) | 0))];\n        this.newVoiceList[(((vnum + offset) | 0))] = tmpv;\n        tmpv = this.newVoiceOrderList[vnum];\n        this.newVoiceOrderList[vnum] = this.newVoiceOrderList[(((vnum + offset) | 0))];\n        this.newVoiceOrderList[(((vnum + offset) | 0))] = tmpv;\n        this.voiceInfoNames[vnum].setText(this.newVoiceList[vnum].getName());\n        this.voiceInfoNames[(((vnum + offset) | 0))].setText(this.newVoiceList[(((vnum + offset) | 0))].getName());\n    }\n    /* save name changes */\n    /* swap vnum and vnum+offset */\n    voiceInfoInsert(vnum) {\n        let oldNumVoices = this.newVoiceList.length;\n        let tmpVoiceList = Array((((oldNumVoices + 1) | 0)));\n        let tmpVoiceOrderList = Array((((oldNumVoices + 1) | 0)));\n        for (let i = ((oldNumVoices - 1) | 0); i >= vnum; i--) {\n            tmpVoiceList[(((i + 1) | 0))] = this.newVoiceList[i];\n            tmpVoiceList[(((i + 1) | 0))].setName(this.voiceInfoNames[i].getText());\n            tmpVoiceOrderList[(((i + 1) | 0))] = this.newVoiceOrderList[i];\n        }\n        tmpVoiceList[vnum] = _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_19__.Voice.new1(this.musicData, ((vnum + 1) | 0), \"[\" + (((oldNumVoices + 1) | 0)) + \"]\", false);\n        tmpVoiceOrderList[vnum] = tmpVoiceList[vnum];\n        for (let i = ((vnum - 1) | 0); i >= 0; i--) {\n            tmpVoiceList[i] = this.newVoiceList[i];\n            tmpVoiceList[i].setName(this.voiceInfoNames[i].getText());\n            tmpVoiceOrderList[i] = this.newVoiceOrderList[i];\n        }\n        if (this.newEditorVoiceNum >= vnum)\n            this.newEditorVoiceNum++;\n        this.newVoiceOrderList = tmpVoiceOrderList;\n        this.reinitVoiceInfoPanel(tmpVoiceList);\n    }\n    //    tmpVoiceList[vnum].addevent(new Event(Event.EVENT_SECTIONEND));\n    voiceInfoDelete(vnum) {\n        let oldNumVoices = this.newVoiceList.length;\n        let tmpVoiceList = Array((((oldNumVoices - 1) | 0)));\n        let tmpVoiceOrderList = Array((((oldNumVoices - 1) | 0)));\n        for (let i = 0; i < vnum; i++) {\n            tmpVoiceList[i] = this.newVoiceList[i];\n            tmpVoiceList[i].setName(this.voiceInfoNames[i].getText());\n            tmpVoiceOrderList[i] = this.newVoiceOrderList[i];\n        }\n        for (let i = ((vnum + 1) | 0); i < oldNumVoices; i++) {\n            tmpVoiceList[(((i - 1) | 0))] = this.newVoiceList[i];\n            tmpVoiceList[(((i - 1) | 0))].setName(this.voiceInfoNames[i].getText());\n            tmpVoiceOrderList[(((i - 1) | 0))] = this.newVoiceOrderList[i];\n        }\n        if (this.newEditorVoiceNum == vnum)\n            this._editorVoiceDeleted = true;\n        else if (this.newEditorVoiceNum > vnum)\n            this.newEditorVoiceNum--;\n        this.newVoiceOrderList = tmpVoiceOrderList;\n        this.reinitVoiceInfoPanel(tmpVoiceList);\n    }\n    reinitVoiceInfoPanel(newVoiceList) {\n        this.unregisterVoiceInfoListeners();\n        this.voiceInfoPanel.removeAll();\n        this.initVoiceInfoPanel(newVoiceList);\n        this.voiceInfoPanel.revalidate();\n        this.pack();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void saveData()\nPurpose: Apply changes to music data\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    saveData() {\n        let oldNumVoices = this.musicData.getVoiceData().length;\n        this.musicData.setGeneralData(this.compInfoTFTitle.getText(), this.compInfoTFSection.getText(), this.compInfoTFComposer.getText(), this.compInfoTFEditor.getText(), this.compInfoPubNotesArea.getText(), this.compInfoNotesArea.getText());\n        let oldIncipitStatus = this.musicData.isIncipitScore();\n        this.musicData.setIncipitScore(this.incipitCheckBox.isSelected());\n        for (let i = 0; i < this.newVoiceList.length; i++) {\n            this.newVoiceList[i].setName(this.voiceInfoNames[i].getText());\n            this.newVoiceList[i].setNum(((i + 1) | 0));\n            this.newVoiceList[i].setEditorial(this.voiceEditorialCheckBoxes[i].isSelected());\n        }\n        for (let si = 0; si < this.musicData.getNumSections(); si++)\n            this.musicData.getSection(si).updateVoiceList_1(this.musicData.getVoiceData(), this.newVoiceList, this.newVoiceOrderList);\n        this.musicData.setVoiceData(this.newVoiceList);\n        let newBaseColoration = this.baseColorationChooser.createColoration();\n        for (let ms of this.musicData.getSections())\n            if (ms.getBaseColoration().equals(this.musicData.getBaseColoration()))\n                ms.setBaseColoration(newBaseColoration);\n        this.musicData.setBaseColoration(newBaseColoration);\n        if (this.musicData.isIncipitScore() && oldIncipitStatus == false) {\n            let finalisSection = _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_18__.MusicMensuralSection.new2(this.musicData.getVoiceData().length, false, this.musicData.getBaseColoration());\n            for (let vi = 0; vi < finalisSection.getNumVoices_1(); vi++) {\n                let newv = _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_20__.VoiceMensuralData.new3(this.musicData.getVoiceData()[vi], finalisSection);\n                newv.addEvent_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_17__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_17__.Event.EVENT_SECTIONEND));\n                finalisSection.setVoice_1(vi, newv);\n            }\n            this.musicData.addSection_1(this.musicData.getNumSections(), finalisSection);\n        }\n        this._numVoicesChanged = this.newVoiceList.length != oldNumVoices;\n    }\n    /* update sections */\n    /* add section for Finales in incipit-score? */\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu/tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.OKButton)\n            this.owner.saveGeneralInfo();\n        else if (item == this.cancelButton)\n            this.owner.closeGeneralInfoFrame();\n        else {\n            for (let i = 0; i < this.voiceUpButtons.length; i++)\n                if (item == this.voiceUpButtons[i]) {\n                    this.voiceInfoMove(i, -1);\n                    return;\n                }\n            for (let i = 0; i < this.voiceDownButtons.length; i++)\n                if (item == this.voiceDownButtons[i]) {\n                    this.voiceInfoMove(i, 1);\n                    return;\n                }\n            for (let i = 0; i < this.voiceInsertUpButtons.length; i++)\n                if (item == this.voiceInsertUpButtons[i]) {\n                    this.voiceInfoInsert(i);\n                    return;\n                }\n            for (let i = 0; i < this.voiceInsertDownButtons.length; i++)\n                if (item == this.voiceInsertDownButtons[i]) {\n                    this.voiceInfoInsert(((i + 1) | 0));\n                    return;\n                }\n            for (let i = 0; i < this.voiceDeleteButtons.length; i++)\n                if (item == this.voiceDeleteButtons[i]) {\n                    this.voiceInfoDelete(i);\n                    return;\n                }\n        }\n    }\n    /* general/voice information dialog */\n    /*------------------------------------------------------------------------\nMethod:  void closewin()\nPurpose: Close frame and release resources\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    closewin_2() {\n        this.setVisible(false);\n        this.unregisterListeners_4();\n        this.dispose();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void unregisterListeners()\nPurpose: Unregister GUI listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    unregisterListeners_4() {\n        this.OKButton.removeActionListener(this);\n        this.cancelButton.removeActionListener(this);\n        this.unregisterVoiceInfoListeners();\n    }\n    unregisterVoiceInfoListeners() {\n        for (let i = 0; i < this.voiceDeleteButtons.length; i++) {\n            this.voiceUpButtons[i].removeActionListener(this);\n            this.voiceDownButtons[i].removeActionListener(this);\n            this.voiceInsertUpButtons[i].removeActionListener(this);\n            this.voiceInsertDownButtons[i].removeActionListener(this);\n            this.voiceDeleteButtons[i].removeActionListener(this);\n        }\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    editorVoiceDeleted() {\n        return this._editorVoiceDeleted;\n    }\n    getNewEditorVoiceNum() {\n        return this.newEditorVoiceNum;\n    }\n    numVoicesChanged() {\n        return this._numVoicesChanged;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/GeneralInfoFrame.ts?");

/***/ }),

/***/ "./src/Editor/Main.ts":
/*!****************************!*\
  !*** ./src/Editor/Main.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Main: () => (/* binding */ Main)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _EditorWin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditorWin */ \"./src/Editor/EditorWin.ts\");\n/* harmony import */ var _javax_swing_SwingUtilities__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/SwingUtilities */ \"./src/javax/swing/SwingUtilities.ts\");\n/* harmony import */ var _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DataStruct/MetaData */ \"./src/DataStruct/MetaData.ts\");\n/* harmony import */ var _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Gfx/MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _Util_AppContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Util/AppContext */ \"./src/Util/AppContext.ts\");\n\n\n\n\n\n\n/*------------------------------------------------------------------------\nClass:   Main\nExtends: -\nPurpose: Contains main routines\n------------------------------------------------------------------------*/\n\nclass Main {\n    /*----------------------------------------------------------------------*/\n    /* Instance variables */\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  void main(String args[])\nPurpose: Perform initializations as an application\nParameters:\n  Input:  String args[] - program arguments\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static main(args) {\n        Main.parsecmdline(args);\n        Main.init();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void parsecmdline(String args[])\nPurpose: Parse command line\nParameters:\n  Input:  String args[] - program arguments\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static parsecmdline(args) {\n        if (args.length > 1)\n            Main.usageexit();\n        Main.initfilename = args.length > 0 ? args[0] : null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void usagexit()\nPurpose: Print program usage and exit\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static usageexit() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"Usage: java Editor.Main [filename]\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.exit(0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void init()\nPurpose: Perform initializations\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static init() {\n        _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_4__.MetaData.CMME_OPT_TESTING = _Util_AppContext__WEBPACK_IMPORTED_MODULE_6__.AppContext.CMME_OPT_TESTING;\n        _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_4__.MetaData.CMME_OPT_VALIDATEXML = _Util_AppContext__WEBPACK_IMPORTED_MODULE_6__.AppContext.CMME_OPT_VALIDATEXML;\n        try {\n            _Util_AppContext__WEBPACK_IMPORTED_MODULE_6__.AppContext.setBaseDataLocations(null, true, false);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                Main.showError(\"Error loading local file locations: \" + e);\n            }\n            else\n                throw e;\n        }\n        _EditorWin__WEBPACK_IMPORTED_MODULE_2__.EditorWin.initScoreWindowing_1(_Util_AppContext__WEBPACK_IMPORTED_MODULE_6__.AppContext.BaseDataURL, _Util_AppContext__WEBPACK_IMPORTED_MODULE_6__.AppContext.BaseDataDir + \"music/\", false);\n        try {\n            _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.loadmusicface(_Util_AppContext__WEBPACK_IMPORTED_MODULE_6__.AppContext.BaseDataURL);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                Main.showError(\"Error loading font: \" + e);\n            }\n            else\n                throw e;\n        }\n        _javax_swing_SwingUtilities__WEBPACK_IMPORTED_MODULE_3__.SwingUtilities.invokeLater({\n            /* initialize data locations */\n            /* initialize edit window objects */\n            /* load XML parser */\n            //TODO: make a command line option to specify schema location.\n            // DataStruct.XMLReader.initparser(null,true); //CHANGE\n            /* load base music font */\n            /* start GUI on event dispatching thread */\n            run: () => {\n                if (Main.initfilename != null)\n                    _EditorWin__WEBPACK_IMPORTED_MODULE_2__.EditorWin.new5().openFile(Main.initfilename);\n                else\n                    _EditorWin__WEBPACK_IMPORTED_MODULE_2__.EditorWin.newfile();\n            }\n        });\n    }\n    /*curdir+\"\\\\\"+*/\n    //CHANGE\n    /*------------------------------------------------------------------------\nMethod:  void showError(String e)\nPurpose: Show error information\nParameters:\n  Input:  String e - error info\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static showError(e) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(e);\n    }\n}\nMain.curdir = \"\";\n\n\n//# sourceURL=webpack://cmme/./src/Editor/Main.ts?");

/***/ }),

/***/ "./src/Editor/MensurationChooser.ts":
/*!******************************************!*\
  !*** ./src/Editor/MensurationChooser.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MensurationChooser: () => (/* binding */ MensurationChooser)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/awt/Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_util_Vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/util/Vector */ \"./src/java/util/Vector.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_ListSelectionModel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/ListSelectionModel */ \"./src/javax/swing/ListSelectionModel.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/JList */ \"./src/javax/swing/JList.ts\");\n/* harmony import */ var _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/JRadioButton */ \"./src/javax/swing/JRadioButton.ts\");\n/* harmony import */ var _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/ButtonGroup */ \"./src/javax/swing/ButtonGroup.ts\");\n/* harmony import */ var _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JSpinner */ \"./src/javax/swing/JSpinner.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../javax/swing/SpinnerNumberModel */ \"./src/javax/swing/SpinnerNumberModel.ts\");\n/* harmony import */ var _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../DataStruct/MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass MensurationChooser extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_4__.JPanel {\n    static new0_2() {\n        let _new0 = new MensurationChooser;\n        MensurationChooser.set0_2(_new0);\n        return _new0;\n    }\n    static set0_2(new0) {\n        new0.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__.BoxLayout(new0, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__.BoxLayout.Y_AXIS));\n        let signPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_4__.JPanel();\n        signPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createTitledBorder(\"Sign\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        signPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__.BoxLayout(signPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__.BoxLayout.Y_AXIS));\n        let signControlsBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createHorizontalBox();\n        let signAddDeleteBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createVerticalBox();\n        let signAddBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createHorizontalBox();\n        let addLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Add: \");\n        signAddBox.add(addLabel);\n        new0.mensOButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_13__.JButton(\"O\");\n        new0.mensCButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_13__.JButton(\"C\");\n        new0.mens2Button = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_13__.JButton(\"2\");\n        new0.mens3Button = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_13__.JButton(\"3\");\n        signAddBox.add(new0.mensOButton);\n        signAddBox.add(new0.mensCButton);\n        signAddBox.add(new0.mens2Button);\n        signAddBox.add(new0.mens3Button);\n        signAddDeleteBox.add(signAddBox);\n        signAddDeleteBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createVerticalStrut(5));\n        new0.deleteButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_13__.JButton(\"Delete\");\n        signAddDeleteBox.add(new0.deleteButton);\n        signControlsBox.add(signAddDeleteBox);\n        signControlsBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createHorizontalStrut(10));\n        let signParamsBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createVerticalBox();\n        new0.mensDotBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__.JCheckBox(\"Dot\");\n        new0.mensStrokeBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__.JCheckBox(\"Stroke\");\n        new0.mensReverseBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__.JCheckBox(\"Reversed\");\n        new0.mensNoScoreSigBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__.JCheckBox(\"No score effect\");\n        signParamsBox.add(new0.mensDotBox);\n        signParamsBox.add(new0.mensStrokeBox);\n        signParamsBox.add(new0.mensReverseBox);\n        signParamsBox.add(new0.mensNoScoreSigBox);\n        let numSpinnerBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createHorizontalBox();\n        numSpinnerBox.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_0__.Component.LEFT_ALIGNMENT);\n        new0.num1Spinner = new _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_12__.JSpinner(new _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_17__.SpinnerNumberModel(2, 0, 999, 1));\n        numSpinnerBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createHorizontalGlue());\n        numSpinnerBox.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Num: \"));\n        numSpinnerBox.add(new0.num1Spinner);\n        signParamsBox.add(numSpinnerBox);\n        signControlsBox.add(signParamsBox);\n        signControlsBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createHorizontalGlue());\n        let signNames = [\"C\"];\n        new0.signsList = new _javax_swing_JList__WEBPACK_IMPORTED_MODULE_9__.JList(signNames);\n        new0.signsList.setSelectionMode(_javax_swing_ListSelectionModel__WEBPACK_IMPORTED_MODULE_6__.ListSelectionModel.SINGLE_INTERVAL_SELECTION);\n        new0.signsList.setLayoutOrientation(_javax_swing_JList__WEBPACK_IMPORTED_MODULE_9__.JList.HORIZONTAL_WRAP);\n        new0.signsList.setVisibleRowCount(1);\n        let signScroller = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_15__.JScrollPane(new0.signsList);\n        signPanel.add(signScroller);\n        signPanel.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_5__.Box.createVerticalStrut(5));\n        signPanel.add(signControlsBox);\n        let mensurationsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_4__.JPanel();\n        mensurationsPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createTitledBorder(\"Mensuration information\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        mensurationsPanel.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_2__.GridBagLayout());\n        let mpc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_1__.GridBagConstraints();\n        new0.prolatioBinaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Minor (Binary)\", true);\n        new0.prolatioTernaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Major (Ternary)\");\n        new0.tempusBinaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Imperfect (Binary)\", true);\n        new0.tempusTernaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Perfect (Ternary)\");\n        new0.modus_minorBinaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Imperfect (Binary)\", true);\n        new0.modus_minorTernaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Perfect (Ternary)\");\n        new0.modus_maiorBinaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Imperfect (Binary)\", true);\n        new0.modus_maiorTernaryButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_10__.JRadioButton(\"Perfect (Ternary)\");\n        let prolatioLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Prolatio: \");\n        let tempusLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Tempus: \");\n        let modus_minorLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Modus minor: \");\n        let modus_maiorLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_16__.JLabel(\"Modus maior: \");\n        let prolatioButtons = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.ButtonGroup();\n        let tempusButtons = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.ButtonGroup();\n        let modus_minorButtons = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.ButtonGroup();\n        let modus_maiorButtons = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_11__.ButtonGroup();\n        prolatioButtons.add(new0.prolatioBinaryButton);\n        prolatioButtons.add(new0.prolatioTernaryButton);\n        tempusButtons.add(new0.tempusBinaryButton);\n        tempusButtons.add(new0.tempusTernaryButton);\n        modus_minorButtons.add(new0.modus_minorBinaryButton);\n        modus_minorButtons.add(new0.modus_minorTernaryButton);\n        modus_maiorButtons.add(new0.modus_maiorBinaryButton);\n        modus_maiorButtons.add(new0.modus_maiorTernaryButton);\n        mpc.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_1__.GridBagConstraints.LINE_START;\n        mpc.gridx = 0;\n        mpc.gridy = 0;\n        mensurationsPanel.add(prolatioLabel, mpc);\n        mpc.gridx = 1;\n        mpc.gridy = 0;\n        mensurationsPanel.add(new0.prolatioBinaryButton, mpc);\n        mpc.gridx = 2;\n        mpc.gridy = 0;\n        mensurationsPanel.add(new0.prolatioTernaryButton, mpc);\n        mpc.gridx = 0;\n        mpc.gridy = 1;\n        mensurationsPanel.add(tempusLabel, mpc);\n        mpc.gridx = 1;\n        mpc.gridy = 1;\n        mensurationsPanel.add(new0.tempusBinaryButton, mpc);\n        mpc.gridx = 2;\n        mpc.gridy = 1;\n        mensurationsPanel.add(new0.tempusTernaryButton, mpc);\n        mpc.gridx = 0;\n        mpc.gridy = 2;\n        mensurationsPanel.add(modus_minorLabel, mpc);\n        mpc.gridx = 1;\n        mpc.gridy = 2;\n        mensurationsPanel.add(new0.modus_minorBinaryButton, mpc);\n        mpc.gridx = 2;\n        mpc.gridy = 2;\n        mensurationsPanel.add(new0.modus_minorTernaryButton, mpc);\n        mpc.gridx = 0;\n        mpc.gridy = 3;\n        mensurationsPanel.add(modus_maiorLabel, mpc);\n        mpc.gridx = 1;\n        mpc.gridy = 3;\n        mensurationsPanel.add(new0.modus_maiorBinaryButton, mpc);\n        mpc.gridx = 2;\n        mpc.gridy = 3;\n        mensurationsPanel.add(new0.modus_maiorTernaryButton, mpc);\n        new0.add(signPanel);\n        new0.add(mensurationsPanel);\n    }\n    static new1_2(me) {\n        let _new1 = new MensurationChooser;\n        MensurationChooser.set1_2(_new1, me);\n        return _new1;\n    }\n    static set1_2(new1, me) {\n        MensurationChooser.set0_2(new1);\n        new1.setIndices_2(me);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setIndices(MensEvent me)\nPurpose: Set values for GUI\nParameters:\n  Input:  MensEvent me - data for GUI\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setIndices_2(me) {\n        let signEls = new _java_util_Vector__WEBPACK_IMPORTED_MODULE_3__.Vector();\n        for (let mse of me.getSigns())\n            signEls.add(mse.toString());\n        this.signsList.setListData(signEls);\n        this.signsList.setSelectedIndex(0);\n        this.setSignElGUI(me);\n        let m = me.getMensInfo_1();\n        if (m.prolatio == _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY)\n            this.prolatioBinaryButton.setSelected(true);\n        else\n            this.prolatioTernaryButton.setSelected(true);\n        if (m.tempus == _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY)\n            this.tempusBinaryButton.setSelected(true);\n        else\n            this.tempusTernaryButton.setSelected(true);\n        if (m.modus_minor == _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY)\n            this.modus_minorBinaryButton.setSelected(true);\n        else\n            this.modus_minorTernaryButton.setSelected(true);\n        if (m.modus_maior == _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY)\n            this.modus_maiorBinaryButton.setSelected(true);\n        else\n            this.modus_maiorTernaryButton.setSelected(true);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setSignElGUI(MensEvent me)\nPurpose: Set GUI values for currently selected mensuration sign element\nParameters:\n  Input:  MensEvent me - data for GUI\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setSignElGUI(me) {\n        let mse = me.getSigns().get(this.signsList.getSelectedIndex());\n        this.mensDotBox.setSelected(mse.dotted);\n        this.mensStrokeBox.setSelected(mse.stroke);\n        this.mensReverseBox.setSelected(mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.MENS_SIGN_CREV);\n        this.mensNoScoreSigBox.setSelected(me.noScoreSig());\n        if (mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.MENS_SIGN_C || mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.MENS_SIGN_O || mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.MENS_SIGN_CREV) {\n            this.mensDotBox.setEnabled(true);\n            this.mensStrokeBox.setEnabled(true);\n        }\n        else {\n            this.mensDotBox.setEnabled(false);\n            this.mensStrokeBox.setEnabled(false);\n        }\n        this.mensReverseBox.setEnabled(mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.MENS_SIGN_C || mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.MENS_SIGN_CREV);\n        this.num1Spinner.setEnabled(mse.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_18__.MensSignElement.NUMBERS);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Mensuration createMensuration()\nPurpose: Generate Mensuration structure with values from radio buttons\nParameters:\n  Input:  -\n  Output: -\n  Return: new mensuration structure\n------------------------------------------------------------------------*/\n    createMensuration() {\n        return _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.new0(this.prolatioTernaryButton.isSelected() ? _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_TERNARY : _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY, this.tempusTernaryButton.isSelected() ? _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_TERNARY : _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY, this.modus_minorTernaryButton.isSelected() ? _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_TERNARY : _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY, this.modus_maiorTernaryButton.isSelected() ? _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_TERNARY : _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_19__.Mensuration.MENS_BINARY);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getSelectedElementNum()\nPurpose: Returns index of element currently selected in GUI\nParameters:\n  Input:  -\n  Output: -\n  Return: index of currently selected element\n------------------------------------------------------------------------*/\n    getSelectedElementNum() {\n        return this.signsList.getSelectedIndex();\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean isMensurationButton(Object o)\nPurpose: Checks whether an object is one of the buttons in the mensuration\n         chooser (for checking action sources)\nParameters:\n  Input:  Object o - object to compare\n  Output: -\n  Return: whether o is one of the buttons in this panel\n------------------------------------------------------------------------*/\n    isMensurationButton(o) {\n        return o == this.prolatioBinaryButton || o == this.prolatioTernaryButton || o == this.tempusBinaryButton || o == this.tempusTernaryButton || o == this.modus_minorBinaryButton || o == this.modus_minorTernaryButton || o == this.modus_maiorBinaryButton || o == this.modus_maiorTernaryButton;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/MensurationChooser.ts?");

/***/ }),

/***/ "./src/Editor/ModernKeySigPanel.ts":
/*!*****************************************!*\
  !*** ./src/Editor/ModernKeySigPanel.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModernKeySigPanel: () => (/* binding */ ModernKeySigPanel)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Gfx/MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n\n\n\n\n\n\n\nclass ModernKeySigPanel extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__.JPanel {\n    /*------------------------------------------------------------------------\nConstructor: ModernKeySigPanel(MusicFont mf)\nPurpose:     Initialize and lay out modern key signature panel\nParameters:\n  Input:  MusicFont mf - music font (for drawing music)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(mf) {\n        super();\n        this.musicGfx = mf;\n        this.sigImage = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_1__.BufferedImage(ModernKeySigPanel.XSMALL, ModernKeySigPanel.YSMALL, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_1__.BufferedImage.TYPE_INT_ARGB);\n        this.sigG = this.sigImage.createGraphics();\n        this.sigIcon = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_3__.ImageIcon(this.sigImage);\n        this.sigLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__.JLabel(this.sigIcon);\n        this.sigPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__.JPanel();\n        this.sigPanel.add(this.sigLabel);\n        this.add(this.sigPanel);\n    }\n    setInfo_1(sigInfo) {\n        let curx = ModernKeySigPanel.XMARGIN;\n        this.sigG.setBackground(ModernKeySigPanel.ClearColor);\n        this.sigG.clearRect(0, 0, ModernKeySigPanel.XSMALL, ModernKeySigPanel.YSMALL);\n        this.sigG.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_0__.Color.black);\n        this.drawStaff_4(this.sigG, 0, ModernKeySigPanel.YTOP, ModernKeySigPanel.XSMALL, ModernKeySigPanel.STAFFSCALE, 5);\n        this.musicGfx.drawGlyph(this.sigG, ((_Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.CLEF_MODERNG) | 0), curx, ((((ModernKeySigPanel.YTOP + ((ModernKeySigPanel.STAFFSCALE * 4) | 0)) | 0) - ((ModernKeySigPanel.STAFFPOSSCALE * 2) | 0)) | 0), _java_awt_Color__WEBPACK_IMPORTED_MODULE_0__.Color.black);\n        curx += this.musicGfx.getGlyphWidth(((_Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.CLEF_MODERNG) | 0));\n        for (let i = sigInfo.iterator(); i.hasNext();) {\n            let kse = i.next();\n            for (let ai = 0; ai < kse.accidental.numAcc; ai++) {\n                this.musicGfx.drawGlyph(this.sigG, ((((_Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0), curx, ((((ModernKeySigPanel.YTOP + ((ModernKeySigPanel.STAFFSCALE * 4) | 0)) | 0) - ((ModernKeySigPanel.STAFFPOSSCALE * (((3 + kse.calcAOffset()) | 0))) | 0)) | 0), _java_awt_Color__WEBPACK_IMPORTED_MODULE_0__.Color.black);\n                curx += this.musicGfx.getGlyphWidth(((((_Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0)) + _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.CONNECTION_SCREEN_MODACC_DBLFLAT;\n            }\n        }\n        this.sigIcon.setImage(this.sigImage);\n        this.sigLabel.setIcon(this.sigIcon);\n    }\n    /* draw staff and clef */\n    /* draw individual accidentals in signature */\n    /*------------------------------------------------------------------------\nMethod:  void drawStaff(Graphics2D g,int xloc,int yloc,int xsize,int yscale,int numlines)\nPurpose: Draw staff at specified location\nParameters:\n  Input:  Graphics2D g - graphical context\n          int xloc     - x location for left end of staff\n          int yloc     - y location for top of staff\n          int xsize    - x size of staf\n          int yscale   - vertical size of one staff space\n          int numlines - number of lines for staff\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawStaff_4(g, xloc, yloc, xsize, yscale, numlines) {\n        for (let i = 0; i < numlines; i++)\n            g.drawLine(xloc, ((yloc + ((i * yscale) | 0)) | 0), ((((xloc + xsize) | 0) - 1) | 0), ((yloc + ((i * yscale) | 0)) | 0));\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* standard canvas sizes */\nModernKeySigPanel.XSMALL = 200;\nModernKeySigPanel.YSMALL = 200;\nModernKeySigPanel.XLARGE = 500;\nModernKeySigPanel.YLARGE = 300;\nModernKeySigPanel.STAFFPOSSCALE = 5;\nModernKeySigPanel.STAFFSCALE = ((ModernKeySigPanel.STAFFPOSSCALE * 2) | 0);\nModernKeySigPanel.YTOP = ((((ModernKeySigPanel.YSMALL / 2) | 0) - ((ModernKeySigPanel.STAFFSCALE * 2) | 0)) | 0);\nModernKeySigPanel.XMARGIN = 15;\n/*------------------------------------------------------------------------\nMethod:  void setInfo(ModernKeySignature sigInfo)\nPurpose: Set values for GUI\nParameters:\nInput:  ModernKeySignature sigInfo - data for GUI\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\nModernKeySigPanel.ClearColor = new _java_awt_Color__WEBPACK_IMPORTED_MODULE_0__.Color(0, true);\n\n\n//# sourceURL=webpack://cmme/./src/Editor/ModernKeySigPanel.ts?");

/***/ }),

/***/ "./src/Editor/ModernTextDeleteDialog.ts":
/*!**********************************************!*\
  !*** ./src/Editor/ModernTextDeleteDialog.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModernTextDeleteDialog: () => (/* binding */ ModernTextDeleteDialog)\n/* harmony export */ });\n/* harmony import */ var _TextDeleteDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextDeleteDialog */ \"./src/Editor/TextDeleteDialog.ts\");\n\nclass ModernTextDeleteDialog extends _TextDeleteDialog__WEBPACK_IMPORTED_MODULE_0__.TextDeleteDialog {\n    constructor(owner) {\n        super(owner);\n    }\n    /* @Overrides TextDeleteDialog.deleteText */\n    deleteText_1() {\n        let voicesToDelete = Array(this.musicData.getVoiceData().length);\n        for (let i = 0; i < this.voiceCheckBoxes.length; i++)\n            voicesToDelete[i] = this.voiceCheckBoxes[i].isSelected();\n        this.owner.deleteModernText(voicesToDelete);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/ModernTextDeleteDialog.ts?");

/***/ }),

/***/ "./src/Editor/NoteInfoPanel.ts":
/*!*************************************!*\
  !*** ./src/Editor/NoteInfoPanel.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NoteInfoPanel: () => (/* binding */ NoteInfoPanel)\n/* harmony export */ });\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n\n\n\n\n\nclass NoteInfoPanel extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_0__.JPanel {\n    /*------------------------------------------------------------------------\nConstructor: NoteInfoPanel(MusicFont mf)\nPurpose:     Initialize and lay out note info panel\nParameters:\n  Input:  MusicFont mf - music font (for drawing notes)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(mf) {\n        super();\n        this.musicGfx = mf;\n        this.smallNoteShapeImage = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_4__.BufferedImage(NoteInfoPanel.XSMALL, NoteInfoPanel.YSMALL, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_4__.BufferedImage.TYPE_INT_ARGB);\n        this.smallG = this.smallNoteShapeImage.createGraphics();\n        this.noteShapeIcon = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_1__.ImageIcon(this.smallNoteShapeImage);\n        this.noteShapeLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_2__.JLabel(this.noteShapeIcon);\n        this.shapePanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_0__.JPanel();\n        this.shapePanel.add(this.noteShapeLabel);\n        this.add(this.shapePanel);\n    }\n    setInfo_2(rne) {\n        this.smallG.setBackground(NoteInfoPanel.ClearColor);\n        this.smallG.clearRect(0, 0, NoteInfoPanel.XSMALL, NoteInfoPanel.YSMALL);\n        this.smallG.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_3__.Color.black);\n        if (rne.getLigInfo().firstEventNum != -1)\n            rne.drawLig(this.smallG, this.musicGfx, this, 5, 100);\n        else\n            rne.draw_1(this.smallG, this.musicGfx, this, 5, 100);\n        this.noteShapeIcon.setImage(this.smallNoteShapeImage);\n        this.noteShapeLabel.setIcon(this.noteShapeIcon);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* standard note shape canvas sizes */\nNoteInfoPanel.XSMALL = 200;\nNoteInfoPanel.YSMALL = 200;\nNoteInfoPanel.XLARGE = 500;\nNoteInfoPanel.YLARGE = 300;\n//smallG.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);//CHANGE\n/*------------------------------------------------------------------------\nMethod:  void setInfo(RenderedEvent rne)\nPurpose: Set values for GUI\nParameters:\nInput:  RenderedEvent rne - data for GUI\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\nNoteInfoPanel.ClearColor = new _java_awt_Color__WEBPACK_IMPORTED_MODULE_3__.Color(0, true);\n\n\n//# sourceURL=webpack://cmme/./src/Editor/NoteInfoPanel.ts?");

/***/ }),

/***/ "./src/Editor/OriginalTextDeleteDialog.ts":
/*!************************************************!*\
  !*** ./src/Editor/OriginalTextDeleteDialog.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OriginalTextDeleteDialog: () => (/* binding */ OriginalTextDeleteDialog)\n/* harmony export */ });\n/* harmony import */ var _TextDeleteDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextDeleteDialog */ \"./src/Editor/TextDeleteDialog.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Gfx/SelectionPanel */ \"./src/Gfx/SelectionPanel.ts\");\n\n\n\nclass OriginalTextDeleteDialog extends _TextDeleteDialog__WEBPACK_IMPORTED_MODULE_0__.TextDeleteDialog {\n    constructor(owner) {\n        super(owner);\n    }\n    /* @Overrides TextDeleteDialog.createPanels */\n    createPanels_1() {\n        super.createPanels_1();\n        this.versionsPanel = this.createVersionsPanel_4();\n    }\n    /* @Overrides TextDeleteDialog.addPanelsToLayout */\n    addPanelsToLayout_1(cp) {\n        cp.add(this.versionsPanel);\n        super.addPanelsToLayout_1(cp);\n    }\n    /* @Overrides TextDeleteDialog.deleteText */\n    deleteText_1() {\n        let versionsToDelete = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_1__.ArrayList();\n        let voicesToDelete = Array(this.musicData.getVoiceData().length);\n        for (let i = 0; i < this.versionsPanel.checkBoxes.length; i++)\n            if (this.versionsPanel.checkBoxes[i].isSelected())\n                versionsToDelete.add(this.musicData.getVariantVersions().get(i));\n        for (let i = 0; i < this.voiceCheckBoxes.length; i++)\n            voicesToDelete[i] = this.voiceCheckBoxes[i].isSelected();\n        this.owner.deleteOriginalText(versionsToDelete, voicesToDelete);\n    }\n    createVersionsPanel_4() {\n        let versionsPanel = _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_2__.SelectionPanel.new1_3(\"Versions\", this.musicData.getVariantVersionNames(), _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_2__.SelectionPanel.CHECKBOX, 4);\n        versionsPanel.checkBoxes[0].setSelected(false);\n        versionsPanel.checkBoxes[0].setEnabled(false);\n        for (let i = 1; i < versionsPanel.checkBoxes.length; i++)\n            versionsPanel.checkBoxes[i].setSelected(this.musicData.getVariantVersion_1(i) == this.owner.getCurrentVariantVersion_2());\n        return versionsPanel;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/OriginalTextDeleteDialog.ts?");

/***/ }),

/***/ "./src/Editor/ScoreEditorCanvas.ts":
/*!*****************************************!*\
  !*** ./src/Editor/ScoreEditorCanvas.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorCursor: () => (/* binding */ EditorCursor),\n/* harmony export */   ScoreEditorCanvas: () => (/* binding */ ScoreEditorCanvas)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n/* harmony import */ var _VariantEditorFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./VariantEditorFrame */ \"./src/Editor/VariantEditorFrame.ts\");\n/* harmony import */ var _ClipboardData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ClipboardData */ \"./src/Editor/ClipboardData.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_Point__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/awt/Point */ \"./src/java/awt/Point.ts\");\n/* harmony import */ var _java_io_PrintStream__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../java/io/PrintStream */ \"./src/java/io/PrintStream.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../java/awt/event/MouseEvent */ \"./src/java/awt/event/MouseEvent.ts\");\n/* harmony import */ var _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../java/awt/event/KeyEvent */ \"./src/java/awt/event/KeyEvent.ts\");\n/* harmony import */ var _javax_swing_Timer__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/Timer */ \"./src/javax/swing/Timer.ts\");\n/* harmony import */ var _DataStruct_AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../DataStruct/AnnotationTextEvent */ \"./src/DataStruct/AnnotationTextEvent.ts\");\n/* harmony import */ var _DataStruct_BarlineEvent__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../DataStruct/BarlineEvent */ \"./src/DataStruct/BarlineEvent.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DataStruct/ClefEvent */ \"./src/DataStruct/ClefEvent.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _DataStruct_ColorChangeEvent__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../DataStruct/ColorChangeEvent */ \"./src/DataStruct/ColorChangeEvent.ts\");\n/* harmony import */ var _DataStruct_CustosEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/CustosEvent */ \"./src/DataStruct/CustosEvent.ts\");\n/* harmony import */ var _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DataStruct/DotEvent */ \"./src/DataStruct/DotEvent.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_LacunaEvent__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../DataStruct/LacunaEvent */ \"./src/DataStruct/LacunaEvent.ts\");\n/* harmony import */ var _DataStruct_LineEndEvent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../DataStruct/LineEndEvent */ \"./src/DataStruct/LineEndEvent.ts\");\n/* harmony import */ var _DataStruct_MensEvent__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../DataStruct/MensEvent */ \"./src/DataStruct/MensEvent.ts\");\n/* harmony import */ var _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../DataStruct/MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../DataStruct/Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../DataStruct/ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n/* harmony import */ var _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../DataStruct/ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _DataStruct_ModernKeySignatureEvent__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../DataStruct/ModernKeySignatureEvent */ \"./src/DataStruct/ModernKeySignatureEvent.ts\");\n/* harmony import */ var _DataStruct_MultiEvent__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../DataStruct/MultiEvent */ \"./src/DataStruct/MultiEvent.ts\");\n/* harmony import */ var _DataStruct_MusicChantSection__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../DataStruct/MusicChantSection */ \"./src/DataStruct/MusicChantSection.ts\");\n/* harmony import */ var _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../DataStruct/MusicMensuralSection */ \"./src/DataStruct/MusicMensuralSection.ts\");\n/* harmony import */ var _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../DataStruct/MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _DataStruct_OriginalTextEvent__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../DataStruct/OriginalTextEvent */ \"./src/DataStruct/OriginalTextEvent.ts\");\n/* harmony import */ var _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../DataStruct/Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _DataStruct_ProportionEvent__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../DataStruct/ProportionEvent */ \"./src/DataStruct/ProportionEvent.ts\");\n/* harmony import */ var _DataStruct_RestEvent__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../DataStruct/RestEvent */ \"./src/DataStruct/RestEvent.ts\");\n/* harmony import */ var _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../DataStruct/Signum */ \"./src/DataStruct/Signum.ts\");\n/* harmony import */ var _DataStruct_VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../DataStruct/VariantMarkerEvent */ \"./src/DataStruct/VariantMarkerEvent.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n/* harmony import */ var _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../DataStruct/Voice */ \"./src/DataStruct/Voice.ts\");\n/* harmony import */ var _DataStruct_VoiceChantData__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../DataStruct/VoiceChantData */ \"./src/DataStruct/VoiceChantData.ts\");\n/* harmony import */ var _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../DataStruct/VoiceMensuralData */ \"./src/DataStruct/VoiceMensuralData.ts\");\n/* harmony import */ var _Gfx_ViewCanvas__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../Gfx/ViewCanvas */ \"./src/Gfx/ViewCanvas.ts\");\n/* harmony import */ var _Util_Analyzer__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../Util/Analyzer */ \"./src/Util/Analyzer.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*------------------------------------------------------------------------\nClass:   ScoreEditorCanvas\nExtends: Gfx.ViewCanvas\nPurpose: Handles music-editing area (in score view)\n------------------------------------------------------------------------*/\n\nclass ScoreEditorCanvas extends _Gfx_ViewCanvas__WEBPACK_IMPORTED_MODULE_46__.ViewCanvas {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ScoreEditorCanvas(PieceData p,MusicFont mf,MusicWin mw,OptionSet os)\nPurpose:     Initialize canvas\nParameters:\n  Input:  PieceData p,MusicFont mf,MusicWin mw,OptionSet os - ViewCanvas params\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(p, mf, mw, os) {\n        super(p, mf, mw, os);\n        this.mytype_FocusListener = true;\n        this.mytype_MouseMotionListener = true;\n        this.mytype_MouseListener = true;\n        this.mytype_KeyListener = true;\n        this.hl_anchor = -1;\n        /* event index where highlight began */\n        this.focused = false;\n        /* whether the canvas has the input focus */\n        /* input-control parameters */\n        this.editorColorationType = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.MINOR_COLOR;\n        this.editorStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP;\n        this.colorationOn = false;\n        /* mouse attributes */\n        this.mouseButtonDown = false;\n        /*------------------------------------------------------------------------\n    Method:     void mousePressed(MouseEvent e)\n    Implements: MouseListener.mousePressed\n    Purpose:    Handle mouse click on canvas\n    Parameters:\n      Input:  MouseEvent e - event to handle\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.focusingEvent = null;\n        this.parentEditorWin = this.parentwin;\n        this.Cursor = new EditorCursor(this);\n        let updateCursorAction = {\n            /* initialize cursor */\n            /* cursor blinking */\n            actionPerformed: (e) => {\n                this.Cursor.toggleCursor();\n            }\n        };\n        this.Cursor_Timer = new _javax_swing_Timer__WEBPACK_IMPORTED_MODULE_12__.Timer(500, updateCursorAction);\n        this.Cursor_Timer.start();\n        this.addKeyListener(this);\n        this.addMouseMotionListener(this);\n        this.setFocusable(true);\n        this.addFocusListener(this);\n    }\n    /* input handlers */\n    //    addMouseListener(this);\n    /*------------------------------------------------------------------------\nMethod:    void realpaintbuffer(Graphics2D g)\nOverrides: Gfx.ViewCanvas.realpaintbuffer\nPurpose:   Repaint area into offscreen buffer\nParameters:\n  Input:  Graphics2D g - offscreen graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    realpaintbuffer_1(g) {\n        super.realpaintbuffer_1(g);\n        this.Cursor.repaintHighlight(g);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void showCursor()\nPurpose: Enable cursor display\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    showCursor() {\n        this.Cursor.showCursor();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void shiftCursorLoc(int xs,int vs)\nPurpose: Attempt to shift cursor position\nParameters:\n  Input:  int xs - number of events to go left/right\n          int vs - number of voices to go up/down\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    shiftCursorLoc(xs, vs) {\n        this.Cursor.shiftCursorLoc(xs, vs);\n        this.parentEditorWin.updateEventEditor_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyHighlight(int xs)\nPurpose: Attempt to expand or contract highlight\nParameters:\n  Input:  int xs - number of events to expand/contract left/right\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyHighlight(xs) {\n        this.Cursor.modifyHighlight(xs);\n        if (this.Cursor.oneItemHighlighted())\n            this.parentEditorWin.updateEventEditor_3(this.getCurEvent_2());\n        else if (this.Cursor.getHighlightBegin() == -1)\n            this.parentEditorWin.updateEventEditor_1();\n        else\n            this.parentEditorWin.updateEventEditor_2(((((this.Cursor.getHighlightEnd() - this.Cursor.getHighlightBegin()) | 0) + 1) | 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void shiftHighlightWithinMultiEvent(int offset)\nPurpose: Attempt to shift cursor position within multi-event\nParameters:\n  Input:  int offset - number of events to shift\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    shiftHighlightWithinMultiEvent(offset) {\n        this.Cursor.shiftHighlightWithinMultiEvent(offset);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void moveCursor(int newsnum,int newvnum,int neweventnum)\nPurpose: Move cursor to a new position and display\nParameters:\n  Input:  int newsnum,newvnum,neweventnum - new cursor parameters\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveCursor(newsnum, newvnum, neweventnum) {\n        this.Cursor.moveCursor(newsnum, newvnum, neweventnum);\n        this.parentEditorWin.updateEventEditor_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void newCursorLoc(int x,int y)\nPurpose: Attempt to move cursor to a given XY position in canvas\nParameters:\n  Input:  int x - desired x position\n          int y - desired y position\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newCursorLoc(x, y) {\n        this.Cursor.newCursorLoc(x, y);\n        this.parentEditorWin.updateEventEditor_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void moveCursorToHome()\nPurpose: Move cursor to start of current voice\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveCursorToHome() {\n        let vnum = this.Cursor.getVoiceNum();\n        let snum = 0;\n        while (snum < this.numSections && this.renderedSections[snum].eventinfo[vnum] == null)\n            snum++;\n        if (snum == this.numSections)\n            snum = 0;\n        this.moveCursor(snum, vnum, 0);\n    }\n    /* choose valid location for this voice */\n    /*------------------------------------------------------------------------\nMethod:  void moveCursorToEnd()\nPurpose: Move cursor to end of current voice\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveCursorToEnd() {\n        let vnum = this.Cursor.getVoiceNum();\n        let snum = ((this.numSections - 1) | 0);\n        let evnum = 0;\n        while (snum >= 0 && this.renderedSections[snum].eventinfo[vnum] == null)\n            snum--;\n        if (snum < 0)\n            snum = 0;\n        else\n            evnum = ((this.renderedSections[snum].eventinfo[vnum].size() - 1) | 0);\n        this.moveCursor(snum, vnum, evnum);\n    }\n    /* choose valid location for this voice */\n    /*------------------------------------------------------------------------\nMethod:  void highlightItems(int snum,int vnum,int firstenum,int lastenum)\nPurpose: Highlight one or more events and update GUI if necessary\nParameters:\n  Input:  int snum,vnum          - section/voice number\n          int firstenum,lastenum - indices of first and last events to be highlighted\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    highlightItems(snum, vnum, firstenum, lastenum) {\n        this.Cursor.highlightEvents(snum, vnum, firstenum, lastenum);\n        if (this.Cursor.oneItemHighlighted())\n            this.parentEditorWin.updateEventEditor_3(this.getCurEvent_2());\n        else\n            this.parentEditorWin.updateEventEditor_2(((((lastenum - firstenum) | 0) + 1) | 0));\n    }\n    highlightOneItem(snum, vnum, eventnum) {\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    highlightAll() {\n        this.hl_anchor = 0;\n        this.highlightItems(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), 0, ((this.renderedSections[this.Cursor.getSectionNum()].eventinfo[this.Cursor.getVoiceNum()].size() - 2) | 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void clipboard[Copy|Cut|Paste]()\nPurpose: Clipboard functions based on current cursor position and\n         highlighted items\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    clipboardCopy_1() {\n        if (this.Cursor.getHighlightBegin() < 0)\n            ScoreEditorCanvas.clipboard = null;\n        else\n            ScoreEditorCanvas.clipboard = new _ClipboardData__WEBPACK_IMPORTED_MODULE_5__.ClipboardData(this.renderedSections, this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), this.Cursor.getHighlightBegin(), this.Cursor.getHighlightEnd());\n    }\n    clipboardCut_1() {\n        this.clipboardCopy_1();\n        this.deleteHighlightedItems();\n    }\n    clipboardPaste_1() {\n        if (this.Cursor.getHighlightBegin() >= 0)\n            this.deleteHighlightedItems();\n        this.insertEventList(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), this.Cursor.getEventNum(), ScoreEditorCanvas.clipboard.getEventList().createCopy());\n    }\n    /* if we delete more than one item, index of the second */\n    deleteItem(snum, vnum, eventnum) {\n        let itemsdeleted = 1;\n        this.secondDeletedIndex = -1;\n        let ev_to_delete = this.renderedSections[snum].eventinfo[vnum].getEvent(eventnum).getEvent_1();\n        if (ev_to_delete.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE && this.curVariantVersion == this.musicData.getDefaultVariantVersion()) {\n            let nexte = this.renderedSections[snum].eventinfo[vnum].getEvent(((eventnum + 1) | 0));\n            if (nexte != null && nexte.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_DOT && (nexte.getEvent_1().getdottype() & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition) != 0) {\n                this.musicData.deleteEvent(snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, ((eventnum + 1) | 0)));\n                itemsdeleted++;\n            }\n        }\n        else if (ev_to_delete.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_DOT && (ev_to_delete.getdottype() & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition) != 0 && this.curVariantVersion == this.musicData.getDefaultVariantVersion()) {\n            let lastne = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n            if (lastne != null) {\n                let notelength = lastne.getLength_1();\n                notelength.multiply_1(2, 3);\n            }\n        }\n        else if (ev_to_delete.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_START) {\n            let ei = ((eventnum + 1) | 0);\n            let cure = this.renderedSections[snum].eventinfo[vnum].getEvent(ei).getEvent_1();\n            while (cure.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_END) {\n                cure = this.renderedSections[snum].eventinfo[vnum].getEvent(++ei).getEvent_1();\n            }\n            this.secondDeletedIndex = ei;\n            this.musicData.deleteEvent(snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, ei));\n        }\n        else if (ev_to_delete.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_END) {\n            let ei = ((eventnum - 1) | 0);\n            let cure = this.renderedSections[snum].eventinfo[vnum].getEvent(ei).getEvent_1();\n            while (cure.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_START) {\n                cure = this.renderedSections[snum].eventinfo[vnum].getEvent(--ei).getEvent_1();\n            }\n            this.secondDeletedIndex = ei;\n            this.musicData.deleteEvent(snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, eventnum));\n            eventnum = ei;\n        }\n        else if (ev_to_delete.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_LACUNA) {\n        }\n        let listPos = this.renderedSections[snum].getVoicedataPlace(vnum, eventnum);\n        if (this.curVariantVersion != this.musicData.getDefaultVariantVersion()) {\n            let eventPos = this.musicData.deleteVariantEvent(this.curVariantVersion, this.curVersionMusicData, snum, vnum, listPos);\n            switch (eventPos) {\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.NEWVARIANT:\n                    {\n                        listPos++;\n                        eventnum++;\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.BEGINNING:\n                    {\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.MIDDLE:\n                    {\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.END:\n                    {\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.COMBINED:\n                    {\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.DELETED:\n                    {\n                        listPos--;\n                        eventnum--;\n                        itemsdeleted += 2;\n                        this.secondDeletedIndex = listPos;\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.NOACTION:\n                    {\n                        return itemsdeleted;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.NEWREADING:\n                    {\n                        let vmi1 = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_START, snum, vnum, eventnum, -1);\n                        let vmi2 = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_END, snum, vnum, eventnum, 1);\n                        let varListPlace = ((this.renderedSections[snum].getVoicedataPlace(vnum, vmi1) + 1) | 0);\n                        for (let vi = ((vmi1 + 1) | 0); vi < vmi2; vi++) {\n                            let re = this.renderedSections[snum].eventinfo[vnum].getEvent(vi);\n                            re.setEvent(this.curVersionMusicData.getEvent_2(snum, vnum, varListPlace++));\n                        }\n                        break;\n                    }\n            }\n        }\n        this.curVersionMusicData.deleteEvent(snum, vnum, listPos);\n        return itemsdeleted;\n    }\n    /* deal with other events affected by the event to be deleted */\n    /* delete dot attached to note */\n    /* change length of notes affected by dots of addition */\n    //            cure.setEditorial(false);\n    /* now delete VARIANTDATA_END event */\n    //            cure.setEditorial(false);\n    /* now delete VARIANTDATA_END event, set START as main item to be deleted */\n    // insert code to deal with deleting LACUNA and LACUNA_END simultaneously\n    /* delete main event */\n    /* create/modify variant data */\n    /* reading has been added; update render list to contain replaced events */\n    /*------------------------------------------------------------------------\nMethod:  void deleteHighlightedItems()\nPurpose: Attempt to delete highlighted events\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteWithoutRender(snum, vnum, firstEventNum, lastEventNum) {\n        let newevnum = firstEventNum;\n        let endEvent = lastEventNum;\n        for (let i = firstEventNum; i <= endEvent;) {\n            i += this.deleteItem(snum, vnum, i);\n            if (this.secondDeletedIndex > -1 && this.secondDeletedIndex <= lastEventNum)\n                if (this.secondDeletedIndex >= firstEventNum)\n                    endEvent--;\n                else\n                    newevnum--;\n        }\n        return newevnum;\n    }\n    deleteHighlightedWithoutRender() {\n        return this.deleteWithoutRender(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), this.Cursor.getHighlightBegin(), this.Cursor.getHighlightEnd());\n    }\n    deleteHighlightedItems() {\n        if (this.Cursor.getHighlightBegin() < 0)\n            return;\n        let mei = this.Cursor.getMultiEventHLindex();\n        if (mei != -1) {\n            this.deleteHighlightedItemWithinMultiEvent(mei);\n            return;\n        }\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        for (let i = this.Cursor.getHighlightBegin(); i <= this.Cursor.getHighlightEnd(); i++)\n            if (this.getEvent(snum, vnum, i).getEvent_1() instanceof _DataStruct_VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_41__.VariantMarkerEvent)\n                return;\n        let newevnum = this.deleteHighlightedWithoutRender();\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, newevnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, newevnum);\n    }\n    /* nothing highlighted */\n    /* check for variant markers */\n    deleteHighlightedItemWithinMultiEvent(mei) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let e = this.getCurEvent_2().getEvent_1();\n        let me = this.getCurMainEvent().getEvent_1();\n        let newme = me.deleteEvent(e);\n        if (newme == me) {\n            this.rerender_1();\n            this.shiftHighlightWithinMultiEvent(0);\n        }\n        else {\n            this.Cursor.resetMultiEventHLindex();\n            this.deleteItem(snum, vnum, eventnum);\n            eventnum = this.insertEvent(snum, vnum, eventnum, newme);\n            this.rerender_1();\n        }\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteCurItem(int event_offset)\nPurpose: Attempt to delete event at location relative to cursor position\nParameters:\n  Input:  int event_offset - offset from current cursor location for event\n                             to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteCurItem(event_offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = ((this.Cursor.getEventNum() + event_offset) | 0);\n        if (eventnum < 0 || eventnum >= ((this.renderedSections[snum].eventinfo[vnum].size() - 1) | 0))\n            return;\n        let re = this.renderedSections[snum].eventinfo[vnum].getEvent(eventnum);\n        let offsetAdd = event_offset < 0 ? -1 : 1;\n        while (re != null && (!re.isdisplayed() || re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_START || re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_END)) {\n            eventnum += offsetAdd;\n            if (eventnum < 0 || eventnum >= ((this.renderedSections[snum].eventinfo[vnum].size() - 1) | 0))\n                re = null;\n            else\n                re = this.renderedSections[snum].eventinfo[vnum].getEvent(eventnum);\n        }\n        if (eventnum < 0 || eventnum >= ((this.renderedSections[snum].eventinfo[vnum].size() - 1) | 0))\n            return;\n        this.Cursor.hideCursor();\n        this.deleteItem(snum, vnum, eventnum);\n        if (this.secondDeletedIndex > -1 && this.secondDeletedIndex < eventnum)\n            eventnum--;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, eventnum);\n    }\n    /* don't delete invisible items */\n    /*------------------------------------------------------------------------\nMethod:  int insertEvent(int snum,int vnum,int eventnum,Event e)\nPurpose: Insert event at given location and display\nParameters:\n  Input:  int snum,vnum,eventnum - section, voice, and event number for insertion\n          Event e                - event to insert\n  Output: -\n  Return: list index where event was inserted\n------------------------------------------------------------------------*/\n    insertEventWithoutRerender(snum, vnum, eventnum, e) {\n        e.setcolorparams_1(this.getCurColoration(snum, vnum, ((eventnum - 1) | 0)));\n        e.setModernKeySigParams(this.getCurModernKeySig(snum, vnum, ((eventnum - 1) | 0)));\n        let listPos = this.renderedSections[snum].getVoicedataPlace(vnum, eventnum);\n        if (this.curVariantVersion != this.musicData.getDefaultVariantVersion()) {\n            let eventPos = this.musicData.addVariantEvent(this.curVariantVersion, this.curVersionMusicData, snum, vnum, listPos, this.renderedSections[snum].getDefaultVoicedataPlace(vnum, eventnum), e);\n            switch (eventPos) {\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.NEWVARIANT:\n                    {\n                        listPos++;\n                        eventnum++;\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.BEGINNING:\n                    {\n                        listPos++;\n                        eventnum++;\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.MIDDLE:\n                    {\n                        break;\n                    }\n                case _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.END:\n                    {\n                        listPos--;\n                        eventnum--;\n                        break;\n                    }\n            }\n        }\n        this.curVersionMusicData.addEvent(snum, vnum, listPos, e);\n        return listPos;\n    }\n    //    e.setEditorial(inEditorialSection(snum,vnum,eventnum-1));\n    /* create variant data */\n    insertEvent(snum, vnum, eventnum, e) {\n        eventnum = this.insertEventWithoutRerender(snum, vnum, eventnum, e);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n        return eventnum;\n    }\n    insertEventList(snum, vnum, eventnum, el) {\n        let origEventnum = eventnum;\n        for (let ei = 0; ei < el.getNumEvents(); ei++) {\n            eventnum = ((this.insertEventWithoutRerender(snum, vnum, eventnum, el.getEvent(ei)) + 1) | 0);\n            this.rerender_2(snum);\n        }\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, eventnum);\n        return eventnum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  long checkVariant(int snum,int vnum,int eventNum)\nPurpose: (Re-)calculate variant type flags at a given location\nParameters:\n  Input:  int snum,vnum,eventNum - section, voice, and event number\n  Output: -\n  Return: new flags representing variation types present\n------------------------------------------------------------------------*/\n    checkVariant(snum, vnum, eventNum) {\n        let re = this.getEvent(snum, vnum, eventNum);\n        let renderedVar = null;\n        if (re != null)\n            renderedVar = this.renderedSections[snum].eventinfo[vnum].getEvent(eventNum).getVarReadingInfo();\n        if (renderedVar == null)\n            return _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.VAR_NONE;\n        let vme1 = this.getEvent(snum, vnum, renderedVar.firstEventNum).getEvent_1();\n        let vme2 = this.getEvent(snum, vnum, renderedVar.lastEventNum).getEvent_1();\n        let origvt = vme1.getVarTypeFlags();\n        let vt = vme1.calcVariantTypes(this.musicData.getSection(snum).getVoice_1(vnum));\n        vme2.setVarTypeFlags(vt);\n        if (vt != origvt && (vt == _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.VAR_ORIGTEXT || origvt == _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_42__.VariantReading.VAR_ORIGTEXT))\n            this.rerender_1();\n        return vt;\n    }\n    /* no variants here */\n    /*------------------------------------------------------------------------\nMethod:  Event getEventForModification(int snum,int vnum,int eventnum)\nPurpose: Locate event for modification, or create new variant reading if\n         necessary with copy of default event\nParameters:\n  Input:  int snum,vnum,eventnum - section, voice, and event number\n  Output: -\n  Return: event to be modified\n------------------------------------------------------------------------*/\n    getEventForModification(snum, vnum, eventnum) {\n        let e = this.getEvent(snum, vnum, eventnum).getEvent_1();\n        if (this.curVariantVersion != this.musicData.getDefaultVariantVersion())\n            return this.musicData.duplicateEventInVariant(this.curVariantVersion, this.curVersionMusicData, snum, vnum, e.getListPlace(false));\n        else\n            return e;\n    }\n    /* in default reading */\n    /*------------------------------------------------------------------------\nMethod:  Event getEventsForModification(int snum,int vnum,int e1i,int e2i)\nPurpose: Locate events for modification, creating new variant reading if\n         necessary\nParameters:\n  Input:  int snum,vnum - section and voice number\n          int e1i,e2i   - (rendered) event numbers of first and second events\n  Output: -\n  Return: first event to be modified\n------------------------------------------------------------------------*/\n    getEventsForModification(snum, vnum, e1i, e2i) {\n        let e1 = this.renderedSections[snum].eventinfo[vnum].getEvent(e1i).getEvent_1();\n        let e2 = this.renderedSections[snum].eventinfo[vnum].getEvent(e2i).getEvent_1();\n        if (this.curVariantVersion != this.musicData.getDefaultVariantVersion())\n            return this.musicData.duplicateEventsInVariant(this.curVariantVersion, this.curVersionMusicData, snum, vnum, e1.getListPlace(false), e2.getListPlace(false));\n        else\n            return e1;\n    }\n    /* in default reading */\n    /*------------------------------------------------------------------------\nMethod:  NoteEvent getNoteEventForLigation(int snum,int vnum,int note1i,int note2i)\nPurpose: Locate note event for modification of ligation, creating new\n         variant reading if necessary\nParameters:\n  Input:  int snum,vnum     - section and voice, and event number\n          int note1i,note2i - (rendered) event numbers of first and second\n                              notes for ligature modification\n  Output: -\n  Return: event to be modified\n------------------------------------------------------------------------*/\n    getNoteEventForLigation(snum, vnum, note1i, note2i) {\n        let ne1 = this.renderedSections[snum].eventinfo[vnum].getEvent(note1i).getEvent_1();\n        let ne2 = this.renderedSections[snum].eventinfo[vnum].getEvent(note2i).getEvent_1();\n        if (this.curVariantVersion != this.musicData.getDefaultVariantVersion())\n            return this.musicData.duplicateEventsInVariant(this.curVariantVersion, this.curVersionMusicData, snum, vnum, ne1.getListPlace(false), ne2.getListPlace(false));\n        else\n            return ne1;\n    }\n    /* in default reading */\n    /*------------------------------------------------------------------------\nMethod:  void setEventProportion(Proportion p)\nPurpose: Modify one number in an event's proportion (Note, Rest, Proportion, etc)\nParameters:\n  Input:  Proportion p - new proportion for event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setEventProportion(p) {\n        if (!this.Cursor.oneItemHighlighted())\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error: more than one item highlighted\");\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origEvent = this.getCurEvent_2().getEvent_1();\n        let oldp;\n        if (origEvent.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_PROPORTION)\n            oldp = origEvent.getproportion();\n        else if (origEvent.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n            oldp = origEvent.getTempoChange();\n        else\n            oldp = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new1(origEvent.getLength_1());\n        if (p.i2 <= 0 || p.i1 <= 0 || p.equals(oldp))\n            return;\n        this.Cursor.hideCursor();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - origEvent.getListPlace(!this.inVariantVersion())) | 0);\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_LACUNA)\n            e.setLength_1(p);\n        else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n            e.setTempoChange(p);\n        else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n            e.setLength_1(p);\n        else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_PROPORTION)\n            e.setproportion_2(p);\n        else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST)\n            e.setLength_1(p);\n        else\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error: no proportion for this type of event\");\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /* save old proportion to check for file modification */\n    /* check for file modification\n    Proportion newp;\n    if (e.geteventtype()==Event.EVENT_PROPORTION)\n      newp=((ProportionEvent)e).getproportion();\n    else\n      newp=new Proportion(e.getLength());*/\n    /*------------------------------------------------------------------------\nMethod:  void setEventCommentary(String c)\nPurpose: Set editorial commentary text for any event\nParameters:\n  Input:  String c - new commentary text\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setEventCommentary(c) {\n        if (!this.Cursor.oneItemHighlighted())\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error: more than one item highlighted\");\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let oldCommNull = orige.getEdCommentary() == null;\n        let newCommNull = (c == \"\");\n        if (oldCommNull && newCommNull)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        if ((c == \"\"))\n            c = null;\n        e.setEdCommentary(c);\n        this.Cursor.hideCursor();\n        this.parentEditorWin.fileModified_2();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void makeMultiEvent()\nPurpose: Combine this event and the previous one to make a multi-event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    makeMultiEvent() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        if (eventnum == 0 || !this.validMultiEventType(orige) || (orige.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_DOT && (orige.getdottype() & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition) != 0))\n            return;\n        let origprev = this.getCurEvent_1(-1).getEvent_1();\n        if (!this.validMultiEventType(origprev) && origprev.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MULTIEVENT)\n            return;\n        let prev = this.getEventsForModification(snum, vnum, ((eventnum - 1) | 0), eventnum);\n        if (prev == null)\n            return;\n        eventnum--;\n        if (prev != origprev) {\n            eventnum += ((prev.getListPlace(!this.inVariantVersion()) - origprev.getListPlace(!this.inVariantVersion())) | 0);\n            this.rerender_1();\n        }\n        let e = this.getRenderedEvent(snum, vnum, ((eventnum + 1) | 0)).getEvent_1();\n        let me;\n        if (prev.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MULTIEVENT) {\n            me = prev;\n            me.addEvent(e);\n            this.deleteItem(snum, vnum, ((eventnum + 1) | 0));\n        }\n        else {\n            me = _DataStruct_MultiEvent__WEBPACK_IMPORTED_MODULE_30__.MultiEvent.new23();\n            me.addEvent(prev);\n            me.addEvent(e);\n            this.deleteItem(snum, vnum, ((eventnum + 1) | 0));\n            this.deleteItem(snum, vnum, eventnum);\n            this.insertEvent(snum, vnum, eventnum, me);\n        }\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /* check if event is valid for combination with previous */\n    /* attempt to create invalid variant arrangement */\n    /* eventnum now needs to match first event */\n    /* combine into multi-event */\n    validMultiEventType(e) {\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_LINEEND || e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_SECTIONEND || e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_PROPORTION || e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_COLORCHANGE || e instanceof _DataStruct_VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_41__.VariantMarkerEvent)\n            return false;\n        return true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void insertEditorialDataSection()\nPurpose: Insert editorial section start and end markers at current cursor\n         location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    insertEditorialDataSection() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        if (this.inEditorialSection(snum, vnum, eventnum))\n            return;\n        this.Cursor.hideCursor();\n        let eds = _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_START);\n        let ede = _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_VARIANTDATA_END);\n        let insertionPlace = this.renderedSections[snum].getVoicedataPlace(vnum, eventnum);\n        this.musicData.getSection(snum).getVoice_1(vnum).addEvent_2(insertionPlace, ede);\n        this.musicData.getSection(snum).getVoice_1(vnum).addEvent_2(insertionPlace, eds);\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, ((eventnum + 1) | 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleEditorialData()\nPurpose: Toggle whether highlighted events are part of an editorial data\n         section\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleEditorialData() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let firstenum = this.Cursor.getHighlightBegin();\n        let lastenum = this.Cursor.getHighlightEnd();\n        this.Cursor.hideCursor();\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, ((firstenum + 1) | 0));\n    }\n    /*    Event eds=new Event(Event.EVENT_VARIANTDATA_START),\n          ede=new Event(Event.EVENT_VARIANTDATA_END);\n    if (inEditorialSection(snum,vnum,firstenum))\n      {\n        musicData.getSection(snum).getVoice(vnum).addEvent(renderedSections[snum].getVoicedataPlace(vnum,lastenum+1),eds);\n        musicData.getSection(snum).getVoice(vnum).addEvent(renderedSections[snum].getVoicedataPlace(vnum,firstenum),ede);\n      }\n    else\n      {\n        musicData.getSection(snum).getVoice(vnum).addEvent(renderedSections[snum].getVoicedataPlace(vnum,lastenum+1),ede);\n        musicData.getSection(snum).getVoice(vnum).addEvent(renderedSections[snum].getVoicedataPlace(vnum,firstenum),eds);\n      }*/\n    /*------------------------------------------------------------------------\nMethod:  void toggle[Editorial|Error]()\nPurpose: Change generic attributes of currently highlighted event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleEditorial() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        e.setEditorial(!e.isEditorial());\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    toggleHighlightedEditorial() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let firste = this.Cursor.getHighlightBegin();\n        let laste = this.Cursor.getHighlightEnd();\n        let orige = this.renderedSections[snum].eventinfo[vnum].getEvent(firste).getEvent_1();\n        let e = this.getEventsForModification(snum, vnum, firste, laste);\n        if (e == null)\n            return;\n        firste += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        laste += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        for (let i = firste; i <= laste; i++) {\n            let re = this.renderedSections[snum].eventinfo[vnum].getEvent(i);\n            e = re.getEvent_1();\n            e.setEditorial(!e.isEditorial());\n        }\n        this.rerender_1();\n        this.checkVariant(snum, vnum, firste);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = firste;\n        this.highlightItems(snum, vnum, firste, laste);\n    }\n    /* attempt to create invalid variant arrangement */\n    //eventnum;\n    toggleError() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        e.setError(!e.isError());\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:    void setMusicDataForDisplay(PieceData musicData)\nOverrides: Gfx.ViewCanvas.setMusicDataForDisplay\nPurpose:   Update rendered data to match current variant version\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setMusicDataForDisplay_1(musicData) {\n        super.setMusicDataForDisplay_1(musicData);\n        this.Cursor.setNoHighlight();\n        if (this.getCurEvent_2() == null)\n            this.setEventNum(((this.renderedSections[this.Cursor.getSectionNum()].eventinfo[this.Cursor.getVoiceNum()].size() - 1) | 0));\n    }\n    /* ensure cursor remains at a valid location after re-rendering */\n    /*------------------------------------------------------------------------\nMethod:  void combineVariantReadings()\nPurpose: Combine variant reading at current cursor position with next reading\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    combineVariantReadings() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let vr1 = this.getCurEvent_2().getVarReadingInfo();\n        if (vr1 == null)\n            return;\n        let vr2 = this.renderedSections[snum].eventinfo[vnum].getEvent(((vr1.lastEventNum + 1) | 0)).getVarReadingInfo();\n        if (vr2 == null)\n            return;\n        this.Cursor.hideCursor();\n        this.musicData.combineReadingWithNext(this.curVersionMusicData, snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, vr1.firstEventNum), this.renderedSections[snum].getVoicedataPlace(vnum, vr2.firstEventNum));\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, eventnum);\n    }\n    /* check that cursor is positioned at a variant reading followed by another\n       variant reading */\n    /*------------------------------------------------------------------------\nMethod:  void deleteAllVariantReadings()\nPurpose: Delete all variant readings at current cursor position\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteAllVariantReadings() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        this.musicData.deleteAllVariantReadingsAtLoc(this.curVariantVersion, this.curVersionMusicData, snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, eventnum));\n        if (!this.curVariantVersion.isDefault())\n            this.parentEditorWin.reconstructCurrentVersion();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.Cursor.setNoHighlight();\n        this.moveCursor(snum, vnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteVariantReading()\nPurpose: Delete variant reading at current cursor position\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteVariantReading_1() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        if (this.curVersionMusicData.getVariantReading(snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, eventnum), this.curVariantVersion) == null)\n            return;\n        this.Cursor.hideCursor();\n        this.musicData.deleteVariantReading_1(this.curVariantVersion, this.curVersionMusicData, snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, eventnum));\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.Cursor.setNoHighlight();\n        this.moveCursor(snum, vnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteVariantReading(VariantMarkerEvent vme,VariantVersionData vvd,VariantEditorFrame vef)\nPurpose: Delete variant reading specified in popup GUI\nParameters:\n  Input:  VariantMarkerEvent vme - start marker for readings\n          VariantVersionData vvd - version to remove\n          VariantEditorFrame vef - popup with controls for this variant\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteVariantReading_2(vme, vvd, vef) {\n        let loc = this.musicData.findEvent(vme);\n        if (loc == null) {\n            vef.closeFrame_1();\n            return;\n        }\n        this.musicData.deleteVariantReading_2(vvd, loc.sectionNum, loc.voiceNum, loc.eventNum);\n        vef.closeFrame_1();\n        this.setCurrentVariantVersion_1(this.curVariantVersion);\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleVariantError()\nPurpose: Toggle whether variant reading contains an error\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleVariantError() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let vr = this.curVersionMusicData.getVariantReading(snum, vnum, this.renderedSections[snum].getVoicedataPlace(vnum, eventnum), this.curVariantVersion);\n        if (vr == null)\n            return;\n        vr.setError(!vr.isError());\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void showCurrentVariants()\nPurpose: Open popup displaying readings of variant at cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    showCurrentVariants() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventNum = this.Cursor.getEventNum();\n        let cursorLoc = this.Cursor.getLocation();\n        this.showVariants_1(snum, vnum, eventNum, cursorLoc.x, cursorLoc.y);\n    }\n    /*------------------------------------------------------------------------\nMethod:    void showVariants(int snum,int vnum,int eventNum,int fx,int fy)\nOverrides: Gfx.ViewCanvas.showVariants\nPurpose:   Show variant readings popup in GUI (if there are readings at this point)\n------------------------------------------------------------------------*/\n    showVariants_1(snum, vnum, eventNum, fx, fy) {\n        if (this.musicData.getVariantVersions().size() == 0)\n            return;\n        let re = this.renderedSections[snum].eventinfo[vnum].getEvent(eventNum);\n        let renderedVar = re.getVarReadingInfo();\n        if (renderedVar == null)\n            return;\n        let varFrame = new _VariantEditorFrame__WEBPACK_IMPORTED_MODULE_4__.VariantEditorFrame(renderedVar, this.musicData.getSection(snum).getVoice_1(vnum), this.renderedSections[snum], vnum, fx, fy, this, this.MusicGfx, this.STAFFSCALE, this.VIEWSCALE);\n        varFrame.setVisible(true);\n    }\n    /* no variants here */\n    /*------------------------------------------------------------------------\nMethod:  void consolidateReadings(VariantMarkerEvent vme,VariantEditorFrame vef)\nPurpose: Find duplicate readings at one location and consolidate\nParameters:\n  Input:  VariantMarkerEvent vme - start marker for readings\n          VariantEditorFrame vef - popup with controls for this variant\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    consolidateReadings(vme, vef) {\n        let loc = this.musicData.findEvent(vme);\n        if (loc == null) {\n            vef.closeFrame_1();\n            return;\n        }\n        if (this.musicData.consolidateReadings(loc)) {\n            vef.closeFrame_1();\n            this.setCurrentVariantVersion_1(this.curVariantVersion);\n            this.rerender_1();\n            this.repaint();\n            this.parentEditorWin.fileModified_2();\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addVersionToReading(VariantMarkerEvent vme,int ri,\n                                  VariantVersionData newv,VariantEditorFrame vef)\nPurpose: Associate one variant version with one reading\nParameters:\n  Input:  VariantMarkerEvent vme  - start marker for readings\n          int ri                  - index of reading within marker's list\n          VariantVersionData newv - version to add to reading\n          VariantEditorFrame vef  - popup with controls for this variant\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addVersionToReading(vme, ri, newv, vef) {\n        let loc = this.musicData.findEvent(vme);\n        if (loc == null) {\n            vef.closeFrame_1();\n            return;\n        }\n        if (this.musicData.addVersionToReading(loc, ri, newv)) {\n            vef.closeFrame_1();\n            this.setCurrentVariantVersion_1(this.curVariantVersion);\n            this.rerender_1();\n            this.repaint();\n            this.parentEditorWin.fileModified_2();\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setReadingAsDefault(VariantMarkerEvent vme,int ri,\n                                  VariantEditorFrame vef)\nPurpose: Set one variant reading as default, swapping out current default\nParameters:\n  Input:  VariantMarkerEvent vme  - start marker for readings\n          int ri                  - index of reading within marker's list\n          VariantEditorFrame vef  - popup with controls for this variant\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setReadingAsDefault(vme, ri, vef) {\n        let loc = this.musicData.findEvent(vme);\n        if (loc == null) {\n            vef.closeFrame_1();\n            return;\n        }\n        if (this.musicData.setReadingAsDefault(loc, ri)) {\n            vef.closeFrame_1();\n            this.setCurrentVariantVersion_1(this.curVariantVersion);\n            this.rerender_1();\n            this.repaint();\n            this.parentEditorWin.fileModified_2();\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyHighlightedEventLocations(int offset)\nPurpose: Change pitch/location of currently highlighted events\nParameters:\n  Input:  int offset - number of places to shift event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyHighlightedEventLocations(offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum1 = this.Cursor.getHighlightBegin();\n        let eventnum2 = this.Cursor.getHighlightEnd();\n        let eventsAdded = 0;\n        let firstEventNum = eventnum1;\n        for (let i = eventnum1; i <= eventnum2; i++) {\n            let origEvent = this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1();\n            let e = this.getEventForModification(snum, vnum, i);\n            if (e != origEvent) {\n                if (i == firstEventNum)\n                    eventnum1 += ((e.getListPlace(!this.inVariantVersion()) - origEvent.getListPlace(!this.inVariantVersion())) | 0);\n                if (e.getListPlace(!this.inVariantVersion()) > origEvent.getListPlace(!this.inVariantVersion()))\n                    eventsAdded += 2;\n            }\n            switch (e.geteventtype()) {\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE:\n                    {\n                        e.modifyPitch_1(offset);\n                        e.setPitchOffset(this.getCurModernKeySig(snum, vnum, i).calcNotePitchOffset_1(e.getPitch_1(), null));\n                        break;\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CUSTOS:\n                    {\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_DOT:\n                    {\n                        e.modifyPitch_1(offset);\n                        break;\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST:\n                    {\n                        let re = e;\n                        re.setbottomline(((re.getbottomline_2() + offset) | 0));\n                        break;\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS:\n                    {\n                        let me = e;\n                        me.setStaffLoc(((me.getStaffLoc() + offset) | 0));\n                        break;\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_ANNOTATIONTEXT:\n                    {\n                        let ae = e;\n                        ae.setstaffloc(((ae.getstaffloc() + offset) | 0));\n                        break;\n                    }\n            }\n        }\n        if (eventsAdded > 0)\n            eventsAdded--;\n        eventnum2 += eventsAdded;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum1);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum1, eventnum2);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcStemDir(Pitch p)\nPurpose: Choose stem direction for new note\nParameters:\n  Input:  Pitch p - pitch for note\n  Output: -\n  Return: stem direction\n------------------------------------------------------------------------*/\n    calcStemDir(p) {\n        if (this.editorStemDir != -1)\n            return this.editorStemDir;\n        return (p.staffspacenum > 4) ? _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN : _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP;\n    }\n    /* editorStemDir==-1, auto-choose based on staff location */\n    /*------------------------------------------------------------------------\nMethod:  void addNote(int nt,Pitch p)\nPurpose: Insert note at current cursor location\nParameters:\n  Input:  int nt  - note type\n          Pitch p - pitch for note\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addNote_1(nt, p) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let inChantSection = this.musicData.getSection(snum).getSectionType() == _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__.MusicSection.PLAINCHANT;\n        this.Cursor.hideCursor();\n        let ne = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.new26(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NoteTypeNames[nt], inChantSection ? null : _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(nt, this.getCurMensInfo_1(snum, vnum, eventnum)), _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(p), _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_27__.ModernAccidental.new3(this.getCurModernKeySig(snum, vnum, eventnum).calcNotePitchOffset_1(p, null), false), _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_NONE, false, _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_NONE, this.calcStemDir(p), -1, this.parentEditorWin.useFlaggedSemiminima() ? 1 : 0, null);\n        if (this.colorationOn)\n            this.applyNoteColoration(snum, vnum, eventnum, ne, true);\n        eventnum = this.insertEvent(snum, vnum, eventnum, ne);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addNote(int nt,char nl)\nPurpose: Insert note at current cursor location (assign pitch based on pitch\n         of last note or clef)\nParameters:\n  Input:  int nt  - note type\n          char nl - note letter\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addNote_2(nt, nl) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let p;\n        let curclef = this.getCurClef(snum, vnum, eventnum);\n        if (curclef != null) {\n            let lastnote = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n            p = lastnote != null ? lastnote.getPitch_1().closestpitch(_java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.toString(nl)) : _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new0(`${nl}`, curclef.pitch.octave, curclef);\n        }\n        else\n            p = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new2(((nl - _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"A\", 0)) | 0));\n        this.addNote_1(nt, p);\n    }\n    /* no clef, assign staff position */\n    /*------------------------------------------------------------------------\nMethod:  void addNote(int nt)\nPurpose: Insert note at current cursor location, repeating pitch of last\n         note\nParameters:\n  Input:  int nt  - note type\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addNote_3(nt) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let lastnote = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        if (lastnote != null)\n            this.addNote_1(nt, lastnote.getPitch_1());\n        else\n            this.addNote_2(nt, _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"A\", 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyEventPitch(int offset|char nl)\nPurpose: Change pitch of currently highlighted event\nParameters:\n  Input:  int offset - number of places to shift note\n          char nl    - new note letter\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyEventPitch_int(offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        e.modifyPitch_1(offset);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF) {\n            this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        }\n        else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE) {\n            e.setPitchOffset(this.getCurModernKeySig(snum, vnum, eventnum).calcNotePitchOffset_1(e.getPitch_1(), null));\n        }\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*        ModernKeySignature oldSig=null;\n        int                startei=-1;\n        if (e.hasSignatureClef())\n          {\n            oldSig=e.getClefSet().getKeySig();\n            startei=firstEventNumAfterClefSet(snum,vnum,eventnum+1,e.getClefSet());\n          }*/\n    /*        if (oldSig!=null)\n          updateNoteAccidentals(snum,vnum,startei,oldSig,e.getClefSet().getKeySig());*/\n    modifyEventPitch_char(nl) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let oldp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(orige.getPitch_1());\n        let newp;\n        if (this.renderedSections[snum].eventinfo[vnum].getClefEvents(this.Cursor.getEventNum()) != null)\n            newp = orige.getPitch_1().closestpitch(`${nl}`);\n        else\n            newp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new2(((nl - _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"A\", 0)) | 0));\n        if (newp.equals(oldp))\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        e.setpitch_1(newp);\n        if (this.getCurEvent_2().getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF)\n            this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n            e.setPitchOffset(this.getCurModernKeySig(snum, vnum, eventnum).calcNotePitchOffset_1(e.getPitch_1(), null));\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    // no principal clef\n    /*------------------------------------------------------------------------\nMethod:  void changeNoteAccidental(int dir)\nPurpose: Change modern accidental of currently highlighted note; create if\n         none currently exists\nParameters:\n  Input:  int dir - direction to shift pitch: 1==sharpward, -1==flatward\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    changeNoteAccidental(dir) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let ne = this.getEventForModification(snum, vnum, eventnum);\n        ne.modifyPitchOffset(dir);\n        eventnum += ((ne.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*    ModernKeySignature keySig=getCurModernKeySig(snum,vnum,eventnum);\n    int                oldPitchOffset=keySig.calcNotePitchOffset(ne);\n    ModernAccidental   newAcc=keySig.chooseNoteAccidental(ne,oldPitchOffset+dir),\n                       oldAcc=ne.getModAcc();\n    if (newAcc==null || oldAcc==null || !newAcc.equals(oldAcc))\n      ne.setModAcc(newAcc);*/\n    /*------------------------------------------------------------------------\nMethod:  void toggleNoteAccidentalOptional()\nPurpose: Toggle optional status of modern accidental of currently highlighted\n         note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleNoteAccidentalOptional() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origne = this.getCurEvent_2().getEvent_1();\n        let ma = origne.getPitchOffset();\n        if (ma == null)\n            return;\n        let ne = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((ne.getListPlace(!this.inVariantVersion()) - origne.getListPlace(!this.inVariantVersion())) | 0);\n        ma = ne.getPitchOffset();\n        ma.optional = !ma.optional;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void cycleTieType()\nPurpose: Cycle through tie types (over, under, none) for currently highlighted\n         note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    cycleTieType() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origne = this.getCurEvent_2().getEvent_1();\n        let newTieType = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.TIE_NONE;\n        switch (origne.getTieType()) {\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.TIE_NONE:\n                {\n                    newTieType = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.TIE_OVER;\n                    break;\n                }\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.TIE_OVER:\n                {\n                    newTieType = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.TIE_UNDER;\n                    break;\n                }\n        }\n        let ne = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((ne.getListPlace(!this.inVariantVersion()) - origne.getListPlace(!this.inVariantVersion())) | 0);\n        ne.setTieType(newTieType);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyNoteType(int nt)\nPurpose: Change note type of currently highlighted event\nParameters:\n  Input:  int nt - new note type\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyNoteType(nt) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        let oldnt = e.getnotetype_1();\n        let oldf = e.isflagged_1();\n        e.setnotetype_1(nt, this.parentEditorWin.useFlaggedSemiminima() ? 1 : 0, this.getCurMensInfo_1(snum, vnum, eventnum));\n        if (e.getLength_1() != null)\n            e.setLength_1(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(nt, this.getCurMensInfo_1(snum, vnum, eventnum)));\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        if (e.getnotetype_1() != oldnt || e.isflagged_1() != oldf)\n            this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyEventTime(Proportion p)\nPurpose: Change length of currently highlighted event\nParameters:\n  Input:  Proportion p - time amount to add/subtract\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyEventTime(p) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let e = this.getCurEvent_2().getEvent_1();\n        let curLen = e.getLength_1();\n        if (curLen == null)\n            return;\n        this.setEventProportion(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.sum(curLen, p));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void perfectNote()\nPurpose: Make currently highlighted note perfect\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    perfectNote() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let e = this.getCurEvent_2().getEvent_1();\n        if (e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n            return;\n        let ne = e;\n        let curmens = this.getCurMensInfo_1(snum, vnum, eventnum);\n        if (!ne.canBePerfect(curmens))\n            return;\n        this.setEventProportion(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new1(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(ne.getnotetype_1(), curmens)));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void imperfectNote()\nPurpose: Make currently highlighted note imperfect\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    imperfectNote() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let e = this.getCurEvent_2().getEvent_1();\n        if (e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n            return;\n        let ne = e;\n        let curmens = this.getCurMensInfo_1(snum, vnum, eventnum);\n        if (!ne.canBePerfect(curmens))\n            return;\n        let newlength = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(ne.getnotetype_1(), curmens);\n        newlength.multiply_1(2, 3);\n        this.setEventProportion(newlength);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void alterNote()\nPurpose: Apply alteration to currently highlighted note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    alterNote() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let e = this.getCurEvent_2().getEvent_1();\n        if (e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n            return;\n        let ne = e;\n        let curmens = this.getCurMensInfo_1(snum, vnum, eventnum);\n        if (!ne.canBeAltered(curmens))\n            return;\n        let newlength = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(ne.getnotetype_1(), curmens);\n        newlength.multiply_1(2, 1);\n        this.setEventProportion(newlength);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void applyNoteColoration(int snum,int vnum,int eventnum,boolean color)\nPurpose: Update note event info based on coloration info (do not display)\nParameters:\n  Input:  int snum,vnum,eventnum - section/voice/event number\n          boolean color          - whether to color or not\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    applyNoteColoration(snum, vnum, eventnum, ne, color) {\n        ne.setColored_1(color);\n        let nt = ne.getnotetype_1();\n        let curLength = ne.getLength_1();\n        if (curLength == null)\n            return;\n        if (ne.isColored())\n            switch (this.editorColorationType) {\n                case _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.IMPERFECTIO:\n                    {\n                        let curmens = this.getCurMensInfo_1(snum, vnum, eventnum);\n                        ne.setLength_1(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.DefaultLengths[ne.getnotetype_1()]);\n                        break;\n                    }\n                case _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.SESQUIALTERA:\n                    {\n                        curLength.multiply_1(2, 3);\n                        ne.setLength_1(curLength);\n                        break;\n                    }\n                case _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.MINOR_COLOR:\n                    {\n                        let lnevnum = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n                        let lne = lnevnum == -1 ? null : this.getRenderedEvent(snum, vnum, lnevnum).getEvent_1();\n                        let lastDefaultLen = lne != null ? _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(lne.getnotetype_1(), this.getCurMensInfo_1(snum, vnum, lnevnum)) : null;\n                        if (nt < _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Semibrevis || (lne != null && lne.isColored() && lne.getLength_1().toDouble() > ((lastDefaultLen.toDouble() * 2 / 3) | 0)))\n                            curLength.multiply_1(1, 2);\n                        else\n                            curLength.multiply_1(3, 4);\n                        ne.setLength_1(curLength);\n                        break;\n                    }\n            }\n        else\n            ne.setLength_1(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(ne.getnotetype_1(), this.getCurMensInfo_1(snum, vnum, eventnum)));\n    }\n    /* choose coloration effect: sesquialtera, imperfection, or 'minor color' */\n    //            if (ne.canBePerfect(curmens))\n    /* minor color already started; note value is halved */\n    /* start new minor color; note value *= 3/4 */\n    /* de-color */\n    /*------------------------------------------------------------------------\nMethod:  void toggleNoteColoration()\nPurpose: Toggle note between colored/uncolored\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleNoteColoration() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let ne = this.getEventForModification(snum, vnum, eventnum);\n        this.Cursor.hideCursor();\n        this.applyNoteColoration(snum, vnum, eventnum, ne, !ne.isColored());\n        eventnum += ((ne.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleHighlightedColoration()\nPurpose: Toggle highlighted notes between colored/uncolored\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleHighlightedColoration() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let firste = this.Cursor.getHighlightBegin();\n        let laste = this.Cursor.getHighlightEnd();\n        let orige = this.renderedSections[snum].eventinfo[vnum].getEvent(firste).getEvent_1();\n        let e = this.getEventsForModification(snum, vnum, firste, laste);\n        if (e == null)\n            return;\n        firste += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        laste += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        for (let i = firste; i <= laste; i++) {\n            let re = this.renderedSections[snum].eventinfo[vnum].getEvent(i);\n            if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE) {\n                let ne = re.getEvent_1();\n                this.applyNoteColoration(snum, vnum, i, ne, !ne.isColored());\n            }\n        }\n        this.rerender_1();\n        this.checkVariant(snum, vnum, firste);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = firste;\n        this.highlightItems(snum, vnum, firste, laste);\n    }\n    /* attempt to create invalid variant arrangement */\n    //eventnum;\n    /*------------------------------------------------------------------------\nMethod:  void cycleNoteHalfColoration()\nPurpose: Change half-coloration attributes of currently highlighted note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    cycleNoteHalfColoration() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origne = this.getCurEvent_2().getEvent_1();\n        if (origne.getnotetype_1() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Brevis && origne.getnotetype_1() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Longa && origne.getnotetype_1() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Maxima)\n            return;\n        let ne = this.getEventForModification(snum, vnum, eventnum);\n        this.Cursor.hideCursor();\n        let newHalfCol = ne.getHalfColoration();\n        switch (newHalfCol) {\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_NONE:\n                {\n                    newHalfCol = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_PRIMARYSECONDARY;\n                    break;\n                }\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_PRIMARYSECONDARY:\n                {\n                    newHalfCol = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_SECONDARYPRIMARY;\n                    break;\n                }\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_SECONDARYPRIMARY:\n                {\n                    newHalfCol = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.HALFCOLORATION_NONE;\n                    break;\n                }\n        }\n        ne.setHalfColoration(newHalfCol);\n        eventnum += ((ne.getListPlace(!this.inVariantVersion()) - origne.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void cycleNoteStemDirection(NoteEvent ne)\nPurpose: Change attributes of currently highlighted note - cycle stem\n         direction (up/down/barline)\nParameters:\n  Input:  NoteEvent ne - note to modify\n  Output: NoteEvent ne\n  Return: -\n------------------------------------------------------------------------*/\n    cycleNoteStemDirection(ne) {\n        let newStemDir = ne.getstemdir();\n        if (ne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Longa || ne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Maxima)\n            switch (newStemDir) {\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP:\n                    {\n                        newStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN;\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN:\n                    {\n                        newStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_BARLINE;\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_BARLINE:\n                    {\n                        newStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP;\n                        break;\n                    }\n            }\n        else if (this.getCurSectionType() == _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__.MusicSection.PLAINCHANT)\n            switch (newStemDir) {\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP:\n                    {\n                        newStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN;\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN:\n                    {\n                        newStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_NONE;\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_NONE:\n                    {\n                        newStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP;\n                        if (ne.getstemside() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_NONE)\n                            ne.setstemside(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_LEFT);\n                        break;\n                    }\n            }\n        else\n            newStemDir = (newStemDir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP) ? _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN : _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP;\n        ne.setstemdir(newStemDir);\n    }\n    /* simply toggle up/down */\n    /*------------------------------------------------------------------------\nMethod:  void cycleHighlightedStemDirections()\nPurpose: Change attributes of all currently highlighted notes - cycle stem\n         direction (up/down/barline)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    cycleHighlightedStemDirections() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum1 = this.Cursor.getHighlightBegin();\n        let eventnum2 = this.Cursor.getHighlightEnd();\n        let eventsAdded = 0;\n        let firstEventNum = eventnum1;\n        for (let i = eventnum1; i <= eventnum2; i++) {\n            let origEvent = this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1();\n            if (origEvent.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE) {\n                let e = this.getEventForModification(snum, vnum, i);\n                if (e != origEvent) {\n                    if (i == firstEventNum)\n                        eventnum1 += ((e.getListPlace(!this.inVariantVersion()) - origEvent.getListPlace(!this.inVariantVersion())) | 0);\n                    if (e.getListPlace(!this.inVariantVersion()) > origEvent.getListPlace(!this.inVariantVersion()))\n                        eventsAdded += 2;\n                }\n                if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                    this.cycleNoteStemDirection(e);\n            }\n        }\n        if (eventsAdded > 0)\n            eventsAdded--;\n        eventnum2 += eventsAdded;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum1);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum1, eventnum2);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void ligateTwoNotes(int snum,int vnum,int note1num)\nPurpose: Choose ligation type and ligate two notes\nParameters:\n  Input:  int snum,vnum - section/voice number\n          int note1num  - event number of left note\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ligateTwoNotes(snum, vnum, note1num) {\n        let ne = (this.renderedSections[snum].eventinfo[vnum].getEvent(note1num).getEvent_1());\n        let nextne = null;\n        let lastne = null;\n        ne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_RECTA);\n        nextne = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((note1num + 1) | 0), 1);\n        lastne = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((note1num - 1) | 0), -1);\n        if (lastne == null || !lastne.isligated()) {\n            if (ne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Semibrevis && nextne != null && nextne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Semibrevis) {\n                ne.setstemdir(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP);\n                ne.setstemside(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_LEFT);\n                if (ne.getPitch_1().isHigherThan(nextne.getPitch_1()))\n                    ne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_OBLIQUA);\n            }\n            if (ne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Brevis)\n                if (nextne != null && ne.getPitch_1().isHigherThan(nextne.getPitch_1())) {\n                    if (nextne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Brevis)\n                        ne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_OBLIQUA);\n                    ne.setstemdir(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN);\n                    ne.setstemside(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_LEFT);\n                }\n            if (ne.getnotetype_1() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Longa)\n                if (nextne != null)\n                    if (nextne.getPitch_1().isHigherThan(ne.getPitch_1())) {\n                        ne.setstemdir(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN);\n                        ne.setstemside(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_RIGHT);\n                    }\n        }\n        else\n            switch (ne.getnotetype_1()) {\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Longa:\n                    {\n                        ne.setstemdir(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN);\n                        ne.setstemside(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_RIGHT);\n                        break;\n                    }\n            }\n        if (nextne != null && !nextne.isligated())\n            switch (nextne.getnotetype_1()) {\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Brevis:\n                    {\n                        if (!nextne.getPitch_1().isHigherThan(ne.getPitch_1()))\n                            ne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_OBLIQUA);\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NT_Longa:\n                    {\n                        if (nextne.getPitch_1().isHigherThan(ne.getPitch_1())) {\n                            nextne.setstemdir(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN);\n                            nextne.setstemside(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_RIGHT);\n                        }\n                        else\n                            nextne.setstemside(-1);\n                        break;\n                    }\n            }\n    }\n    /* lig first note type */\n    /* COP stem */\n    /* most commonly recta ascending, obliqua descending */\n    /* CP stem */\n    /* longa stems */\n    /* ligature middle */\n    /* ligature end */\n    /*------------------------------------------------------------------------\nMethod:  void ligateHighlighted()\nPurpose: Ligate or un-ligate highlighted notes\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ligateHighlighted() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let numnotes = 0;\n        let firstNotei;\n        let lastNotei;\n        let waslig = false;\n        let addlig = true;\n        let modified = false;\n        let ne = null;\n        let ne1;\n        let ne2;\n        firstNotei = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, this.Cursor.getHighlightBegin(), 1);\n        lastNotei = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, this.Cursor.getHighlightEnd(), -1);\n        if (firstNotei == -1 || lastNotei == -1 || firstNotei == lastNotei)\n            return;\n        ne1 = this.getRenderedEvent(snum, vnum, firstNotei).getEvent_1();\n        ne2 = this.getRenderedEvent(snum, vnum, lastNotei).getEvent_1();\n        if (this.curVariantVersion != this.musicData.getDefaultVariantVersion()) {\n            ne = this.musicData.duplicateEventsInVariant(this.curVariantVersion, this.curVersionMusicData, snum, vnum, ne1.getListPlace(false), ne2.getListPlace(false));\n            if (ne == null)\n                return;\n            let offset = ((ne.getListPlace(false) - ne1.getListPlace(false)) | 0);\n            firstNotei += offset;\n            lastNotei += offset;\n            this.rerender_1();\n        }\n        for (let i = firstNotei; i <= lastNotei; i++) {\n            let e = this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1();\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE) {\n                modified = true;\n                numnotes++;\n                ne = e;\n                waslig = ne.isligated();\n                if (numnotes == 1 && waslig)\n                    addlig = false;\n                if (addlig) {\n                    if (i < lastNotei && !waslig)\n                        this.ligateTwoNotes(snum, vnum, i);\n                }\n                else\n                    ne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_NONE);\n            }\n        }\n        if (ne != null && !waslig)\n            ne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_NONE);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, firstNotei);\n        this.repaint();\n        if (modified)\n            this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, firstNotei);\n    }\n    /* toggle ligation for each highlighted note */\n    /* attempt to create invalid variant arrangement */\n    /* ligate or de-ligate? depends on first note */\n    /* ligate! (but don't overwrite existing lig information) */\n    /* remove any NEW ligation mark from final note */\n    /*------------------------------------------------------------------------\nMethod:  void ligateNoteToLast()\nPurpose: Ligate or un-ligate currently highlighted note with previous note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ligateNoteToLast() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let lastneNum = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        let origNEplace = this.getCurEvent_2().getEvent_1().getListPlace(!this.inVariantVersion());\n        if (lastneNum == -1)\n            return;\n        let origLastNE = this.renderedSections[snum].eventinfo[vnum].getEvent(lastneNum).getEvent_1();\n        let lastne = this.getNoteEventForLigation(snum, vnum, lastneNum, eventnum);\n        if (lastne == null)\n            return;\n        let newNEplace = this.curVersionMusicData.getSection(snum).getVoice_1(vnum).getNextEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, ((lastne.getListPlace(!this.inVariantVersion()) + 1) | 0), 1);\n        eventnum += ((newNEplace - origNEplace) | 0);\n        this.rerender_1();\n        lastneNum = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        lastne = this.renderedSections[snum].eventinfo[vnum].getEvent(lastneNum).getEvent_1();\n        if (!lastne.isligated())\n            this.ligateTwoNotes(snum, vnum, lastneNum);\n        else\n            lastne.setligtype(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_NONE);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /* attempt to create invalid variant arrangement */\n    /* need to rerender, because ligateTwoNotes reads from rendered list */\n    //lastne==origLastNE ? lastneNum : lastneNum+1);\n    /* toggle ligation */\n    /*------------------------------------------------------------------------\nMethod:  void changeLigType(int newligtype)\nPurpose: Change ligature connection type of one note\nParameters:\n  Input:  int newligtype - new connection type\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    changeLigType(newligtype) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum1 = this.Cursor.getEventNum();\n        let eventnum2;\n        let finalEvNum = eventnum1;\n        let ne = this.getCurEvent_2().getEvent_1();\n        let origne = ne;\n        if (this.getCurEvent_2().isligend()) {\n            eventnum2 = eventnum1;\n            eventnum1 = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum2 - 1) | 0), -1);\n            ne = this.getRenderedEvent(snum, vnum, eventnum1).getEvent_1();\n            origne = ne;\n        }\n        else\n            eventnum2 = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum1 + 1) | 0), 1);\n        if (ne.getligtype() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_NONE || ne.getligtype() == newligtype || eventnum2 >= this.getNumRenderedEvents(snum, vnum))\n            return;\n        ne = this.getNoteEventForLigation(snum, vnum, eventnum1, eventnum2);\n        if (ne == null)\n            return;\n        finalEvNum += ne != origne ? 1 : 0;\n        ne.setligtype(newligtype);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, finalEvNum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = finalEvNum;\n        this.highlightItems(snum, vnum, finalEvNum, finalEvNum);\n    }\n    /* attempt to create invalid variant arrangement */\n    /*------------------------------------------------------------------------\nMethod:  void setNoteSyllable(String s,boolean we)\nPurpose: Set text syllable on note\nParameters:\n  Input:  String s   - syllable text\n          boolean we - word end?\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setNoteSyllable_1(s, we) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let ne;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MULTIEVENT)\n            ne = e.getLowestNote();\n        else\n            ne = e;\n        ne.setModernText(s);\n        ne.setWordEnd(we);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleEditorialText()\nPurpose: Toggle editorial status of text on current note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*  void toggleEditorialText()\n  {\n    int       snum=Cursor.getSectionNum(),\n              vnum=Cursor.getVoiceNum(),\n              eventnum=Cursor.getEventNum();\n    Event     orige=getCurEvent().getEvent();\n    NoteEvent ne;\n\n    Event e=getEventForModification(snum,vnum,eventnum);\n    eventnum+=e.getListPlace(!inVariantVersion())-orige.getListPlace(!inVariantVersion());\n\n    if (e.geteventtype()==Event.EVENT_MULTIEVENT)\n      ne=((MultiEvent)e).getLowestNote();\n    else\n      ne=(NoteEvent)e;\n\n    ne.setModernTextEditorial(!ne.isModernTextEditorial());\n\n    rerender();\n    checkVariant(snum,vnum,eventnum);\n    repaint();\n    parentEditorWin.fileModified();\n    hl_anchor=eventnum;\n    highlightItems(snum,vnum,eventnum,eventnum);\n  }*/\n    toggleHighlightedEditorialText() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum1 = this.Cursor.getHighlightBegin();\n        let eventnum2 = this.Cursor.getHighlightEnd();\n        let eventsAdded = 0;\n        let firstEventNum = eventnum1;\n        for (let i = eventnum1; i <= eventnum2; i++) {\n            let origEvent = this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1();\n            if (origEvent.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE) {\n                let e = this.getEventForModification(snum, vnum, i);\n                if (e != origEvent) {\n                    if (i == firstEventNum)\n                        eventnum1 += ((e.getListPlace(!this.inVariantVersion()) - origEvent.getListPlace(!this.inVariantVersion())) | 0);\n                    if (e.getListPlace(!this.inVariantVersion()) > origEvent.getListPlace(!this.inVariantVersion()))\n                        eventsAdded += 2;\n                }\n                if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE) {\n                    let ne = e;\n                    ne.setModernTextEditorial(!ne.isModernTextEditorial());\n                }\n            }\n        }\n        if (eventsAdded > 0)\n            eventsAdded--;\n        eventnum2 += eventsAdded;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum1);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.highlightItems(snum, vnum, eventnum1, eventnum2);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleCorona()\nPurpose: Toggle presence of corona on a note or rest\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleCorona() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        this.Cursor.hideCursor();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        e.setCorona((e.getCorona() == null) ? _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.new1(_DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.UP, _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.MIDDLE) : null);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleSignum()\nPurpose: Toggle presence of a signum congruentiae on a note or rest\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleSignum() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        e.setSignum((e.getSignum() == null) ? _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.new0(4, _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.UP, _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.MIDDLE) : null);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    toggleSignumOrientation() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let s = orige.getSignum();\n        if (s == null)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        s.orientation = s.orientation == _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.UP ? _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.DOWN : _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.UP;\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    cycleSignumSide() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let s = orige.getSignum();\n        if (s == null)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        switch (s.side) {\n            case _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.LEFT:\n                {\n                    s.side = _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.MIDDLE;\n                    break;\n                }\n            case _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.MIDDLE:\n                {\n                    s.side = _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.RIGHT;\n                    break;\n                }\n            case _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.RIGHT:\n                {\n                    s.side = _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_40__.Signum.LEFT;\n                    break;\n                }\n        }\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    shiftSignumVertical(offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        if (orige.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE && orige.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST)\n            return;\n        let s = orige.getSignum();\n        if (s == null)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        s.offset += offset;\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addRest(int nt)\nPurpose: Insert rest at current cursor location\nParameters:\n  Input:  int nt  - note type\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addRest(nt) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let m = this.getCurMensInfo_1(snum, vnum, eventnum);\n        let inChantSection = this.musicData.getSection(snum).getSectionType() == _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__.MusicSection.PLAINCHANT;\n        this.Cursor.hideCursor();\n        let newVPos = 2;\n        let lastNoteNum = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        let lastRestNum = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST, snum, vnum, ((eventnum - 1) | 0), -1);\n        let posEvNum = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(lastNoteNum, lastRestNum);\n        if (posEvNum > -1)\n            newVPos = ((((this.getRenderedEvent(snum, vnum, posEvNum).getssnum() / 2) | 0) + 1) | 0);\n        let re = _DataStruct_RestEvent__WEBPACK_IMPORTED_MODULE_39__.RestEvent.new32(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.NoteTypeNames[nt], inChantSection ? null : _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.getTypeLength(nt, m), newVPos, _DataStruct_RestEvent__WEBPACK_IMPORTED_MODULE_39__.RestEvent.calcNumLines(nt, m), m.modus_maior);\n        if (this.colorationOn)\n            re.setColored_1(true);\n        eventnum = this.insertEvent(snum, vnum, eventnum, re);\n    }\n    /* guess vertical position of rest */\n    /* default */\n    /* add rest */\n    /*------------------------------------------------------------------------\nMethod:  void addDot([int snum,int vnum,int eventnum,]int dottype)\nPurpose: Insert dot at a given location\nParameters:\n  Input:  int snum,vnum,eventnum - insertion location\n          int dottype            - dot attributes (Addition, Division, etc.)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addDot_1(snum, vnum, eventnum, dottype) {\n        let dotPitch = null;\n        let ln = null;\n        this.Cursor.hideCursor();\n        let lre = this.renderedSections[snum].eventinfo[vnum].getEvent(((eventnum - 1) | 0));\n        if ((dottype & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition) == 0 || lre == null || lre.getEvent_1().geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE || lre.getEvent_1().getLength_1() == null) {\n            dotPitch = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new2(10);\n            let c = this.getCurClef(snum, vnum, eventnum);\n            if (c != null)\n                dotPitch = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(c.getStaffLocPitch(10));\n            dottype = _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Division;\n        }\n        else {\n            ln = this.getEventForModification(snum, vnum, ((eventnum - 1) | 0));\n            eventnum += ((ln.getListPlace(!this.inVariantVersion()) - lre.getEvent_1().getListPlace(!this.inVariantVersion())) | 0);\n            ln.setLength_1(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.product(ln.getLength_1(), _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new0(3, 2)));\n            if (this.inVariantVersion())\n                this.rerender_1();\n            let nsl = ln.getPitch_1().staffspacenum;\n            dotPitch = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(ln.getPitch_1());\n            if (nsl % 2 == 0)\n                dotPitch.add(1);\n            this.parentEditorWin.selectNVButton(((this.parentEditorWin.NTtoBNum(ln.getnotetype_1()) + 1) | 0));\n        }\n        let de = _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.new10(dottype, dotPitch, ln);\n        eventnum = this.insertEvent(snum, vnum, eventnum, de);\n    }\n    /* not a dot of addition */\n    /* dot of addition: adjust length of previous note */\n    /* select next-lowest note value for future input */\n    addDot_2(dottype) {\n        if (this.Cursor.oneItemHighlighted())\n            this.addDot_1(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), ((this.Cursor.getHighlightBegin() + 1) | 0), dottype);\n        else if (this.Cursor.getHighlightBegin() == -1)\n            this.addDot_1(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), this.Cursor.getEventNum(), dottype);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void shiftDotPositions(int offset,int snum,int vnum,int startei)\nPurpose: Change vertical locations of all dots of addition until next principal\n         clef\nParameters:\n  Input:  int offset    - number of places to shift dots\n          int snum,vnum - section and voice number\n          int startei   - index of first event in segment\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /* FIX: deal with versions and dot positions */\n    /* FIXED: dot position now represented as pitch */\n    shiftDotPositions(offset, snum, vnum, startei) {\n        return;\n    }\n    /*    if (offset==0)\n      return;\n\n    Event cure=curVersionMusicData.getSection(snum).getVoice(vnum).getEvent(startei);\n    while (cure!=null && !cure.hasPrincipalClef())\n      {\n        if (cure.geteventtype()==Event.EVENT_DOT)\n          {\n            DotEvent de=(DotEvent)cure;\n            if ((de.getdottype()&DotEvent.DT_Addition)!=0)\n              de.modifyPitch(offset);\n          }\n        cure=curVersionMusicData.getSection(snum).getVoice(vnum).getEvent(++startei);\n      }*/\n    /*------------------------------------------------------------------------\nMethod:  void doClefAction([int ct])\nPurpose: Choose and perform appropriate action after clef-button or key\n         has been pressed\nParameters:\n  Input:  int ct - clef type indicated by user input\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    doClefAction_1(ct) {\n        if (this.getHighlightBegin() == -1)\n            this.addClef_2(ct);\n        else if (this.oneItemHighlighted() && this.getCurEvent_2().getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF)\n            this.modifyClefType(ct);\n    }\n    doClefAction_2() {\n        if (this.getHighlightBegin() == -1)\n            this.addClef_3();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addClef([Clef c|int ct])\nPurpose: Insert clef at current cursor location\nParameters:\n  Input:  Clef c - clef information to insert\n          int ct - type for new clef\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addClef_1(c) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let oldSig = _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__.ModernKeySignature.new1(this.getCurModernKeySig(snum, vnum, eventnum));\n        this.Cursor.hideCursor();\n        let laste = null;\n        if (eventnum > 0 && !c.isprincipalclef())\n            laste = this.renderedSections[snum].eventinfo[vnum].getEvent(((eventnum - 1) | 0)).getEvent_1();\n        let ce = _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_16__.ClefEvent.new7(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.new1(c), laste, this.getCurClefEvent(snum, vnum, eventnum));\n        let oldc = this.getCurClef(snum, vnum, eventnum);\n        if (oldc != null)\n            this.shiftDotPositions((((((oldc.line1placenum - c.line1placenum) | 0)) / 2) | 0), snum, vnum, eventnum);\n        eventnum = this.insertEvent(snum, vnum, eventnum, ce);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /* a new principal clef always starts a new clef set */\n    /*    int startei=firstEventNumAfterClefSet(snum,vnum,eventnum+1,ce.getClefSet());\n    updateNoteAccidentals(snum,vnum,startei,oldSig,ce.getClefSet().getKeySig());*/\n    addClef_2(ct) {\n        let curclef = this.getCurClef(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), this.Cursor.getEventNum());\n        if (curclef != null && curclef.cleftype == ct)\n            this.addClef_3();\n        else\n            this.addClef_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.new0(ct, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.defaultClefLoc(ct), _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.DefaultClefPitches[ct], false, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.isFlatType(ct), curclef));\n    }\n    /* duplicate current clef */\n    /* duplicate current principal clef */\n    addClef_3() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let curclef = this.getCurClef(snum, vnum, eventnum);\n        if (curclef != null)\n            this.addClef_1(curclef);\n        else\n            this.addClef_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.new0(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_C, 1, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.DefaultClefPitches[_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_C], false, false, null));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyClef*(int ct,int loc|int offset)\nPurpose: Change attributes of currently highlighted clef\nParameters:\n  Input:  int ct     - new clef type\n          int loc    - new vertical location\n          int offset - number of places to shift clef vertically\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyClef(ct, loc) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origce = this.getCurEvent_2().getEvent_1();\n        let ce = this.getEventForModification(snum, vnum, eventnum);\n        let c = ce.getClef_1(false, false);\n        let displayClef = this.getCurClef(snum, vnum, ((eventnum - 1) | 0));\n        let oldct = c.getcleftype();\n        let oldloc = c.getloc();\n        let oldline1 = c.line1placenum;\n        let sig = c.signature();\n        let oldSig = this.getCurModernKeySig(snum, vnum, eventnum);\n        eventnum += ((ce.getListPlace(!this.inVariantVersion()) - origce.getListPlace(!this.inVariantVersion())) | 0);\n        if (!c.isflat() && _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.isFlatType(ct))\n            sig = true;\n        c.setattributes(ct, loc, ct != c.cleftype ? _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.DefaultClefPitches[ct] : c.pitch, false, sig, displayClef);\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        if (c.getcleftype() != oldct || c.getloc() != oldloc || ce != origce)\n            this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /* mark flats as signature clefs by default */\n    /*    shiftDotPositions((oldline1-c.line1placenum)/2,snum,vnum,eventnum+1);\n    int startei=firstEventNumAfterClefSet(snum,vnum,eventnum+1,ce.getClefSet());\n    ModernKeySignature newSig=sig ? ce.getClefSet().getKeySig() :\n                                    ce.getModernKeySig();\n    updateNoteAccidentals(snum,vnum,startei,oldSig,newSig);*/\n    modifyClefType(ct) {\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let ce = this.getCurEvent_2().getEvent_1();\n        let c = ce.getClef_1(false, false);\n        if (ct != c.cleftype)\n            this.modifyClef(ct, _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.defaultClefLoc(ct));\n        else if (ct == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Bmol)\n            this.modifyClef(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_BmolDouble, c.getloc());\n        else if (ct == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_BmolDouble)\n            this.modifyClef(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Bmol, c.getloc());\n        else if (ct == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_F)\n            this.modifyClef(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Frnd, c.getloc());\n        else if (ct == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Frnd)\n            this.modifyClef(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_F, c.getloc());\n        else if (ct == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_G)\n            this.modifyClef(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Gamma, c.getloc());\n    }\n    modifyClefLocation(offset) {\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let ce = this.getCurEvent_2().getEvent_1();\n        let c = ce.getClef_1(false, false);\n        this.modifyClef(c.cleftype, ((c.linespacenum + ((offset * (c.isprincipalclef() ? 2 : 1)) | 0)) | 0));\n    }\n    toggleClefSignatureStatus() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origce = this.getCurEvent_2().getEvent_1();\n        let c = origce.getClef_1(false, false);\n        let oldSig = this.getCurModernKeySig(snum, vnum, eventnum);\n        if (!(c.isflat() || c.issharp()))\n            return;\n        let ce = this.getEventForModification(snum, vnum, eventnum);\n        c = ce.getClef_1(false, false);\n        c.setSignature(!c.signature());\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        eventnum += ((ce.getListPlace(!this.inVariantVersion()) - origce.getListPlace(!this.inVariantVersion())) | 0);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*    int startei=firstEventNumAfterClefSet(snum,vnum,eventnum+1,ce.getClefSet());\n    ModernKeySignature newSig=c.signature() ? ce.getClefSet().getKeySig() :\n                                              ce.getModernKeySig();\n    updateNoteAccidentals(snum,vnum,startei,oldSig,newSig);*/\n    toggleEventColoration() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        e.setColored_1(!e.isColored());\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addMensurationSign(MensSignElement mse)\nPurpose: Insert mensuration sign at current cursor location\nParameters:\n  Input:  MensSignElement mse - initial element for new sign\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addMensurationSign_1(mse) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let signs = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_9__.LinkedList();\n        signs.add(mse);\n        let me = _DataStruct_MensEvent__WEBPACK_IMPORTED_MODULE_24__.MensEvent.new20(signs, 4);\n        eventnum = this.insertEvent(snum, vnum, eventnum, me);\n    }\n    addMensurationSign_2() {\n        this.addMensurationSign_1(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.new0(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_C, false, false));\n    }\n    doMensurationAction(signType) {\n        if (this.Cursor.getHighlightBegin() == -1)\n            this.addMensurationSign_1(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.new0(signType, false, false));\n        else if (this.Cursor.oneItemHighlighted())\n            this.setMensurationSign(signType);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setMensurationSign(int newSign)\nPurpose: Change attributes of currently highlighted mensuration - main sign\nParameters:\n  Input:  int newSign - new main sign type\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setMensurationSign(newSign) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        if (orige.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n            return;\n        let origme = orige;\n        let mse = origme.getMainSign();\n        if (newSign == mse.signType)\n            return;\n        let me = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((me.getListPlace(!this.inVariantVersion()) - origme.getListPlace(!this.inVariantVersion())) | 0);\n        mse = me.getMainSign();\n        mse.signType = newSign;\n        switch (newSign) {\n            case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_O:\n                {\n                    me.getMensInfo_1().tempus = _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.MENS_TERNARY;\n                    break;\n                }\n            case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_C:\n                {\n                }\n            case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_CREV:\n                {\n                    me.getMensInfo_1().tempus = _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.MENS_BINARY;\n                    break;\n                }\n        }\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addMensurationElementSign(int newSign)\nPurpose: Change attributes of currently highlighted mensuration - add new sign\nParameters:\n  Input:  int newSign - new sign type\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addMensurationElementSign(newSign) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        me.addSignElement(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.new0(newSign, false, false));\n        if (me.getSigns().size() == 1)\n            switch (newSign) {\n                case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_O:\n                    {\n                        me.getMensInfo_1().tempus = _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.MENS_TERNARY;\n                        break;\n                    }\n                case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_C:\n                    {\n                    }\n                case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_CREV:\n                    {\n                        me.getMensInfo_1().tempus = _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.MENS_BINARY;\n                        break;\n                    }\n            }\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addMensurationElementNumber(int num1,int num2)\nPurpose: Change attributes of currently highlighted mensuration - add new number(s)\nParameters:\n  Input:  int num1,num2 - number pair to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addMensurationElementNumber_1(num1, num2) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        if (orige.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        me.addSignElement(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.new1(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.NUMBERS, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new0(num1, num2)));\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    addMensurationElementNumber_2(num) {\n        this.addMensurationElementNumber_1(num, 0);\n    }\n    doMensurationNumberAction(num) {\n        if (this.Cursor.oneItemHighlighted())\n            this.addMensurationElementNumber_2(num);\n        else if (this.Cursor.getHighlightBegin() == -1)\n            switch (num) {\n                case 2:\n                    {\n                        this.addProportion_1(2, 3);\n                        break;\n                    }\n                case 3:\n                    {\n                        this.addProportion_1(3, 2);\n                        break;\n                    }\n            }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteMensurationElement(int elNum)\nPurpose: Change attributes of currently highlighted mensuration - delete one\n         element\nParameters:\n  Input:  int elNum - index of element to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteMensurationElement(elNum) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origme = this.getCurEvent_2().getEvent_1();\n        if (origme.getSigns().size() < 2)\n            return;\n        let me = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((me.getListPlace(!this.inVariantVersion()) - origme.getListPlace(!this.inVariantVersion())) | 0);\n        me.deleteSignElement(elNum);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleMensurationStroke()\nPurpose: Change attributes of currently highlighted mensuration - toggle\n         presence of stroke\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleMensurationStroke() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        if (orige.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        let mse = me.getMainSign();\n        mse.stroke = !mse.stroke;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleMensurationDot()\nPurpose: Change attributes of currently highlighted mensuration - toggle\n         presence of dot\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleMensurationDot() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        if (orige.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n            return;\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        let mse = me.getMainSign();\n        mse.dotted = !mse.dotted;\n        me.getMensInfo_1().prolatio = mse.dotted ? _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.MENS_TERNARY : _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.MENS_BINARY;\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleMensurationNoScoreSig()\nPurpose: Change attributes of currently highlighted mensuration - toggle\n         whether event affects scoring/measure type\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleMensurationNoScoreSig() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        me.toggleNoScoreSig();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleMensurationSize()\nPurpose: Change attributes of currently highlighted mensuration - toggle\n         size\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleMensurationSize() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        me.toggleSize();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleMensurationVertical()\nPurpose: Change attributes of currently highlighted mensuration - toggle\n         vertical arrangement\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleMensurationVertical() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let me = e;\n        me.toggleVertical();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setEventMensuration(Mensuration m)\nPurpose: Modify mensuration scheme of a MensEvent\nParameters:\n  Input:  Mensuration m - new mensuration scheme\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setEventMensuration(m) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origme = this.getCurEvent_2().getEvent_1();\n        if (origme.getMensInfo_1().equals(m))\n            return;\n        let me = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((me.getListPlace(!this.inVariantVersion()) - origme.getListPlace(!this.inVariantVersion())) | 0);\n        me.setMensInfo(m);\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addOriginalText(String text)\nPurpose: Insert OriginalText event at current cursor location\nParameters:\n  Input:  String text - text phrase to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addOriginalText_1(text) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let oe = _DataStruct_OriginalTextEvent__WEBPACK_IMPORTED_MODULE_35__.OriginalTextEvent.new28(text);\n        eventnum = this.insertEvent(snum, vnum, eventnum, oe);\n    }\n    /* add currently highlighted phrase */\n    addOriginalText_2() {\n        this.parentEditorWin.textEditorFrame.insertOriginalTextPhrase();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addProportion()\nPurpose: Insert proportion at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addProportion_1(i1, i2) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let pe = _DataStruct_ProportionEvent__WEBPACK_IMPORTED_MODULE_38__.ProportionEvent.new29(i1, i2);\n        eventnum = this.insertEvent(snum, vnum, eventnum, pe);\n    }\n    addProportion_2() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let curProp = this.getCurProportion(snum, vnum, eventnum);\n        if (curProp == null || curProp.equals(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.EQUALITY))\n            curProp = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new0(2, 3);\n        this.addProportion_1(curProp.i2, curProp.i1);\n    }\n    /* default: cancel current proportion */\n    /*------------------------------------------------------------------------\nMethod:  void addColorChange()\nPurpose: Insert coloration change at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addColorChange() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let ce = _DataStruct_ColorChangeEvent__WEBPACK_IMPORTED_MODULE_18__.ColorChangeEvent.new8(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.new2(this.getCurColoration(snum, vnum, eventnum)));\n        eventnum = this.insertEvent(snum, vnum, eventnum, ce);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setEventColoration(Coloration c)\nPurpose: Modify coloration scheme of a ColorChange event\nParameters:\n  Input:  Coloration c - new coloration for event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setEventColoration(c) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origcce = this.getCurEvent_2().getEvent_1();\n        if (c.equals(origcce.getcolorscheme()))\n            return;\n        let cce = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((cce.getListPlace(!this.inVariantVersion()) - origcce.getListPlace(!this.inVariantVersion())) | 0);\n        cce.setcolorscheme(c);\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addLineEnd()\nPurpose: Insert line end at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addLineEnd() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let custosp;\n        let curCol = this.getCurColoration(snum, vnum, ((eventnum - 1) | 0));\n        this.Cursor.hideCursor();\n        let eventlistplace = this.renderedSections[snum].getVoicedataPlace(vnum, eventnum);\n        let custpitchnote = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, eventnum, 1);\n        if (custpitchnote == null)\n            custpitchnote = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        let curclef = this.getCurClef(snum, vnum, eventnum);\n        if (custpitchnote != null)\n            custosp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(custpitchnote.getPitch_1());\n        else if (curclef != null)\n            custosp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(curclef.pitch);\n        else\n            custosp = null;\n        if (custosp != null) {\n            let custe = _DataStruct_CustosEvent__WEBPACK_IMPORTED_MODULE_19__.CustosEvent.new9(custosp);\n            custe.setcolorparams_1(curCol);\n            eventnum = ((this.insertEventWithoutRerender(snum, vnum, eventnum, custe) + 1) | 0);\n            this.rerender_1();\n        }\n        let lee = _DataStruct_LineEndEvent__WEBPACK_IMPORTED_MODULE_23__.LineEndEvent.new15();\n        lee.setcolorparams_1(curCol);\n        eventnum = ((this.insertEventWithoutRerender(snum, vnum, eventnum, lee) + 1) | 0);\n        this.rerender_1();\n        if (curclef != null) {\n            let lastce = null;\n            let clefi = this.getCurClefSet(snum, vnum, this.Cursor.getEventNum()).iterator();\n            while (clefi.hasNext()) {\n                lastce = _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_16__.ClefEvent.new7(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.new1((clefi.next())), lastce, this.getCurClefEvent(snum, vnum, this.Cursor.getEventNum()));\n                lastce.setcolorparams_1(curCol);\n                lastce.setColored_1(this.getCurClefEvent(snum, vnum, ((eventnum - 1) | 0)).isColored());\n                eventnum = ((this.insertEventWithoutRerender(snum, vnum, eventnum, lastce) + 1) | 0);\n                this.rerender_1();\n            }\n        }\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, eventnum);\n    }\n    //    boolean    editorial=inEditorialSection(snum,vnum,eventnum-1);\n    /* custos */\n    //        custe.setEditorial(editorial);\n    /*        musicData.getSection(snum).getVoice(vnum).addEvent(eventlistplace++,custe);\n        eventnum++;*/\n    /* line end */\n    //    lee.setEditorial(editorial);\n    /*    musicData.getSection(snum).getVoice(vnum).addEvent(eventlistplace++,lee);\n    eventnum++;*/\n    /* clefs: duplicate current clef set */\n    //            lastce.setEditorial(editorial);\n    /*            musicData.getSection(snum).getVoice(vnum).addEvent(eventlistplace++,lastce);\n            eventnum++;*/\n    /*------------------------------------------------------------------------\nMethod:  void togglePageEnd()\nPurpose: Toggle page-end attribute of currently highlighted LineEnd\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    togglePageEnd() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let le = e;\n        le.setPageEnd(!le.isPageEnd());\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addCustos()\nPurpose: Insert custos at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addCustos() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let custosp;\n        this.Cursor.hideCursor();\n        let custpitchnote = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, eventnum, 1);\n        if (custpitchnote == null)\n            custpitchnote = this.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE, snum, vnum, ((eventnum - 1) | 0), -1);\n        let curclef = this.getCurClef(snum, vnum, eventnum);\n        if (custpitchnote != null)\n            custosp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(custpitchnote.getPitch_1());\n        else if (curclef != null)\n            custosp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new3(curclef.pitch);\n        else\n            custosp = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_36__.Pitch.new2(4);\n        eventnum = this.insertEvent(snum, vnum, eventnum, _DataStruct_CustosEvent__WEBPACK_IMPORTED_MODULE_19__.CustosEvent.new9(custosp));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addBarline()\nPurpose: Insert barline at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addBarline() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let be = _DataStruct_BarlineEvent__WEBPACK_IMPORTED_MODULE_14__.BarlineEvent.new4();\n        eventnum = this.insertEvent(snum, vnum, eventnum, be);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void changeNumBarlines(int nl)\nPurpose: Modify number of lines in barline event\nParameters:\n  Input:  int nl - new number of lines for event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    changeBarlineLength(offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origbe = this.getCurEvent_2().getEvent_1();\n        let newNumSpaces = ((origbe.getNumSpaces() + offset) | 0);\n        if (newNumSpaces < 1)\n            return;\n        let be = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((be.getListPlace(!this.inVariantVersion()) - origbe.getListPlace(!this.inVariantVersion())) | 0);\n        be.setNumSpaces(newNumSpaces);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    changeNumBarlines(nl) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origbe = this.getCurEvent_2().getEvent_1();\n        if (nl == origbe.getNumLines())\n            return;\n        let be = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((be.getListPlace(!this.inVariantVersion()) - origbe.getListPlace(!this.inVariantVersion())) | 0);\n        be.setNumLines(nl);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    moveBarline(offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let be = e;\n        be.setBottomLinePos(((be.getBottomLinePos() + offset) | 0));\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    toggleRepeatSign() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let be = e;\n        be.setRepeatSign(!be.isRepeatSign());\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addAnnotationText()\nPurpose: Insert text annotation at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addAnnotationText() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let ae = _DataStruct_AnnotationTextEvent__WEBPACK_IMPORTED_MODULE_13__.AnnotationTextEvent.new3(\"\");\n        eventnum = this.insertEvent(snum, vnum, eventnum, ae);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setAnnotationText(String s)\nPurpose: Set text of highlighted annotation\nParameters:\n  Input:  String s - new text\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setAnnotationText(s) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let origae = this.getCurEvent_2().getEvent_1();\n        if ((s == origae.gettext()))\n            return;\n        let ae = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((ae.getListPlace(!this.inVariantVersion()) - origae.getListPlace(!this.inVariantVersion())) | 0);\n        ae.settext(s);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyAnnotationLocation(int offset)\nPurpose: Change vertical location of currently highlighted annotation\nParameters:\n  Input:  int offset - number of places to shift annotation\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyAnnotationLocation(offset) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let ae = e;\n        ae.setstaffloc(((ae.getstaffloc() + offset) | 0));\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addLacuna()\nPurpose: Insert lacuna indicator at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addLacuna() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let le = _DataStruct_LacunaEvent__WEBPACK_IMPORTED_MODULE_22__.LacunaEvent.new14(!this.inEditorialSection(snum, vnum, eventnum) ? _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_LACUNA : _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_LACUNA_END);\n        eventnum = this.insertEvent(snum, vnum, eventnum, le);\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /* deprecated\n    int snum=Cursor.getSectionNum(),\n        vnum=Cursor.getVoiceNum(),\n        eventnum=Cursor.getEventNum(),\n        eventlistplace=renderedSections[snum].getVoicedataPlace(vnum,eventnum);\n\n    Cursor.hideCursor();\n    LacunaEvent lce=new LacunaEvent(len);\n    musicData.getSection(snum).getVoice(vnum).addEvent(eventlistplace++,lce);\n    musicData.getSection(snum).getVoice(vnum).addEvent(eventlistplace,new Event(Event.EVENT_LACUNA_END));\n\n    rerender();\n    repaint();\n    parentEditorWin.fileModified();\n    hl_anchor=eventnum;\n    highlightItems(snum,vnum,eventnum,eventnum);*/\n    /*------------------------------------------------------------------------\nMethod:  void transformHighlightedIntoLacuna()\nPurpose: Create new lacuna event to replace highlighted events\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    transformHighlightedIntoLacuna() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let lacunaLen = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new0(0, 1);\n        for (let i = this.Cursor.getHighlightBegin(); i <= this.Cursor.getHighlightEnd(); i++)\n            lacunaLen.add(this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1().getmusictime());\n        let newevnum = this.deleteHighlightedWithoutRender();\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.moveCursor(snum, vnum, newevnum);\n        this.addLacuna();\n    }\n    /* calculate total length of highlighted */\n    /* delete highlighted */\n    /* replace with lacuna */\n    //    addLacuna(lacunaLen);\n    /*------------------------------------------------------------------------\nMethod:  void addModernKeySignature()\nPurpose: Insert modern key signature at current cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addModernKeySignature() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        this.Cursor.hideCursor();\n        let mkse = _DataStruct_ModernKeySignatureEvent__WEBPACK_IMPORTED_MODULE_29__.ModernKeySignatureEvent.new22(this.getCurModernKeySig(snum, vnum, ((eventnum - 1) | 0)));\n        eventnum = this.insertEvent(snum, vnum, eventnum, mkse);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void modifyModernKeySignature(int dir)\nPurpose: Change currently highlighted modern key signature\nParameters:\n  Input:  int dir - positive=sharpward, negative=flatward\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyModernKeySignature(dir) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let orige = this.getCurEvent_2().getEvent_1();\n        let e = this.getEventForModification(snum, vnum, eventnum);\n        eventnum += ((e.getListPlace(!this.inVariantVersion()) - orige.getListPlace(!this.inVariantVersion())) | 0);\n        let mkse = e;\n        let oldSig = _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__.ModernKeySignature.new1(orige.getSigInfo());\n        if (dir > 0)\n            mkse.addSharp();\n        else if (dir < 0)\n            mkse.addFlat();\n        else\n            return;\n        this.curVersionMusicData.getSection(snum).getVoice_1(vnum).recalcEventParams_1();\n        this.updateNoteAccidentals(snum, vnum, ((eventnum + 1) | 0), oldSig, mkse.getSigInfo());\n        this.rerender_1();\n        this.checkVariant(snum, vnum, eventnum);\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.hl_anchor = eventnum;\n        this.highlightItems(snum, vnum, eventnum, eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void updateNoteAccidentals(int snum,int vnum,int startei,\n                                    ModernKeySignature oldSig,ModernKeySignature newSig)\nPurpose: Make modern accidentals attached to notes coherent with a given key\n         signature (e.g., remove 'accidental' b-flat on a note if it's already\n         in the signature)\nParameters:\n  Input:  int snum,vnum             - section/voice number\n          int startei               - first event index to check\n          ModernKeySignature oldSig - current key signature applied to note\n          ModernKeySignature newSig - new signature to apply\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateNoteAccidentals(snum, vnum, startei, oldSig, newSig) {\n    }\n    /*    int     i=startei;\n    boolean done=startei>=renderedSections[snum].eventinfo[vnum].size() &&\n                 snum==renderedSections.length-1;\n\n    while (!done)\n      {\n        Event e=renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent();\n        if (e.geteventtype()==Event.EVENT_MODERNKEYSIGNATURE ||\n            e.hasSignatureClef())\n          return;\n        if (e.geteventtype()==Event.EVENT_NOTE)\n          {\n            NoteEvent ne=(NoteEvent)e;\n            ModernAccidental newAcc=newSig.chooseNoteAccidental(ne,oldSig.calcNotePitchOffset(ne)),\n                             oldAcc=ne.getModAcc();\n            if (newAcc==null || oldAcc==null || !newAcc.equals(oldAcc))\n              ne.setModAcc(newAcc);\n          }\n\n        i++;\n        if (i>=renderedSections[snum].eventinfo[vnum].size())\n          {\n            snum++;\n            while (snum<renderedSections.length && renderedSections[snum].eventinfo[vnum]==null)\n              snum++;  get to next section which includes this voice\n            i=0;\n          }\n        if (snum>=renderedSections.length)\n          done=true;\n      }*/\n    /*------------------------------------------------------------------------\nMethod:  void addVoice()\nPurpose: Add new voice to end of voice list\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addVoice() {\n        this.numvoices = this.musicData.getVoiceData().length;\n        let newvoicelist = Array((((this.numvoices + 1) | 0)));\n        for (let i = 0; i < this.numvoices; i++)\n            newvoicelist[i] = this.musicData.getVoiceData()[i];\n        newvoicelist[this.numvoices] = _DataStruct_Voice__WEBPACK_IMPORTED_MODULE_43__.Voice.new1(this.musicData, ((this.numvoices + 1) | 0), \"[\" + (((this.numvoices + 1) | 0)) + \"]\", false);\n        this.musicData.setVoiceData(newvoicelist);\n        for (let si = 0; si < this.numSections; si++)\n            this.musicData.getSection(si).addVoice_1(newvoicelist[this.numvoices]);\n        this.rerender_1();\n        this.initdrawingparams();\n        this.newsize(this.screensize.width, this.screensize.height);\n        this.parentwin.pack();\n        this.parentEditorWin.setEventEditorLocation();\n        this.parentEditorWin.setEditingOptionsLocation();\n        this.parentEditorWin.reinitVoiceTextAreas();\n        this.parentEditorWin.initSectionAttribsFrame();\n        this.parentEditorWin.setSectionAttribsFrameLocation();\n        this.parentEditorWin.fileModified_2();\n    }\n    /* copy master voice list */\n    /* add new voice, change voice list pointer, update all sections */\n    /*------------------------------------------------------------------------\nMethod:    void renderSections()\nOverrides: Gfx.ViewCanvas.renderSections\nPurpose:   Pre-render all sections for display\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    renderSections_1() {\n        super.renderSections_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:    void drawEvents(Graphics2D g)\nOverrides: Gfx.ViewCanvas.drawEvents\nPurpose:   Draw music on staves\nParameters:\n  Input:  Graphics2D g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawEvents_1(g) {\n        super.drawEvents_1(g);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void splitMensuralSection()\nPurpose: Create section break at current cursor position within mensural\n         music section\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    splitMensuralSection() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let cursorXloc = this.Cursor.getCanvasXloc();\n        this.Cursor.hideCursor();\n        this.splitMensuralSectionData(snum, vnum, eventnum, cursorXloc);\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(((snum + 1) | 0), vnum, 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void resetMusicData()\nPurpose: Rerender and reposition cursor\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    resetMusicData() {\n        this.setCurrentVariantVersion_1(this.getCurrentVariantVersion_1());\n        this.rerender_1();\n        this.repaint();\n        this.moveCursor(0, 0, 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void splitMensuralSectionData(int snum,int vnum,int eventnum,int cursorXloc)\nPurpose: Split data within mensural section at a given location\nParameters:\n  Input:  int snum,vnum,eventnum,cursorXloc - location for split\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    splitMensuralSectionData(snum, vnum, eventnum, cursorXloc) {\n        let curSection = this.musicData.getSection(snum);\n        let newSection = _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_32__.MusicMensuralSection.new2(curSection.getNumVoices_1(), curSection.isEditorial(), this.getCurColoration(snum, vnum, eventnum));\n        for (let vi = 0; vi < newSection.getNumVoices_1(); vi++) {\n            let curv = curSection.getVoice_1(vi);\n            let newv = null;\n            if (curv != null) {\n                newv = _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_45__.VoiceMensuralData.new3(curv.getMetaData(), newSection);\n                let curvEventnum = this.calcEventnum(this.calcSectionNum(cursorXloc), vi, cursorXloc);\n                let deletionPoint = this.renderedSections[snum].getVoicedataPlace(vi, curvEventnum);\n                for (let ei = curvEventnum; ei < curv.getNumEvents(); ei++)\n                    newv.addEvent_1(curv.getEvent(ei));\n                curv.truncateEvents_1(deletionPoint);\n            }\n            newSection.setVoice_1(vi, newv);\n        }\n        this.musicData.addSection_1(((snum + 1) | 0), newSection);\n    }\n    //    newvoicelist[numvoices].addevent(new Event(Event.EVENT_SECTIONEND));\n    /*------------------------------------------------------------------------\nMethod:  void insertSection(int newSectionType)\nPurpose: Insert new section at current cursor position\nParameters:\n  Input:  int newSectionType - type of section to insert\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    insertSection(newSectionType) {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = this.Cursor.getEventNum();\n        let cursorXloc = this.Cursor.getCanvasXloc();\n        let newsnum = snum;\n        this.Cursor.hideCursor();\n        if (eventnum > 0) {\n            this.splitMensuralSectionData(snum, vnum, eventnum, cursorXloc);\n            newsnum++;\n        }\n        let curSection = this.musicData.getSection(snum);\n        let newSection = null;\n        switch (newSectionType) {\n            case _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__.MusicSection.MENSURAL_MUSIC:\n                {\n                    let newMensSection = _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_32__.MusicMensuralSection.new2(curSection.getNumVoices_1(), curSection.isEditorial(), curSection.getBaseColoration());\n                    for (let vi = 0; vi < newMensSection.getNumVoices_1(); vi++) {\n                        let newv = _DataStruct_VoiceMensuralData__WEBPACK_IMPORTED_MODULE_45__.VoiceMensuralData.new3(curSection.getVoiceMetaData_1(vi), newMensSection);\n                        newv.addEvent_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_SECTIONEND));\n                        newMensSection.setVoice_1(vi, newv);\n                    }\n                    newSection = newMensSection;\n                    break;\n                }\n            case _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__.MusicSection.PLAINCHANT:\n                {\n                    let newChantSection = _DataStruct_MusicChantSection__WEBPACK_IMPORTED_MODULE_31__.MusicChantSection.new0(curSection.getNumVoices_1(), curSection.isEditorial(), _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.DEFAULT_CHANT_COLORATION);\n                    for (let vi = 0; vi < 1; vi++) {\n                        let newv = _DataStruct_VoiceChantData__WEBPACK_IMPORTED_MODULE_44__.VoiceChantData.new1(curSection.getVoiceMetaData_1(vi), newChantSection);\n                        newv.addEvent_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_SECTIONEND));\n                        newChantSection.setVoice_1(vi, newv);\n                    }\n                    newSection = newChantSection;\n                    break;\n                }\n            case _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_33__.MusicSection.TEXT:\n                {\n                    _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"Insert text section (not implemented)\");\n                    break;\n                }\n        }\n        this.musicData.addSection_1(newsnum, newSection);\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(((snum + 1) | 0), vnum, 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void deleteSection(int snum)\nPurpose: Delete one section\nParameters:\n  Input:  int snum - number of section to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    deleteSection_1(snum) {\n        this.Cursor.hideCursor();\n        this.musicData.deleteSection(snum);\n        if (snum >= this.musicData.getSections().size())\n            snum--;\n        this.parentEditorWin.updateSectionGUI_2(snum);\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, 0, 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void combineSectionWithNext()\nPurpose: Combine section currently holding cursor with following section\n         Validity checks must be performed elsewhere before calling this\n         function\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    combineSectionWithNext_1() {\n        let snum = this.Cursor.getSectionNum();\n        let vnum = this.Cursor.getVoiceNum();\n        let eventnum = ((this.renderedSections[snum].eventinfo[vnum].size() - 1) | 0);\n        this.Cursor.hideCursor();\n        let curSection = this.musicData.getSection(snum);\n        let nextSection = this.musicData.getSection(((snum + 1) | 0));\n        for (let vi = 0; vi < this.numvoices; vi++) {\n            let v1 = curSection.getVoice_1(vi);\n            let v2 = nextSection.getVoice_1(vi);\n            if (v1 == null) {\n                if (v2 != null)\n                    curSection.setVoice_1(vi, v2);\n            }\n            else if (v2 != null) {\n                v1.deleteEvent_1(((v1.getNumEvents() - 1) | 0));\n                for (let ei = 0; ei < v2.getNumEvents(); ei++)\n                    v1.addEvent_1(v2.getEvent(ei));\n            }\n        }\n        this.musicData.deleteSection(((snum + 1) | 0));\n        this.Cursor.setNoHighlight();\n        this.rerender_1();\n        this.repaint();\n        this.parentEditorWin.fileModified_2();\n        this.moveCursor(snum, vnum, eventnum);\n    }\n    /* remove SectionEnd */\n    /*------------------------------------------------------------------------\nMethod:  void set[Voice|Event]num(int i)\nPurpose: Change cursor settings without immediate display/recalculation\nParameters:\n  Input:  int i - new voice|event number\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVoicenum(i) {\n        this.Cursor.setVoicenum(i);\n    }\n    setEventNum(i) {\n        this.Cursor.setEventNum(i);\n    }\n    setHLAnchor(i) {\n        this.hl_anchor = i;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getCur[Section|Voice|Event]Num()\nPurpose: Return number of section/voice/event at current cursor position\nParameters:\n  Input:  -\n  Output: -\n  Return: number of current voice\n------------------------------------------------------------------------*/\n    getCurSectionNum() {\n        return this.Cursor.getSectionNum();\n    }\n    getCurVoiceNum() {\n        return this.Cursor.getVoiceNum();\n    }\n    getCurEventNum() {\n        return this.Cursor.getEventNum();\n    }\n    getHLAnchor() {\n        return this.hl_anchor;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean oneItemHighlighted()\nPurpose: Check whether just one item is highlighted\nParameters:\n  Input:  -\n  Output: -\n  Return: true if only one item is highlighted\n------------------------------------------------------------------------*/\n    oneItemHighlighted() {\n        return this.Cursor.oneItemHighlighted();\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getHighlightBegin()\nPurpose: Return index of event at start of highlight (-1 for none)\nParameters:\n  Input:  -\n  Output: -\n  Return: index of highlight start\n------------------------------------------------------------------------*/\n    getHighlightBegin() {\n        return this.Cursor.getHighlightBegin();\n    }\n    /*------------------------------------------------------------------------\nMethod:  RenderedEvent getCurEvent(int offset)\nPurpose: Return event at or near current cursor position\nParameters:\n  Input:  int offset - event number offset from current position\n  Output: -\n  Return: current RenderedEvent\n------------------------------------------------------------------------*/\n    getCurEvent_1(offset) {\n        let re = this.renderedSections[this.Cursor.getSectionNum()].eventinfo[this.Cursor.getVoiceNum()].getEvent(((this.Cursor.getEventNum() + offset) | 0));\n        let mei = this.Cursor.getMultiEventHLindex();\n        if (mei == -1)\n            return re;\n        else\n            return re.getEvent_2(mei);\n    }\n    getCurEvent_2() {\n        return this.getCurEvent_1(0);\n    }\n    getEvent(snum, vnum, evnum) {\n        return this.renderedSections[snum].eventinfo[vnum].getEvent(evnum);\n    }\n    /* return primary event (don't look inside multi-events) */\n    getCurMainEvent() {\n        return this.renderedSections[this.Cursor.getSectionNum()].eventinfo[this.Cursor.getVoiceNum()].getEvent(this.Cursor.getEventNum());\n    }\n    getCurSection() {\n        return this.musicData.getSection(this.Cursor.getSectionNum());\n    }\n    /*------------------------------------------------------------------------\nMethod:  RenderedEvent getRenderedEvent(int snum,int vnum,int eventnum)\nPurpose: Return event at given position\nParameters:\n  Input:  int snum,vnum - section/voice number\n          int eventnum  - event index\n  Output: -\n  Return: RenderedEvent at given position\n------------------------------------------------------------------------*/\n    getRenderedEvent(snum, vnum, eventnum) {\n        return this.renderedSections[snum].eventinfo[vnum].getEvent(eventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  Clef getCur*(int snum,int vnum,int eventnum)\nPurpose: Return rendering parameters valid at specified location\nParameters:\n  Input:  int snum,vnum - section/voice number\n          int eventnum  - event index\n  Output: -\n  Return: parameter structures\n------------------------------------------------------------------------*/\n    getCurClef(snum, vnum, eventnum) {\n        let rcs = this.renderedSections[snum].eventinfo[vnum].getClefEvents(eventnum);\n        if (rcs != null)\n            return rcs.getPrincipalClefEvent().getEvent_1().getClefSet_2(false).getprincipalclef();\n        return null;\n    }\n    getCurClefSet(snum, vnum, eventnum) {\n        let rcs = this.renderedSections[snum].eventinfo[vnum].getClefEvents(eventnum);\n        if (rcs != null)\n            return rcs.getLastClefSet(false);\n        return null;\n    }\n    getCurClefEvent(snum, vnum, eventnum) {\n        let rcs = this.renderedSections[snum].eventinfo[vnum].getClefEvents(eventnum);\n        if (rcs != null)\n            return rcs.getPrincipalClefEvent().getEvent_1();\n        return null;\n    }\n    getCurMensInfo_1(snum, vnum, eventnum) {\n        let re = this.renderedSections[snum].eventinfo[vnum].getMensEvent(eventnum);\n        if (re != null) {\n            let me = re.getEvent_1();\n            return me.getMensInfo_1();\n        }\n        return _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_26__.Mensuration.DEFAULT_MENSURATION;\n    }\n    getCurMensInfo_2() {\n        return this.getCurMensInfo_1(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), this.Cursor.getEventNum());\n    }\n    getCurColoration(snum, vnum, eventnum) {\n        return this.renderedSections[snum].eventinfo[vnum].getColoration(eventnum);\n    }\n    getCurProportion(snum, vnum, eventnum) {\n        return this.renderedSections[snum].eventinfo[vnum].getProportion(eventnum);\n    }\n    getCurModernKeySig(snum, vnum, eventnum) {\n        if (eventnum < 0 && snum > 0) {\n            for (snum--; snum >= 0; snum--)\n                if (this.renderedSections[snum].eventinfo[vnum] != null)\n                    return this.renderedSections[snum].eventinfo[vnum].getModernKeySig(((this.renderedSections[snum].eventinfo[vnum].size() - 1) | 0));\n            return _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_28__.ModernKeySignature.DEFAULT_SIG;\n        }\n        else\n            return this.renderedSections[snum].eventinfo[vnum].getModernKeySig(eventnum);\n    }\n    inEditorialSection(snum, vnum, eventnum) {\n        return this.renderedSections[snum].eventinfo[vnum].inEditorialSection(eventnum);\n    }\n    getCurSectionType() {\n        return this.musicData.getSection(this.getCurSectionNum()).getSectionType();\n    }\n    /*------------------------------------------------------------------------\nMethod:  NoteEvent getNeighboringNoteEvent(int snum,int vnum,int eventnum,int dir)\nPurpose: Return last note event before or after specified location\nParameters:\n  Input:  int snum,vnum - section/voice number to check\n          int eventnum  - event index to start search\n          int dir       - direction to search (1=right, -1=left)\n  Output: -\n  Return: last NoteEvent\n------------------------------------------------------------------------*/\n    /*  NoteEvent getNeighboringNoteEvent(int snum,int vnum,int eventnum,int dir)\n  {\n    int nenum=getNeighboringNoteEventNum(snum,vnum,eventnum,dir);\n    if (nenum==-1)\n      return null;\n    else\n      {\n        Event e=renderedSections[snum].eventinfo[vnum].getEvent(nenum).getEvent();\n        if (e.geteventtype()==Event.EVENT_MULTIEVENT)\n          return ((MultiEvent)e).getLowestNote();\n        else\n          return (NoteEvent)e;\n      }\n  }\n\n  public int getNeighboringNoteEventNum(int snum,int vnum,int eventnum,int dir)\n  {\n    for (int i=eventnum; i>=0 && i<renderedSections[snum].eventinfo[vnum].size(); i+=dir)\n      {\n        Event e=renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent();\n        if (e.hasEventType(Event.EVENT_NOTE))\n          return i;\n      }\n    return -1;\n  }*/\n    getNeighboringEventOfType(etype, snum, vnum, eventnum, dir) {\n        let nenum = this.getNeighboringEventNumOfType(etype, snum, vnum, eventnum, dir);\n        if (nenum == -1)\n            return null;\n        else {\n            let e = this.renderedSections[snum].eventinfo[vnum].getEvent(nenum).getEvent_1();\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MULTIEVENT)\n                switch (etype) {\n                    case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE:\n                        {\n                            return e.getLowestNote();\n                        }\n                    default:\n                        {\n                            return e.getFirstEventOfType_1(etype);\n                        }\n                }\n            else\n                return e;\n        }\n    }\n    getNeighboringEventNumOfType(etype, snum, vnum, eventnum, dir) {\n        for (let i = eventnum; i >= 0 && i < this.renderedSections[snum].eventinfo[vnum].size(); i += dir) {\n            let e = this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1();\n            if (e.hasEventType_1(etype))\n                return i;\n        }\n        return -1;\n    }\n    getNumRenderedEvents(snum, vnum) {\n        return this.renderedSections[snum].eventinfo[vnum].size();\n    }\n    /*------------------------------------------------------------------------\nMethod:  int FirstEventNumAfterClefSet(int snum,int vnum,int startei,ClefSet cs)\nPurpose: Return first event number after clef set at a given location\nParameters:\n  Input:  int snum,vnum - voice number to check\n          int eventnum  - event index to start search\n          ClefSet cs    - clef set to check\n  Output: -\n  Return: event number\n------------------------------------------------------------------------*/\n    firstEventNumAfterClefSet(snum, vnum, startei, cs) {\n        for (let i = startei; i < this.renderedSections[snum].eventinfo[vnum].size(); i++)\n            if (this.renderedSections[snum].eventinfo[vnum].getEvent(i).getEvent_1().getClefSet_1() != cs)\n                return i;\n        return -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void set*()\nPurpose: Set global editing/input parameterts\nParameters:\n  Input:  new editing parameter values\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setColorationOn(newState) {\n        this.colorationOn = newState;\n    }\n    /* tmp */\n    cycleEditorStemDir() {\n        switch (this.editorStemDir) {\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP:\n                {\n                    this.editorStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN;\n                    break;\n                }\n            case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_DOWN:\n                {\n                    this.editorStemDir = -1;\n                    break;\n                }\n            default:\n                {\n                    this.editorStemDir = _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.STEM_UP;\n                    break;\n                }\n        }\n    }\n    setEditorColorationType(colType) {\n        this.editorColorationType = colType;\n    }\n    /*------------------------------------------------------------------------\nMethod:     void keyPressed(KeyEvent e)\nImplements: KeyListener.keyPressed\nPurpose:    Act on key press\nParameters:\n  Input:  KeyEvent e - event representing keypress\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    keyPressed(k) {\n        try {\n            if (k.isControlDown()) {\n                switch (k.getKeyCode()) {\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_A:\n                        {\n                            this.highlightAll();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_D:\n                        {\n                            if (this.Cursor.getHighlightBegin() != -1)\n                                this.toggleHighlightedEditorial();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_I:\n                        {\n                            this.addVoice();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_L:\n                        {\n                            if (this.Cursor.getHighlightBegin() == -1)\n                                this.addLacuna();\n                            else\n                                this.transformHighlightedIntoLacuna();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_BACK_SLASH:\n                        {\n                            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"CurV=\" + this.getCurVoiceNum());\n                            let curenum = this.getCurEvent_2().getEvent_1().getListPlace(false);\n                            for (let i = 0; i < curenum; i++)\n                                this.curVersionMusicData.getSection(this.getCurSectionNum()).getVoice_1(this.getCurVoiceNum()).getEvent(i).prettyprint_1();\n                            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"DONE LIST\");\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SLASH:\n                        {\n                            let a = new _Util_Analyzer__WEBPACK_IMPORTED_MODULE_47__.Analyzer(this.musicData, this.renderedSections);\n                            a.printGeneralAnalysis(_java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out);\n                            if ((this.parentwin.windowFileName == \"Untitled score\"))\n                                break;\n                            let outp = null;\n                            try {\n                                outp = new _java_io_PrintStream__WEBPACK_IMPORTED_MODULE_8__.PrintStream(\"data/stats/\" + this.parentwin.windowFileName + \".txt\");\n                            }\n                            catch (e) {\n                                if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                                    _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error opening file: \" + e);\n                                    e.printStackTrace();\n                                }\n                                else\n                                    throw e;\n                            }\n                            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println();\n                            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.print(\"Writing analysis to file...\");\n                            a.printGeneralAnalysis(outp);\n                            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"done\");\n                            outp.close();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SEMICOLON:\n                        {\n                            let snum = this.Cursor.getSectionNum();\n                            let vnum = this.Cursor.getVoiceNum();\n                            let eventnum = this.Cursor.getEventNum();\n                            let re = this.renderedSections[snum].eventinfo[vnum].getEvent(eventnum);\n                            if (re != null && re.getFullSonority() != null)\n                                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(re.getFullSonority());\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_PERIOD:\n                        {\n                            this.showCurrentVariants();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_1:\n                        {\n                            this.toggleVariantError();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_9:\n                        {\n                            if (this.Cursor.oneItemHighlighted())\n                                this.modifyEventTime(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new0(-1, 1));\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_0:\n                        {\n                            if (this.Cursor.oneItemHighlighted())\n                                this.modifyEventTime(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_37__.Proportion.new0(1, 1));\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DELETE:\n                        {\n                            if (k.isShiftDown())\n                                this.deleteAllVariantReadings();\n                            break;\n                        }\n                }\n                if (this.Cursor.oneItemHighlighted())\n                    if (this.getCurMainEvent().getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MULTIEVENT)\n                        switch (k.getKeyCode()) {\n                            case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_RIGHT:\n                                {\n                                }\n                            case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_RIGHT:\n                                {\n                                    this.shiftHighlightWithinMultiEvent(1);\n                                    break;\n                                }\n                            case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_LEFT:\n                                {\n                                }\n                            case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_LEFT:\n                                {\n                                    this.shiftHighlightWithinMultiEvent(-1);\n                                    break;\n                                }\n                        }\n                    else {\n                        let keych = _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.toUpperCase(k.getKeyChar());\n                        if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"]\", 0))\n                            this.shiftSignumVertical(1);\n                        else if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"[\", 0))\n                            this.shiftSignumVertical(-1);\n                    }\n            }\n            else if (this.Cursor.oneItemHighlighted()) {\n                let he = this.getCurEvent_2().getEvent_1();\n                switch (k.getKeyCode()) {\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_LEFT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_LEFT:\n                        {\n                            if (k.isShiftDown())\n                                this.modifyHighlight(-1);\n                            else\n                                this.shiftCursorLoc(-1, 0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_RIGHT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_RIGHT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_ENTER:\n                        {\n                            if (k.isShiftDown())\n                                this.modifyHighlight(1);\n                            else\n                                this.shiftCursorLoc(1, 0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_UP:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_UP:\n                        {\n                            if (he.getPitch_1() != null)\n                                this.modifyEventPitch_int(k.isShiftDown() ? 7 : 1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_BARLINE)\n                                if (k.isShiftDown())\n                                    this.changeBarlineLength(1);\n                                else\n                                    this.moveBarline(1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF)\n                                this.modifyClefLocation(1);\n                            else\n                                this.modifyHighlightedEventLocations(1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DOWN:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_DOWN:\n                        {\n                            if (he.getPitch_1() != null)\n                                this.modifyEventPitch_int(k.isShiftDown() ? -7 : -1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_BARLINE)\n                                if (k.isShiftDown())\n                                    this.changeBarlineLength(-1);\n                                else\n                                    this.moveBarline(-1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF)\n                                this.modifyClefLocation(-1);\n                            else\n                                this.modifyHighlightedEventLocations(-1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_END:\n                        {\n                            this.moveCursorToEnd();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_HOME:\n                        {\n                            this.moveCursorToHome();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_BACK_SPACE:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DELETE:\n                        {\n                            this.deleteHighlightedItems();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_I:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                if (k.isShiftDown())\n                                    this.cycleNoteHalfColoration();\n                                else\n                                    this.toggleNoteColoration();\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF || he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST)\n                                this.toggleEventColoration();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_L:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.ligateNoteToLast();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_O:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.changeLigType(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_OBLIQUA);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                this.setMensurationSign(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_O);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_P:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.toggleNoteAccidentalOptional();\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_LINEEND)\n                                this.togglePageEnd();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_R:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_BARLINE)\n                                this.toggleRepeatSign();\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.changeLigType(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_RECTA);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                this.setMensurationSign(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_CREV);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_S:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF)\n                                this.toggleClefSignatureStatus();\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                this.toggleMensurationSize();\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE || he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST)\n                                this.toggleSignum();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_T:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.cycleTieType();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_U:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE || he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST)\n                                this.toggleSignumOrientation();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_V:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                this.toggleMensurationVertical();\n                            else\n                                this.combineVariantReadings();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_CLOSE_BRACKET:\n                        {\n                            this.shiftSignumVertical(1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_OPEN_BRACKET:\n                        {\n                            this.shiftSignumVertical(-1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_PERIOD:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.addDot_2(_DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                this.toggleMensurationDot();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SEMICOLON:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE || he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST)\n                                this.cycleSignumSide();\n                            if (k.isShiftDown())\n                                if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                    this.addDot_1(this.Cursor.getSectionNum(), this.Cursor.getVoiceNum(), ((this.Cursor.getHighlightBegin() + 1) | 0), _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition);\n                                else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                    this.toggleMensurationDot();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SLASH:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_COLON:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_NUMBER_SIGN:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS)\n                                this.toggleMensurationStroke();\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.cycleHighlightedStemDirections();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_PLUS:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_EQUALS:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.changeNoteAccidental(1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MODERNKEYSIGNATURE)\n                                this.modifyModernKeySignature(1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_MINUS:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.changeNoteAccidental(-1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MODERNKEYSIGNATURE)\n                                this.modifyModernKeySignature(-1);\n                            break;\n                        }\n                    default:\n                        {\n                            let keych = _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.toUpperCase(k.getKeyChar());\n                            if (he.getPitch_1() != null && he.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF) {\n                                if (keych >= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"A\", 0) && keych <= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"G\", 0))\n                                    this.modifyEventPitch_char(keych);\n                            }\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_CLEF) {\n                                if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"C\", 0))\n                                    this.doClefAction_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_C);\n                                if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"F\", 0))\n                                    this.doClefAction_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_F);\n                                if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"G\", 0))\n                                    this.doClefAction_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_G);\n                                if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"B\", 0))\n                                    this.doClefAction_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Bmol);\n                                if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"H\", 0))\n                                    this.doClefAction_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Bqua);\n                                if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"X\", 0))\n                                    this.doClefAction_1(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_15__.Clef.CLEF_Diesis);\n                            }\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MENS && keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"C\", 0))\n                                this.setMensurationSign(_DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_25__.MensSignElement.MENS_SIGN_C);\n                            else if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"]\", 0))\n                                this.shiftSignumVertical(1);\n                            else if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"[\", 0))\n                                this.shiftSignumVertical(-1);\n                            else if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_BARLINE)\n                                if (keych >= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"1\", 0) && keych <= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"8\", 0))\n                                    this.changeNumBarlines((((((keych - _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"1\", 0)) | 0) + 1) | 0)));\n                            if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"0\", 0) || keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"M\", 0))\n                                this.makeMultiEvent();\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE || he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_REST) {\n                                if (keych >= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"1\", 0) && keych <= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"8\", 0)) {\n                                    this.parentEditorWin.selectNVButton(((keych - _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"1\", 0)) | 0));\n                                    this.modifyNoteType(this.parentEditorWin.getSelectedNoteVal());\n                                }\n                                else if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"*\", 0))\n                                    this.toggleCorona();\n                                else if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"<\", 0))\n                                    this.toggleHighlightedEditorialText();\n                                else if (he.getLength_1() != null)\n                                    if (k.getKeyCode() == _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_1 && k.isShiftDown())\n                                        this.imperfectNote();\n                                    else if (k.getKeyCode() == _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_2 && k.isShiftDown())\n                                        this.alterNote();\n                                    else if (k.getKeyCode() == _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_3 && k.isShiftDown())\n                                        this.perfectNote();\n                            }\n                        }\n                }\n            }\n            else if (this.Cursor.getHighlightBegin() != -1) {\n                let he = this.getCurEvent_2().getEvent_1();\n                switch (k.getKeyCode()) {\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_I:\n                        {\n                            this.toggleHighlightedColoration();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_L:\n                        {\n                            this.ligateHighlighted();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_O:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.changeLigType(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_OBLIQUA);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_R:\n                        {\n                            if (he.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_NOTE)\n                                this.changeLigType(_DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_34__.NoteEvent.LIG_RECTA);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_V:\n                        {\n                            this.combineVariantReadings();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SLASH:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_COLON:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_NUMBER_SIGN:\n                        {\n                            this.cycleHighlightedStemDirections();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_UP:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_UP:\n                        {\n                            this.modifyHighlightedEventLocations(1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DOWN:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_DOWN:\n                        {\n                            this.modifyHighlightedEventLocations(-1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_LEFT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_LEFT:\n                        {\n                            if (k.isShiftDown())\n                                this.modifyHighlight(-1);\n                            else\n                                this.shiftCursorLoc(-1, 0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_RIGHT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_RIGHT:\n                        {\n                            if (k.isShiftDown())\n                                this.modifyHighlight(1);\n                            else\n                                this.shiftCursorLoc(1, 0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_END:\n                        {\n                            this.moveCursorToEnd();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_HOME:\n                        {\n                            this.moveCursorToHome();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_BACK_SPACE:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DELETE:\n                        {\n                            this.deleteHighlightedItems();\n                            break;\n                        }\n                    default:\n                        {\n                            let keych = _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.toUpperCase(k.getKeyChar());\n                            if (keych == _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"<\", 0))\n                                this.toggleHighlightedEditorialText();\n                        }\n                }\n            }\n            else\n                switch (k.getKeyCode()) {\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_BACK_SLASH:\n                        {\n                            if (k.isShiftDown()) {\n                                this.cycleEditorStemDir();\n                                break;\n                            }\n                            if (this.getCurEvent_1(-1) != null) {\n                                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"Eventloc \" + this.getCurEvent_1(-1).getEvent_1().getListPlace(false) + \", DefaultEventloc \" + this.getCurEvent_1(-1).getEvent_1().getDefaultListPlace());\n                                this.getCurEvent_1(-1).prettyprint();\n                            }\n                            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"Eventloc \" + this.getCurEvent_2().getEvent_1().getListPlace(false) + \", DefaultEventloc \" + this.getCurEvent_2().getEvent_1().getDefaultListPlace());\n                            this.getCurEvent_2().prettyprint();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_LEFT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_LEFT:\n                        {\n                            if (k.isShiftDown())\n                                this.modifyHighlight(-1);\n                            else\n                                this.shiftCursorLoc(-1, 0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_RIGHT:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_RIGHT:\n                        {\n                            if (k.isShiftDown())\n                                this.modifyHighlight(1);\n                            else\n                                this.shiftCursorLoc(1, 0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_UP:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_UP:\n                        {\n                            this.shiftCursorLoc(0, -1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DOWN:\n                        {\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_KP_DOWN:\n                        {\n                            this.shiftCursorLoc(0, 1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_END:\n                        {\n                            this.moveCursorToEnd();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_HOME:\n                        {\n                            this.moveCursorToHome();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_BACK_SPACE:\n                        {\n                            this.deleteCurItem(-1);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_DELETE:\n                        {\n                            if (k.isShiftDown())\n                                this.deleteVariantReading_1();\n                            else\n                                this.deleteCurItem(0);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_PERIOD:\n                        {\n                            this.addDot_2(_DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Addition);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_COMMA:\n                        {\n                            this.addDot_2(_DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_20__.DotEvent.DT_Division);\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_I:\n                        {\n                            if (k.isShiftDown())\n                                this.parentEditorWin.toggleEditingOptionsColoration();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_K:\n                        {\n                            this.addModernKeySignature();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_L:\n                        {\n                            this.addColorChange();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_M:\n                        {\n                            this.addMensurationSign_2();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_N:\n                        {\n                            this.addAnnotationText();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_P:\n                        {\n                            this.addProportion_2();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_T:\n                        {\n                            this.addOriginalText_2();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_V:\n                        {\n                            this.combineVariantReadings();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_X:\n                        {\n                            this.doClefAction_2();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_Z:\n                        {\n                            this.addRest(this.parentEditorWin.getSelectedNoteVal());\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SLASH:\n                        {\n                            this.addLineEnd();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SEMICOLON:\n                        {\n                            this.addCustos();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_CLOSE_BRACKET:\n                        {\n                            this.addBarline();\n                            break;\n                        }\n                    case _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_SPACE:\n                        {\n                            this.addNote_3(this.parentEditorWin.getSelectedNoteVal());\n                            break;\n                        }\n                    default:\n                        {\n                            let keych = _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.toUpperCase(k.getKeyChar());\n                            if (keych >= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"A\", 0) && keych <= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"G\", 0))\n                                this.addNote_2(this.parentEditorWin.getSelectedNoteVal(), keych);\n                            else if (keych >= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"1\", 0) && keych <= _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"8\", 0))\n                                this.parentEditorWin.selectNVButton(((keych - _java_lang_Character__WEBPACK_IMPORTED_MODULE_3__.Character.codePointAt(\"1\", 0)) | 0));\n                            else if (k.getKeyCode() == _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_11__.KeyEvent.VK_6 && k.isShiftDown())\n                                this.parentEditorWin.toggleFlaggedSemiminima();\n                            break;\n                        }\n                }\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.parentEditorWin.handleRuntimeError(e);\n            }\n            else\n                throw e;\n        }\n    }\n    /*                addLacuna(NoteEvent.getTypeLength(parentEditorWin.getSelectedNoteVal(),\n                          getCurMensInfo()));*/\n    /* TMP: show analysis */\n    //System.out;\n    /* move between events within a multi-event */\n    /* German keyboard */\n    /* ------------------------ ONE ITEM HIGHLIGHTED ------------------------ */\n    /* highlighted event */\n    /* cursor movement */\n    /*              else if (he.geteventtype()==Event.EVENT_DOT)\n                modifyDotLocation(1);\n              else if (he.geteventtype()==Event.EVENT_REST)\n                modifyRestLocation(1);\n              else if (he.geteventtype()==Event.EVENT_MENS)\n                modifyMensLocation(1);\n              else if (he.geteventtype()==Event.EVENT_ANNOTATIONTEXT)\n                modifyAnnotationLocation(1);*/\n    /*              else if (he.geteventtype()==Event.EVENT_DOT)\n                modifyDotLocation(-1);\n              else if (he.geteventtype()==Event.EVENT_REST)\n                modifyRestLocation(-1);\n              else if (he.geteventtype()==Event.EVENT_CLEF)\n                modifyClefLocation(-1);\n              else if (he.geteventtype()==Event.EVENT_MENS)\n                modifyMensLocation(-1);\n              else if (he.geteventtype()==Event.EVENT_ANNOTATIONTEXT)\n                modifyAnnotationLocation(-1);*/\n    /* delete event */\n    /* modify event */\n    /* French keyboards */\n    /* German */\n    /* German keyboard */\n    /* --------------------- MULTIPLE ITEMS HIGHLIGHTED --------------------- */\n    /* multiple items highlighted */\n    /* first highlighted event */\n    /* German */\n    /* cursor movement */\n    /* delete event */\n    /* ------------------------ NO ITEMS HIGHLIGHTED ------------------------ */\n    /* debugging */\n    /* cursor movement */\n    /* delete event */\n    /* add events */\n    /*          case KeyEvent.VK_OPEN_BRACKET:\n            addEllipsis();\n            break;*/\n    /* repeat pitch of last note */\n    /* add note/change attributes */\n    /* empty KeyListener methods */\n    keyReleased(e) {\n    }\n    keyTyped(e) {\n    }\n    mousePressed(e) {\n        if (e.isMetaDown())\n            this.doRightClick(e);\n        else\n            switch (e.getButton()) {\n                case _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_10__.MouseEvent.BUTTON1:\n                    {\n                        this.doLeftClick(e);\n                        break;\n                    }\n                case _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_10__.MouseEvent.BUTTON2:\n                    {\n                    }\n                case _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_10__.MouseEvent.BUTTON3:\n                    {\n                        this.doRightClick(e);\n                        break;\n                    }\n            }\n    }\n    doLeftClick(e) {\n        this.showCursor();\n        if (e.isShiftDown()) {\n            let newvnum = this.Cursor.getVoiceNum();\n            let newsnum = this.calcSectionNum(e.getX());\n            let newevnum = this.calcHLEventnum(newsnum, newvnum, e.getX());\n            let cursnum = this.Cursor.getSectionNum();\n            let curevnum = this.Cursor.getEventNum();\n            if (newsnum < cursnum)\n                newevnum = 0;\n            if (newsnum > cursnum)\n                newevnum = ((this.renderedSections[cursnum].eventinfo[newvnum].size() - 1) | 0);\n            if (newevnum < 0)\n                newevnum = 0;\n            if (this.Cursor.getHighlightBegin() == -1 && newevnum != curevnum) {\n                this.hl_anchor = this.Cursor.getEventNum();\n                this.highlightItems(cursnum, newvnum, _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.min(curevnum, newevnum), ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(curevnum, newevnum) - 1) | 0));\n            }\n            else if (this.Cursor.getHighlightBegin() != -1)\n                if (newsnum == cursnum && newevnum == this.hl_anchor)\n                    this.moveCursor(newsnum, newvnum, newevnum);\n                else\n                    this.highlightItems(cursnum, newvnum, _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.min(this.hl_anchor, newevnum), ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(this.hl_anchor, newevnum) - 1) | 0));\n        }\n        if (!this.focused) {\n            this.focusingEvent = e;\n            this.requestFocusInWindow();\n            this.Cursor.showCursor();\n            this.repaint();\n        }\n        if (!e.isShiftDown())\n            this.newCursorLoc(e.getX(), e.getY());\n        this.mouseButtonDown = true;\n    }\n    /* highlight events */\n    /* remove highlight */\n    doRightClick(e) {\n        let x = e.getX();\n        let y = e.getY();\n        let newSNum = this.calcSectionNum(x);\n        let newVNum = this.calcVNum(newSNum, y);\n        let newEventnum = this.calcEventnum(newSNum, newVNum, x);\n        this.showVariants_1(newSNum, newVNum, newEventnum, e.getXOnScreen(), e.getYOnScreen());\n    }\n    /*------------------------------------------------------------------------\nMethod:     void mouseReleased(MouseEvent e)\nImplements: MouseListener.mouseReleased\nPurpose:    Handle mouse button release\nParameters:\n  Input:  MouseEvent e - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    mouseReleased(e) {\n        this.mouseButtonDown = false;\n    }\n    /*------------------------------------------------------------------------\nMethod:     void mouseDragged(MouseEvent e)\nImplements: MouseMotionListener.mouseDragged\nPurpose:    Handle mouse drag\nParameters:\n  Input:  MouseEvent e - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    mouseDragged(e) {\n        if (!this.mouseButtonDown)\n            return;\n        let newvnum = this.Cursor.getVoiceNum();\n        let newsnum = this.calcSectionNum(e.getX());\n        let newevnum = this.calcHLEventnum(newsnum, newvnum, e.getX());\n        let cursnum = this.Cursor.getSectionNum();\n        let curevnum = this.Cursor.getEventNum();\n        if (newsnum < cursnum)\n            newevnum = 0;\n        if (newsnum > cursnum)\n            newevnum = ((this.renderedSections[cursnum].eventinfo[newvnum].size() - 1) | 0);\n        if (newevnum < 0)\n            newevnum = 0;\n        if (this.Cursor.getHighlightBegin() == -1) {\n            this.hl_anchor = this.Cursor.getEventNum();\n            if (newevnum > this.Cursor.getEventNum())\n                this.highlightItems(cursnum, newvnum, this.Cursor.getEventNum(), ((newevnum - 1) | 0));\n            else if (newevnum < this.Cursor.getEventNum())\n                this.highlightItems(cursnum, newvnum, newevnum, ((this.Cursor.getEventNum() - 1) | 0));\n        }\n        else {\n            if (newevnum == this.hl_anchor)\n                this.moveCursor(cursnum, newvnum, newevnum);\n            else if (newevnum < this.hl_anchor)\n                this.highlightItems(cursnum, newvnum, newevnum, ((this.hl_anchor - 1) | 0));\n            else\n                this.highlightItems(cursnum, newvnum, this.hl_anchor, ((newevnum - 1) | 0));\n        }\n    }\n    /* create new highlight */\n    /* modify existing highlight */\n    /* remove highlight */\n    /* newevnum>hl_anchor */\n    /* empty Mouse*Listener methods */\n    mouseEntered(e) {\n    }\n    mouseExited(e) {\n    }\n    mouseClicked(e) {\n    }\n    mouseMoved(e) {\n    }\n    /*------------------------------------------------------------------------\nMethods:    void focus[Gained|Lost](FocusEvent e)\nImplements: FocusListener.focus[Gained|Lost]\nPurpose:    Take action when keyboard focus is gained or lost\nParameters:\n  Input:  FocusEvent e - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    focusGained(e) {\n        this.focused = true;\n        if (this.parentwin.rerendermusic)\n            this.rerender_1();\n        if (this.focusingEvent != null) {\n            this.mousePressed(this.focusingEvent);\n            this.mouseReleased(null);\n            this.focusingEvent = null;\n        }\n        this.Cursor.showCursor();\n    }\n    focusLost(e) {\n        this.Cursor.hideCursor();\n        this.focused = false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void stopThreads()\nPurpose: Stop any timer threads associated with this object\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    stopThreads() {\n        this.Cursor_Timer.stop();\n    }\n    /*------------------------------------------------------------------------\nMethod:    void movedisplay(int newmeasure)\nOverrides: ViewCanvas.movedisplay\nPurpose:   Move display to a new measure location\nParameters:\n  Input:  int newmeasure - leftmost measure of new display location\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    movedisplay_1(newmeasure) {\n        this.Cursor.hideCursor();\n        super.movedisplay_1(newmeasure);\n        this.Cursor.showCursor();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void newViewScale()\nOverrides: ViewCanvas.newViewScale\nPurpose: Update graphics when scale has changed\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newViewScale_1() {\n        this.Cursor.hideCursor();\n        super.newViewScale_1();\n        this.Cursor.showCursor();\n    }\n    /*------------------------------------------------------------------------\nMethod:    void newY(int newystart)\nOverrides: ViewCanvas.newY\nPurpose:   Change y position of viewport\nParameters:\n  Input:  int newystart - new value for VIEWYSTART\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newY_1(newystart) {\n        this.Cursor.hideCursor();\n        super.newY_1(newystart);\n        this.Cursor.showCursor();\n    }\n    /*------------------------------------------------------------------------\nMethod:    void drawEndBarline(Graphics2D g,int xloc)\nOverrides: Gfx.ViewCanvas.drawEndBarline\nPurpose:   Draw score ending (don't break off staves in editor view)\nParameters:\n  Input:  Graphics2D g - graphical context\n          int xloc   - x location for barline\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawEndBarline_2(g, xloc) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawHighlightedEvents(Graphics2D g,int snum,int vnum,int firstenum,int lastenum)\nPurpose: Paint events in highlighted color\nParameters:\n  Input:  Graphics2D g           - graphical context\n          int snum,vnum          - section/voice number\n          int firstenum,lastenum - indices of first and last events to be highlighted\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawHighlightedEvents(g, snum, vnum, firstenum, lastenum) {\n        let leftMeasure = this.getMeasure(this.curmeasure);\n        let evloc;\n        let xloc;\n        let leftMeasureX = this.getMeasureX(this.curmeasure);\n        let e;\n        let done;\n        evloc = snum == this.leftRendererNum ? leftMeasure.reventindex[vnum] : 0;\n        if (snum > this.leftRendererNum || firstenum > evloc)\n            evloc = firstenum;\n        done = this.leftRendererNum > snum || evloc >= this.renderedSections[snum].eventinfo[vnum].size() || evloc > lastenum;\n        e = this.renderedSections[snum].eventinfo[vnum].getEvent(evloc);\n        if (!done && e.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_21__.Event.EVENT_MULTIEVENT && firstenum == lastenum) {\n            let mei = this.Cursor.getMultiEventHLindex();\n            if (mei != -1) {\n                xloc = this.XLEFT + (this.renderedSections[snum].getEventXLoc(vnum, evloc) - leftMeasureX) * this.VIEWSCALE;\n                e.getEvent_2(mei).drawHighlighted(g, this.MusicGfx, this, xloc, this.YTOP + ((vnum * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE, this.VIEWSCALE);\n                done = true;\n            }\n        }\n        while (!done) {\n            e = this.renderedSections[snum].eventinfo[vnum].getEvent(evloc);\n            xloc = this.XLEFT + (this.renderedSections[snum].getEventXLoc(vnum, evloc) - leftMeasureX) * this.VIEWSCALE;\n            if (xloc < this.viewsize.width) {\n                if (xloc >= this.XLEFT && e.isdisplayed())\n                    e.drawHighlighted(g, this.MusicGfx, this, xloc, this.YTOP + ((vnum * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE, this.VIEWSCALE);\n                evloc++;\n                if (evloc >= this.renderedSections[snum].eventinfo[vnum].size() || evloc > lastenum)\n                    done = true;\n            }\n            else\n                done = true;\n        }\n    }\n    /* highlight only one event within a multi-event? */\n    /* draw event */\n    /*------------------------------------------------------------------------\nMethod:    void unregisterListeners()\nOverrides: Gfx.ViewCanvas.unregisterListeners\nPurpose:   Remove all action/item/etc listeners when disposing of resources\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    unregisterListeners_1() {\n        this.removeKeyListener(this);\n        this.removeMouseListener(this);\n        this.removeMouseMotionListener(this);\n        this.removeFocusListener(this);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nScoreEditorCanvas.clipboard = null;\n/*------------------------------------------------------------------------\nClass:   EditorCursor\nExtends: -\nPurpose: Handles cursor data and thread-safe display\n------------------------------------------------------------------------*/\nclass EditorCursor {\n    /*----------------------------------------------------------------------*/\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: EditorCursor(ScoreEditorCanvas sec)\nPurpose:     Initialize cursor\nParameters:\n  Input:  ScoreEditorCanvas sec - canvas on which cursor is displayed\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(sec) {\n        /* cursor has been overdrawn by buffer repainting */\n        /* now display */\n        /*------------------------------------------------------------------------\n    Method:  void paintHighlight(Graphics2D g[,int diff_begin,int diff_end])\n    Purpose: Graphically highlight events\n    Parameters:\n      Input:  Graphics2D g            - graphical context for painting highlight\n              int diff_begin,diff_end - boundaries of currently painted highlight\n                                        (for painting only the difference)\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.highlightVisible = false;\n        this.canvas = sec;\n        this.sectionNum = 0;\n        this.voiceNum = this.canvas.getMusicData_1().getSection(this.sectionNum).getValidVoicenum(0);\n        this.eventnum = 0;\n        this.measurenum = 0;\n        this.score_xloc = (this.canvas_xloc = -1);\n        this.highlight_begin = -1;\n        this.multiEventHLindex = -1;\n        this.visible = false;\n        this.hidden = true;\n        this.lastredisplaynum = this.canvas.num_redisplays;\n    }\n    /* cursor display must be turned on explicitly */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getLocation() {\n        return new _java_awt_Point__WEBPACK_IMPORTED_MODULE_7__.Point(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorX()), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorYTop_2()));\n    }\n    getSectionNum() {\n        return this.sectionNum;\n    }\n    getVoiceNum() {\n        return this.voiceNum;\n    }\n    getEventNum() {\n        return this.eventnum;\n    }\n    getCanvasXloc() {\n        return this.canvas_xloc;\n    }\n    isHidden() {\n        return this.hidden;\n    }\n    getHighlightBegin() {\n        return this.highlight_begin;\n    }\n    getHighlightEnd() {\n        return this.highlight_end;\n    }\n    oneItemHighlighted() {\n        return this.highlight_begin != -1 && this.highlight_begin == this.highlight_end;\n    }\n    getMultiEventHLindex() {\n        return this.multiEventHLindex;\n    }\n    /*------------------------------------------------------------------------\nMethods: set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attribute values\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /* should only be called when cursor is hidden, about to be recalculated */\n    setSectionNum(i) {\n        this.sectionNum = i;\n    }\n    setVoicenum(i) {\n        this.voiceNum = i;\n    }\n    setEventNum(i) {\n        this.eventnum = i;\n    }\n    resetMultiEventHLindex() {\n        this.multiEventHLindex = -1;\n    }\n    /*------------------------------------------------------------------------\nMethods: calc*()\nPurpose: Routines to calculate drawing parameters\nParameters:\n  Input:  -\n  Output: -\n  Return: parameters\n------------------------------------------------------------------------*/\n    calcCursorX() {\n        return this.canvas_xloc + 2 * this.canvas.VIEWSCALE;\n    }\n    calcCursorYTop_1(vn) {\n        return this.canvas.YTOP + (((((((vn * this.canvas.STAFFSCALE) | 0) * this.canvas.STAFFSPACING) | 0) - this.canvas.STAFFSCALE) | 0)) * this.canvas.VIEWSCALE;\n    }\n    calcCursorYTop_2() {\n        return this.calcCursorYTop_1(this.voiceNum);\n    }\n    calcCursorYSize() {\n        return ((this.canvas.STAFFSCALE * 6) | 0) * this.canvas.VIEWSCALE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void hideCursor()\nPurpose: Disable cursor display\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    hideCursor() {\n        while (this.visible)\n            this.toggleCursor();\n        this.hidden = true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void showCursor()\nPurpose: Enable cursor display\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    showCursor() {\n        if (!this.canvas.focused)\n            return;\n        this.hidden = false;\n        if (this.visible)\n            return;\n        this.calc_xlocs();\n        this.visible = false;\n        this.toggleCursor();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void toggleCursor()\nPurpose: Draw or erase cursor at current location\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toggleCursor() {\n        if (this.hidden || this.canvas.repaintingbuffer > 0 || this.offScreenX() || this.highlight_begin != -1) {\n            this.visible = false;\n            return;\n        }\n        if (this.canvas.num_redisplays != this.lastredisplaynum)\n            this.visible = false;\n        let g = this.canvas.getbufferg2d();\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        g.setXORMode(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n        g.fillRect(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorX()), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorYTop_2()), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(2 * this.canvas.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorYSize()));\n        g.setPaintMode();\n        this.visible = !this.visible;\n        this.canvas.repaint(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorX()), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorYTop_2() - this.canvas.VIEWYSTART), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(2 * this.canvas.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorYSize()));\n        this.lastredisplaynum = this.canvas.num_redisplays;\n    }\n    paintHighlight_1(g) {\n        if (this.highlight_begin == -1)\n            return;\n        let leftx = this.calcevleftx(this.sectionNum, this.voiceNum, this.highlight_begin);\n        let rightx = this.calcevrightx(this.sectionNum, this.voiceNum, this.highlight_end);\n        let ytop = this.calcCursorYTop_2();\n        let ysize = this.calcCursorYSize();\n        this.drawHL(g, leftx, rightx, ytop, ysize);\n        if (!this.highlightVisible)\n            this.canvas.drawHighlightedEvents(g, this.sectionNum, this.voiceNum, this.highlight_begin, this.highlight_end);\n        else\n            this.canvas.parentwin.updatemusicgfx = true;\n        this.canvas.repaint();\n        this.highlightVisible = !this.highlightVisible;\n    }\n    /* nothing is highlighted */\n    /* calculate left and right screen coordinates of highlighted area */\n    //    canvas.repaint(leftx,ytop,rightx-leftx,ysize);\n    paintHighlight_2(g, diff_begin, diff_end) {\n        let newleftx = this.calcevleftx(this.sectionNum, this.voiceNum, this.highlight_begin);\n        let newrightx = this.calcevrightx(this.sectionNum, this.voiceNum, this.highlight_end);\n        let diffleftx = this.calcevleftx(this.sectionNum, this.voiceNum, diff_begin);\n        let diffrightx = this.calcevrightx(this.sectionNum, this.voiceNum, diff_end);\n        let leftx1 = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.min(newleftx, diffleftx);\n        let leftx2 = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(newleftx, diffleftx);\n        let rightx1 = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.min(newrightx, diffrightx);\n        let rightx2 = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(newrightx, diffrightx);\n        let ytop = this.calcCursorYTop_2();\n        let ysize = this.calcCursorYSize();\n        this.drawHL(g, leftx1, leftx2, ytop, ysize);\n        this.drawHL(g, rightx1, rightx2, ytop, ysize);\n        this.canvas.parentwin.updatemusicgfx = true;\n        this.canvas.repaint();\n    }\n    /* calculate left and right screen coordinates of highlighted area */\n    /* draw difference between old and new highlights */\n    //    canvas.drawHighlightedEvents(g,voiceNum,highlight_begin,highlight_end);\n    //    canvas.repaint(leftx1,ytop,rightx2-leftx1,ysize);\n    repaintHighlight(g) {\n        this.highlightVisible = false;\n        this.paintHighlight_1(g);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawHL(Graphics2D g,double leftx,double rightx,double ytop,double ysize)\nPurpose: Draw one highlight rectangle\nParameters:\n  Input:  Graphics2D g        - graphical context for painting highlight\n          double leftx,rightx - x bounds\n          double ytop,ysize   - y bounds\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawHL(g, leftx, rightx, ytop, ysize) {\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        g.setXORMode(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n        g.fillRect(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(leftx), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ytop), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(rightx - leftx), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ysize));\n        g.setPaintMode();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void highlightEvents(int sn,int vn,int firstenum,int lastenum)\nPurpose: Highlight one or more events\nParameters:\n  Input:  int sn,vn              - section/voice number\n          int firstenum,lastenum - indices of first and last events to be highlighted\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    highlightEvents(snum, vnum, firstenum, lastenum) {\n        if (this.canvas.renderedSections[snum].eventinfo[vnum].size() <= 1)\n            return;\n        if (this.visible)\n            this.toggleCursor();\n        let curhl_begin = this.highlight_begin;\n        let curhl_end = this.highlight_end;\n        this.highlight_begin = firstenum;\n        this.highlight_end = lastenum;\n        this.sectionNum = snum;\n        this.voiceNum = vnum;\n        this.eventnum = this.highlight_begin;\n        this.measurenum = this.canvas.renderedSections[snum].eventinfo[vnum].getEvent(this.eventnum).getmeasurenum();\n        this.calc_xlocs();\n        this.hidden = false;\n        if (curhl_begin != this.highlight_begin || curhl_end != this.highlight_end)\n            this.multiEventHLindex = -1;\n        let g = this.canvas.getbufferg2d();\n        if (curhl_begin == -1)\n            this.paintHighlight_1(g);\n        else\n            this.paintHighlight_2(g, curhl_begin, curhl_end);\n        if (this.offScreenX())\n            this.canvas.parentwin.gotomeasure(this.chooseNewMeasureNum());\n    }\n    /* no events to highlight */\n    /* save current highlight information */\n    /* change highlight and draw */\n    /* reset multi-event highlight */\n    /* create new highlight */\n    /* paint difference between old and new highlights */\n    /*------------------------------------------------------------------------\nMethod:  void shiftHighlightWithinMultiEvent(int offset)\nPurpose: Attempt to shift cursor position within multi-event\nParameters:\n  Input:  int offset - number of events to shift\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    shiftHighlightWithinMultiEvent(offset) {\n        let me = this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].getEvent(this.eventnum).getEvent_1();\n        this.multiEventHLindex += offset;\n        if (this.multiEventHLindex < 0)\n            this.multiEventHLindex = ((me.getNumEvents() - 1) | 0);\n        else if (this.multiEventHLindex >= me.getNumEvents())\n            this.multiEventHLindex = 0;\n        this.canvas.parentwin.updatemusicgfx = true;\n        this.canvas.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  double calcev[left|right]x(int sn,int vn,int en)\nPurpose: Calculate left or right coordinate of one event\nParameters:\n  Input:  int sn,vn - section/voice number\n          int en    - event number\n  Output: -\n  Return: left or right x-value\n------------------------------------------------------------------------*/\n    calcevleftx(sn, vn, en) {\n        let leftMeasureX = this.canvas.getMeasureX(this.canvas.curmeasure);\n        let ex = this.canvas.renderedSections[sn].getEventXLoc(vn, en);\n        let leftx = this.canvas.XLEFT + (((ex - leftMeasureX + 5) | 0)) * this.canvas.VIEWSCALE;\n        if (leftx < this.canvas.XLEFT)\n            leftx = this.canvas.XLEFT;\n        return leftx;\n    }\n    calcevrightx(sn, vn, en) {\n        let leftMeasureX = this.canvas.getMeasureX(this.canvas.curmeasure);\n        let ex = this.canvas.renderedSections[sn].getEventXLoc(vn, en);\n        let e = this.canvas.renderedSections[sn].eventinfo[vn].getEvent(en);\n        let rightx = this.canvas.XLEFT + (((ex - leftMeasureX + e.getrenderedxsize() + 1) | 0)) * this.canvas.VIEWSCALE;\n        if (rightx >= this.canvas.viewsize.width)\n            rightx = this.canvas.viewsize.width;\n        return rightx;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setNoHighlight()\nPurpose: Remove highlight (without repainting)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setNoHighlight() {\n        this.highlight_begin = -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void shiftCursorLoc(int xs,int vs)\nPurpose: Attempt to shift cursor position\nParameters:\n  Input:  int xs - number of events to go left/right\n          int vs - number of voices to go up/down\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    shiftCursorLoc(xs, vs) {\n        if (this.hidden)\n            return;\n        let newsnum;\n        let newvnum;\n        let neweventnum;\n        for (newvnum = ((this.voiceNum + vs) | 0); newvnum > 0 && newvnum < this.canvas.getCurSection().getNumVoices_1() && this.canvas.getCurSection().getVoice_1(newvnum) == null; newvnum += vs)\n            ;\n        if (this.highlight_begin == -1)\n            neweventnum = ((this.eventnum + xs) | 0);\n        else\n            neweventnum = xs > 0 ? ((this.highlight_end + xs) | 0) : this.highlight_begin;\n        if (newvnum < 0 || newvnum >= this.canvas.getCurSection().getNumVoices_1())\n            return;\n        if (vs != 0) {\n            if (this.offScreenX())\n                this.canvas.parentwin.gotomeasure(this.chooseNewMeasureNum());\n            this.newCursorLoc(this.canvas_xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.canvas.YTOP - this.canvas.VIEWYSTART + (((((newvnum * this.canvas.STAFFSCALE) | 0) * this.canvas.STAFFSPACING) | 0)) * this.canvas.VIEWSCALE));\n            return;\n        }\n        newsnum = this.sectionNum;\n        if (neweventnum < 0)\n            if (this.sectionNum == 0)\n                neweventnum = 0;\n            else {\n                newsnum--;\n                newvnum = this.canvas.renderedSections[newsnum].getSectionData().getValidVoicenum(newvnum);\n                neweventnum = ((this.canvas.renderedSections[newsnum].eventinfo[newvnum].size() - 1) | 0);\n            }\n        if (neweventnum >= this.canvas.renderedSections[newsnum].eventinfo[newvnum].size())\n            if (this.sectionNum == ((this.canvas.numSections - 1) | 0))\n                neweventnum = ((this.canvas.renderedSections[newsnum].eventinfo[newvnum].size() - 1) | 0);\n            else {\n                newsnum++;\n                newvnum = this.canvas.renderedSections[newsnum].getSectionData().getValidVoicenum(newvnum);\n                neweventnum = 0;\n            }\n        if (xs < 0)\n            while (neweventnum > 0 && !this.canvas.renderedSections[newsnum].eventinfo[newvnum].getEvent(neweventnum).isdisplayed())\n                neweventnum--;\n        else if (xs > 0)\n            while (neweventnum < this.canvas.renderedSections[newsnum].eventinfo[newvnum].size() && !this.canvas.renderedSections[newsnum].eventinfo[newvnum].getEvent(neweventnum).isdisplayed())\n                neweventnum++;\n        this.moveCursor(newsnum, newvnum, neweventnum);\n    }\n    /* deal with shift in voice number */\n    /* deal with shift in event number */\n    /* don't position cursor at undisplayed events (e.g., clefs which have been\n       replaced for display) */\n    /*------------------------------------------------------------------------\nMethod:  void modifyHighlight(int xs)\nPurpose: Attempt to expand or contract highlight\nParameters:\n  Input:  int xs - number of events to expand/contract left/right\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    modifyHighlight(xs) {\n        let neweventnum;\n        if (this.highlight_begin == -1) {\n            neweventnum = ((this.eventnum + xs) | 0);\n            if (neweventnum < 0 || neweventnum >= this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].size())\n                return;\n            this.canvas.setHLAnchor(this.eventnum);\n            this.highlightEvents(this.sectionNum, this.voiceNum, _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.min(this.eventnum, neweventnum), ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(this.eventnum, neweventnum) - 1) | 0));\n        }\n        else {\n            let hl_anchor = this.canvas.getHLAnchor();\n            if (this.highlight_begin >= hl_anchor)\n                neweventnum = ((((this.highlight_end + xs) | 0) + 1) | 0);\n            else\n                neweventnum = ((this.highlight_begin + xs) | 0);\n            if (neweventnum < 0)\n                neweventnum = 0;\n            if (neweventnum >= this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].size())\n                neweventnum = ((this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].size() - 1) | 0);\n            if (neweventnum == hl_anchor) {\n                this.moveCursor(this.sectionNum, this.voiceNum, neweventnum);\n                return;\n            }\n            this.highlightEvents(this.sectionNum, this.voiceNum, _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.min(hl_anchor, neweventnum), ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.max(hl_anchor, neweventnum) - 1) | 0));\n        }\n    }\n    /* remove highlight */\n    /*------------------------------------------------------------------------\nMethod:  void newCursorLoc(int x,int y)\nPurpose: Attempt to move cursor to a given XY position in canvas\nParameters:\n  Input:  int x - desired x position\n          int y - desired y position\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newCursorLoc(x, y) {\n        if (this.hidden)\n            return;\n        let newsnum = this.canvas.calcSectionNum(x);\n        let newvnum = this.canvas.calcVNum(newsnum, y);\n        let neweventnum = this.canvas.calcEventnum(newsnum, newvnum, x);\n        this.moveCursor(newsnum, newvnum, neweventnum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void moveCursor(int newsnum,int newvnum,int neweventnum)\nPurpose: Move cursor to a new position and display\nParameters:\n  Input:  int newsnum,newvnum,neweventnum - new cursor parameters\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveCursor(newsnum, newvnum, neweventnum) {\n        this.hideCursor();\n        if (this.highlight_begin != -1) {\n            this.paintHighlight_1(this.canvas.getbufferg2d());\n            this.highlight_begin = -1;\n        }\n        this.sectionNum = newsnum;\n        this.voiceNum = newvnum;\n        this.eventnum = neweventnum;\n        if (this.sectionNum >= this.canvas.renderedSections.length)\n            this.sectionNum = ((this.canvas.renderedSections.length - 1) | 0);\n        while (this.voiceNum >= 0 && this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum] == null)\n            this.voiceNum--;\n        if (this.voiceNum < 0) {\n            this.voiceNum = ((newvnum + 1) | 0);\n            while (this.voiceNum < this.canvas.renderedSections[this.sectionNum].eventinfo.length && this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum] == null)\n                this.voiceNum++;\n        }\n        if (this.eventnum >= this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].size())\n            this.eventnum = ((this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].size() - 1) | 0);\n        this.measurenum = this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].getEvent(this.eventnum).getmeasurenum();\n        this.calc_xlocs();\n        this.canvas.parentEditorWin.setSectionNum_2(this.sectionNum);\n        let osx = this.offScreenX();\n        let osy = this.offScreenY();\n        if (osx)\n            this.canvas.parentwin.gotomeasure(this.chooseNewMeasureNum());\n        if (osy)\n            this.canvas.parentwin.gotoHeight(this.choose_newHeight());\n        if (!(osx || osy))\n            this.showCursor();\n    }\n    /* unhighlight events */\n    /* ensure a valid location */\n    /*------------------------------------------------------------------------\nMethod:  void calc_xlocs()\nPurpose: Calculate x-location of cursor on canvas and score, based on\n         location in notation\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    calc_xlocs() {\n        this.score_xloc = ((this.canvas.renderedSections[this.sectionNum].getEventXLoc(this.voiceNum, this.eventnum) + 1) | 0);\n        this.canvas_xloc = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.canvas.XLEFT + (this.score_xloc - this.canvas.getMeasureX(this.canvas.curmeasure)) * this.canvas.VIEWSCALE);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean offScreenX()\nPurpose: Check whether cursor is out of visible display area (horizontal)\nParameters:\n  Input:  -\n  Output: -\n  Return: whether cursor is off-screen\n------------------------------------------------------------------------*/\n    offScreenX() {\n        let scrollXLEFT = this.canvas.XLEFT;\n        let curEventOff = this.canvas_xloc < scrollXLEFT || this.canvas_xloc >= this.canvas.viewsize.width - 5 * this.canvas.VIEWSCALE;\n        if (this.highlight_begin == -1 || this.highlight_begin == this.highlight_end)\n            return curEventOff;\n        else {\n            if (!curEventOff)\n                return false;\n            let right_xloc = (this.canvas.renderedSections[this.sectionNum].getEventXLoc(this.voiceNum, this.highlight_end) + 1) * this.canvas.VIEWSCALE;\n            let right_canvas_xloc = this.canvas.XLEFT + (right_xloc - this.canvas.getMeasureX(this.canvas.curmeasure)) * this.canvas.VIEWSCALE;\n            return right_canvas_xloc < scrollXLEFT || right_canvas_xloc >= this.canvas.viewsize.width - 5 * this.canvas.VIEWSCALE;\n        }\n    }\n    //canvas.curmeasure>0 ? canvas.XLEFT+leftmeasure.xlength : canvas.XLEFT;\n    /* single event */\n    /* multiple highlighted events */\n    /* left side of highlight is offscreen; is right? */\n    /*------------------------------------------------------------------------\nMethod:  boolean offScreenY()\nPurpose: Check whether cursor is out of visible display area (vertical)\nParameters:\n  Input:  -\n  Output: -\n  Return: whether cursor is off-screen\n------------------------------------------------------------------------*/\n    offScreenY() {\n        let ytop = this.calcCursorYTop_2();\n        let ybottom = ytop + this.calcCursorYSize();\n        if (_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ybottom) > this.canvas.VIEWYSTART + this.canvas.screensize.height || _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ytop) < this.canvas.VIEWYSTART)\n            return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int chooseNewMeasureNum()\nPurpose: Choose new measure for display, in order to return to current\n         cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: new measure number to go to\n------------------------------------------------------------------------*/\n    chooseNewMeasureNum() {\n        let newcursormnum = this.canvas.renderedSections[this.sectionNum].eventinfo[this.voiceNum].getEvent(this.eventnum).getmeasurenum();\n        if (newcursormnum <= this.canvas.curmeasure)\n            return newcursormnum > 0 ? ((newcursormnum - 1) | 0) : 0;\n        let xspace_covered = this.canvas.getMeasure(newcursormnum).xlength * this.canvas.VIEWSCALE;\n        let leftmn = ((newcursormnum - 1) | 0);\n        for (; leftmn >= 0 && xspace_covered < this.canvas.viewsize.width - 5 * this.canvas.VIEWSCALE - this.canvas.calcXLEFT(((leftmn + 1) | 0)); leftmn--)\n            xspace_covered += this.canvas.getMeasure(leftmn).xlength * this.canvas.VIEWSCALE;\n        if (xspace_covered >= this.canvas.viewsize.width - 5 * this.canvas.VIEWSCALE - this.canvas.calcXLEFT(((leftmn + 1) | 0)))\n            leftmn++;\n        let newLeftMeasureX = this.canvas.getMeasureX(((leftmn + 1) | 0));\n        let new_canvas_xloc = this.canvas.calcXLEFT(((leftmn + 1) | 0)) + (this.score_xloc - newLeftMeasureX) * this.canvas.VIEWSCALE;\n        while (new_canvas_xloc >= this.canvas.viewsize.width - 5 * this.canvas.VIEWSCALE) {\n            leftmn++;\n            newLeftMeasureX = this.canvas.getMeasureX(((leftmn + 1) | 0));\n            new_canvas_xloc = this.canvas.calcXLEFT(((leftmn + 1) | 0)) + (this.score_xloc - newLeftMeasureX) * this.canvas.VIEWSCALE;\n        }\n        return ((leftmn + 1) | 0);\n    }\n    /* to the left of the current display? put new measure near left; leave one\n       measure buffer zone to avoid backspacing over offscreen events\n       FIX: should this be modified so that there is always an event at the\n       left? (i.e., skip back two measures for a Longa etc.) */\n    /* otherwise put new measure at right side of screen */\n    /* correct for cursor past measure end */\n    /*------------------------------------------------------------------------\nMethod:  int choose_newHeight()\nPurpose: Choose new y-value for display, in order to return to current\n         cursor location\nParameters:\n  Input:  -\n  Output: -\n  Return: new y-val to go to\n------------------------------------------------------------------------*/\n    choose_newHeight() {\n        let ytop = this.calcCursorYTop_2();\n        let ybottom = ytop + this.calcCursorYSize();\n        let newval = 0;\n        if (_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ybottom) > this.canvas.VIEWYSTART + this.canvas.screensize.height)\n            newval = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(this.calcCursorYTop_1(((this.voiceNum + 1) | 0))) - this.canvas.screensize.height;\n        else if (_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ytop) < this.canvas.VIEWYSTART)\n            if (this.voiceNum == 0)\n                newval = 0;\n            else\n                newval = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ytop - ((this.canvas.STAFFSPACING * 3) | 0) * this.canvas.VIEWSCALE);\n        if (_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ybottom) > newval + this.canvas.screensize.height)\n            newval = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ybottom) - this.canvas.screensize.height;\n        if (_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ytop) < newval)\n            newval = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(ytop);\n        if (newval + this.canvas.screensize.height > this.canvas.viewsize.height)\n            newval = ((this.canvas.viewsize.height - this.canvas.screensize.height) | 0);\n        if (newval < 0)\n            newval = 0;\n        return newval;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/ScoreEditorCanvas.ts?");

/***/ }),

/***/ "./src/Editor/SectionAttribsFrame.ts":
/*!*******************************************!*\
  !*** ./src/Editor/SectionAttribsFrame.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SectionAttribsFrame: () => (/* binding */ SectionAttribsFrame)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _ColorationChooser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ColorationChooser */ \"./src/Editor/ColorationChooser.ts\");\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/awt/BorderLayout */ \"./src/java/awt/BorderLayout.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JTextField */ \"./src/javax/swing/JTextField.ts\");\n/* harmony import */ var _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/JOptionPane */ \"./src/javax/swing/JOptionPane.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DataStruct/MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n/* harmony import */ var _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Gfx/SelectionPanel */ \"./src/Gfx/SelectionPanel.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass SectionAttribsFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_8__.JDialog {\n    /* >0 while updating GUI (check to avoid marking\n                            file as modified when a new section is loaded) */\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: SectionAttribsFrame(EditorWin owner)\nPurpose:     Initialize and lay out frame\nParameters:\n  Input:  EditorWin owner - parent frame\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(owner) {\n        super(owner, \"Section attributes\", false);\n        this.mytype_ItemListener = true;\n        this.mytype_ActionListener = true;\n        this.curSectionNum = -1;\n        this.numVoices = 0;\n        this.curSection = null;\n        this.sectionInfoLock = 0;\n        this.owner = owner;\n        let cp = this.getContentPane();\n        let sectionInfoPanel = this.createSectionInfoPanel();\n        let voiceInfoPanel = this.createVoiceInfoPanel(owner.getMusicData_2().getVoiceData(), owner.getMusicData_2().getVariantVersionNames());\n        let controlPanel = this.createControlPanel();\n        let voiceInfoScrollPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_12__.JScrollPane(voiceInfoPanel);\n        let topPanels = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_7__.Box.createVerticalBox();\n        topPanels.add(sectionInfoPanel);\n        cp.add(topPanels, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__.BorderLayout.NORTH);\n        cp.add(voiceInfoScrollPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__.BorderLayout.CENTER);\n        cp.add(controlPanel, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__.BorderLayout.SOUTH);\n        this.pack();\n        this.registerListeners_3();\n    }\n    createSectionInfoPanel() {\n        let sectionInfoPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_6__.JPanel();\n        sectionInfoPanel.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let sic = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        sic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.LINE_START;\n        sectionInfoPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        let sectionNumHeaderLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Section number: \");\n        sectionNumHeaderLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.sectionNumLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"0\");\n        this.sectionNumLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        sic.gridy = 0;\n        sic.gridx = 0;\n        sectionInfoPanel.add(sectionNumHeaderLabel, sic);\n        sic.gridx = 1;\n        sectionInfoPanel.add(this.sectionNumLabel, sic);\n        let sectionEditorialLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Editorial \");\n        sectionEditorialLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.sectionEditorialCheckBox = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_11__.JCheckBox();\n        sic.gridy++;\n        sic.gridx = 0;\n        sectionInfoPanel.add(sectionEditorialLabel, sic);\n        sic.gridx = 1;\n        sectionInfoPanel.add(this.sectionEditorialCheckBox, sic);\n        let sectionSourceLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Principal source: \");\n        sectionSourceLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.sectionSourceField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_13__.JTextField(20);\n        sic.gridy++;\n        sic.gridx = 0;\n        sectionInfoPanel.add(sectionSourceLabel, sic);\n        sic.gridx = 1;\n        sectionInfoPanel.add(this.sectionSourceField, sic);\n        let sectionSourceNumLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Principal source ID no.: \");\n        sectionSourceNumLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.sectionSourceNumField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_13__.JTextField(5);\n        sic.gridy++;\n        sic.gridx = 0;\n        sectionInfoPanel.add(sectionSourceNumLabel, sic);\n        sic.gridx = 1;\n        sectionInfoPanel.add(this.sectionSourceNumField, sic);\n        let sectionColorationLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Coloration \");\n        sectionColorationLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        this.sectionColorationChooser = _ColorationChooser__WEBPACK_IMPORTED_MODULE_1__.ColorationChooser.new0_1();\n        sic.gridy++;\n        sic.gridx = 0;\n        sectionInfoPanel.add(sectionColorationLabel, sic);\n        sic.gridx = 1;\n        sectionInfoPanel.add(this.sectionColorationChooser, sic);\n        return sectionInfoPanel;\n    }\n    /* versions panel */\n    createVersionsPanel_1(versionNames) {\n        let versionsPanel = _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_17__.SelectionPanel.new1_3(\"Missing in version\", versionNames, _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_17__.SelectionPanel.CHECKBOX, 4);\n        versionsPanel.checkBoxes[0].setSelected(false);\n        versionsPanel.checkBoxes[0].setEnabled(false);\n        for (let i = 1; i < versionsPanel.checkBoxes.length; i++)\n            versionsPanel.checkBoxes[i].setSelected(false);\n        return versionsPanel;\n    }\n    createVoiceInfoPanel(voices, versionNames) {\n        this.numVoices = voices.length;\n        let voiceInfoPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_6__.JPanel();\n        voiceInfoPanel.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let vic = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        vic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.LINE_START;\n        voiceInfoPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createTitledBorder(\"Voices\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        let headingUsed = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\" \");\n        let headingNum = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"No. \");\n        let headingName = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Name\");\n        headingUsed.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        headingNum.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        headingName.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        vic.gridx = 0;\n        vic.gridy = 0;\n        voiceInfoPanel.add(headingUsed, vic);\n        vic.gridx = 1;\n        vic.gridy = 0;\n        voiceInfoPanel.add(headingNum, vic);\n        vic.gridx = 2;\n        vic.gridy = 0;\n        voiceInfoPanel.add(headingName, vic);\n        this.voiceUsedCheckBoxes = Array(this.numVoices);\n        this.voiceNumLabels = Array(this.numVoices);\n        this.voiceNameLabels = Array(this.numVoices);\n        this.voiceTacetLabels = Array(this.numVoices);\n        this.voiceTacetTexts = Array(this.numVoices);\n        this.voiceVersionsPanels = Array(this.numVoices);\n        for (let i = 0; i < this.numVoices; i++) {\n            this.voiceUsedCheckBoxes[i] = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_11__.JCheckBox();\n            this.voiceNumLabels[i] = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(`${i + 1}`);\n            this.voiceNumLabels[i].setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            this.voiceNameLabels[i] = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(voices[i].getName());\n            this.voiceNameLabels[i].setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            vic.gridx = 0;\n            vic.gridy = (((((i * SectionAttribsFrame.ROWS_PER_VOICE) | 0)) + 1) | 0);\n            voiceInfoPanel.add(this.voiceUsedCheckBoxes[i], vic);\n            vic.gridx = 1;\n            vic.gridy = (((((i * SectionAttribsFrame.ROWS_PER_VOICE) | 0)) + 1) | 0);\n            voiceInfoPanel.add(this.voiceNumLabels[i], vic);\n            vic.gridx = 2;\n            vic.gridy = (((((i * SectionAttribsFrame.ROWS_PER_VOICE) | 0)) + 1) | 0);\n            voiceInfoPanel.add(this.voiceNameLabels[i], vic);\n            this.voiceTacetLabels[i] = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_15__.JLabel(\"Tacet text: \");\n            this.voiceTacetLabels[i].setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            this.voiceTacetLabels[i].setEnabled(false);\n            this.voiceTacetTexts[i] = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_13__.JTextField(30);\n            this.voiceTacetTexts[i].setEnabled(false);\n            vic.gridx = 1;\n            vic.gridy = (((((i * SectionAttribsFrame.ROWS_PER_VOICE) | 0)) + 2) | 0);\n            voiceInfoPanel.add(this.voiceTacetLabels[i], vic);\n            vic.gridx = 2;\n            vic.gridy = (((((i * SectionAttribsFrame.ROWS_PER_VOICE) | 0)) + 2) | 0);\n            voiceInfoPanel.add(this.voiceTacetTexts[i], vic);\n            this.voiceVersionsPanels[i] = _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_17__.SelectionPanel.new1_3(\"Missing versions\", versionNames, _Gfx_SelectionPanel__WEBPACK_IMPORTED_MODULE_17__.SelectionPanel.CHECKBOX, 4);\n            this.voiceVersionsPanels[i].checkBoxes[0].setSelected(false);\n            this.voiceVersionsPanels[i].checkBoxes[0].setEnabled(false);\n            for (let ci = 1; ci < this.voiceVersionsPanels[i].checkBoxes.length; ci++)\n                this.voiceVersionsPanels[i].checkBoxes[ci].setSelected(false);\n            vic.gridwidth = 3;\n            vic.gridx = 1;\n            vic.gridy = (((((i * SectionAttribsFrame.ROWS_PER_VOICE) | 0)) + 3) | 0);\n            voiceInfoPanel.add(this.voiceVersionsPanels[i], vic);\n            vic.gridwidth = 1;\n        }\n        return voiceInfoPanel;\n    }\n    createControlPanel() {\n        let controlPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_6__.JPanel();\n        controlPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_9__.BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        this.sectionDeleteButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Delete section\");\n        this.sectionCombineButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_10__.JButton(\"Combine with next section\");\n        let buttonBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_7__.Box.createHorizontalBox();\n        buttonBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_7__.Box.createHorizontalGlue());\n        buttonBox.add(this.sectionDeleteButton);\n        buttonBox.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_7__.Box.createHorizontalStrut(10));\n        buttonBox.add(this.sectionCombineButton);\n        controlPanel.add(buttonBox);\n        return controlPanel;\n    }\n    //    buttonBox.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));\n    /*------------------------------------------------------------------------\nMethod:  void setLocation(int newx,int newy)\nPurpose: Position frame\nParameters:\n  Input:  int newx,newy - new location to attempt\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setLocation(newx, newy) {\n        let frameSize = this.getSize();\n        let screenSize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_2__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (((newx + frameSize.width) | 0) > screenSize.width)\n            newx = ((screenSize.width - frameSize.width) | 0);\n        if (((newy + frameSize.height) | 0) > screenSize.height)\n            newy = ((screenSize.height - frameSize.height) | 0);\n        super.setLocation(newx, newy);\n    }\n    /* position relative to event editor frame\n    int eox=eventEditorFrame.getLocation().x+eventEditorFrame.getSize().width,\n        eoy=eventEditorFrame.getLocation().y,*/\n    /*------------------------------------------------------------------------\nMethod:  void setSectionNum(int newSectionNum)\nPurpose: Update GUI if necessary to reflect correct section data\nParameters:\n  Input:  int newSectionNum - section number for display\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setSectionNum_1(newSectionNum) {\n        if (newSectionNum == this.curSectionNum)\n            return;\n        this.updateSectionGUI_1(newSectionNum);\n    }\n    updateSectionGUI_1(newSectionNum) {\n        this.sectionInfoLock++;\n        if (this.curSectionNum >= 0)\n            for (let vi = 0; vi < this.numVoices; vi++)\n                this.curSection.setTacetText(vi, this.voiceTacetTexts[vi].getText());\n        this.curSectionNum = newSectionNum;\n        this.curSection = this.owner.getMusicData_2().getSection(this.curSectionNum);\n        let voices = this.owner.getMusicData_2().getVoiceData();\n        this.sectionNumLabel.setText(`${this.curSectionNum + 1}` + \" (\" + _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_16__.MusicSection.sectionTypeNames[this.curSection.getSectionType()] + \")\");\n        this.sectionEditorialCheckBox.setSelected(this.curSection.isEditorial());\n        let sourceName = this.curSection.getPrincipalSource();\n        let sourceNum = this.curSection.getPrincipalSourceNum();\n        if (sourceName != null) {\n            this.sectionSourceField.setText(sourceName);\n            this.sectionSourceNumField.setText(sourceNum > 0 ? `${sourceNum}` : \"\");\n        }\n        else {\n            this.sectionSourceField.setText(\"\");\n            this.sectionSourceNumField.setText(\"\");\n        }\n        this.sectionColorationChooser.setIndices_1(this.curSection.getBaseColoration());\n        for (let vi = 0; vi < this.numVoices; vi++) {\n            let curVoice = this.curSection.getVoice_1(vi);\n            this.voiceTacetTexts[vi].setText(\"\");\n            if (curVoice == null) {\n                this.voiceUsedCheckBoxes[vi].setSelected(false);\n                this.voiceNumLabels[vi].setEnabled(false);\n                this.voiceNameLabels[vi].setEnabled(false);\n                this.voiceTacetLabels[vi].setEnabled(true);\n                this.voiceTacetTexts[vi].setEnabled(true);\n                for (let cb of this.voiceVersionsPanels[vi].checkBoxes) {\n                    cb.setSelected(false);\n                    cb.setEnabled(false);\n                }\n            }\n            else {\n                this.voiceUsedCheckBoxes[vi].setSelected(true);\n                this.voiceNumLabels[vi].setEnabled(true);\n                this.voiceNameLabels[vi].setEnabled(true);\n                this.voiceTacetLabels[vi].setEnabled(false);\n                this.voiceTacetTexts[vi].setEnabled(false);\n                for (let cb of this.voiceVersionsPanels[vi].checkBoxes) {\n                    cb.setSelected(false);\n                    cb.setEnabled(true);\n                }\n                for (let vvd of this.curSection.getVoice_1(vi).getMissingVersions())\n                    this.voiceVersionsPanels[vi].checkBoxes[vvd.getNumInList()].setSelected(true);\n            }\n        }\n        for (let ti of this.curSection.getTacetInfo())\n            this.voiceTacetTexts[ti.voiceNum].setText(ti.tacetText);\n        this.enableOrDisableVoiceUsedCheckBoxes();\n        let numSections = this.owner.getMusicData_2().getSections().size();\n        this.sectionDeleteButton.setEnabled(numSections > 1);\n        this.sectionCombineButton.setEnabled(this.curSectionNum < (((numSections - 1) | 0)) && this.curSection.getSectionType() == this.owner.getMusicData_2().getSection(((this.curSectionNum + 1) | 0)).getSectionType());\n        this.sectionInfoLock--;\n    }\n    /* control panel */\n    /*------------------------------------------------------------------------\nMethod:  boolean confirmVoiceDelete(int vnum)\nPurpose: Request user confirmation before deleting voice from section\nParameters:\n  Input:  int vnum - number of voice to delete\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    confirmVoiceDelete(vnum) {\n        let confirmOption = _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.showConfirmDialog(this, \"Remove voice \" + (((vnum + 1) | 0)) + \" from section? (This will delete all music associated with this voice in this section)\", \"Voice deletion\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.YES_NO_OPTION, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.WARNING_MESSAGE);\n        switch (confirmOption) {\n            case _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.YES_OPTION:\n                {\n                    return true;\n                }\n            case _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.NO_OPTION:\n                {\n                    return false;\n                }\n        }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void enableOrDisableVoiceUsedCheckBoxes()\nPurpose: Update GUI to enable or disable check boxes to allow or disallow\n         deleting of voices from a section\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableOrDisableVoiceUsedCheckBoxes() {\n        if (this.curSection.getNumVoicesUsed() == 1)\n            this.voiceUsedCheckBoxes[this.curSection.getValidVoicenum(0)].setEnabled(false);\n        else\n            for (let i = 0; i < this.numVoices; i++)\n                if (!this.voiceUsedCheckBoxes[i].isEnabled())\n                    this.voiceUsedCheckBoxes[i].setEnabled(true);\n    }\n    /* don't allow last voice to be removed */\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu/tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    fileModified_1() {\n        if (this.sectionInfoLock == 0)\n            this.owner.fileModified_2();\n    }\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.sectionSourceField) {\n            this.curSection.setPrincipalSource(this.sectionSourceField.getText());\n            this.fileModified_1();\n        }\n        else if (item == this.sectionSourceNumField) {\n            this.curSection.setPrincipalSourceNum(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__.Integer.parseInt(this.sectionSourceNumField.getText()));\n            this.fileModified_1();\n        }\n        else if (item == this.sectionDeleteButton) {\n            let confirmOption = _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.showConfirmDialog(this, \"Delete section \" + (((this.curSectionNum + 1) | 0)) + \"?\", \"Section deletion\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.YES_NO_OPTION, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.WARNING_MESSAGE);\n            if (confirmOption == _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.YES_OPTION)\n                this.owner.deleteSection_2(this.curSectionNum);\n        }\n        else if (item == this.sectionCombineButton) {\n            let confirmOption = _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.showConfirmDialog(this, \"Combine sections \" + (((this.curSectionNum + 1) | 0)) + \" and \" + (((this.curSectionNum + 2) | 0)) + \"?\", \"Section combination\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.YES_NO_OPTION, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.WARNING_MESSAGE);\n            if (confirmOption == _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_14__.JOptionPane.YES_OPTION)\n                this.owner.combineSectionWithNext_2();\n        }\n        for (let vi = 0; vi < this.numVoices; vi++)\n            if (item == this.voiceTacetTexts[vi]) {\n                this.curSection.setTacetText(vi, this.voiceTacetTexts[vi].getText());\n                this.owner.rerendermusic = true;\n                this.owner.repaint();\n                this.fileModified_1();\n            }\n    }\n    /*------------------------------------------------------------------------\nMethod:     void itemStateChanged(ItemEvent event)\nImplements: ItemListener.itemStateChanged\nPurpose:    Check for item state changes in menu and take appropriate action\nParameters:\n  Input:  ItemEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    itemStateChanged(event) {\n        if (this.sectionInfoLock > 0)\n            return;\n        let item = event.getItemSelectable();\n        if (item == this.sectionEditorialCheckBox)\n            if (this.curSection.isEditorial() != this.sectionEditorialCheckBox.isSelected()) {\n                this.curSection.setEditorial(this.sectionEditorialCheckBox.isSelected());\n                this.fileModified_1();\n            }\n        if (this.sectionColorationChooser.itemSelected(item)) {\n            let newColoration = this.sectionColorationChooser.createColoration();\n            if (!this.curSection.getBaseColoration().equals(newColoration)) {\n                this.curSection.setBaseColoration(newColoration);\n                this.fileModified_1();\n                this.owner.getMusicData_2().recalcAllEventParams();\n                this.owner.rerendermusic = true;\n                this.owner.repaint();\n            }\n        }\n        for (let vi = 0; vi < this.numVoices; vi++)\n            if (item == this.voiceUsedCheckBoxes[vi]) {\n                let isUsed = this.voiceUsedCheckBoxes[vi].isSelected();\n                if ((this.curSection.getVoice_1(vi) != null) != isUsed) {\n                    if (!isUsed && !this.confirmVoiceDelete(vi)) {\n                        this.voiceUsedCheckBoxes[vi].setSelected(true);\n                        return;\n                    }\n                    this.owner.setVoiceUsedInSection(this.curSectionNum, vi, isUsed);\n                    this.fileModified_1();\n                    this.voiceNumLabels[vi].setEnabled(isUsed);\n                    this.voiceNameLabels[vi].setEnabled(isUsed);\n                    this.voiceTacetLabels[vi].setEnabled(!isUsed);\n                    this.voiceTacetTexts[vi].setEnabled(!isUsed);\n                    for (let i = 0; i < this.voiceVersionsPanels[vi].checkBoxes.length; i++)\n                        this.voiceVersionsPanels[vi].checkBoxes[i].setEnabled(isUsed);\n                    this.enableOrDisableVoiceUsedCheckBoxes();\n                }\n            }\n            else\n                for (let i = 0; i < this.voiceVersionsPanels[vi].checkBoxes.length; i++)\n                    if (item == this.voiceVersionsPanels[vi].checkBoxes[i] && this.curSection.getVoice_1(vi) != null) {\n                        let vvd = this.owner.getMusicData_2().getVariantVersion_1(i);\n                        if (this.curSection.getVoice_1(vi).getMissingVersions().contains(vvd) != this.voiceVersionsPanels[vi].checkBoxes[i].isSelected()) {\n                            if (this.voiceVersionsPanels[vi].checkBoxes[i].isSelected())\n                                this.curSection.addMissingVersion(vi, vvd);\n                            else\n                                this.curSection.removeMissingVersion(vi, vvd);\n                            this.fileModified_1();\n                            this.owner.reconstructCurrentVersion();\n                            this.owner.repaint();\n                        }\n                    }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void (un)registerListeners()\nPurpose: Register/unregister GUI listeners (register and unregister should match)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ownerSetSectionsMenuDisplaySectionAttribs(newval) {\n        this.owner.setSectionsMenuDisplaySectionAttribs(newval);\n    }\n    registerListeners_3() {\n        this.sectionEditorialCheckBox.addItemListener(this);\n        this.sectionSourceField.addActionListener(this);\n        this.sectionSourceNumField.addActionListener(this);\n        this.sectionColorationChooser.addListener(this);\n        for (let vi = 0; vi < this.numVoices; vi++) {\n            this.voiceUsedCheckBoxes[vi].addItemListener(this);\n            this.voiceTacetTexts[vi].addActionListener(this);\n            this.voiceVersionsPanels[vi].registerListeners_1(this);\n        }\n        this.sectionDeleteButton.addActionListener(this);\n        this.sectionCombineButton.addActionListener(this);\n        this.addWindowListener({\n            windowClosing: (event) => {\n                this.ownerSetSectionsMenuDisplaySectionAttribs(false);\n            }\n        });\n    }\n    /*\n    private WindowFocusListener[] getListeners(Object o) //CHANGE\n    {\n        throw new RuntimeException();\n    }*/\n    unregisterListeners_6() {\n        this.sectionEditorialCheckBox.removeItemListener(this);\n        this.sectionSourceField.removeActionListener(this);\n        this.sectionSourceNumField.removeActionListener(this);\n        this.sectionColorationChooser.removeListener(this);\n        for (let vi = 0; vi < this.numVoices; vi++) {\n            this.voiceUsedCheckBoxes[vi].removeItemListener(this);\n            this.voiceTacetTexts[vi].removeActionListener(this);\n            this.voiceVersionsPanels[vi].unregisterListeners_2(this);\n        }\n        this.sectionDeleteButton.removeActionListener(this);\n        this.sectionCombineButton.removeActionListener(this);\n        for (let w of this.getListeners(\"WindowListener\"))\n            this.removeWindowListener(w);\n    }\n}\nSectionAttribsFrame.ROWS_PER_VOICE = 3;\n\n\n//# sourceURL=webpack://cmme/./src/Editor/SectionAttribsFrame.ts?");

/***/ }),

/***/ "./src/Editor/TextDeleteDialog.ts":
/*!****************************************!*\
  !*** ./src/Editor/TextDeleteDialog.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextDeleteDialog: () => (/* binding */ TextDeleteDialog)\n/* harmony export */ });\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n\n\n\n\n\n\n\n\nclass TextDeleteDialog extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_3__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: TextDeleteDialog(EditorWin owner)\nPurpose:     Initialize and lay out frame\nParameters:\n  Input:  EditorWin owner - parent frame\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(owner) {\n        super(owner, \"Delete text\", true);\n        this.mytype_ActionListener = true;\n        this.owner = owner;\n        this.musicData = owner.getMusicData_2();\n        this.initLayout();\n    }\n    initLayout() {\n        let cp = this.getContentPane();\n        cp.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout(cp, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout.Y_AXIS));\n        this.createPanels_1();\n        this.addPanelsToLayout_1(cp);\n        this.registerListeners_2();\n        this.pack();\n        this.setLocationRelativeTo(this.owner);\n        this.setVisible(true);\n    }\n    createPanels_1() {\n        this.allPanels = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__.LinkedList();\n        this.allPanels.add(this.createVoicesPanel());\n        this.allPanels.add(this.createButtonPane_1());\n    }\n    addPanelsToLayout_1(cp) {\n        for (let p of this.allPanels)\n            cp.add(p);\n    }\n    createVoicesPanel() {\n        let numVoices = this.musicData.getVoiceData().length;\n        let voicesPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel();\n        voicesPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout(voicesPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout.Y_AXIS));\n        this.voiceCheckBoxes = Array(numVoices);\n        let numVoiceLevels = ((this.voiceCheckBoxes.length / TextDeleteDialog.VOICE_BOXES_PER_ROW) | 0);\n        if (this.voiceCheckBoxes.length % TextDeleteDialog.VOICE_BOXES_PER_ROW != 0)\n            numVoiceLevels++;\n        let voiceBoxesPanes = Array(numVoiceLevels);\n        let curBox = -1;\n        for (let i = 0; i < this.voiceCheckBoxes.length; i++) {\n            if (i % TextDeleteDialog.VOICE_BOXES_PER_ROW == 0)\n                voiceBoxesPanes[(++curBox)] = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalBox();\n            this.voiceCheckBoxes[i] = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_7__.JCheckBox(`${i + 1}`);\n            this.voiceCheckBoxes[i].setSelected(true);\n            voiceBoxesPanes[curBox].add(this.voiceCheckBoxes[i]);\n            voiceBoxesPanes[curBox].add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalStrut(5));\n        }\n        for (let b of voiceBoxesPanes) {\n            b.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalGlue());\n            b.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            voicesPanel.add(b);\n        }\n        voicesPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createTitledBorder(\"Voices\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        return voicesPanel;\n    }\n    createButtonPane_1() {\n        this.OKButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_6__.JButton(\"Delete\");\n        this.cancelButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_6__.JButton(\"Cancel\");\n        let buttonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalBox();\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalGlue());\n        buttonPane.add(this.OKButton);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_2__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.cancelButton);\n        buttonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        return buttonPane;\n    }\n    /* action buttons */\n    /*------------------------------------------------------------------------\nMethod:  void deleteText()\nPurpose: Delete text according to selected GUI parameters\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*abstract*/\n    deleteText_1() {\n    }\n    //CHANGE\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in GUI and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.OKButton) {\n            this.deleteText_1();\n            this.closeDialog();\n        }\n        else if (item == this.cancelButton)\n            this.closeDialog();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void closeDialog()\nPurpose: Clean up and disappear\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    closeDialog() {\n        this.setVisible(false);\n        this.unregisterListeners_5();\n        this.dispose();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void (un)registerListeners()\nPurpose: Register/unregister GUI listeners (register and unregister should match)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    registerListeners_2() {\n        this.OKButton.addActionListener(this);\n        this.cancelButton.addActionListener(this);\n    }\n    unregisterListeners_5() {\n        this.OKButton.removeActionListener(this);\n        this.cancelButton.removeActionListener(this);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nTextDeleteDialog.VOICE_BOXES_PER_ROW = 12;\n\n\n//# sourceURL=webpack://cmme/./src/Editor/TextDeleteDialog.ts?");

/***/ }),

/***/ "./src/Editor/TextEditorFrame.ts":
/*!***************************************!*\
  !*** ./src/Editor/TextEditorFrame.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextEditorFrame: () => (/* binding */ TextEditorFrame)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/Event */ \"./src/java/awt/Event.ts\");\n/* harmony import */ var _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/event/KeyEvent */ \"./src/java/awt/event/KeyEvent.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/KeyStroke */ \"./src/javax/swing/KeyStroke.ts\");\n/* harmony import */ var _javax_swing_JTabbedPane__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/JTabbedPane */ \"./src/javax/swing/JTabbedPane.ts\");\n/* harmony import */ var _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/JComboBox */ \"./src/javax/swing/JComboBox.ts\");\n/* harmony import */ var _javax_swing_JTextPane__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JTextPane */ \"./src/javax/swing/JTextPane.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _javax_swing_text_DefaultEditorKit__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/text/DefaultEditorKit */ \"./src/javax/swing/text/DefaultEditorKit.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass TextEditorFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_5__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  int get[Syllable|Phrase][Begin|End](String text,int curPos)\nPurpose: Get index of current syllable/phrase beginning or end in a string\n         (delimited in original texting by @, in modern texting by space or -)\nParameters:\n  Input:  String text - text to check\n          int curPos  - index within string to check\n  Output: -\n  Return: index of beginning or end\n------------------------------------------------------------------------*/\n    static isOriginalTextChar(c) {\n        if (c == \"@\" || c == \"\\n\")\n            return false;\n        return true;\n    }\n    static getPhraseBegin(text, curPos) {\n        for (; curPos > 0 && TextEditorFrame.isOriginalTextChar(text.charAt(((curPos - 1) | 0))); curPos--)\n            ;\n        return curPos;\n    }\n    static getPhraseEnd(text, curPos) {\n        for (; curPos < text.length && TextEditorFrame.isOriginalTextChar(text.charAt(curPos)); curPos++)\n            ;\n        return curPos;\n    }\n    static isModernTextChar(c) {\n        if (c == \" \" || c == \"-\" || c == \"\\n\")\n            return false;\n        return true;\n    }\n    static getSyllableBegin(text, curPos) {\n        for (; curPos > 0 && TextEditorFrame.isModernTextChar(text.charAt(((curPos - 1) | 0))); curPos--)\n            ;\n        return curPos;\n    }\n    static getSyllableEnd(text, curPos) {\n        for (; curPos < text.length && TextEditorFrame.isModernTextChar(text.charAt(curPos)); curPos++)\n            ;\n        return curPos;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: TextEditorFrame(EditorWin owner)\nPurpose:     Init GUI\nParameters:\n  Input:  EditorWin owner - parent frame\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(owner) {\n        super(owner, \"Text\", false);\n        this.mytype_ActionListener = true;\n        this.owner = owner;\n        let tecp = this.getContentPane();\n        tecp.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout(tecp, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout.Y_AXIS));\n        let textingChoiceTabs = new _javax_swing_JTabbedPane__WEBPACK_IMPORTED_MODULE_10__.JTabbedPane();\n        let originalTextingPanel;\n        let modernTextingPanel;\n        originalTextingPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__.JPanel();\n        originalTextingPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout(originalTextingPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout.Y_AXIS));\n        let scrapTextPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__.JPanel();\n        scrapTextPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createTitledBorder(\"Scrap text area\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        this.origScrapTextArea = new _javax_swing_JTextPane__WEBPACK_IMPORTED_MODULE_12__.JTextPane();\n        this.origScrapTextArea.getDocument().putProperty(_javax_swing_text_DefaultEditorKit__WEBPACK_IMPORTED_MODULE_15__.DefaultEditorKit.EndOfLineStringProperty, \"\\n\");\n        let origScrapTextScrollPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__.JScrollPane(this.origScrapTextArea);\n        origScrapTextScrollPane.setPreferredSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_0__.Dimension(400, 250));\n        origScrapTextScrollPane.setMinimumSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_0__.Dimension(10, 10));\n        scrapTextPanel.add(origScrapTextScrollPane);\n        this.loadOrigTextButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\"Load scrap text from voice:\");\n        this.loadOrigTextComboBox = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_11__.JComboBox();\n        owner.loadVoiceNamesInComboBox(this.loadOrigTextComboBox);\n        let topButtonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalBox();\n        topButtonPane.add(this.loadOrigTextButton);\n        topButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalStrut(10));\n        topButtonPane.add(this.loadOrigTextComboBox);\n        topButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalGlue());\n        topButtonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        this.insertPhraseButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\"Insert phrase\");\n        let bottomButtonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalBox();\n        bottomButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalGlue());\n        bottomButtonPane.add(this.insertPhraseButton);\n        bottomButtonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        originalTextingPanel.add(topButtonPane);\n        originalTextingPanel.add(scrapTextPanel);\n        originalTextingPanel.add(bottomButtonPane);\n        modernTextingPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__.JPanel();\n        modernTextingPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout(modernTextingPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout.Y_AXIS));\n        this.loadModTextButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\"Load scrap text from voice:\");\n        this.loadModTextComboBox = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_11__.JComboBox();\n        owner.loadVoiceNamesInComboBox(this.loadModTextComboBox);\n        topButtonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalBox();\n        topButtonPane.add(this.loadModTextButton);\n        topButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalStrut(10));\n        topButtonPane.add(this.loadModTextComboBox);\n        topButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalGlue());\n        topButtonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        scrapTextPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__.JPanel();\n        scrapTextPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createTitledBorder(\"Scrap text area\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        this.modScrapTextArea = new _javax_swing_JTextPane__WEBPACK_IMPORTED_MODULE_12__.JTextPane();\n        this.modScrapTextArea.getDocument().putProperty(_javax_swing_text_DefaultEditorKit__WEBPACK_IMPORTED_MODULE_15__.DefaultEditorKit.EndOfLineStringProperty, \"\\n\");\n        let scrapTextScrollPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_13__.JScrollPane(this.modScrapTextArea);\n        scrapTextScrollPane.setPreferredSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_0__.Dimension(400, 250));\n        scrapTextScrollPane.setMinimumSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_0__.Dimension(10, 10));\n        scrapTextPanel.add(scrapTextScrollPane);\n        this.removeSyllButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\"Remove Syllable\");\n        this.setSyllButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\"Set Syllable\");\n        this.noteLeftButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\"<\");\n        this.noteRightButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_8__.JButton(\">\");\n        bottomButtonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalBox();\n        bottomButtonPane.add(this.noteLeftButton);\n        bottomButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalStrut(10));\n        bottomButtonPane.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_14__.JLabel(\"Note\"));\n        bottomButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalStrut(10));\n        bottomButtonPane.add(this.noteRightButton);\n        bottomButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalGlue());\n        bottomButtonPane.add(this.removeSyllButton);\n        bottomButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalStrut(10));\n        bottomButtonPane.add(this.setSyllButton);\n        bottomButtonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_6__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        this.modScrapTextArea.getInputMap().put(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_9__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_2__.KeyEvent.VK_ENTER, _java_awt_Event__WEBPACK_IMPORTED_MODULE_1__.Event.CTRL_MASK), \"SetSyllable\");\n        this.modScrapTextArea.getInputMap().put(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_9__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_2__.KeyEvent.VK_RIGHT, _java_awt_Event__WEBPACK_IMPORTED_MODULE_1__.Event.CTRL_MASK), \"NoteRight\");\n        this.modScrapTextArea.getInputMap().put(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_9__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_2__.KeyEvent.VK_KP_RIGHT, _java_awt_Event__WEBPACK_IMPORTED_MODULE_1__.Event.CTRL_MASK), \"NoteRight\");\n        this.modScrapTextArea.getInputMap().put(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_9__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_2__.KeyEvent.VK_LEFT, _java_awt_Event__WEBPACK_IMPORTED_MODULE_1__.Event.CTRL_MASK), \"NoteLeft\");\n        this.modScrapTextArea.getInputMap().put(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_9__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_2__.KeyEvent.VK_KP_LEFT, _java_awt_Event__WEBPACK_IMPORTED_MODULE_1__.Event.CTRL_MASK), \"NoteLeft\");\n        this.modScrapTextArea.getActionMap().put(\"SetSyllable\", {\n            /* original/modern texting choice */\n            /* original texting panel */\n            /* modern texting panel */\n            /* action buttons */\n            actionPerformed: (e) => {\n                this.setSyllButton.doClick();\n            }\n        });\n        this.modScrapTextArea.getActionMap().put(\"NoteRight\", {\n            actionPerformed: (e) => {\n                this.noteRightButton.doClick();\n            }\n        });\n        this.modScrapTextArea.getActionMap().put(\"NoteLeft\", {\n            actionPerformed: (e) => {\n                this.noteLeftButton.doClick();\n            }\n        });\n        modernTextingPanel.add(topButtonPane);\n        modernTextingPanel.add(scrapTextPanel);\n        modernTextingPanel.add(bottomButtonPane);\n        textingChoiceTabs.addTab(\"Original texting\", originalTextingPanel);\n        textingChoiceTabs.addTab(\"Modern texting\", modernTextingPanel);\n        tecp.add(textingChoiceTabs);\n        this.disableSetSyllable();\n        this.disableRemoveSyllable();\n        this.registerListeners_4();\n        this.pack();\n    }\n    //    tecp.add(voiceTextAreasPanel);\n    //    disableTextEditorInsertPhrase();\n    /*------------------------------------------------------------------------\nMethod:  void [un]registerListeners()\nPurpose: Add and remove event listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    registerListeners_4() {\n        this.insertPhraseButton.addActionListener(this);\n        this.removeSyllButton.addActionListener(this);\n        this.setSyllButton.addActionListener(this);\n        this.noteLeftButton.addActionListener(this);\n        this.noteRightButton.addActionListener(this);\n        this.loadOrigTextButton.addActionListener(this);\n        this.loadModTextButton.addActionListener(this);\n    }\n    unregisterListeners_7() {\n        this.insertPhraseButton.removeActionListener(this);\n        this.removeSyllButton.removeActionListener(this);\n        this.setSyllButton.removeActionListener(this);\n        this.noteLeftButton.removeActionListener(this);\n        this.noteRightButton.removeActionListener(this);\n        this.loadOrigTextButton.removeActionListener(this);\n        this.loadModTextButton.removeActionListener(this);\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.insertPhraseButton)\n            this.insertOriginalTextPhrase();\n        else if (item == this.setSyllButton)\n            this.applyTextSyllableToNote();\n        else if (item == this.removeSyllButton)\n            this.removeTextSyllableFromNote();\n        else if (item == this.noteLeftButton)\n            this.owner.highlightPreviousNote();\n        else if (item == this.noteRightButton)\n            this.owner.highlightNextNote();\n        else if (item == this.loadOrigTextButton)\n            this.loadOriginalText(this.owner.voiceOrigTextToStr(this.loadOrigTextComboBox.getSelectedIndex()));\n        else if (item == this.loadModTextButton)\n            this.loadModernText(this.owner.voiceModTextToStr(this.loadModTextComboBox.getSelectedIndex()));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [enable|disable]*()\nPurpose: Enable or disable capability to use individual buttons\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    enableInsertPhrase() {\n        this.insertPhraseButton.setEnabled(true);\n    }\n    disableInsertPhrase() {\n        this.insertPhraseButton.setEnabled(false);\n    }\n    enableSetSyllable() {\n        this.setSyllButton.setEnabled(true);\n    }\n    disableSetSyllable() {\n        this.setSyllButton.setEnabled(false);\n    }\n    enableRemoveSyllable() {\n        this.removeSyllButton.setEnabled(true);\n    }\n    disableRemoveSyllable() {\n        this.removeSyllButton.setEnabled(false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void insertOriginalTextPhrase()\nPurpose: Get current phrase from original scrap text area and insert as\n         new OriginalText event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    insertOriginalTextPhrase() {\n        let text = this.origScrapTextArea.getText();\n        let curPos = this.origScrapTextArea.getCaretPosition();\n        let phraseBegin = TextEditorFrame.getPhraseBegin(text, curPos);\n        let phraseEnd = TextEditorFrame.getPhraseEnd(text, curPos);\n        if (phraseEnd <= phraseBegin)\n            return;\n        this.owner.addOriginalText_3(text.substring(phraseBegin, phraseEnd));\n        for (curPos = ((phraseEnd + 1) | 0); curPos < text.length && !TextEditorFrame.isOriginalTextChar(text.charAt(curPos)); curPos++)\n            ;\n        if (curPos >= text.length)\n            this.origScrapTextArea.setCaretPosition(text.length);\n        else {\n            this.origScrapTextArea.setSelectionStart(TextEditorFrame.getPhraseBegin(text, curPos));\n            this.origScrapTextArea.setSelectionEnd(TextEditorFrame.getPhraseEnd(text, curPos));\n        }\n        this.origScrapTextArea.requestFocusInWindow();\n    }\n    /* highlight next phrase */\n    /*------------------------------------------------------------------------\nMethod:  void load[Original|Modern]Text(String insertText)\nPurpose: Insert text into scrap text area at current caret position\nParameters:\n  Input:  String insertText - text to insert\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    loadOriginalText(insertText) {\n        this.loadTextIntoArea(insertText, this.origScrapTextArea);\n    }\n    loadModernText(insertText) {\n        this.loadTextIntoArea(insertText, this.modScrapTextArea);\n    }\n    loadTextIntoArea(insertText, textArea) {\n        let origText = textArea.getText();\n        let curPos = textArea.getCaretPosition();\n        let si1 = curPos > 0 ? ((curPos - 1) | 0) : 0;\n        let newText = origText.substring(0, si1) + insertText + origText.substring(curPos);\n        textArea.setText(newText);\n        textArea.setCaretPosition(curPos);\n        textArea.requestFocusInWindow();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void applyTextSyllableToNote()\nPurpose: Get current syllable from modern scrap text area and apply to highlighted\n         note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    applyTextSyllableToNote() {\n        let text = this.modScrapTextArea.getText();\n        let curPos = this.modScrapTextArea.getCaretPosition();\n        let syllBegin = TextEditorFrame.getSyllableBegin(text, curPos);\n        let syllEnd = TextEditorFrame.getSyllableEnd(text, curPos);\n        if (syllEnd <= syllBegin)\n            return;\n        let wordEnd = syllEnd >= text.length || text.charAt(syllEnd) != \"-\";\n        this.owner.setNoteSyllable_2(text.substring(syllBegin, syllEnd), wordEnd);\n        for (curPos = ((syllEnd + 1) | 0); curPos < text.length && !TextEditorFrame.isModernTextChar(text.charAt(curPos)); curPos++)\n            ;\n        if (curPos >= text.length)\n            this.modScrapTextArea.setCaretPosition(text.length);\n        else {\n            this.modScrapTextArea.setSelectionStart(TextEditorFrame.getSyllableBegin(text, curPos));\n            this.modScrapTextArea.setSelectionEnd(TextEditorFrame.getSyllableEnd(text, curPos));\n        }\n        this.modScrapTextArea.requestFocusInWindow();\n    }\n    /* highlight next syllable */\n    /*------------------------------------------------------------------------\nMethod:  void removeTextSyllableFromNote()\nPurpose: Delete syllable on highlighted note\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeTextSyllableFromNote() {\n        this.owner.setNoteSyllable_2(null, false);\n        this.modScrapTextArea.requestFocusInWindow();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/TextEditorFrame.ts?");

/***/ }),

/***/ "./src/Editor/VariantEditorFrame.ts":
/*!******************************************!*\
  !*** ./src/Editor/VariantEditorFrame.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantEditorFrame: () => (/* binding */ VariantEditorFrame)\n/* harmony export */ });\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/JComboBox */ \"./src/javax/swing/JComboBox.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _Gfx_VariantDisplayFrame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Gfx/VariantDisplayFrame */ \"./src/Gfx/VariantDisplayFrame.ts\");\n\n\n\n\n\n\n\n\nclass VariantEditorFrame extends _Gfx_VariantDisplayFrame__WEBPACK_IMPORTED_MODULE_7__.VariantDisplayFrame {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VariantEditorFrame(RenderedEventGroup renderedVar,\n                                VoiceEventListData v,ScoreRenderer rs,int vnum,\n                                int fx,int fy,ViewCanvas canvas,MusicFont MusicGfx,\n                                float STAFFSCALE,float VIEWSCALE)\nParameters:\n  Input:\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(renderedVar, v, rs, vnum, fx, fy, canvas, MusicGfx, STAFFSCALE, VIEWSCALE) {\n        super(renderedVar, v, rs, vnum, fx, fy, canvas, MusicGfx, STAFFSCALE, VIEWSCALE);\n        this.mytype_ActionListener = true;\n        this.editorCanvas = (this.canvas);\n    }\n    createVersionsPanel_2(versions, defaultVersion) {\n        let versionsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__.JPanel();\n        versionsPanel.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_1__.GridBagLayout());\n        let vpc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints();\n        vpc.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints.LINE_START;\n        vpc.gridwidth = 1;\n        let curDelButtons = Array(versions.size());\n        for (let i = 0; i < curDelButtons.length; i++) {\n            curDelButtons[i] = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_3__.JButton(\"Del\");\n            vpc.gridx = 0;\n            vpc.gridy = i;\n            versionsPanel.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_5__.JLabel(\" \" + versions.get(i).getID() + \" \"), vpc);\n            if (!defaultVersion) {\n                vpc.gridx = 1;\n                vpc.gridy = i;\n                versionsPanel.add(curDelButtons[i], vpc);\n            }\n        }\n        if (this.delButtons == null) {\n            this.delButtons = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__.LinkedList();\n            this.versionSets = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__.LinkedList();\n            this.addVersionBoxes = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__.LinkedList();\n            this.setDefaultButtons = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__.LinkedList();\n            this.unusedVersionNames = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_6__.LinkedList();\n            for (let vvd of this.canvas.getMusicData_1().getVariantVersions())\n                if (!vvd.isDefault() && this.vStartEvent.getVariantReading_1(vvd) == null)\n                    this.unusedVersionNames.add(vvd.getID());\n        }\n        this.delButtons.add(curDelButtons);\n        this.versionSets.add(versions.toArray());\n        if (this.unusedVersionNames.size() > 0 && !defaultVersion) {\n            let curAddVersionBox = new _javax_swing_JComboBox__WEBPACK_IMPORTED_MODULE_4__.JComboBox();\n            curAddVersionBox.addItem(\"Add version...\");\n            for (let s of this.unusedVersionNames)\n                curAddVersionBox.addItem(s);\n            this.addVersionBoxes.add(curAddVersionBox);\n            vpc.gridx = 0;\n            vpc.gridy++;\n            vpc.gridwidth = 2;\n            versionsPanel.add(curAddVersionBox, vpc);\n        }\n        if (!defaultVersion) {\n            let curSetDefaultButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_3__.JButton(\"Set as default reading\");\n            this.setDefaultButtons.add(curSetDefaultButton);\n            vpc.gridx = 0;\n            vpc.gridy++;\n            vpc.gridwidth = 2;\n            versionsPanel.add(curSetDefaultButton, vpc);\n        }\n        return versionsPanel;\n    }\n    /* first time creating a version panel, initialize master lists of GUI items\n           and versions */\n    /*new VariantVersionData[1]*/\n    //CHANGE should be no prob\n    createAdditionalControls_1(vrcp, vrc) {\n        let addControlsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__.JPanel();\n        this.consolidateButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_3__.JButton(\" Consolidate duplicate readings \");\n        addControlsPanel.add(this.consolidateButton);\n        vrc.gridx = 0;\n        vrc.gridwidth = 2;\n        vrcp.add(addControlsPanel, vrc);\n        vrc.gridy++;\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu/tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.consolidateButton)\n            this.canvas.consolidateReadings(this.vStartEvent, this);\n        for (let bsi = 0; bsi < this.delButtons.size(); bsi++) {\n            let bset = this.delButtons.get(bsi);\n            for (let bi = 0; bi < bset.length; bi++)\n                if (item == bset[bi])\n                    this.canvas.deleteVariantReading_2(this.vStartEvent, this.versionSets.get(bsi)[bi], this);\n        }\n        for (let cbi = 0; cbi < this.addVersionBoxes.size(); cbi++) {\n            let cb = this.addVersionBoxes.get(cbi);\n            if (item == cb) {\n                let newVersion = this.getVersionFromAddVersionBox(cb);\n                if (newVersion != null)\n                    this.editorCanvas.addVersionToReading(this.vStartEvent, cbi, newVersion, this);\n            }\n        }\n        for (let sdbi = 0; sdbi < this.setDefaultButtons.size(); sdbi++) {\n            let sdb = this.setDefaultButtons.get(sdbi);\n            if (item == sdb && this.canvas.parentwin.confirmAction(\"Are you sure?\", \"Confirm variant reading swap\"))\n                this.editorCanvas.setReadingAsDefault(this.vStartEvent, sdbi, this);\n        }\n    }\n    getVersionFromAddVersionBox(cb) {\n        let vi = cb.getSelectedIndex();\n        if (vi < 1)\n            return null;\n        let vName = cb.getItemAt(vi);\n        for (let vvd of this.canvas.getMusicData_1().getVariantVersions())\n            if ((vvd.getID() == vName))\n                return vvd;\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [un]registerListeners()\nPurpose: Add and remove event listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    registerListeners_5() {\n        super.registerListeners_5();\n        this.consolidateButton.addActionListener(this);\n        for (let bset of this.delButtons)\n            for (let b of bset)\n                b.addActionListener(this);\n        for (let cb of this.addVersionBoxes)\n            cb.addActionListener(this);\n        for (let sdb of this.setDefaultButtons)\n            sdb.addActionListener(this);\n    }\n    unregisterListeners_8() {\n        super.unregisterListeners_8();\n        this.consolidateButton.removeActionListener(this);\n        for (let bset of this.delButtons)\n            for (let b of bset)\n                b.removeActionListener(this);\n        for (let cb of this.addVersionBoxes)\n            cb.removeActionListener(this);\n        for (let sdb of this.setDefaultButtons)\n            sdb.removeActionListener(this);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/VariantEditorFrame.ts?");

/***/ }),

/***/ "./src/Editor/VariantVersionInfoFrame.ts":
/*!***********************************************!*\
  !*** ./src/Editor/VariantVersionInfoFrame.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantVersionInfoFrame: () => (/* binding */ VariantVersionInfoFrame),\n/* harmony export */   VersionPanel: () => (/* binding */ VersionPanel)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _java_lang_NumberFormatException__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/NumberFormatException */ \"./src/java/lang/NumberFormatException.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/awt/BorderLayout */ \"./src/java/awt/BorderLayout.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JTextArea__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JTextArea */ \"./src/javax/swing/JTextArea.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../javax/swing/JTextField */ \"./src/javax/swing/JTextField.ts\");\n/* harmony import */ var _javax_swing_ScrollPaneConstants__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../javax/swing/ScrollPaneConstants */ \"./src/javax/swing/ScrollPaneConstants.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _DataStruct_VariantVersionData__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/VariantVersionData */ \"./src/DataStruct/VariantVersionData.ts\");\n/* harmony import */ var _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../Gfx/MusicWin */ \"./src/Gfx/MusicWin.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass VariantVersionInfoFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_9__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VariantVersionInfoFrame(EditorWin owner)\nPurpose:     Initialize and lay out frame\nParameters:\n  Input:  EditorWin owner - parent frame\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(owner) {\n        super(owner, \"Variant Version Information\", true);\n        this.mytype_ItemListener = true;\n        this.mytype_ActionListener = true;\n        this.numVersions = 0;\n        /* for matching newVersionsList\n                                                            to original list */\n        this.versionsPanel = null;\n        this.versionsScrollPane = null;\n        this.owner = owner;\n        let cp = this.getContentPane();\n        this.numVoices = owner.getMusicData_2().getVoiceData().length;\n        let versions = owner.getMusicData_2().getVariantVersions();\n        this.originalVersionNums = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_6__.ArrayList();\n        for (let vi = 0; vi < versions.size(); vi++)\n            this.originalVersionNums.add(new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__.Integer(vi));\n        this.initVersionsPanel(versions);\n        let buttonPane = this.createButtonPane_2();\n        let versionsScrollPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_15__.JScrollPane(this.versionsPanel, _javax_swing_ScrollPaneConstants__WEBPACK_IMPORTED_MODULE_17__.ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS, _javax_swing_ScrollPaneConstants__WEBPACK_IMPORTED_MODULE_17__.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n        versionsScrollPane.setPreferredSize(_Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_20__.MusicWin.fitInScreen_2(VariantVersionInfoFrame.DEFAULT_PANESIZE, 0.8));\n        versionsScrollPane.setMinimumSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__.Dimension(20, 20));\n        cp.add(versionsScrollPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__.BorderLayout.NORTH);\n        cp.add(buttonPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__.BorderLayout.SOUTH);\n        this.addListeners_3();\n        this.pack();\n        this.setLocationRelativeTo(owner);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void close()\nPurpose: Close dialog\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    close() {\n        this.setVisible(false);\n        this.removeListeners_4();\n        this.dispose();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void saveAndClose()\nPurpose: Save information and close dialog\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    saveAndClose() {\n        this.updateNewVersionsList();\n        this.owner.getMusicData_2().updateVariantVersions(this.newVersionsList, this.originalVersionNums);\n        this.owner.initVariantVersionsBox();\n        this.owner.pack();\n        this.close();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void updateNewVersionsList()\nPurpose: Load newVersionsList with user-input values from GUI\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateNewVersionsList() {\n        for (let vi = 0; vi < this.numVersions; vi++) {\n            let v = this.newVersionsList.get(vi);\n            v.setID(this.versionPanels[vi].IDField.getText());\n            let sourceID = -1;\n            try {\n                sourceID = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__.Integer.parseInt(this.versionPanels[vi].sourceIDField.getText(), 10);\n            }\n            catch (e) {\n                if (e instanceof _java_lang_NumberFormatException__WEBPACK_IMPORTED_MODULE_1__.NumberFormatException) {\n                }\n                else\n                    throw e;\n            }\n            let sourceName = this.versionPanels[vi].sourceNameField.getText();\n            let versionEditor = this.versionPanels[vi].editorField.getText();\n            let versionDescr = this.versionPanels[vi].descriptionArea.getText();\n            if ((sourceName == \"\"))\n                sourceName = null;\n            if ((versionEditor == \"\"))\n                versionEditor = null;\n            if ((versionDescr == \"\"))\n                versionDescr = null;\n            v.setSourceInfo(sourceName, sourceID);\n            v.setEditor(versionEditor);\n            v.setDescription(versionDescr);\n            for (let i = 0; i < this.numVoices; i++)\n                v.setMissingVoice(this.owner.getMusicData_2().getVoiceData()[i], this.versionPanels[vi].missingVoiceBoxes[i].isSelected());\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  JPanel createVersionsPanel(ArrayList<VariantVersionData> versions)\nPurpose: Create content for versions list panel\nParameters:\n  Input:  ArrayList<VariantVersionData> versions - versions lsit for display\n  Output: -\n  Return: new JPanel containing versions info\n------------------------------------------------------------------------*/\n    initVersionsPanel(versions) {\n        if (this.versionsPanel == null)\n            this.versionsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_7__.JPanel();\n        else {\n            this.versionsPanel.removeAll();\n            this.removeVersionsPanelListeners();\n        }\n        this.numVersions = versions.size();\n        this.newVersionsList = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_6__.ArrayList();\n        for (let vvd of versions)\n            this.newVersionsList.add(_DataStruct_VariantVersionData__WEBPACK_IMPORTED_MODULE_19__.VariantVersionData.new2(vvd));\n        this.versionsPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_11__.BoxLayout(this.versionsPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_11__.BoxLayout.Y_AXIS));\n        this.versionsPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createTitledBorder(\"Versions\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        if (this.numVersions == 0) {\n            let noVariantLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"No variant versions\");\n            noVariantLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            this.versionsPanel.add(noVariantLabel);\n            return;\n        }\n        this.versionPanels = Array(this.numVersions);\n        for (let vi = 0; vi < this.numVersions; vi++) {\n            this.versionPanels[vi] = new VersionPanel(this.newVersionsList, vi, this.numVoices);\n            this.versionPanels[vi].addListeners_1(this);\n            this.versionsPanel.add(this.versionPanels[vi]);\n        }\n    }\n    /* copy list into newVersions */\n    /*    GridBagConstraints vic=new GridBagConstraints();\n    vic.anchor=GridBagConstraints.LINE_START;*/\n    /*------------------------------------------------------------------------\nMethod:  void [add|remove]VersionsPanelListeners()\nPurpose: Register/unregister GUI listeners for versions panel\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeVersionsPanelListeners() {\n        for (let vp of this.versionPanels)\n            vp.removeListeners_1(this);\n    }\n    createButtonPane_2() {\n        this.addButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Add Version\");\n        this.OKButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Apply\");\n        this.cancelButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Cancel\");\n        let buttonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalBox();\n        buttonPane.add(this.addButton);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalStrut(10));\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalGlue());\n        buttonPane.add(this.OKButton);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.cancelButton);\n        buttonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        return buttonPane;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [move|insert|delete]Version([int vnum,int offset])\nPurpose: Perform operations on one version in versions panel (move up or\n         down one place, insert before, delete)\nParameters:\n  Input:  int vnum   - version number to modify\n          int offset - amount to displace (1 or -1)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveVersion(vnum, offset) {\n        this.updateNewVersionsList();\n        let v = this.newVersionsList.get(vnum);\n        this.newVersionsList.remove(vnum);\n        this.newVersionsList.add(((vnum + offset) | 0), v);\n        let origNum = this.originalVersionNums.get(vnum);\n        this.originalVersionNums.remove(origNum);\n        this.originalVersionNums.add(((vnum + offset) | 0), origNum);\n        this.initVersionsPanel(this.newVersionsList);\n        this.pack();\n    }\n    insertVersion_1() {\n        this.insertVersion_2(this.newVersionsList.size());\n    }\n    insertVersion_2(vnum) {\n        this.updateNewVersionsList();\n        this.newVersionsList.add(vnum, _DataStruct_VariantVersionData__WEBPACK_IMPORTED_MODULE_19__.VariantVersionData.new1(\"[New version \" + (((this.numVersions + 1) | 0)) + \"]\"));\n        this.originalVersionNums.add(vnum, new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_0__.Integer(-1));\n        this.initVersionsPanel(this.newVersionsList);\n        this.pack();\n    }\n    deleteVersion(vnum) {\n        this.updateNewVersionsList();\n        this.newVersionsList.remove(vnum);\n        this.originalVersionNums.remove(vnum);\n        this.initVersionsPanel(this.newVersionsList);\n        this.pack();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addListeners()\nPurpose: Register GUI listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addListeners_3() {\n        this.addButton.addActionListener(this);\n        this.OKButton.addActionListener(this);\n        this.cancelButton.addActionListener(this);\n        this.addWindowListener({\n            windowClosing: (event) => {\n                this.removeListeners_4();\n            }\n        });\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeListeners()\nPurpose: Unregister GUI listeners (should match addListeners)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*private WindowFocusListener[] getListeners(Object o) //CHANGE\n    {\n        throw new RuntimeException();\n    }*/\n    removeListeners_4() {\n        this.addButton.removeActionListener(this);\n        this.OKButton.removeActionListener(this);\n        this.cancelButton.removeActionListener(this);\n        for (let wl of this.getListeners(\"WindowListener\"))\n            this.removeWindowListener(wl);\n        this.removeVersionsPanelListeners();\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu/tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.addButton)\n            this.insertVersion_1();\n        else if (item == this.cancelButton)\n            this.close();\n        else if (item == this.OKButton)\n            this.saveAndClose();\n        for (let vi = 0; vi < this.numVersions; vi++)\n            if (item == this.versionPanels[vi].insertBeforeButton) {\n                this.insertVersion_2(vi);\n                return;\n            }\n            else if (item == this.versionPanels[vi].insertAfterButton) {\n                this.insertVersion_2(((vi + 1) | 0));\n                return;\n            }\n            else if (item == this.versionPanels[vi].moveUpButton) {\n                this.moveVersion(vi, -1);\n                return;\n            }\n            else if (item == this.versionPanels[vi].moveDownButton) {\n                this.moveVersion(vi, 1);\n                return;\n            }\n            else if (item == this.versionPanels[vi].deleteButton) {\n                this.deleteVersion(vi);\n                return;\n            }\n    }\n    /*------------------------------------------------------------------------\nMethod:     void itemStateChanged(ItemEvent event)\nImplements: ItemListener.itemStateChanged\nPurpose:    Check for item state changes in GUI and take appropriate action\nParameters:\n  Input:  ItemEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    itemStateChanged(event) {\n        let item = event.getItemSelectable();\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nVariantVersionInfoFrame.DEFAULT_PANESIZE = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__.Dimension(700, 600);\n/*------------------------------------------------------------------------\nClass:   VersionPanel\nExtends: JPanel\nPurpose: Panel for manipulating one variant version\n------------------------------------------------------------------------*/\nclass VersionPanel extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_7__.JPanel {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VersionPanel(ArrayList<VariantVersionData> versionsList,int vi)\nPurpose:     Initialize and lay out panel\nParameters:\n  Input:\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(versionsList, vi, numVoices) {\n        super();\n        this.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let ovic = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        ovic.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.LINE_START;\n        this.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createTitledBorder(\"\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        let v = versionsList.get(vi);\n        let headingID = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"Version name\");\n        let headingSourceName = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"Source name\");\n        let headingSourceID = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"Source ID no.\");\n        let headingEditor = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"Editor\");\n        let headingDescription = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"Description\");\n        headingID.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        headingSourceName.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        headingSourceID.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        headingEditor.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        headingDescription.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_10__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n        ovic.gridx = 0;\n        ovic.gridy = 0;\n        this.add(headingID, ovic);\n        ovic.gridx = 1;\n        ovic.gridy = 0;\n        this.add(headingEditor, ovic);\n        ovic.gridx = 0;\n        ovic.gridy = 2;\n        this.add(headingSourceName, ovic);\n        ovic.gridx = 1;\n        ovic.gridy = 2;\n        this.add(headingSourceID, ovic);\n        ovic.gridx = 0;\n        ovic.gridy = 4;\n        this.add(headingDescription, ovic);\n        this.IDField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_16__.JTextField(v.getID(), 20);\n        this.sourceNameField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_16__.JTextField(v.getSourceName(), 15);\n        this.sourceIDField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_16__.JTextField(v.getSourceIDString(), 5);\n        this.editorField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_16__.JTextField(v.getEditor(), 15);\n        this.descriptionArea = new _javax_swing_JTextArea__WEBPACK_IMPORTED_MODULE_13__.JTextArea(v.getDescription(), 2, 35);\n        let descriptionAreaPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_15__.JScrollPane(this.descriptionArea);\n        ovic.gridx = 0;\n        ovic.gridy = 1;\n        this.add(this.IDField, ovic);\n        ovic.gridx = 1;\n        ovic.gridy = 1;\n        this.add(this.editorField, ovic);\n        ovic.gridx = 0;\n        ovic.gridy = 3;\n        this.add(this.sourceNameField, ovic);\n        ovic.gridx = 1;\n        ovic.gridy = 3;\n        this.add(this.sourceIDField, ovic);\n        ovic.gridx = 0;\n        ovic.gridy = 5;\n        ovic.gridwidth = 2;\n        this.add(descriptionAreaPane, ovic);\n        ovic.gridwidth = 1;\n        let missingVoicesBox = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalBox();\n        let headingMissingVoices = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_18__.JLabel(\"Missing voices: \");\n        this.missingVoiceBoxes = Array(numVoices);\n        for (let i = 0; i < numVoices; i++) {\n            this.missingVoiceBoxes[i] = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_14__.JCheckBox(`${i + 1}`);\n            missingVoicesBox.add(this.missingVoiceBoxes[i]);\n        }\n        for (let missingv of v.getMissingVoices())\n            this.missingVoiceBoxes[(((missingv.getNum() - 1) | 0))].setSelected(true);\n        ovic.gridx = 0;\n        ovic.gridy = 6;\n        this.add(headingMissingVoices, ovic);\n        ovic.gridx = 0;\n        ovic.gridy = 7;\n        ovic.gridwidth = 4;\n        this.add(missingVoicesBox, ovic);\n        ovic.gridwidth = 1;\n        this.moveUpButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Move up\");\n        this.moveDownButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Move down\");\n        this.insertBeforeButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Insert before\");\n        this.insertAfterButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Insert after\");\n        this.deleteButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_12__.JButton(\"Delete\");\n        if (vi <= 1)\n            this.moveUpButton.setEnabled(false);\n        if (vi == ((versionsList.size() - 1) | 0))\n            this.moveDownButton.setEnabled(false);\n        if (vi > 0) {\n            ovic.gridx = 2;\n            ovic.gridy = 1;\n            this.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalStrut(5), ovic);\n            ovic.gridx = 4;\n            ovic.gridy = 1;\n            this.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_8__.Box.createHorizontalStrut(5), ovic);\n            ovic.gridx = 3;\n            ovic.gridy = 1;\n            this.add(this.moveUpButton, ovic);\n            ovic.gridx = 3;\n            ovic.gridy = 3;\n            this.add(this.moveDownButton, ovic);\n            ovic.gridx = 5;\n            ovic.gridy = 1;\n            this.add(this.insertBeforeButton, ovic);\n            ovic.gridx = 5;\n            ovic.gridy = 3;\n            this.add(this.insertAfterButton, ovic);\n            ovic.gridx = 3;\n            ovic.gridy = 5;\n            this.add(this.deleteButton, ovic);\n        }\n    }\n    /* missing voice checkboxes */\n    /* controls */\n    /*------------------------------------------------------------------------\nMethod:  void addListeners(EventListener listener)\nPurpose: Register GUI listeners\nParameters:\n  Input:  -\n  Output: EventListener listener - listener to add\n  Return: -\n------------------------------------------------------------------------*/\n    addListeners_1(listener) {\n        this.moveUpButton.addActionListener(listener);\n        this.moveDownButton.addActionListener(listener);\n        this.insertBeforeButton.addActionListener(listener);\n        this.insertAfterButton.addActionListener(listener);\n        this.deleteButton.addActionListener(listener);\n        for (let mvb of this.missingVoiceBoxes)\n            mvb.addItemListener(listener);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeListeners(EventListener listener)\nPurpose: Unregister GUI listeners (should match addListeners)\nParameters:\n  Input:  -\n  Output: EventListener listener - listener to remove\n  Return: -\n------------------------------------------------------------------------*/\n    removeListeners_1(listener) {\n        this.moveUpButton.removeActionListener(listener);\n        this.moveDownButton.removeActionListener(listener);\n        this.insertBeforeButton.removeActionListener(listener);\n        this.insertAfterButton.removeActionListener(listener);\n        this.deleteButton.removeActionListener(listener);\n        for (let mvb of this.missingVoiceBoxes)\n            mvb.removeItemListener(listener);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Editor/VariantVersionInfoFrame.ts?");

/***/ }),

/***/ "./src/Gfx/CriticalNotesWindow.ts":
/*!****************************************!*\
  !*** ./src/Gfx/CriticalNotesWindow.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CriticalNotesWindow: () => (/* binding */ CriticalNotesWindow)\n/* harmony export */ });\n/* harmony import */ var _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/RuntimeException */ \"./src/java/lang/RuntimeException.ts\");\n/* harmony import */ var _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JFrame */ \"./src/javax/swing/JFrame.ts\");\n\n\nclass CriticalNotesWindow extends _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_1__.JFrame {\n    constructor(a, b, c, d, e) {\n        super();\n    }\n    closeFrame_2() {\n        throw new _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_0__.RuntimeException();\n    }\n    static createMeasureString(a, b, c) {\n        return \"\";\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/CriticalNotesWindow.ts?");

/***/ }),

/***/ "./src/Gfx/EventGlyphImg.ts":
/*!**********************************!*\
  !*** ./src/Gfx/EventGlyphImg.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventGlyphImg: () => (/* binding */ EventGlyphImg)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _EventImg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EventImg */ \"./src/Gfx/EventImg.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n\n\n/*------------------------------------------------------------------------\nClass:   EventGlyphImg\nExtends: EventImg\nPurpose: Information about one image for a rendered event\n------------------------------------------------------------------------*/\n\nclass EventGlyphImg extends _EventImg__WEBPACK_IMPORTED_MODULE_2__.EventImg {\n    /* index of image in music font */\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: EventGlyphImg(int in,int syp,double xo,double yo,double uxo,double uyo,int c)\nPurpose:     Initialize image information\nParameters:\n  Input:  int in        - image number\n          int syp       - staff y position\n          double xo,yo   - XY offset for display\n          double uxo,uyo - unscaled XY offset\n          int c         - color\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(_in, syp, xo, yo, uxo, uyo, c) {\n        super();\n        this.imgnum = _java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.toString(_in);\n        this.color = c;\n        this.staffypos = syp;\n        this.xsize = _MusicFont__WEBPACK_IMPORTED_MODULE_1__.MusicFont.getDefaultGlyphWidth(_java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.codePointAt(this.imgnum, 0));\n        this.xoff = xo;\n        this.yoff = yo;\n        this.UNSCALEDxoff = uxo;\n        this.UNSCALEDyoff = uyo;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                   double xl,double yl,int c,double VIEWSCALE)\nPurpose: Draws image into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl      - location of event in graphical context\n          int c             - color\n          double VIEWSCALE  - scaling factor\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw(g, mf, ImO, xl, yl, c, VIEWSCALE) {\n        if (this.color == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_3__.Coloration.GRAY)\n            c = this.color;\n        if (_java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.codePointAt(this.imgnum, 0) != -1)\n            mf.drawGlyph(g, _java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.codePointAt(this.imgnum, 0), xl + (this.xoff + 5) * VIEWSCALE, yl - (this.yoff - _MusicFont__WEBPACK_IMPORTED_MODULE_1__.MusicFont.PICYCENTER) * VIEWSCALE, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_3__.Coloration.AWTColors[c]);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/EventGlyphImg.ts?");

/***/ }),

/***/ "./src/Gfx/EventImg.ts":
/*!*****************************!*\
  !*** ./src/Gfx/EventImg.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventImg: () => (/* binding */ EventImg)\n/* harmony export */ });\nclass EventImg {\n    draw_1(g, mf, ImO, xl, yl, VIEWSCALE) {\n        this.draw(g, mf, ImO, xl, yl, this.color, VIEWSCALE);\n    }\n    draw_2(g, mf, ImO, xl, yl) {\n        this.draw_3(g, mf, ImO, xl, yl, this.color);\n    }\n    draw_3(g, mf, ImO, xl, yl, c) {\n        this.draw(g, mf, ImO, xl, yl, c, 1);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/EventImg.ts?");

/***/ }),

/***/ "./src/Gfx/EventShapeImg.ts":
/*!**********************************!*\
  !*** ./src/Gfx/EventShapeImg.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventShapeImg: () => (/* binding */ EventShapeImg)\n/* harmony export */ });\n/* harmony import */ var _EventImg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EventImg */ \"./src/Gfx/EventImg.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n/*------------------------------------------------------------------------\nClass:   EventShapeImg\nExtends: EventImg\nPurpose: Information about one image for a rendered event\n------------------------------------------------------------------------*/\n\nclass EventShapeImg extends _EventImg__WEBPACK_IMPORTED_MODULE_0__.EventImg {\n    constructor() {\n        super(...arguments);\n        this.multipleypos = false;\n    }\n    static new0(ss, psx, psy, c, cf, ssn1) {\n        let _new0 = new EventShapeImg;\n        EventShapeImg.set0(_new0, ss, psx, psy, c, cf, ssn1);\n        return _new0;\n    }\n    static set0(new0, ss, psx, psy, c, cf, ssn1) {\n        new0.screenshape = ss;\n        new0.printshapex = psx;\n        new0.printshapey = psy;\n        new0.xoff = (ss.getBounds().getX());\n        new0.xsize = (ss.getBounds().getWidth());\n        new0.color = c;\n        new0.shapecolor = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_1__.Coloration.AWTColors[new0.color];\n        new0.filled = cf == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_1__.Coloration.FULL;\n        new0.staffypos = ssn1;\n    }\n    static new1(ss, psx, psy, c, cf, ssn1, ssn2, switchn) {\n        let _new1 = new EventShapeImg;\n        EventShapeImg.set1(_new1, ss, psx, psy, c, cf, ssn1, ssn2, switchn);\n        return _new1;\n    }\n    static set1(new1, ss, psx, psy, c, cf, ssn1, ssn2, switchn) {\n        EventShapeImg.set0(new1, ss, psx, psy, c, cf, ssn1);\n        new1.multipleypos = true;\n        new1.staffypos2 = ssn2;\n        new1.yswitchnum = switchn;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                   double xl,double yl,int c,double VIEWSCALE)\nPurpose: Draws image into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl      - location of event in graphical context\n          int c             - color\n          double VIEWSCALE  - scaling factor\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw(g, mf, ImO, xl, yl, c, VIEWSCALE) {\n        if (this.color == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_1__.Coloration.GRAY)\n            c = this.color;\n        g.setColor(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_1__.Coloration.AWTColors[c]);\n        let saveAT = g.getTransform();\n        g.translate(xl, yl);\n        g.scale(VIEWSCALE, VIEWSCALE);\n        g.translate(5, 0);\n        g.draw(this.screenshape);\n        if (this.filled)\n            g.fill(this.screenshape);\n        g.setTransform(saveAT);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/EventShapeImg.ts?");

/***/ }),

/***/ "./src/Gfx/EventStringImg.ts":
/*!***********************************!*\
  !*** ./src/Gfx/EventStringImg.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventStringImg: () => (/* binding */ EventStringImg)\n/* harmony export */ });\n/* harmony import */ var _java_lang_StringBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/StringBuffer */ \"./src/java/lang/StringBuffer.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _EventImg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventImg */ \"./src/Gfx/EventImg.ts\");\n/* harmony import */ var _EventGlyphImg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EventGlyphImg */ \"./src/Gfx/EventGlyphImg.ts\");\n/* harmony import */ var _java_awt_Font__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/awt/Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n\n\n\n\n\n\n\n\n\n/*------------------------------------------------------------------------\nClass:   EventStringImg\nExtends: EventImg\nPurpose: Information about one image for a rendered event\n------------------------------------------------------------------------*/\n\nclass EventStringImg extends _EventImg__WEBPACK_IMPORTED_MODULE_3__.EventImg {\n    static new2(s, syp, xo, yo, uxo, uyo, c, size) {\n        let _new2 = new EventStringImg;\n        EventStringImg.set2(_new2, s, syp, xo, yo, uxo, uyo, c, size);\n        return _new2;\n    }\n    static set2(new2, s, syp, xo, yo, uxo, uyo, c, size) {\n        EventStringImg.set3(new2, s, syp, xo, yo, uxo, uyo, c, size, _java_awt_Font__WEBPACK_IMPORTED_MODULE_5__.Font.PLAIN);\n    }\n    static new3(s, syp, xo, yo, uxo, uyo, c, size, style) {\n        let _new3 = new EventStringImg;\n        EventStringImg.set3(_new3, s, syp, xo, yo, uxo, uyo, c, size, style);\n        return _new3;\n    }\n    static set3(new3, s, syp, xo, yo, uxo, uyo, c, size, style) {\n        new3.imgtext = s;\n        new3.imgfont = style == _java_awt_Font__WEBPACK_IMPORTED_MODULE_5__.Font.ITALIC ? _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.defaultTextItalFont : _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.defaultTextFont;\n        if (new3.imgfont.getSize() != size)\n            new3.imgfont = new3.imgfont.deriveFont(style, size);\n        new3.fontSize = size;\n        new3.fontStyle = style;\n        new3.color = c;\n        new3.imgcolor = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_9__.Coloration.AWTColors[new3.color];\n        new3.staffypos = syp;\n        new3.xsize = 0;\n        new3.xoff = xo;\n        new3.yoff = yo;\n        new3.UNSCALEDxoff = uxo;\n        new3.UNSCALEDyoff = uyo;\n        new3.initimage();\n    }\n    /* create image displaying string */\n    initimage() {\n        EventStringImg.genericG.setFont(this.imgfont);\n        let metrics = EventStringImg.genericG.getFontMetrics();\n        let textyloc = metrics.getHeight();\n        let textdescent = metrics.getDescent();\n        let picysize = ((textyloc + textdescent) | 0);\n        this.textXSize = metrics.stringWidth(this.imgtext);\n        this.specialImages = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_7__.ArrayList();\n        let curx = 0;\n        let escapeglyphnum;\n        let c;\n        let textarray = Array(this.imgtext.length);\n        for (let i = 0; i < this.imgtext.length; i++) {\n            textarray[i] = `${this.imgtext.charAt(i)}`;\n        }\n        let textarrayWithoutSymbols = new _java_lang_StringBuffer__WEBPACK_IMPORTED_MODULE_0__.StringBuffer();\n        for (let i = 0; i < textarray.length; i++) {\n            if (textarray[i] == \"\\\\\") {\n                if (((i + 1) | 0) < textarray.length && textarray[(((i + 1) | 0))] == \"m\") {\n                    i += 2;\n                    if (i < textarray.length) {\n                        if (textarray[i] == \"O\")\n                            escapeglyphnum = _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_O;\n                        else if (textarray[i] == \"C\")\n                            escapeglyphnum = _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_C;\n                        else\n                            escapeglyphnum = _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_NONE;\n                        if (((i + 1) | 0) < textarray.length && textarray[(((i + 1) | 0))] == \"r\") {\n                            i++;\n                            escapeglyphnum = _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_CREV;\n                        }\n                        let mensxoff = curx - _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PICXOFFSET;\n                        let mensyoff = ((((_MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PICYCENTER - textyloc) | 0) + textdescent) | 0);\n                        let USmensxoff = curx * (_MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.SCREEN_TO_GLYPH_FACTOR + 8);\n                        let USmensyoff = _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.CONNECTION_ANNOTATION_MENSSYMBOL;\n                        let ei = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_4__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENSSTART + escapeglyphnum) | 0) + _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_OFFSETSMALL) | 0), 0, mensxoff, mensyoff, USmensxoff, USmensyoff, this.color);\n                        this.specialImages.add(ei);\n                        textarrayWithoutSymbols.append(\"   \");\n                        if (((i + 1) | 0) < textarray.length && textarray[(((i + 1) | 0))] == \"|\") {\n                            i++;\n                            this.specialImages.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_4__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENSSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_STROKE) | 0) + _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_OFFSETSMALL) | 0), 0, mensxoff, mensyoff, USmensxoff, USmensyoff, this.color));\n                        }\n                        if (((i + 1) | 0) < textarray.length && textarray[(((i + 1) | 0))] == \".\") {\n                            i++;\n                            this.specialImages.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_4__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENSSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_DOT) | 0) + _MusicFont__WEBPACK_IMPORTED_MODULE_2__.MusicFont.PIC_MENS_OFFSETSMALL) | 0), 0, mensxoff, mensyoff, USmensxoff, USmensyoff, this.color));\n                        }\n                        curx += ei.xsize;\n                    }\n                }\n            }\n            else {\n                c = textarray[i];\n                textarrayWithoutSymbols.append(c);\n                curx += metrics.stringWidth(c);\n            }\n        }\n        this.imgtextWithoutSymbols = textarrayWithoutSymbols.toString();\n        this.xsize = _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(curx);\n    }\n    /* calculate size of image */\n    /* initialize text/image list */\n    /* draw string (translating escape sequences) */\n    //    imgtext.toCharArray(); //CHANGE\n    /* escape sequence */\n    /* mensuration sign */\n    /* attributes (stroke/dot) */\n    /* regular character */\n    //CHANGE was charwidth\n    /*------------------------------------------------------------------------\nMethod:  void draw(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                   double xl,double yl,int c,double VIEWSCALE)\nPurpose: Draws image into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl       - location of event in graphical context\n          int c             - color\n          double VIEWSCALE   - scaling factor\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw(g, mf, ImO, xl, yl, c, VIEWSCALE) {\n        if (this.color == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_9__.Coloration.GRAY)\n            c = this.color;\n        this.imgcolor = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_9__.Coloration.AWTColors[c];\n        g.setFont(mf.chooseTextFont(this.fontSize, this.fontStyle));\n        g.setColor(this.imgcolor);\n        g.drawString(this.imgtextWithoutSymbols, (xl + this.xoff * VIEWSCALE), (yl - this.yoff * VIEWSCALE));\n        for (let i = this.specialImages.iterator(); i.hasNext();)\n            (i.next()).draw_2(g, mf, ImO, xl + this.xoff * VIEWSCALE, yl - this.yoff * VIEWSCALE);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nEventStringImg.genericBI = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_6__.BufferedImage(10, 10, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_6__.BufferedImage.TYPE_INT_ARGB);\nEventStringImg.genericG = EventStringImg.genericBI.createGraphics();\nEventStringImg.BSObserver = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_8__.JLabel();\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/EventStringImg.ts?");

/***/ }),

/***/ "./src/Gfx/GeneralInfoFrame.ts":
/*!*************************************!*\
  !*** ./src/Gfx/GeneralInfoFrame.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GeneralInfoFrame: () => (/* binding */ GeneralInfoFrame)\n/* harmony export */ });\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_JEditorPane__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JEditorPane */ \"./src/javax/swing/JEditorPane.ts\");\n\n\n\nclass GeneralInfoFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_1__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: GeneralInfoFrame(MusicWin ownerWin)\nPurpose:     Lay out frame\nParameters:\n  Input:  MusicWin ownerWin - music window to which this frame is connected\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(ownerWin) {\n        super(ownerWin, \"About this edition\", false);\n        this.ownerWin = ownerWin;\n        let cp = this.getContentPane();\n        cp.add(this.createTextPanel(ownerWin.getMusicData_2()));\n        this.pack();\n        this.setLocationRelativeTo(ownerWin);\n    }\n    /*------------------------------------------------------------------------\nMethod:  JPanel create*Panel()\nPurpose: Initialize individual panes within frame\nParameters:\n  Input:  -\n  Output: -\n  Return: one frame section as JPanel\n------------------------------------------------------------------------*/\n    /* text panel */\n    createTextPanel(musicData) {\n        let infoHTML = \"\";\n        infoHTML += \"<style type=\\\"text/css\\\">\" + \"h1         { text-align:center }\" + \"h2         { font-style:italic; text-align:center }\" + \"h3         { color:red }\" + \"span.label { color:red; font-style:italic }\" + \"</style>\\n\";\n        infoHTML += \"<h1>\" + musicData.getComposer() + \": \" + musicData.getTitle() + \"</h1>\\n\";\n        if (musicData.getSectionTitle() != null)\n            infoHTML += \"<h2>\" + musicData.getSectionTitle() + \"</h2>\\n\";\n        infoHTML += \"<p><span class=\\\"label\\\">Editor:</span> \" + musicData.getEditor();\n        if (musicData.getPublicNotes() != null && musicData.getPublicNotes().length > 0)\n            infoHTML += \"<br/><span class=\\\"label\\\">Notes:</span> \" + musicData.getPublicNotes().replaceAll(\"\\\\n\", \"<br/>\");\n        let defaultVersion = musicData.getDefaultVariantVersion();\n        if (defaultVersion.getSourceName() != null)\n            infoHTML += \"<br/><span class=\\\"label\\\">Main source:</span> \" + defaultVersion.getSourceName();\n        infoHTML += \"</p>\\n\";\n        let versions = musicData.getVariantVersions();\n        if (versions.size() > 1) {\n            infoHTML += \"<hr/>\\n\";\n            infoHTML += \"<h3>Variant Versions</h3>\\n\";\n            infoHTML += \"<p>\\n\";\n            for (let vi = 1; vi < versions.size(); vi++) {\n                let vvd = versions.get(vi);\n                infoHTML += vvd.getID();\n                if (vvd.getSourceName() != null && !(vvd.getID() == vvd.getSourceName()))\n                    infoHTML += \" (source: \" + vvd.getSourceName() + \")\";\n                infoHTML += \"<br/>\\n\";\n            }\n            infoHTML += \"</p>\\n\";\n        }\n        let textArea = new _javax_swing_JEditorPane__WEBPACK_IMPORTED_MODULE_2__.JEditorPane(\"text/html\", infoHTML);\n        textArea.setEditable(false);\n        let textPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_0__.JPanel();\n        textPanel.add(textArea);\n        return textPanel;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/GeneralInfoFrame.ts?");

/***/ }),

/***/ "./src/Gfx/MIDIPlayer.ts":
/*!*******************************!*\
  !*** ./src/Gfx/MIDIPlayer.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MIDIPlayer: () => (/* binding */ MIDIPlayer),\n/* harmony export */   SequenceParams: () => (/* binding */ SequenceParams)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _java_lang_Float__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Float */ \"./src/java/lang/Float.ts\");\n/* harmony import */ var _java_lang_Double__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/lang/Double */ \"./src/java/lang/Double.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _java_util_HashMap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/util/HashMap */ \"./src/java/util/HashMap.ts\");\n/* harmony import */ var _javax_sound_midi_MidiSystem__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/sound/midi/MidiSystem */ \"./src/javax/sound/midi/MidiSystem.ts\");\n/* harmony import */ var _javax_sound_midi_MidiEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/sound/midi/MidiEvent */ \"./src/javax/sound/midi/MidiEvent.ts\");\n/* harmony import */ var _javax_sound_midi_Synthesizer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/sound/midi/Synthesizer */ \"./src/javax/sound/midi/Synthesizer.ts\");\n/* harmony import */ var _javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/sound/midi/ShortMessage */ \"./src/javax/sound/midi/ShortMessage.ts\");\n/* harmony import */ var _javax_sound_midi_MetaMessage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/sound/midi/MetaMessage */ \"./src/javax/sound/midi/MetaMessage.ts\");\n/* harmony import */ var _javax_sound_midi_Sequence__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/sound/midi/Sequence */ \"./src/javax/sound/midi/Sequence.ts\");\n/* harmony import */ var _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JOptionPane */ \"./src/javax/swing/JOptionPane.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../Util/GlobalConfig */ \"./src/Util/GlobalConfig.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass SequenceParams {\n}\n/*------------------------------------------------------------------------\nClass:   MIDIPlayer\nExtends: -\nPurpose: MIDI playback for CMME scores\n------------------------------------------------------------------------*/\nclass MIDIPlayer {\n    static configVal(key) {\n        let val = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_15__.GlobalConfig.get(\"MIDI/\" + key);\n        return val != null ? val : MIDIPlayer.DEFAULTS.get(key);\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: MIDIPlayer(MusicWin parentWin,PieceData musicData,ScoreRenderer[] renderedSections)\nPurpose:     Initialize player for one piece\nParameters:\n  Input:  MusicWin parentWin               - parent window\n          PieceData musicData              - original event lists\n          ScoreRenderer[] renderedSections - event lists rendered into measures\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(parentWin, musicData, renderedSections) {\n        this.sequencer = null;\n        // System.out.println(\"Wrote \"+MidiSystem.write(sequenceData,1,new File(fn))+\" bytes\");  //CHANGE\n        /*------------------------------------------------------------------------\n    Method:  void play/stop()\n    Purpose: Play back or stop pre-loaded music\n    Parameters:\n      Input:  -\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this._currentlyPlaying = 0;\n        this.parentWin = parentWin;\n        this.setMusicData(musicData, renderedSections);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setMusicData(PieceData musicData,ScoreRenderer[] renderedSections)\nPurpose: Initialize player with new data and create sequence\nParameters:\n  Input:  PieceData musicData              - original event lists\n          ScoreRenderer[] renderedSections - event lists rendered into measures\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setMusicData(musicData, renderedSections) {\n        this.musicData = musicData;\n        this.renderedSections = renderedSections;\n        try {\n            this.sequenceData = this.constructSequence(musicData, renderedSections);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_12__.JOptionPane.showMessageDialog(this.parentWin, \"Error initializing MIDI system: \" + e, \"Error\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_12__.JOptionPane.ERROR_MESSAGE);\n                this.sequenceData = null;\n            }\n            else\n                throw e;\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  Sequence constructSequence(PieceData musicData,ScoreRenderer[] renderedSections)\nPurpose: Create sequence out of music data\nParameters:\n  Input:  PieceData musicData              - original event lists\n          ScoreRenderer[] renderedSections - event lists rendered into measures\n  Output: -\n  Return: new MIDI sequence\n------------------------------------------------------------------------*/\n    constructSequence(musicData, renderedSections) {\n        let s = new _javax_sound_midi_Sequence__WEBPACK_IMPORTED_MODULE_11__.Sequence(_javax_sound_midi_Sequence__WEBPACK_IMPORTED_MODULE_11__.Sequence.PPQ, MIDIPlayer.TICKS_PER_BEAT, musicData.getVoiceData().length);\n        let t = s.getTracks();\n        let MIDImsg;\n        for (let vi = 0; vi < musicData.getVoiceData().length; vi++) {\n            MIDImsg = new _javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__.ShortMessage();\n            MIDImsg.setMessage(_javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__.ShortMessage.PROGRAM_CHANGE, vi % MIDIPlayer.MAX_NORMAL_CHANNELS, _java_lang_Integer__WEBPACK_IMPORTED_MODULE_1__.Integer.parseInt(MIDIPlayer.configVal(\"Instrument\")), 0);\n            t[vi].add(new _javax_sound_midi_MidiEvent__WEBPACK_IMPORTED_MODULE_7__.MidiEvent(MIDImsg, 0));\n        }\n        let params = new SequenceParams();\n        let sectionEndTime;\n        params.sectionStartTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new0(0, 1);\n        for (let rs of renderedSections) {\n            sectionEndTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(params.sectionStartTime);\n            for (let vi = 0; vi < musicData.getVoiceData().length; vi++)\n                if (rs.eventinfo[vi] != null) {\n                    params.vnum = vi;\n                    params.curTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(params.sectionStartTime);\n                    params.curProportion = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new0(1, 1);\n                    params.inTie = false;\n                    for (let re of rs.eventinfo[vi])\n                        this.sequenceEvent_6(re, t[vi], params);\n                    if (params.curTime.greaterThan(sectionEndTime))\n                        sectionEndTime = params.curTime;\n                }\n            this.addMeasureMarkers(rs, t[0], params.sectionStartTime);\n            params.sectionStartTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.sum(sectionEndTime, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new0(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_1__.Integer.parseInt(MIDIPlayer.configVal(\"RestBetweenSections\")), 1));\n        }\n        return s;\n    }\n    /* set patch (instrument) number for each voice */\n    /* insert beat of rest between sections */\n    sequenceEvent_1(e, t, params, length) {\n        if (!(params.doubleTied || params.endTie)) {\n            let MIDImsg = new _javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__.ShortMessage();\n            MIDImsg.setMessage(_javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__.ShortMessage.NOTE_ON, params.vnum % MIDIPlayer.MAX_NORMAL_CHANNELS, e.getMIDIPitch(), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_1__.Integer.parseInt(MIDIPlayer.configVal(\"Velocity\")));\n            t.add(new _javax_sound_midi_MidiEvent__WEBPACK_IMPORTED_MODULE_7__.MidiEvent(MIDImsg, (params.curTime.toDouble() * MIDIPlayer.TICKS_PER_MINIM)));\n        }\n        params.curTime.add(length);\n        if (!(params.beginTie || params.doubleTied)) {\n            let MIDImsg = new _javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__.ShortMessage();\n            MIDImsg.setMessage(_javax_sound_midi_ShortMessage__WEBPACK_IMPORTED_MODULE_9__.ShortMessage.NOTE_OFF, params.vnum % MIDIPlayer.MAX_NORMAL_CHANNELS, e.getMIDIPitch(), _java_lang_Integer__WEBPACK_IMPORTED_MODULE_1__.Integer.parseInt(MIDIPlayer.configVal(\"Velocity\")));\n            t.add(new _javax_sound_midi_MidiEvent__WEBPACK_IMPORTED_MODULE_7__.MidiEvent(MIDImsg, (params.curTime.toDouble() * MIDIPlayer.TICKS_PER_MINIM)));\n        }\n    }\n    sequenceEvent_2(e, t, params, length) {\n    }\n    //    params.curTime.add(Proportion.quotient(e.getmusictime(),params.curProportion));\n    sequenceEvent_3(e, t, params, length) {\n        params.curProportion.multiply_2(e.getproportion());\n    }\n    sequenceEvent_4(me, t, params, length) {\n        let origTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(params.curTime);\n        let lastTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(params.curTime);\n        for (let i = me.iterator_2(); i.hasNext();) {\n            let e = i.next();\n            switch (e.geteventtype()) {\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__.Event.EVENT_NOTE:\n                    {\n                        this.sequenceEvent_1(e, t, params, length);\n                        if (params.curTime.greaterThan(lastTime))\n                            lastTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(params.curTime);\n                        params.curTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(origTime);\n                        break;\n                    }\n                case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__.Event.EVENT_REST:\n                    {\n                        this.sequenceEvent_2(e, t, params, length);\n                        if (params.curTime.greaterThan(lastTime))\n                            lastTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(params.curTime);\n                        params.curTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(origTime);\n                        break;\n                    }\n            }\n        }\n        params.curTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(lastTime);\n    }\n    sequenceEvent_5(e, t, params, length) {\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__.Event.EVENT_NOTE:\n                {\n                    this.sequenceEvent_1(e, t, params, length);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__.Event.EVENT_REST:\n                {\n                    this.sequenceEvent_2(e, t, params, length);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__.Event.EVENT_PROPORTION:\n                {\n                    this.sequenceEvent_3(e, t, params, length);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_13__.Event.EVENT_MULTIEVENT:\n                {\n                    this.sequenceEvent_4(e, t, params, length);\n                    break;\n                }\n            default:\n                {\n                    break;\n                }\n        }\n    }\n    sequenceEvent_6(re, t, params) {\n        if (!params.inTie) {\n            params.beginTie = (params.inTie = re.getTieInfo().firstEventNum != -1);\n            params.doubleTied = false;\n            params.endTie = false;\n        }\n        else {\n            params.beginTie = false;\n            params.doubleTied = re.doubleTied();\n            params.endTie = !params.doubleTied;\n        }\n        params.curTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.sum(params.sectionStartTime, re.getmusictime());\n        this.sequenceEvent_5(re.getEvent_1(), t, params, re.getMusicLength());\n        if (params.endTie)\n            params.inTie = false;\n    }\n    /*------------------------------------------------------------------------\nMethods: void addMeasureMarkers(ScoreRenderer rs,Track t,Proportion startTime)\nPurpose: Insert meta-event markers for measure beginnings\nParameters:\n  Input:  ScoreRenderer rs     - section to calculate\n          Proportion startTime - starting time of section\n  Output: Track t              - track to update with events\n  Return: -\n------------------------------------------------------------------------*/\n    stringGetBytes(s) {\n        const byteArray = [];\n        for (let i = 0; i < s.length; i++) {\n            const codePoint = s.charCodeAt(i);\n            byteArray.push(codePoint);\n        }\n        return byteArray;\n    }\n    addMeasureMarkers(rs, t, startTime) {\n        let curTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new1(startTime);\n        for (let mi = rs.getFirstMeasureNum(); mi <= rs.getLastMeasureNum(); mi++) {\n            let measureMsg = new _javax_sound_midi_MetaMessage__WEBPACK_IMPORTED_MODULE_10__.MetaMessage();\n            let msgData = this.stringGetBytes(\"m\" + mi);\n            measureMsg.setMessage(MIDIPlayer.MIDI_EVENT_MARKER, msgData, msgData.length);\n            t.add(new _javax_sound_midi_MidiEvent__WEBPACK_IMPORTED_MODULE_7__.MidiEvent(measureMsg, (curTime.toDouble() * MIDIPlayer.TICKS_PER_MINIM)));\n            let m = rs.getMeasure(mi);\n            curTime.add(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.quotient(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_14__.Proportion.new0(m.numMinims, 1), m.defaultTempoProportion));\n        }\n    }\n    /* add marker message for measure start */\n    //byte[] msgData=(\"m\"+mi).getBytes();\n    /* advance timer */\n    /*------------------------------------------------------------------------\nMethod:  void exportMIDIFile(String fn)\nPurpose: Save to MIDI file\nParameters:\n  Input:  String fn - filename\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    exportMIDIFile(fn) {\n        _javax_sound_midi_MidiSystem__WEBPACK_IMPORTED_MODULE_6__.MidiSystem.write(this.sequenceData, 1, new _java_io_File__WEBPACK_IMPORTED_MODULE_4__.File(fn));\n    }\n    play_1() {\n        this.play_2(0);\n    }\n    stringToInt(s) {\n        return parseInt(s, 10);\n    }\n    byteArrayToString(msgData, offset, length) {\n        let result = '';\n        for (let i = offset; i < offset + length; i++) {\n            result += String.fromCharCode(msgData[i]);\n        }\n        return result;\n    }\n    play_2(measureNum) {\n        if (this.sequenceData == null)\n            return;\n        try {\n            let synthesizer;\n            this.sequencer = _javax_sound_midi_MidiSystem__WEBPACK_IMPORTED_MODULE_6__.MidiSystem.getSequencer();\n            if (this.sequencer == null)\n                throw new _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception(\"No sequencer available from system (may already be in use)\");\n            this.sequencer.open();\n            this.sequencer.setSequence(this.sequenceData);\n            if (!(this.sequencer instanceof _javax_sound_midi_Synthesizer__WEBPACK_IMPORTED_MODULE_8__.Synthesizer)) {\n                synthesizer = _javax_sound_midi_MidiSystem__WEBPACK_IMPORTED_MODULE_6__.MidiSystem.getSynthesizer();\n                synthesizer.open();\n                this.sequencer.getTransmitter().setReceiver(synthesizer.getReceiver());\n            }\n            else\n                synthesizer = this.sequencer;\n            this.playbackListener =\n                {\n                    /* sequencer is not a synthesizer\n                   open default MIDI synth and chain to output of sequencer */\n                    /* set callback functions for playback */\n                    meta: (event) => {\n                        switch (event.getType()) {\n                            case MIDIPlayer.MIDI_EVENT_MARKER:\n                                {\n                                    let msgData = event.getData();\n                                    this.parentWin.MIDIMeasureStarted_2(this.stringToInt(this.byteArrayToString(msgData, 1, ((msgData.length - 1) | 0))));\n                                    break;\n                                }\n                            case MIDIPlayer.MIDI_EVENT_ENDOFTRACK:\n                                {\n                                    this.parentWin.MIDIEnded();\n                                    this.stop();\n                                    break;\n                                }\n                        }\n                    }\n                };\n            this.sequencer.addMetaEventListener(this.playbackListener);\n            this.sequencer.setTickPosition(MIDIPlayer.TICKS_PER_MINIM * this.calcNumMinims(measureNum));\n            this.sequencer.setTempoFactor(1);\n            this.sequencer.setTempoInBPM(_java_lang_Float__WEBPACK_IMPORTED_MODULE_2__.Float.parseFloat(MIDIPlayer.configVal(\"BPM\")));\n            for (let mc of synthesizer.getChannels())\n                mc.controlChange(MIDIPlayer.VOLUME_CONTROLLER, (_java_lang_Double__WEBPACK_IMPORTED_MODULE_3__.Double.parseDouble(MIDIPlayer.configVal(\"Gain\")) * 127));\n            this.sequencer.start();\n            this._currentlyPlaying++;\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_12__.JOptionPane.showMessageDialog(this.parentWin, \"Error initializing MIDI system: \" + e, \"Error\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_12__.JOptionPane.ERROR_MESSAGE);\n            }\n            else\n                throw e;\n        }\n    }\n    //Integer.valueOf(new String(msgData,1,msgData.length-1)).intValue());\n    //        sequencer.setTempoInMPQ(Float.parseFloat(configVal(\"MPQ\")));\n    /* set volume */\n    stop() {\n        if (this._currentlyPlaying <= 0)\n            return;\n        this._currentlyPlaying--;\n        this.sequencer.stop();\n        this.sequencer.close();\n        this.sequencer.removeMetaEventListener(this.playbackListener);\n    }\n    /*------------------------------------------------------------------------\nMethods: long calcNumMinims(int measureNum)\nPurpose: Calculate the number of minims passed in the entire score at the\n         beginning of a given measure\nParameters:\n  Input:  int measureNum - measure number\n  Output: -\n  Return: music time in minims\n------------------------------------------------------------------------*/\n    calcNumMinims(measureNum) {\n        let totalMinims = 0;\n        for (let rs of this.renderedSections) {\n            for (let mi = rs.getFirstMeasureNum(); mi <= rs.getLastMeasureNum(); mi++) {\n                if (mi >= measureNum)\n                    return totalMinims;\n                let m = rs.getMeasure(mi);\n                totalMinims += (m.numMinims / m.defaultTempoProportion.toDouble());\n            }\n            totalMinims += _java_lang_Integer__WEBPACK_IMPORTED_MODULE_1__.Integer.parseInt(MIDIPlayer.configVal(\"RestBetweenSections\"));\n        }\n        return totalMinims;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    currentlyPlaying() {\n        return this._currentlyPlaying > 0;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMIDIPlayer.TICKS_PER_BEAT = 96;\nMIDIPlayer.TICKS_PER_MINIM = ((MIDIPlayer.TICKS_PER_BEAT / 2) | 0);\nMIDIPlayer.MAX_NORMAL_CHANNELS = 7;\nMIDIPlayer.VOLUME_CONTROLLER = 7;\nMIDIPlayer.MIDI_EVENT_MARKER = 6;\nMIDIPlayer.MIDI_EVENT_ENDOFTRACK = 47;\nMIDIPlayer.PATCH_TROMBONE = \"57\";\n(() => {\n    MIDIPlayer.DEFAULTS = new _java_util_HashMap__WEBPACK_IMPORTED_MODULE_5__.HashMap();\n    MIDIPlayer.DEFAULTS.put(\"BPM\", \"80\");\n    MIDIPlayer.DEFAULTS.put(\"MPQ\", \"800000\");\n    MIDIPlayer.DEFAULTS.put(\"RestBetweenSections\", \"2\");\n    MIDIPlayer.DEFAULTS.put(\"Instrument\", MIDIPlayer.PATCH_TROMBONE);\n    MIDIPlayer.DEFAULTS.put(\"Velocity\", \"50\");\n    MIDIPlayer.DEFAULTS.put(\"Gain\", \"0.9\");\n})();\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MIDIPlayer.ts?");

/***/ }),

/***/ "./src/Gfx/MeasureInfo.ts":
/*!********************************!*\
  !*** ./src/Gfx/MeasureInfo.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeasureInfo: () => (/* binding */ MeasureInfo)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n\n\nclass MeasureInfo {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: MeasureInfo(int mnum,int nv,Proportion mt,int nm,double xl,double left_x)\nPurpose:     Initialize structure\nParameters:\n  Input:  int mnum      - this measure's number\n          int nv        - the number of music voices\n          Proportion mt - music time at start of measure\n          int nm        - number of minims in measure\n          Proportion tempoProportion - proportion applied to measure\n          double xl     - starting x length of measure\n          double left_x - left x coord of measure\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(mnum, nv, mt, nm, vTempoProportion, xl, left_x) {\n        this.measurenum = mnum;\n        this.numvoices = nv;\n        this.startMusicTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new1(mt);\n        this.startMusicTimeDbl = this.startMusicTime.toDouble();\n        this.numMinims = nm;\n        this.xlength = xl;\n        this.leftx = left_x;\n        this.scaleSet = false;\n        this.defaultTempoProportion = vTempoProportion;\n        this.reventindex = Array(this.numvoices);\n        this.startClefEvents = Array(this.numvoices);\n        this.startMensEvent = Array(this.numvoices);\n        this.tempoProportion = Array(this.numvoices);\n        this.lastBeginClefIndex = Array(this.numvoices);\n        for (let vi = 0; vi < this.numvoices; vi++) {\n            this.reventindex[vi] = -1;\n            this.tempoProportion[vi] = vTempoProportion;\n            this.lastBeginClefIndex[vi] = -1;\n        }\n    }\n    beginsWithClef(vnum) {\n        return this.lastBeginClefIndex[vnum] >= 0;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getEndMusicTime_1() {\n        return _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.sum(this.startMusicTime, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.quotient(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(this.numMinims, 1), this.defaultTempoProportion));\n    }\n    getEndMusicTime_2(vnum) {\n        return _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.sum(this.startMusicTime, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.quotient(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_1__.Proportion.new0(this.numMinims, 1), this.tempoProportion[vnum]));\n    }\n    getMeasureNum() {\n        return this.measurenum;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Print out information for all measures in list\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"*------- MEASURE \" + this.measurenum + \" -------*\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Start time=\" + this.startMusicTime + \" Number of minims=\" + this.numMinims);\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"xlength=\" + this.xlength);\n        for (let i = 0; i < this.numvoices; i++)\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"REvIndex\" + i + \": \" + this.reventindex[i] + \",\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MeasureInfo.ts?");

/***/ }),

/***/ "./src/Gfx/MeasureList.ts":
/*!********************************!*\
  !*** ./src/Gfx/MeasureList.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MeasureList: () => (/* binding */ MeasureList)\n/* harmony export */ });\n/* harmony import */ var _MeasureInfo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MeasureInfo */ \"./src/Gfx/MeasureInfo.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\nclass MeasureList extends _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_1__.ArrayList {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: MeasureList(int nv)\nPurpose:     Initialize list\nParameters:\n  Input:  int nv - the number of music voices\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(nv) {\n        super();\n        this.numvoices = nv;\n    }\n    /*------------------------------------------------------------------------\nMethod:  MeasureInfo newMeasure(int mnum,Proportion mt,int nm,double xl,double leftx)\nPurpose: Create a new measure and add to list\nParameters:\n  Input:  int mnum      - measure number\n          Proportion mt - music time at start of measure\n          int nm        - number of minims in measure\n          Proportion tempoProportion - proportion applied to measure\n          double xl    - starting x length of measure\n          double leftx - left x coord of measure\n  Output: -\n  Return: new measure info\n------------------------------------------------------------------------*/\n    newMeasure(mnum, mt, nm, tempoProportion, xl, leftx) {\n        let newm = new _MeasureInfo__WEBPACK_IMPORTED_MODULE_0__.MeasureInfo(mnum, this.numvoices, mt, nm, tempoProportion, xl, leftx);\n        this.add(newm);\n        return newm;\n    }\n    /*------------------------------------------------------------------------\nMethod:  MeasureInfo getMeasure(int i)\nPurpose: Get measure at specified index from list\nParameters:\n  Input:  int i - index of event\n  Output: -\n  Return: Requested measure\n------------------------------------------------------------------------*/\n    getMeasure(i) {\n        return i < this.size() ? this.get(i) : null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Print out information for all measures in list\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_2() {\n        for (let i = this.iterator(); i.hasNext();)\n            i.next().prettyprint();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MeasureList.ts?");

/***/ }),

/***/ "./src/Gfx/MessageWin.ts":
/*!*******************************!*\
  !*** ./src/Gfx/MessageWin.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageWin: () => (/* binding */ MessageWin)\n/* harmony export */ });\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JFrame */ \"./src/javax/swing/JFrame.ts\");\n/* harmony import */ var _javax_swing_JProgressBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JProgressBar */ \"./src/javax/swing/JProgressBar.ts\");\n/* harmony import */ var _javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/SwingConstants */ \"./src/javax/swing/SwingConstants.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/awt/BorderLayout */ \"./src/java/awt/BorderLayout.ts\");\n\n\n\n\n\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   MessageWin\nExtends: JFrame\nPurpose: Handles a simple text window\n------------------------------------------------------------------------*/\n\nclass MessageWin extends _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_1__.JFrame {\n    constructor() {\n        super(...arguments);\n        /*----------------------------------------------------------------------*/\n        /* Instance variables */\n        this.progressBar = null;\n    }\n    static new0_7(msg, parentWin, pbar) {\n        let _new0 = new MessageWin;\n        MessageWin.set0_7(_new0, msg, parentWin, pbar);\n        return _new0;\n    }\n    static set0_7(new0, msg, parentWin, pbar) {\n        let cp = new0.getContentPane();\n        new0.setTitle(\"CMME\");\n        cp.setLayout(new _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_5__.BorderLayout());\n        let MsgLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_4__.JLabel(msg, _javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_3__.SwingConstants.CENTER);\n        MsgLabel.setFont(MsgLabel.getFont().deriveFont(14));\n        MsgLabel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_0__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        cp.add(MsgLabel, \"Center\");\n        if (pbar) {\n            new0.progressBar = new _javax_swing_JProgressBar__WEBPACK_IMPORTED_MODULE_2__.JProgressBar(0, 100);\n            new0.progressBar.setValue(0);\n            cp.add(new0.progressBar, \"South\");\n        }\n        new0.pack();\n        new0.setLocationRelativeTo(parentWin);\n        new0.setVisible(true);\n        new0.toFront();\n    }\n    static new1_7(msg, parentWin) {\n        let _new1 = new MessageWin;\n        MessageWin.set1_7(_new1, msg, parentWin);\n        return _new1;\n    }\n    static set1_7(new1, msg, parentWin) {\n        MessageWin.set0_7(new1, msg, parentWin, false);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getProgressBar() {\n        return this.progressBar;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MessageWin.ts?");

/***/ }),

/***/ "./src/Gfx/MusicFont.ts":
/*!******************************!*\
  !*** ./src/Gfx/MusicFont.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusicFont: () => (/* binding */ MusicFont)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n/* harmony import */ var _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/awt/Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/net/URL */ \"./src/java/net/URL.ts\");\n\n\n\n\nclass MusicFont {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  void loadmusicface(String database)\nPurpose: Load music face from which all instances get their glyphs\nParameters:\n  Input:  String database - base data directory location\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static loadmusicface(database) {\n        MusicFont.baseMusicFont = _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.createFont(_java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.TRUETYPE_FONT, new _java_net_URL__WEBPACK_IMPORTED_MODULE_3__.URL(database + MusicFont.FontRelativeDir + MusicFont.DisplayFontFileName).openStream());\n        MusicFont.defaultMusicFont = MusicFont.baseMusicFont.deriveFont(MusicFont.DEFAULT_MUSIC_FONTSIZE);\n        MusicFont.defaultTextFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.PLAIN, MusicFont.DEFAULT_TEXT_FONTSIZE);\n        MusicFont.defaultTextItalFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC, MusicFont.DEFAULT_TEXT_FONTSIZE);\n        MusicFont.genericG.setFont(MusicFont.defaultMusicFont);\n        MusicFont.defaultMusicFontMetrics = MusicFont.genericG.getFontMetrics();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void destroyMusicFace()\nPurpose: Release resources from main static music face\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static destroyMusicFace() {\n        MusicFont.baseMusicFont = null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getDefaultGlyphWidth(int glyphNum)\nPurpose: Calculate default x-width required by one music glyph\nParameters:\n  Input:  int glyphNum - number of glyph to check\n  Output: -\n  Return: default x-space required by glyph\n------------------------------------------------------------------------*/\n    static getDefaultGlyphWidth(glyphNum) {\n        return MusicFont.defaultMusicFontMetrics.stringWidth(_java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.toString(((MusicFont.PIC_OFFSET + glyphNum) | 0)));\n    }\n    //CHANGE was charwidth\n    static getDefaultPrintGlyphWidth(glyphNum) {\n        return MusicFont.getDefaultGlyphWidth(glyphNum) * MusicFont.SCREEN_TO_GLYPH_FACTOR;\n    }\n    static new0() {\n        let _new0 = new MusicFont;\n        MusicFont.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        MusicFont.set1(new0, 1);\n    }\n    static new1(VIEWSCALE) {\n        let _new1 = new MusicFont;\n        MusicFont.set1(_new1, VIEWSCALE);\n        return _new1;\n    }\n    static set1(new1, VIEWSCALE) {\n        new1.newScale(VIEWSCALE);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void newScale(double VIEWSCALE)\nPurpose: Change font size\nParameters:\n  Input:  double VIEWSCALE - new size multiplier\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newScale(VIEWSCALE) {\n        this.displayOrigFont = MusicFont.baseMusicFont.deriveFont((MusicFont.DEFAULT_MUSIC_FONTSIZE * VIEWSCALE));\n        this.displayTextFont = MusicFont.defaultTextFont.deriveFont((MusicFont.DEFAULT_TEXT_FONTSIZE * VIEWSCALE));\n        this.displayTextItalFont = MusicFont.defaultTextFont.deriveFont(_java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC, (MusicFont.DEFAULT_TEXT_FONTSIZE * VIEWSCALE));\n        this.displayTextSmallFont = MusicFont.defaultTextFont.deriveFont((MusicFont.DEFAULT_TEXT_SMALLFONTSIZE * VIEWSCALE));\n        this.displayTextItalSmallFont = MusicFont.defaultTextFont.deriveFont(_java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC, (MusicFont.DEFAULT_TEXT_SMALLFONTSIZE * VIEWSCALE));\n        this.displayTextLargeFont = MusicFont.defaultTextFont.deriveFont((MusicFont.DEFAULT_TEXT_LARGEFONTSIZE * VIEWSCALE));\n        this.displayTextItalLargeFont = MusicFont.defaultTextFont.deriveFont(_java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC, (MusicFont.DEFAULT_TEXT_LARGEFONTSIZE * VIEWSCALE));\n        MusicFont.genericG.setFont(this.displayOrigFont);\n        this.displayOrigFontMetrics = MusicFont.genericG.getFontMetrics();\n        MusicFont.genericG.setFont(this.displayTextFont);\n        this.displayTextFontMetrics = MusicFont.genericG.getFontMetrics();\n        MusicFont.genericG.setFont(this.displayTextSmallFont);\n        this.displayTextSmallFontMetrics = MusicFont.genericG.getFontMetrics();\n        MusicFont.genericG.setFont(this.displayTextLargeFont);\n        this.displayTextLargeFontMetrics = MusicFont.genericG.getFontMetrics();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawGlyph(Graphics2D g,int glyphNum,double x,double y,Color c)\nPurpose: Draw one glyph into graphical context\nParameters:\n  Input:  Graphics2D g - graphical context for drawing\n          int glyphNum - number of glyph\n          double x,y   - location in context to draw\n          Color c      - color\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawGlyph(g, glyphNum, x, y, c) {\n        g.setFont(this.displayOrigFont);\n        g.setColor(c);\n        g.drawString(_java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.toString(((MusicFont.PIC_OFFSET + glyphNum) | 0)), x, y);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getGlyphWidth(int glyphNum)\nPurpose: Calculate x-width required by one music glyph\nParameters:\n  Input:  int glyphNum - number of glyph to check\n  Output: -\n  Return: x-space required by glyph\n------------------------------------------------------------------------*/\n    getGlyphWidth(glyphNum) {\n        return this.displayOrigFontMetrics.stringWidth(_java_lang_Character__WEBPACK_IMPORTED_MODULE_0__.Character.toString(((MusicFont.PIC_OFFSET + glyphNum) | 0)));\n    }\n    //CHANGE was charWidth\n    /*------------------------------------------------------------------------\nMethod:  Font chooseTextFont(int fsize,fstyle)\nPurpose: Choose (scaled) font based on required size\nParameters:\n  Input:  int fsize,fstyle - requested font size/style (unscaled)\n  Output: -\n  Return: closest available text font\n------------------------------------------------------------------------*/\n    chooseTextFont(fsize, fstyle) {\n        if (fsize <= MusicFont.DEFAULT_TEXT_SMALLFONTSIZE)\n            return fstyle == _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC ? this.displayTextItalSmallFont : this.displayTextSmallFont;\n        if (fsize <= MusicFont.DEFAULT_TEXT_FONTSIZE)\n            return fstyle == _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC ? this.displayTextItalFont : this.displayTextFont;\n        return fstyle == _java_awt_Font__WEBPACK_IMPORTED_MODULE_1__.Font.ITALIC ? this.displayTextItalLargeFont : this.displayTextLargeFont;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMusicFont.FontRelativeDir = \"fonts/\";\nMusicFont.DisplayFontFileName = \"cmme.ttf\";\nMusicFont.ModernFontFileName = \"cmme-modern.ttf\";\nMusicFont.PrintFontFileName = \"cmme-printer.ttf\";\nMusicFont.PIC_OFFSET = 0;\nMusicFont.PIC_NULL = 33;\nMusicFont.PIC_CLEFSTART = 34;\nMusicFont.PIC_NOTESTART = ((MusicFont.PIC_CLEFSTART + 30) | 0);\nMusicFont.PIC_MODNOTESTART = ((MusicFont.PIC_NOTESTART + 30) | 0);\nMusicFont.PIC_MENSSTART = ((MusicFont.PIC_NOTESTART + 40) | 0);\nMusicFont.PIC_RESTSTART = 0xae;\nMusicFont.PIC_MODRESTSTART = ((MusicFont.PIC_RESTSTART + 8) | 0);\nMusicFont.PIC_MISCSTART = 0xcc;\nMusicFont.PIC_NOTE_OFFSET_STEMUP = 10;\nMusicFont.PIC_NOTE_OFFSET_STEMDOWN = 20;\nMusicFont.PIC_MODNOTE_OFFSET_STEMUP = 0;\nMusicFont.PIC_MODNOTE_OFFSET_STEMDOWN = 2;\nMusicFont.PIC_MODNOTE_OFFSET_FLAGUP = 7;\nMusicFont.PIC_MODNOTE_OFFSET_FLAGDOWN = 8;\nMusicFont.PIC_MENS_O = 0;\nMusicFont.PIC_MENS_C = 1;\nMusicFont.PIC_MENS_CREV = 2;\nMusicFont.PIC_MENS_C90CW = 3;\nMusicFont.PIC_MENS_C90CCW = 4;\nMusicFont.PIC_MENS_STROKE = 5;\nMusicFont.PIC_MENS_DOT = 8;\nMusicFont.PIC_MENS_NONE = 9;\nMusicFont.PIC_MENS_OFFSETSMALL = 10;\nMusicFont.PIC_MISC_BLANK = 0;\nMusicFont.PIC_MISC_DOT = 1;\nMusicFont.PIC_MISC_STEM = 2;\nMusicFont.PIC_MISC_LEDGER = 3;\nMusicFont.PIC_MISC_LINEEND = 4;\nMusicFont.PIC_MISC_CUSTOS = 5;\nMusicFont.PIC_MISC_FLAGUP = 6;\nMusicFont.PIC_MISC_FLAGDOWN = 7;\nMusicFont.PIC_MISC_CORONAUP = 8;\nMusicFont.PIC_MISC_CORONADOWN = 9;\nMusicFont.PIC_MISC_SIGNUMUP = 10;\nMusicFont.PIC_MISC_SIGNUMDOWN = 11;\nMusicFont.PIC_MISC_ANGBRACKETLEFT = 12;\nMusicFont.PIC_MISC_ANGBRACKETRIGHT = 13;\nMusicFont.PIC_MISC_PARENSLEFT = 14;\nMusicFont.PIC_MISC_PARENSRIGHT = 15;\nMusicFont.PIC_MISC_PARENSLEFTSMALL = 16;\nMusicFont.PIC_MISC_PARENSRIGHTSMALL = 17;\nMusicFont.PIC_MISC_BRACKETLEFT = 18;\nMusicFont.PIC_MISC_BRACKETRIGHT = 19;\n/* connections for glyph combinations (in units of 1/1000 point) */\nMusicFont.CONNECTION_SB_UPSTEMX = 257;\nMusicFont.CONNECTION_SB_UPSTEMY = 280;\nMusicFont.CONNECTION_SB_DOWNSTEMX = 257;\nMusicFont.CONNECTION_SB_DOWNSTEMY = -1757;\nMusicFont.CONNECTION_L_LEFTSTEMX = 0;\nMusicFont.CONNECTION_L_STEMX = 446;\nMusicFont.CONNECTION_L_UPSTEMY = 282.6;\nMusicFont.CONNECTION_L_DOWNSTEMY = -1730;\nMusicFont.CONNECTION_MX_STEMX = 991;\nMusicFont.CONNECTION_STEM_UPFLAGY = 1700;\nMusicFont.CONNECTION_STEM_DOWNFLAGY = -1650;\nMusicFont.CONNECTION_STEM_UPMODFLAGY = 1400;\nMusicFont.CONNECTION_STEM_DOWNMODFLAGY = -1350;\nMusicFont.CONNECTION_MODFLAGX = 0;\nMusicFont.CONNECTION_FLAGINTERVAL = 700;\nMusicFont.CONNECTION_CORONAX = -180;\nMusicFont.CONNECTION_DOTX = 240;\nMusicFont.CONNECTION_MODACCX = 180;\nMusicFont.CONNECTION_MODACC_DBLFLAT = -270;\nMusicFont.CONNECTION_MODACC_DBLSHARP = -450;\nMusicFont.CONNECTION_MODACC_PARENS = 270;\nMusicFont.CONNECTION_MODACCSMALLX = 180;\nMusicFont.CONNECTION_MODACC_SMALLDBLFLAT = -360;\nMusicFont.CONNECTION_MODACC_SMALLDBLSHARP = -450;\nMusicFont.CONNECTION_MODACC_SMALLNATURAL = 90;\nMusicFont.CONNECTION_MODACC_SMALLPARENS = 45;\nMusicFont.CONNECTION_ANGBRACKETLEFT = -240;\nMusicFont.CONNECTION_ANGBRACKETRIGHT = 450;\nMusicFont.CONNECTION_LIG_RECTA = 446;\nMusicFont.CONNECTION_LIG_UPSTEMY = 200;\nMusicFont.CONNECTION_LIG_DOWNSTEMY = -1650;\nMusicFont.CONNECTION_BARLINEX = 200;\nMusicFont.CONNECTION_ANNOTATION_MENSSYMBOL = 235;\nMusicFont.CONNECTION_MENSSIGNX = 800;\nMusicFont.CONNECTION_MENSNUMBERX = 90;\nMusicFont.CONNECTION_MENSNUMBERY = -90;\nMusicFont.CONNECTION_SCREEN_ANGBRACKETLEFT = -6;\nMusicFont.CONNECTION_SCREEN_ANGBRACKETRIGHT = 13;\nMusicFont.CONNECTION_SCREEN_BARLINEX = 5;\nMusicFont.CONNECTION_SCREEN_CORONAX = -2;\nMusicFont.CONNECTION_SCREEN_DOTX = 6;\nMusicFont.CONNECTION_SCREEN_MODFLAGX = -2;\nMusicFont.CONNECTION_SCREEN_FLAGINTERVAL = 8;\nMusicFont.CONNECTION_SCREEN_LIG_DOWNSTEMY = -36;\nMusicFont.CONNECTION_SCREEN_LIG_RECTA = 11;\nMusicFont.CONNECTION_SCREEN_LIG_UPSTEMY = 6;\nMusicFont.CONNECTION_SCREEN_L_LEFTSTEMX = 0;\nMusicFont.CONNECTION_SCREEN_L_STEMX = 11;\nMusicFont.CONNECTION_SCREEN_L_UPSTEMY = 5;\nMusicFont.CONNECTION_SCREEN_L_DOWNSTEMY = -35;\nMusicFont.CONNECTION_SCREEN_MENSNUMBERX = 10;\nMusicFont.CONNECTION_SCREEN_MENSNUMBERY = -2;\nMusicFont.CONNECTION_SCREEN_MENSSIGNX = 15;\nMusicFont.CONNECTION_SCREEN_MODACCSMALLX = 3;\nMusicFont.CONNECTION_SCREEN_MODACCX = 2;\nMusicFont.CONNECTION_SCREEN_MODACC_DBLFLAT = -2;\nMusicFont.CONNECTION_SCREEN_MODACC_DBLSHARP = -5;\nMusicFont.CONNECTION_SCREEN_MODACC_PARENS = 4;\nMusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLFLAT = -2;\nMusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLSHARP = -4;\nMusicFont.CONNECTION_SCREEN_MODACC_SMALLNATURAL = 3;\nMusicFont.CONNECTION_SCREEN_MODACC_SMALLPARENSLEFT = 5;\nMusicFont.CONNECTION_SCREEN_MODACC_SMALLPARENSRIGHT = 4;\nMusicFont.CONNECTION_SCREEN_MX_STEMX = 21;\nMusicFont.CONNECTION_SCREEN_SB_UPSTEMX = 6;\nMusicFont.CONNECTION_SCREEN_SB_UPSTEMY = 6;\nMusicFont.CONNECTION_SCREEN_SB_DOWNSTEMX = 6;\nMusicFont.CONNECTION_SCREEN_SB_DOWNSTEMY = -36;\nMusicFont.CONNECTION_SCREEN_STEM_UPFLAGY = 30;\nMusicFont.CONNECTION_SCREEN_STEM_DOWNFLAGY = 1;\nMusicFont.DEFAULT_MUSIC_FONTSIZE = 42;\nMusicFont.DEFAULT_TEXT_FONTSIZE = 14;\nMusicFont.DEFAULT_TEXT_SMALLFONTSIZE = 12;\nMusicFont.DEFAULT_TEXT_LARGEFONTSIZE = 20;\nMusicFont.PICXOFFSET = 4;\nMusicFont.PICYCENTER = 41;\nMusicFont.SCREEN_TO_GLYPH_FACTOR = 40;\n/* static generic G2D for creating FontMetrics */\nMusicFont.genericBI = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_2__.BufferedImage(10, 10, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_2__.BufferedImage.TYPE_INT_ARGB);\nMusicFont.genericG = MusicFont.genericBI.createGraphics();\nMusicFont.baseMusicFont = null;\nMusicFont.defaultMusicFont = null;\nMusicFont.defaultTextFont = null;\nMusicFont.defaultTextItalFont = null;\nMusicFont.defaultMusicFontMetrics = null;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MusicFont.ts?");

/***/ }),

/***/ "./src/Gfx/MusicWin.ts":
/*!*****************************!*\
  !*** ./src/Gfx/MusicWin.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BarlineStyleListener: () => (/* binding */ BarlineStyleListener),\n/* harmony export */   CMMEFileFilter: () => (/* binding */ CMMEFileFilter),\n/* harmony export */   HTMLFileFilter: () => (/* binding */ HTMLFileFilter),\n/* harmony export */   MIDIFileFilter: () => (/* binding */ MIDIFileFilter),\n/* harmony export */   MusicWin: () => (/* binding */ MusicWin),\n/* harmony export */   NoteShapeStyleListener: () => (/* binding */ NoteShapeStyleListener),\n/* harmony export */   PDFFileFilter: () => (/* binding */ PDFFileFilter),\n/* harmony export */   ViewSizeListener: () => (/* binding */ ViewSizeListener),\n/* harmony export */   XMLFileFilter: () => (/* binding */ XMLFileFilter)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _java_lang_Float__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/lang/Float */ \"./src/java/lang/Float.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _ZoomControl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ZoomControl */ \"./src/Gfx/ZoomControl.ts\");\n/* harmony import */ var _ViewCanvas__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ViewCanvas */ \"./src/Gfx/ViewCanvas.ts\");\n/* harmony import */ var _VariantDisplayOptionsFrame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VariantDisplayOptionsFrame */ \"./src/Gfx/VariantDisplayOptionsFrame.ts\");\n/* harmony import */ var _VariantAnalysisList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VariantAnalysisList */ \"./src/Gfx/VariantAnalysisList.ts\");\n/* harmony import */ var _ScorePageRenderer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ScorePageRenderer */ \"./src/Gfx/ScorePageRenderer.ts\");\n/* harmony import */ var _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ScorePagePreviewWin */ \"./src/Gfx/ScorePagePreviewWin.ts\");\n/* harmony import */ var _PDFCreator__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./PDFCreator */ \"./src/Gfx/PDFCreator.ts\");\n/* harmony import */ var _PartsWin__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./PartsWin */ \"./src/Gfx/PartsWin.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicXMLGenerator__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./MusicXMLGenerator */ \"./src/Gfx/MusicXMLGenerator.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _MIDIPlayer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./MIDIPlayer */ \"./src/Gfx/MIDIPlayer.ts\");\n/* harmony import */ var _MessageWin__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./MessageWin */ \"./src/Gfx/MessageWin.ts\");\n/* harmony import */ var _GeneralInfoFrame__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./GeneralInfoFrame */ \"./src/Gfx/GeneralInfoFrame.ts\");\n/* harmony import */ var _CriticalNotesWindow__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./CriticalNotesWindow */ \"./src/Gfx/CriticalNotesWindow.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _javax_swing_filechooser_FileFilter__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../javax/swing/filechooser/FileFilter */ \"./src/javax/swing/filechooser/FileFilter.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../java/net/URL */ \"./src/java/net/URL.ts\");\n/* harmony import */ var _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../javax/imageio/ImageIO */ \"./src/javax/imageio/ImageIO.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../javax/swing/JFileChooser */ \"./src/javax/swing/JFileChooser.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../javax/swing/ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n/* harmony import */ var _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../javax/swing/JMenu */ \"./src/javax/swing/JMenu.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../javax/swing/JRadioButton */ \"./src/javax/swing/JRadioButton.ts\");\n/* harmony import */ var _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../javax/swing/ButtonGroup */ \"./src/javax/swing/ButtonGroup.ts\");\n/* harmony import */ var _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../javax/swing/JFrame */ \"./src/javax/swing/JFrame.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../javax/swing/KeyStroke */ \"./src/javax/swing/KeyStroke.ts\");\n/* harmony import */ var _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../javax/swing/JMenuItem */ \"./src/javax/swing/JMenuItem.ts\");\n/* harmony import */ var _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../javax/swing/JCheckBoxMenuItem */ \"./src/javax/swing/JCheckBoxMenuItem.ts\");\n/* harmony import */ var _javax_swing_JScrollBar__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../javax/swing/JScrollBar */ \"./src/javax/swing/JScrollBar.ts\");\n/* harmony import */ var _javax_swing_JMenuBar__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../javax/swing/JMenuBar */ \"./src/javax/swing/JMenuBar.ts\");\n/* harmony import */ var _javax_swing_JEditorPane__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../javax/swing/JEditorPane */ \"./src/javax/swing/JEditorPane.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../javax/swing/JOptionPane */ \"./src/javax/swing/JOptionPane.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../javax/swing/JRadioButtonMenuItem */ \"./src/javax/swing/JRadioButtonMenuItem.ts\");\n/* harmony import */ var _javax_swing_JToolBar__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../javax/swing/JToolBar */ \"./src/javax/swing/JToolBar.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../java/awt/Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_awt_Insets__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../java/awt/Insets */ \"./src/java/awt/Insets.ts\");\n/* harmony import */ var _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../java/awt/BorderLayout */ \"./src/java/awt/BorderLayout.ts\");\n/* harmony import */ var _java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../java/awt/event/KeyEvent */ \"./src/java/awt/event/KeyEvent.ts\");\n/* harmony import */ var _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../java/awt/event/ActionEvent */ \"./src/java/awt/event/ActionEvent.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _org_jdom_JDOMException__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../org/jdom/JDOMException */ \"./src/org/jdom/JDOMException.ts\");\n/* harmony import */ var _DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../DataStruct/CMMEParser */ \"./src/DataStruct/CMMEParser.ts\");\n/* harmony import */ var _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../DataStruct/MetaData */ \"./src/DataStruct/MetaData.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n/* harmony import */ var _Viewer_Main__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../Viewer/Main */ \"./src/Viewer/Main.ts\");\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../Util/Resources */ \"./src/Util/Resources.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//import Gfx.PartsWin;\n/*------------------------------------------------------------------------\nClass:   MusicWin\nExtends: JFrame\nPurpose: Lays out and implements main music window\n------------------------------------------------------------------------*/\n\nclass MusicWin extends _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_36__.JFrame {\n    constructor() {\n        super(...arguments);\n        this.mytype_WindowFocusListener = true;\n        this.mytype_ItemListener = true;\n        this.mytype_ActionListener = true;\n        /*----------------------------------------------------------------------*/\n        /* Instance variables */\n        this.updatemusicgfx = true;\n        this.rerendermusic = false;\n        this.redrawscr = false;\n        /* action listeners */\n        this.VSListener = new ViewSizeListener(this);\n        this.VMBSListener = new BarlineStyleListener(this);\n        this.VMNSListener = new NoteShapeStyleListener(this);\n        this.VMVSDefaultNums = [200, 175, 150, 125, 100, 75, 50];\n        this.MTVersionLabel = null;\n        this.commentaryTextArea = null;\n        /*------------------------------------------------------------------------\n    Method:  void gotomeasure(int mnum)\n    Purpose: Move scroll bar and display to new measure\n    Parameters:\n      Input:  int mnum - measure number\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.updateMeasure = -1;\n        //System.out.println(\"VirtH=\"+virtual_height+\" ViewH=\"+view_height);\n        /*------------------------------------------------------------------------\n    Method:  void openAboutWin()\n    Purpose: Open general information window\n    Parameters:\n      Input:  -\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.aboutWin = null;\n        /*------------------------------------------------------------------------\n    Method:  void openNewNotesWindow()\n    Purpose: Open new window with critical notes\n    Parameters:\n      Input:  -\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.notesWindows = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_22__.LinkedList();\n        /* MIDI Playback functions */\n        this.scorePlayer = null;\n    }\n    static fitInScreen_1(dimToCheck) {\n        return MusicWin.fitInScreen_2(dimToCheck, MusicWin.AVAIL_SCREEN_PROPORTION);\n    }\n    static fitInScreen_2(dimToCheck, scrProportion) {\n        return MusicWin.fitInScreen_3(dimToCheck, scrProportion, scrProportion);\n    }\n    static fitInScreen_3(dimToCheck, scrProportionX, scrProportionY) {\n        let d = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(dimToCheck);\n        if (d.width > (MusicWin.SCREEN_DIMENSION.width * scrProportionX))\n            d.width = (MusicWin.SCREEN_DIMENSION.width * scrProportionX);\n        if (d.height > (MusicWin.SCREEN_DIMENSION.height * scrProportionY))\n            d.height = (MusicWin.SCREEN_DIMENSION.height * scrProportionY);\n        return d;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initScoreWindowing(String bdu,String initDir,boolean inApplet)\nPurpose: Initialize global objects shared by music windows\nParameters:\n  Input:  String bdu       - URL of program data directories\n          String initDir   - initial directory for file chooser\n          boolean inApplet - running within applet context?\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static isCMMEFilename(filename) {\n        return filename.matches(\".*\\\\.[Cc][Mm][Mm][Ee]\\\\.[Xx][Mm][Ll]\");\n    }\n    static isMIDIFilename(filename) {\n        return filename.matches(MusicWin.FILENAME_PATTERN_MIDI);\n    }\n    static isMusicXMLFilename(filename) {\n        return filename.matches(MusicWin.FILENAME_PATTERN_XML) && !MusicWin.isCMMEFilename(filename);\n    }\n    static isHTMLFilename(filename) {\n        return filename.matches(MusicWin.FILENAME_PATTERN_HTML);\n    }\n    static getMusicWinFileChooser() {\n        if (MusicWin.musicWinFileChooser == null) {\n            MusicWin.musicWinFileChooser = new _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__.JFileChooser(MusicWin.initDir);\n            MusicWin.musicWinFileChooser.addChoosableFileFilter(MusicWin.CMMEFFilter);\n            MusicWin.musicWinFileChooser.addChoosableFileFilter(MusicWin.MIDIFFilter);\n            MusicWin.musicWinFileChooser.addChoosableFileFilter(MusicWin.XMLFFilter);\n            MusicWin.musicWinFileChooser.setFileFilter(MusicWin.CMMEFFilter);\n        }\n        return MusicWin.musicWinFileChooser;\n    }\n    static getSaveFileChooser() {\n        if (MusicWin.saveFileChooser == null) {\n            MusicWin.saveFileChooser = new _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__.JFileChooser(MusicWin.initDir);\n            MusicWin.saveFileChooser.addChoosableFileFilter(MusicWin.CMMEFFilter);\n            MusicWin.saveFileChooser.setFileFilter(MusicWin.CMMEFFilter);\n        }\n        MusicWin.saveFileChooser.setCurrentDirectory(MusicWin.getMusicWinFileChooser().getCurrentDirectory());\n        return MusicWin.saveFileChooser;\n    }\n    static getExportFileChooser() {\n        if (MusicWin.exportFileChooser == null) {\n            MusicWin.exportFileChooser = new _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__.JFileChooser(MusicWin.initDir);\n            MusicWin.exportFileChooser.addChoosableFileFilter(MusicWin.MIDIFFilter);\n            MusicWin.exportFileChooser.addChoosableFileFilter(MusicWin.XMLFFilter);\n            MusicWin.exportFileChooser.setFileFilter(MusicWin.XMLFFilter);\n        }\n        MusicWin.exportFileChooser.setCurrentDirectory(MusicWin.getSaveFileChooser().getCurrentDirectory());\n        return MusicWin.exportFileChooser;\n    }\n    static getPDFFileChooser() {\n        if (MusicWin.PDFFileChooser == null) {\n            MusicWin.PDFFileChooser = new _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__.JFileChooser(MusicWin.initPDFDir);\n            MusicWin.PDFFileChooser.addChoosableFileFilter(MusicWin.PDFFFilter);\n            MusicWin.PDFFileChooser.setFileFilter(MusicWin.PDFFFilter);\n        }\n        return MusicWin.PDFFileChooser;\n    }\n    static getCritNotesFileChooser() {\n        if (MusicWin.critNotesFileChooser == null) {\n            MusicWin.critNotesFileChooser = new _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__.JFileChooser(MusicWin.initCritNotesDir);\n            MusicWin.critNotesFileChooser.addChoosableFileFilter(MusicWin.HTMLFFilter);\n            MusicWin.critNotesFileChooser.setFileFilter(MusicWin.HTMLFFilter);\n        }\n        return MusicWin.critNotesFileChooser;\n    }\n    static initScoreWindowing_1(bdu, initDir, inApplet) {\n        MusicWin.musicWinFileChooser = null;\n        MusicWin.initDir = initDir;\n        MusicWin.BaseDataURL = bdu;\n        try {\n            MusicWin.initPDFDir = new _java_net_URL__WEBPACK_IMPORTED_MODULE_24__.URL(MusicWin.BaseDataURL + MusicWin.DEFAULT_PDFDIR).getFile();\n            MusicWin.initCritNotesDir = new _java_net_URL__WEBPACK_IMPORTED_MODULE_24__.URL(MusicWin.BaseDataURL + MusicWin.DEFAULT_CRITNOTESDIR).getFile();\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                MusicWin.initPDFDir = initDir;\n                MusicWin.initCritNotesDir = initDir;\n            }\n            else\n                throw e;\n        }\n        MusicWin.CMMEFFilter = new CMMEFileFilter();\n        MusicWin.MIDIFFilter = new MIDIFileFilter();\n        MusicWin.XMLFFilter = new XMLFileFilter();\n        MusicWin.HTMLFFilter = new HTMLFileFilter();\n        MusicWin.PDFFFilter = new PDFFileFilter();\n        MusicWin.fileWindows = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_22__.LinkedList();\n        let dvs = MusicWin.SCREEN_DIMENSION.height / 1200;\n        MusicWin.DefaultViewScale = _java_lang_Math__WEBPACK_IMPORTED_MODULE_4__.Math.round(dvs * 100);\n        MusicWin.initGUIIcons();\n    }\n    /* calculate default scaling based on screen dimensions */\n    static closeAllWindows() {\n        let fileWindowsList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_22__.LinkedList(MusicWin.fileWindows);\n        for (let mw of fileWindowsList)\n            mw.closewin_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initGUIIcons()\nPurpose: Initialize tool icons for viewer GUI\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static initGUIIcons() {\n        try {\n            let lightBG = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_25__.ImageIO.read(_Util_Resources__WEBPACK_IMPORTED_MODULE_65__.Resources.getResource(\"data/imgs/GUIicons/buttonbg-light.gif\"));\n            let darkBG = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_25__.ImageIO.read(_Util_Resources__WEBPACK_IMPORTED_MODULE_65__.Resources.getResource(\"data/imgs/GUIicons/buttonbg-dark.gif\"));\n            MusicWin.NoteShapesOldIcon_light = MusicWin.makeIconWithBG(\"noteval-buttonORIGa.gif\", lightBG);\n            MusicWin.NoteShapesOldIcon_dark = MusicWin.makeIconWithBG(\"noteval-buttonORIGa.gif\", darkBG);\n            MusicWin.NoteShapesModIcon_light = MusicWin.makeIconWithBG(\"noteval-buttonMODERNa.gif\", lightBG);\n            MusicWin.NoteShapesModIcon_dark = MusicWin.makeIconWithBG(\"noteval-buttonMODERNa.gif\", darkBG);\n            MusicWin.ClefsOldIcon_light = MusicWin.makeIconWithBG(\"clef-buttonC1a.gif\", lightBG);\n            MusicWin.ClefsOldIcon_dark = MusicWin.makeIconWithBG(\"clef-buttonC1a.gif\", darkBG);\n            MusicWin.ClefsModIcon_light = MusicWin.makeIconWithBG(\"clef-buttonMODERNG1a.gif\", lightBG);\n            MusicWin.ClefsModIcon_dark = MusicWin.makeIconWithBG(\"clef-buttonMODERNG1a.gif\", darkBG);\n            MusicWin.EdAccidentalsIcon_light = MusicWin.makeIconWithBG(\"edacc-button.gif\", lightBG);\n            MusicWin.EdAccidentalsIcon_dark = MusicWin.makeIconWithBG(\"edacc-button.gif\", darkBG);\n            MusicWin.PitchOldIcon_light = MusicWin.makeIconWithBG(\"clef-buttonBmol1a.gif\", lightBG);\n            MusicWin.PitchOldIcon_dark = MusicWin.makeIconWithBG(\"clef-buttonBmol1a.gif\", darkBG);\n            MusicWin.PitchModIcon_light = MusicWin.makeIconWithBG(\"clef-buttonMODERNFLAT1a.gif\", lightBG);\n            MusicWin.PitchModIcon_dark = MusicWin.makeIconWithBG(\"clef-buttonMODERNFLAT1a.gif\", darkBG);\n            MusicWin.TextingOldIcon_light = MusicWin.makeIconWithBG(\"textorig-button.gif\", lightBG);\n            MusicWin.TextingOldIcon_dark = MusicWin.makeIconWithBG(\"textorig-button.gif\", darkBG);\n            MusicWin.TextingModIcon_light = MusicWin.makeIconWithBG(\"textmodern-button.gif\", lightBG);\n            MusicWin.TextingModIcon_dark = MusicWin.makeIconWithBG(\"textmodern-button.gif\", darkBG);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error loading icons: \" + e);\n                if (_DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_62__.MetaData.CMME_OPT_TESTING)\n                    e.printStackTrace();\n            }\n            else\n                throw e;\n        }\n    }\n    /* basic image elements */\n    /* note shapes */\n    /* cleffing */\n    /* editorial accidentals */\n    /* pitch system */\n    /* texting */\n    /*------------------------------------------------------------------------\nMethod:  ImageIcon makeIconWithBG(String imgFilename,BufferedImage BG)\nPurpose: Combine background image with image file to create icon\nParameters:\n  Input:  String imgFilename - filename for foreground image\n          BufferedImage BG   - background image\n  Output: -\n  Return: icon with combined images\n------------------------------------------------------------------------*/\n    static makeIconWithBG(imgFilename, BG) {\n        let curCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_59__.BufferedImage(BG.getWidth(), BG.getHeight(), _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_59__.BufferedImage.TYPE_INT_ARGB);\n        let curFileImg = _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_25__.ImageIO.read(_Util_Resources__WEBPACK_IMPORTED_MODULE_65__.Resources.getResource(\"data/imgs/GUIicons/\" + imgFilename));\n        let curG = curCanvas.createGraphics();\n        curG.drawImage(BG, 0, 0, null);\n        curG.drawImage(curFileImg, 0, 0, null);\n        return new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_30__.ImageIcon(curCanvas);\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set parameters and options\nParameters:\n  Input:  new values for parameters and options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static setViewerWin(newval) {\n        MusicWin.viewerWin = newval;\n    }\n    static new0_6(fn, p, xl, yl) {\n        let _new0 = new MusicWin;\n        MusicWin.set0_6(_new0, fn, p, xl, yl);\n        return _new0;\n    }\n    static set0_6(new0, fn, p, xl, yl) {\n        new0.musicData = p;\n        new0.windowFileName = fn;\n        new0.origsize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(-1, -1);\n        new0.WinBorder = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(-1, -1);\n        if (xl == -1) {\n            xl = 10;\n            yl = 10;\n            if (MusicWin.curWindow != null) {\n                xl = ((MusicWin.curWindow.getLocation().x + 20) | 0);\n                yl = ((MusicWin.curWindow.getLocation().y + 20) | 0);\n            }\n        }\n        new0.cp = new0.getContentPane();\n        new0.addCMMETitle_1(fn);\n        new0.windowIcon = new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_30__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_24__.URL(MusicWin.BaseDataURL + \"imgs/icon1.gif\")).getImage();\n        new0.setIconImage(new0.windowIcon);\n        new0.cp.setLayout(new _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_56__.BorderLayout());\n        new0.optSet = new _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet(new0);\n        new0.initializeOptions_1();\n        new0.MusicGfx = _MusicFont__WEBPACK_IMPORTED_MODULE_15__.MusicFont.new1(new0.optSet.getVIEWSCALE());\n        new0.TopMenuBar = new _javax_swing_JMenuBar__WEBPACK_IMPORTED_MODULE_42__.JMenuBar();\n        new0.FileMenu = new0.createFileMenu_1();\n        new0.EditMenu = new0.createEditMenu_1();\n        new0.ViewMenu = new0.createViewMenu_1();\n        new0.SectionsMenu = new0.createSectionsMenu_1();\n        new0.TextMenu = new0.createTextMenu_1();\n        new0.VersionsMenu = new0.createVersionsMenu_1();\n        new0.AnalysisMenu = new0.createAnalysisMenu_1();\n        new0.TopMenuBar.add(new0.FileMenu);\n        if (new0.EditMenu != null)\n            new0.TopMenuBar.add(new0.EditMenu);\n        new0.TopMenuBar.add(new0.ViewMenu);\n        if (new0.SectionsMenu != null)\n            new0.TopMenuBar.add(new0.SectionsMenu);\n        if (new0.TextMenu != null)\n            new0.TopMenuBar.add(new0.TextMenu);\n        new0.TopMenuBar.add(new0.VersionsMenu);\n        new0.setJMenuBar(new0.TopMenuBar);\n        new0.ViewScr = new0.createMusicCanvas_1(new0.musicData, new0.MusicGfx, new0, new0.optSet);\n        new0.cp.add(\"Center\", new0.ViewScr);\n        new0.partsWin = new0.createInitialPartsWin_1();\n        new0.scorePageWin = null;\n        new0.createGenPDFDialog();\n        new0.MainToolBar = new0.createMainToolBar_1();\n        if (new0.MainToolBar != null)\n            new0.cp.add(\"North\", new0.MainToolBar);\n        new0.BottomPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_26__.JPanel();\n        new0.StatusPanel = new0.createStatusPanel_1();\n        new0.MusicScrollBarX = new _javax_swing_JScrollBar__WEBPACK_IMPORTED_MODULE_41__.JScrollBar(_javax_swing_JScrollBar__WEBPACK_IMPORTED_MODULE_41__.JScrollBar.HORIZONTAL, 0, 0, 0, new0.ViewScr.nummeasures);\n        new0.MusicScrollBarY = new _javax_swing_JScrollBar__WEBPACK_IMPORTED_MODULE_41__.JScrollBar(_javax_swing_JScrollBar__WEBPACK_IMPORTED_MODULE_41__.JScrollBar.VERTICAL, 0, new0.ViewScr.screensize.height, 0, _java_lang_Math__WEBPACK_IMPORTED_MODULE_4__.Math.round(new0.ViewScr.SCREEN_MINHEIGHT * new0.optSet.getVIEWSCALE()));\n        new0.MusicScrollBarX.setFocusable(false);\n        new0.MusicScrollBarY.setFocusable(false);\n        new0.MusicScrollBarX.addAdjustmentListener({\n            adjustmentValueChanged: (e) => {\n                let newmeasure = new0.MusicScrollBarX.getValue();\n                new0.setmeasurenum(((newmeasure + 1) | 0));\n                new0.ViewScr.movedisplay_1(newmeasure);\n            }\n        });\n        new0.MusicScrollBarY.addAdjustmentListener({\n            adjustmentValueChanged: (e) => {\n                let newy = new0.MusicScrollBarY.getValue();\n                new0.ViewScr.newY_1(newy);\n            }\n        });\n        new0.BottomPanel.setLayout(new _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_56__.BorderLayout());\n        new0.BottomPanel.add(\"South\", new0.StatusPanel);\n        new0.BottomPanel.add(\"Center\", new0.MusicScrollBarX);\n        new0.cp.add(\"South\", new0.BottomPanel);\n        new0.cp.add(\"East\", new0.MusicScrollBarY);\n        new0.setKeyboardHandler_1();\n        new0.setDefaultCloseOperation(_javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_36__.JFrame.DO_NOTHING_ON_CLOSE);\n        new0.addWindowListener({\n            windowClosing: (event) => {\n                new0.closewin_1();\n            }\n        });\n        new0.addComponentListener({\n            componentResized: (event) => {\n                if (new0.origsize.getHeight() >= 0)\n                    new0.ViewScr.newsize(((new0.cp.getSize().width - new0.WinBorder.width) | 0), ((((new0.cp.getSize().height - new0.WinBorder.height) | 0) + (new0.commentaryPanelDisplayed ? 0 : new0.commentaryPanel.getSize().height)) | 0));\n            }\n        });\n        new0.addWindowFocusListener(new0);\n        new0.pack();\n        new0.setLocation(xl, yl);\n        new0.setSubframeLocations_1();\n        new0.ViewScr.requestFocusInWindow();\n        new0.setVisible(true);\n        new0.toFront();\n        MusicWin.fileWindows.add(new0);\n        MusicWin.curWindow = new0;\n        new0.origsize.setSize(new0.cp.getSize());\n        new0.WinBorder.setSize(((new0.origsize.width - new0.ViewScr.cursize().width) | 0), ((new0.origsize.height - new0.ViewScr.cursize().height) | 0));\n    }\n    static new1_6(fn, p) {\n        let _new1 = new MusicWin;\n        MusicWin.set1_6(_new1, fn, p);\n        return _new1;\n    }\n    static set1_6(new1, fn, p) {\n        MusicWin.set0_6(new1, fn, p, -1, -1);\n    }\n    static new2() {\n        let _new2 = new MusicWin;\n        MusicWin.set2(_new2);\n        return _new2;\n    }\n    static set2(new2) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  MusicWin getWinToReplace()\nPurpose: If a new opening score window is to replace another one, return\n         window to be replaced\nParameters:\n  Input:  -\n  Output: -\n  Return: window to be replaced\n------------------------------------------------------------------------*/\n    getWinToReplace_1() {\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  MusicWin openWin(String fn,String path,PieceData musicData,int xl,int yl)\nPurpose: Open new window after loading music data\nParameters:\n  Input:  String fn           - filename\n          String path         - canonical path to file\n          PieceData musicData - music data from file\n          int xl,yl           - coordinates for new window\n  Output: -\n  Return: new window\n------------------------------------------------------------------------*/\n    openWin_1(fn, path, musicData, convertedData, xl, yl) {\n        return MusicWin.new0_6(fn, musicData, xl, yl);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void openFile(String fn)\nPurpose: Open new music window for one file\nParameters:\n  Input:  String fn - name of file\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openFile(filename) {\n        let blankWin = this.getWinToReplace_1();\n        let f = new _java_io_File__WEBPACK_IMPORTED_MODULE_20__.File(filename);\n        let fURL = null;\n        let parser = null;\n        let musicdat = null;\n        let windowFilename = null;\n        let path = null;\n        let convertedData = false;\n        let lw = _MessageWin__WEBPACK_IMPORTED_MODULE_17__.MessageWin.new0_7(\"Loading, please wait...\", MusicWin.curWindow, true);\n        try {\n            if (MusicWin.isMIDIFilename(filename)) {\n                windowFilename = \"Untitled score\";\n                convertedData = true;\n            }\n            else {\n                fURL = f.toURI().toURL();\n                parser = _DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_61__.CMMEParser.new2(fURL, lw.getProgressBar());\n                musicdat = parser.piece;\n                windowFilename = f.getName();\n                path = f.getCanonicalPath();\n            }\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                let errorMsg = \"Error loading \" + filename;\n                if (e instanceof _org_jdom_JDOMException__WEBPACK_IMPORTED_MODULE_60__.JDOMException)\n                    errorMsg += \"\\n\\n\" + e;\n                try {\n                    if (_java_lang_Float__WEBPACK_IMPORTED_MODULE_3__.Float.parseFloat(_DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_61__.CMMEParser.getFileVersion_1(fURL)) > _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_62__.MetaData.CMME_VERSION_FLOAT)\n                        errorMsg += \"\\n\\n\" + \"This file appears to have been created with a later version of the CMME software.\\n\" + \"Please update your software to the latest version to open this file.\";\n                }\n                catch (e) {\n                    if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                    }\n                    else\n                        throw e;\n                }\n                _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.showMessageDialog(MusicWin.curWindow, errorMsg, \"Error\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.ERROR_MESSAGE);\n                if (_DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_62__.MetaData.CMME_OPT_TESTING)\n                    e.printStackTrace();\n                blankWin = null;\n            }\n            else\n                throw e;\n        }\n        if (musicdat != null)\n            try {\n                let xl = 10;\n                let yl = 10;\n                if (MusicWin.curWindow != null) {\n                    xl = ((MusicWin.curWindow.getLocation().x + 20) | 0);\n                    yl = ((MusicWin.curWindow.getLocation().y + 20) | 0);\n                }\n                if (blankWin != null) {\n                    xl = blankWin.getLocation().x;\n                    yl = blankWin.getLocation().y;\n                }\n                this.openWin_1(windowFilename, path, musicdat, convertedData, xl, yl);\n            }\n            catch (e) {\n                if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                    _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.showMessageDialog(MusicWin.curWindow, \"Error creating score window\", \"Error\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.ERROR_MESSAGE);\n                    if (_DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_62__.MetaData.CMME_OPT_TESTING) {\n                        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error creating score window: \" + e);\n                        e.printStackTrace();\n                    }\n                    blankWin = null;\n                }\n                else\n                    throw e;\n            }\n        lw.dispose();\n        if (blankWin != null)\n            blankWin.closewin_1();\n    }\n    /* load file and create window in separate thread */\n    // final SwingWorker OFThread=new SwingWorker()\n    // {\n    // public Object construct()\n    // {\n    /* ---------- real code ---------- */\n    /* load music data */\n    // musicdat=MIDIReaderWriter.MIDtoCMME(f); //CHANGE\n    /* else if (isMusicXMLFilename(filename))   CHANGE removed musicxmlreader\n          {\n            musicdat=MusicXMLReader.MusicXMLtoCMME(new FileInputStream(f));\n            windowFilename=\"Untitled score\";\n            convertedData=true;\n          }*/\n    // int flen=fURL.openConnection().getContentLength();\n    // ProgressInputStream musIn=\n    // new ProgressInputStream(fURL.openStream(),\n    //                              lw.getProgressBar(),flen,0,75);\n    //parser=new CMMEParser(musIn,lw.getProgressBar());\n    //CHANGE\n    //System.out.println(\" GC: \"+(long)(Runtime.getRuntime().totalMemory()-Runtime.getRuntime().freeMemory()));\n    /* open music window */\n    /* ---------- end real code ---------- */\n    // return null; /* not used */\n    // }\n    //   }; /* end SwingWorker */\n    //  OFThread.start();\n    /*------------------------------------------------------------------------\nMethod:  String fileChooseAndOpen()\nPurpose: Allow user to select file and open\nParameters:\n  Input:  -\n  Output: -\n  Return: name of opened file\n------------------------------------------------------------------------*/\n    fileChooseAndOpen() {\n        var callback = () => {\n            try {\n                var f = MusicWin.getMusicWinFileChooser().getSelectedFile();\n                this.openFile(f.getName());\n            }\n            catch (e) {\n                if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                    _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error loading \" + MusicWin.getMusicWinFileChooser().getSelectedFile().getName());\n                }\n                else\n                    throw e;\n            }\n        };\n        MusicWin.getMusicWinFileChooser().showOpenDialog(this, callback);\n        return \"\";\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean doNotOverwrite(File saveFile)\nPurpose: Check whether a file to be saved already exists, and if so,\n         display confirmation dialog for user to decide whether to overwrite\nParameters:\n  Input:  -\n  Output: -\n  Return: true if user cancels save, false if file doesn't exist or user\n          continues\n------------------------------------------------------------------------*/\n    doNotOverwrite(saveFile) {\n        if (saveFile.exists()) {\n            if (!this.confirmAction(\"Overwrite \" + saveFile.getName() + \"?\", \"File already exists\"))\n                return true;\n        }\n        return false;\n    }\n    confirmAction(queryText, dialogTitle) {\n        let confirmOption = _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.showConfirmDialog(this, queryText, dialogTitle, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.YES_NO_OPTION, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.WARNING_MESSAGE);\n        if (confirmOption == _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.YES_OPTION)\n            return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addCMMETitle(String fn)\nPurpose: Add title to window\nParameters:\n  Input:  String fn - name of file in window\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addCMMETitle_1(fn) {\n        this.setTitle(fn + \": CMME Viewer\");\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initializeOptions()\nPurpose: Initialize option set before creating view canvas\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initializeOptions_1() {\n        let newVS = (MusicWin.curWindow != null) ? MusicWin.curWindow.optSet.getVIEWSCALE() : MusicWin.DefaultViewScale / 100;\n        this.optSet.setVIEWSCALE(newVS);\n        try {\n            this.optSet.initFromGlobalConfig();\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.handleRuntimeError(e);\n            }\n            else\n                throw e;\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setSubframeLocations()\nPurpose: Set locations of frames dependent upon main window (after window\n         has been packed)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setSubframeLocations_1() {\n        this.genPDFDialog.setLocationRelativeTo(this);\n        this.setVariantDisplayOptionsFrameLocation();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setEventEditorLocation()\nPurpose: Position event editor relative to parent frame\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVariantDisplayOptionsFrameLocation() {\n        let eex = ((this.getLocation().x + this.getSize().width) | 0);\n        let eey = this.getLocation().y;\n        let eeWidth = this.variantDisplayOptionsFrame.getSize().width;\n        let eeHeight = this.variantDisplayOptionsFrame.getSize().height;\n        let screenSize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_52__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (((eex + eeWidth) | 0) > screenSize.width)\n            eex = ((screenSize.width - eeWidth) | 0);\n        this.variantDisplayOptionsFrame.setLocation(eex, eey);\n    }\n    /* position relative to main frame */\n    /*------------------------------------------------------------------------\nMethod:  PartsWin createInitialPartsWin()\nPurpose: Initialize unscored parts window when opening window\nParameters:\n  Input:  -\n  Output: -\n  Return: new parts window\n------------------------------------------------------------------------*/\n    createInitialPartsWin_1() {\n        return null;\n    }\n    createFileMenu_1() {\n        let FM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"File\");\n        this.FileMenuAbout = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"About this edition...\");\n        this.FileMenuAbout.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_A);\n        this.FileMenuClose = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Close window\");\n        this.FileMenuClose.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_38__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_W, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_58__.ActionEvent.CTRL_MASK));\n        this.FileMenuClose.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_C);\n        this.FileMenuClose.setVisible(false);\n        this.FileMenuExport = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Export\");\n        this.FileMenuExport.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_E);\n        this.FMExportMIDI = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"MIDI\");\n        this.FMExportXML = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"MusicXML\");\n        this.FileMenuExport.add(this.FMExportMIDI);\n        this.FileMenuExport.add(this.FMExportXML);\n        this.FileMenuGeneratePDF = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Generate PDF...\");\n        this.FileMenuGeneratePDF.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_38__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_P, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_58__.ActionEvent.CTRL_MASK));\n        this.FileMenuGeneratePDF.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_P);\n        this.FileMenuGeneratePDF.setVisible(false);\n        FM.add(this.FileMenuAbout);\n        if (MusicWin.viewerWin == null || !_Viewer_Main__WEBPACK_IMPORTED_MODULE_64__.Main.inApplet) {\n            FM.add(this.FileMenuExport);\n        }\n        this.FileMenuAbout.addActionListener(this);\n        this.FileMenuClose.addActionListener(this);\n        this.FMExportMIDI.addActionListener(this);\n        this.FMExportXML.addActionListener(this);\n        this.FileMenuGeneratePDF.addActionListener(this);\n        return FM;\n    }\n    /* create menu and items */\n    // FM.add(FileMenuClose);\n    /* no export/PDF-generation in applet */\n    //  FM.add(FileMenuGeneratePDF);\n    /* applet PDF test - figure out security settings to avoid access control exception\n    else if (viewerWin.inApplet)\n      FM.add(FileMenuGeneratePDF);*/\n    /* handle menu actions */\n    /*------------------------------------------------------------------------\nMethod:  JMenu create*Menu()\nPurpose: Create menus for window\nParameters:\n  Input:  -\n  Output: -\n  Return: menu\n------------------------------------------------------------------------*/\n    createEditMenu_1() {\n        return null;\n    }\n    createSectionsMenu_1() {\n        return null;\n    }\n    createTextMenu_1() {\n        return null;\n    }\n    createVersionsMenu_1() {\n        let VM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Versions\");\n        this.VersionsMenuGeneralInfo = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Variant Version Information...\");\n        this.VersionsMenuGeneralInfo.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_I);\n        this.VersionsMenuDisplayMenu = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Display version\");\n        this.VersionsMenuOptionsMenu = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Variant marking options\");\n        if (this.musicData.getVariantVersions().size() == 0) {\n            this.VersionsMenuGeneralInfo.setEnabled(false);\n            this.VersionsMenuDisplayMenu.setEnabled(false);\n            this.VersionsMenuOptionsMenu.setEnabled(false);\n            this.VMDMVersions = Array(0);\n        }\n        else {\n            this.VMDMVersions = Array(this.musicData.getVariantVersions().size());\n            let VMDMGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n            let vi = 0;\n            for (let vvd of this.musicData.getVariantVersions()) {\n                this.VMDMVersions[vi] = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(vvd.getID());\n                VMDMGroup.add(this.VMDMVersions[vi]);\n                this.VersionsMenuDisplayMenu.add(this.VMDMVersions[vi]);\n                this.VMDMVersions[vi].addActionListener(this);\n                vi++;\n            }\n            this.VMDMVersions[0].setSelected(true);\n        }\n        let VMOMMarkGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n        this.VMOMMarkAllVariants = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Mark all variants on score\");\n        this.VMOMMarkAllVariants.setSelected(this.optSet.getMarkVariants() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_ALL);\n        VMOMMarkGroup.add(this.VMOMMarkAllVariants);\n        this.VersionsMenuOptionsMenu.add(this.VMOMMarkAllVariants);\n        this.VMOMMarkSubstantiveVariants = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Mark substantive variants on score\");\n        this.VMOMMarkSubstantiveVariants.setSelected(this.optSet.getMarkVariants() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_SUBSTANTIVE);\n        VMOMMarkGroup.add(this.VMOMMarkSubstantiveVariants);\n        this.VersionsMenuOptionsMenu.add(this.VMOMMarkSubstantiveVariants);\n        this.VMOMMarkNoVariants = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Mark no variants on score\");\n        this.VMOMMarkNoVariants.setSelected(this.optSet.getMarkVariants() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_NONE);\n        VMOMMarkGroup.add(this.VMOMMarkNoVariants);\n        this.VersionsMenuOptionsMenu.add(this.VMOMMarkNoVariants);\n        this.VMOMMarkSelectedVariants = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Mark selected variants on score:\");\n        this.VMOMMarkSelectedVariants.setSelected(this.optSet.getMarkVariants() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_CUSTOM);\n        VMOMMarkGroup.add(this.VMOMMarkSelectedVariants);\n        this.VersionsMenuOptionsMenu.add(this.VMOMMarkSelectedVariants);\n        this.VMOMCustomVariants = Array((((_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_63__.VariantReading.typeNames.length - 1) | 0)));\n        for (let vi = 1; vi < _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_63__.VariantReading.typeNames.length; vi++) {\n            let curCB = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_63__.VariantReading.typeNames[vi]);\n            curCB.setSelected(this.optSet.markCustomVariant(1 << (((vi - 1) | 0))));\n            curCB.setEnabled(this.optSet.getMarkVariants() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_CUSTOM);\n            curCB.addItemListener(this);\n            this.VersionsMenuOptionsMenu.add(curCB);\n            this.VMOMCustomVariants[(((vi - 1) | 0))] = curCB;\n        }\n        this.VersionsMenuNewNotesWindow = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"New critical notes list...\");\n        this.VersionsMenuNewNotesWindow.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_N);\n        this.VersionsMenuSourceAnalysis = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Source analysis...\");\n        this.VersionsMenuSourceAnalysis.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_A);\n        this.VersionsMenuDisplayVariantOptions = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Display variant marking options\");\n        this.VersionsMenuDisplayVariantOptions.setSelected(false);\n        this.VersionsMenuDisplayVariantOptions.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_O);\n        this.variantDisplayOptionsFrame = new _VariantDisplayOptionsFrame__WEBPACK_IMPORTED_MODULE_7__.VariantDisplayOptionsFrame(this);\n        VM.add(this.VersionsMenuDisplayVariantOptions);\n        this.VersionsMenuGeneralInfo.addActionListener(this);\n        this.VersionsMenuNewNotesWindow.addActionListener(this);\n        this.VersionsMenuDisplayVariantOptions.addItemListener(this);\n        this.VersionsMenuSourceAnalysis.addActionListener(this);\n        this.variantDisplayOptionsFrame.registerListeners_6();\n        this.VMOMMarkAllVariants.addActionListener(this);\n        this.VMOMMarkSubstantiveVariants.addActionListener(this);\n        this.VMOMMarkNoVariants.addActionListener(this);\n        this.VMOMMarkSelectedVariants.addActionListener(this);\n        return VM;\n    }\n    createViewMenu_1() {\n        let VM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"View\");\n        this.ViewMenuViewSize = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"View Size\");\n        this.ViewMenuBarlineStyle = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Barline Style\");\n        this.ViewMenuNoteShapeStyle = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Note shapes / reduction\");\n        this.ViewMenuTexting = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Texting\");\n        this.ViewMenuPitchSystem = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Pitch system\");\n        this.ViewMenuUsemodernclefs = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Modern clefs\");\n        this.ViewMenuUsemodernclefs.setSelected(true);\n        this.ViewMenuDisplayallnewlineclefs = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Display all newline clefs\");\n        this.ViewMenuDisplayligbrackets = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Display ligature brackets\");\n        this.ViewMenuEdCommentary = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Mark editorial commentary\");\n        this.ViewMenuDisplayligbrackets.setSelected(true);\n        this.ViewMenuEdCommentary.setSelected(true);\n        this.ViewMenuViewParts = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Original parts window\");\n        this.ViewMenuViewParts.setMnemonic(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_P);\n        this.ViewMenuPrintPreviews = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Print Previews\");\n        this.VMVSZoomOut = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Zoom out\");\n        this.VMVSZoomIn = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Zoom in\");\n        this.VMVSZoomOut.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_38__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_MINUS, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_58__.ActionEvent.CTRL_MASK));\n        this.VMVSZoomIn.setAccelerator(_javax_swing_KeyStroke__WEBPACK_IMPORTED_MODULE_38__.KeyStroke.getKeyStroke(_java_awt_event_KeyEvent__WEBPACK_IMPORTED_MODULE_57__.KeyEvent.VK_EQUALS, _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_58__.ActionEvent.CTRL_MASK));\n        this.ViewMenuViewSize.add(this.VMVSZoomOut);\n        this.ViewMenuViewSize.add(this.VMVSZoomIn);\n        this.ViewMenuViewSize.addSeparator();\n        let VMVSgroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n        this.curVMVSnum = -1;\n        for (let i = 0; i < this.VMVSDefaultNums.length; i++)\n            if (this.VMVSDefaultNums[i] == MusicWin.DefaultViewScale) {\n                this.curVMVSnum = i;\n                break;\n            }\n        if (this.curVMVSnum != -1)\n            this.VMVSnums = this.VMVSDefaultNums;\n        else {\n            this.VMVSnums = Array((((this.VMVSDefaultNums.length + 1) | 0)));\n            let vi = 0;\n            for (let i = 0; i < this.VMVSDefaultNums.length; i++) {\n                if (vi == i && this.VMVSDefaultNums[i] < MusicWin.DefaultViewScale) {\n                    this.VMVSnums[vi] = MusicWin.DefaultViewScale;\n                    this.curVMVSnum = vi;\n                    vi++;\n                }\n                this.VMVSnums[(vi++)] = this.VMVSDefaultNums[i];\n            }\n            if (vi <= this.VMVSDefaultNums.length) {\n                this.VMVSnums[vi] = MusicWin.DefaultViewScale;\n                this.curVMVSnum = vi;\n            }\n        }\n        this.curViewSize = (MusicWin.curWindow != null) ? MusicWin.curWindow.curViewSize : MusicWin.DefaultViewScale;\n        this.VMVSnumItems = Array(this.VMVSnums.length);\n        for (let i = 0; i < this.VMVSnums.length; i++) {\n            this.VMVSnumItems[i] = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(this.VMVSnums[i] + \"%\");\n            this.VMVSnumItems[i].setActionCommand(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer.toString(i));\n            this.VMVSnumItems[i].addActionListener(this.VSListener);\n            VMVSgroup.add(this.VMVSnumItems[i]);\n            this.ViewMenuViewSize.add(this.VMVSnumItems[i]);\n            if (this.VMVSnums[i] == this.curViewSize)\n                this.VMVSnumItems[(this.curVMVSnum = i)].setSelected(true);\n        }\n        let VMBSgroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n        this.VMBSItems = Array(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.BarlineStrings.length);\n        for (let i = 0; i < this.VMBSItems.length; i++) {\n            this.VMBSItems[i] = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.BarlineStrings[i]);\n            this.VMBSItems[i].setActionCommand(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer.toString(i));\n            this.VMBSItems[i].addActionListener(this.VMBSListener);\n            VMBSgroup.add(this.VMBSItems[i]);\n            this.ViewMenuBarlineStyle.add(this.VMBSItems[i]);\n        }\n        this.VMBSItems[this.optSet.get_barline_type()].setSelected(true);\n        let VMNSgroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n        this.VMNSItems = Array(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.NoteShapeStrings.length);\n        for (let i = 0; i < this.VMNSItems.length; i++) {\n            this.VMNSItems[i] = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.NoteShapeStrings[i]);\n            this.VMNSItems[i].setActionCommand(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer.toString(i));\n            this.VMNSItems[i].addActionListener(this.VMNSListener);\n            VMNSgroup.add(this.VMNSItems[i]);\n            this.ViewMenuNoteShapeStyle.add(this.VMNSItems[i]);\n        }\n        this.VMNSItems[this.optSet.get_noteShapeType()].setSelected(true);\n        let VMTgroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n        this.VMTOrigText = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Original Text\");\n        this.VMTOrigText.addActionListener(this);\n        VMTgroup.add(this.VMTOrigText);\n        this.ViewMenuTexting.add(this.VMTOrigText);\n        this.VMTModText = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Modern Text\");\n        this.VMTModText.addActionListener(this);\n        VMTgroup.add(this.VMTModText);\n        this.ViewMenuTexting.add(this.VMTModText);\n        this.VMTBothText = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"Original and Modern Texts\");\n        this.VMTBothText.addActionListener(this);\n        VMTgroup.add(this.VMTBothText);\n        this.ViewMenuTexting.add(this.VMTBothText);\n        this.VMTNoText = new _javax_swing_JRadioButtonMenuItem__WEBPACK_IMPORTED_MODULE_47__.JRadioButtonMenuItem(\"No Text\");\n        this.VMTNoText.addActionListener(this);\n        VMTgroup.add(this.VMTNoText);\n        this.ViewMenuTexting.add(this.VMTNoText);\n        this.VMTOrigText.setSelected(true);\n        this.ViewMenuDisplayEditorialAccidentals = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Display editorial accidentals\");\n        this.ViewMenuDisplayEditorialAccidentals.setSelected(this.optSet.get_modacc_type() != _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_MODACC_NONE);\n        this.ViewMenuModernAccidentalSystem = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Modern accidentals/signatures\");\n        this.ViewMenuModernAccidentalSystem.setSelected(this.optSet.getUseModernAccidentalSystem());\n        this.ViewMenuPitchSystem.add(this.ViewMenuDisplayEditorialAccidentals);\n        this.ViewMenuPitchSystem.add(this.ViewMenuModernAccidentalSystem);\n        this.ViewMenuDisplayEditorialAccidentals.addItemListener(this);\n        this.ViewMenuModernAccidentalSystem.addItemListener(this);\n        this.VMPPParts = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Parts...\");\n        this.VMPPScore = new _javax_swing_JMenuItem__WEBPACK_IMPORTED_MODULE_39__.JMenuItem(\"Score...\");\n        this.ViewMenuPrintPreviews.add(this.VMPPParts);\n        this.ViewMenuPrintPreviews.add(this.VMPPScore);\n        VM.add(this.ViewMenuViewSize);\n        VM.add(this.ViewMenuBarlineStyle);\n        VM.add(this.ViewMenuNoteShapeStyle);\n        VM.add(this.ViewMenuTexting);\n        VM.add(this.ViewMenuPitchSystem);\n        VM.add(this.ViewMenuUsemodernclefs);\n        VM.add(this.ViewMenuDisplayallnewlineclefs);\n        VM.add(this.ViewMenuDisplayligbrackets);\n        VM.add(this.ViewMenuEdCommentary);\n        VM.addSeparator();\n        VM.add(this.ViewMenuViewParts);\n        if (MusicWin.viewerWin == null || !_Viewer_Main__WEBPACK_IMPORTED_MODULE_64__.Main.inApplet)\n            VM.add(this.ViewMenuPrintPreviews);\n        this.VMVSZoomOut.addActionListener(this);\n        this.VMVSZoomIn.addActionListener(this);\n        this.ViewMenuUsemodernclefs.addItemListener(this);\n        this.ViewMenuDisplayallnewlineclefs.addItemListener(this);\n        this.ViewMenuDisplayligbrackets.addItemListener(this);\n        this.ViewMenuEdCommentary.addItemListener(this);\n        this.ViewMenuViewParts.addActionListener(this);\n        this.VMPPParts.addActionListener(this);\n        this.VMPPScore.addActionListener(this);\n        return VM;\n    }\n    createAnalysisMenu_1() {\n        let AM = new _javax_swing_JMenu__WEBPACK_IMPORTED_MODULE_31__.JMenu(\"Analysis\");\n        this.AnalysisMenuMarkDissonances = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Mark dissonances\");\n        this.AnalysisMenuMarkDirectedProgressions = new _javax_swing_JCheckBoxMenuItem__WEBPACK_IMPORTED_MODULE_40__.JCheckBoxMenuItem(\"Mark directed progressions\");\n        AM.add(this.AnalysisMenuMarkDissonances);\n        AM.add(this.AnalysisMenuMarkDirectedProgressions);\n        this.AnalysisMenuMarkDissonances.addItemListener(this);\n        this.AnalysisMenuMarkDirectedProgressions.addItemListener(this);\n        return AM;\n    }\n    /*------------------------------------------------------------------------\nMethod:  ZoomControl createTBZoomControl()\nPurpose: Create zoom control for main toolbar\nParameters:\n  Input:  -\n  Output: -\n  Return: zoom control (also stored in MTZoomControl)\n------------------------------------------------------------------------*/\n    createTBZoomControl() {\n        return this.MTZoomControl = _ZoomControl__WEBPACK_IMPORTED_MODULE_5__.ZoomControl.new0_5(this.curViewSize, this);\n    }\n    createMainToolBar_1() {\n        let mtb = new _javax_swing_JToolBar__WEBPACK_IMPORTED_MODULE_48__.JToolBar();\n        mtb.setFloatable(false);\n        mtb.setFocusable(false);\n        mtb.setRollover(true);\n        mtb.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_54__.GridBagLayout());\n        mtb.setAlignmentY(_java_awt_Component__WEBPACK_IMPORTED_MODULE_50__.Component.LEFT_ALIGNMENT);\n        mtb.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_50__.Component.LEFT_ALIGNMENT);\n        let tbc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_53__.GridBagConstraints();\n        tbc.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_53__.GridBagConstraints.WEST;\n        tbc.weightx = 0;\n        this.MTNoteShapesOldButton = this.createMainTBButton(MusicWin.NoteShapesOldIcon_light, \"Original noteshapes\");\n        this.MTNoteShapesModButton = this.createMainTBButton(MusicWin.NoteShapesModIcon_dark, \"Modern noteshapes\");\n        this.MTClefsOldButton = this.createMainTBButton(MusicWin.ClefsOldIcon_light, \"Original clefs\");\n        this.MTClefsModButton = this.createMainTBButton(MusicWin.ClefsModIcon_dark, \"Modern clefs\");\n        this.MTEdAccidentalsButton = this.createMainTBButton(MusicWin.EdAccidentalsIcon_dark, \"Show/hide editorial accidentals\");\n        this.MTPitchOldButton = this.createMainTBButton(MusicWin.PitchOldIcon_light, \"Original accidental system\");\n        this.MTPitchModButton = this.createMainTBButton(MusicWin.PitchModIcon_dark, \"Modern accidental/key system\");\n        this.MTTextingOldButton = this.createMainTBButton(MusicWin.TextingOldIcon_light, \"Original texting\");\n        this.MTTextingModButton = this.createMainTBButton(MusicWin.TextingModIcon_dark, \"Modern texting\");\n        this.setTexting(this.optSet.get_displayOrigText(), this.optSet.get_displayModText());\n        this.setUseModernClefs(this.optSet.get_usemodernclefs());\n        this.setUseModernPitch(this.optSet.getUseModernAccidentalSystem());\n        this.setEdAccidentals(this.optSet.get_modacc_type());\n        this.updateTBNSButtons();\n        this.PlayButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_37__.JButton(\"PLAY\");\n        this.PlayButton.addActionListener(this);\n        tbc.gridx = -1;\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTNoteShapesOldButton, tbc);\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTNoteShapesModButton, tbc);\n        tbc.gridx++;\n        mtb.addSeparator();\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTClefsOldButton, tbc);\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTClefsModButton, tbc);\n        tbc.gridx++;\n        mtb.addSeparator();\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTEdAccidentalsButton, tbc);\n        tbc.gridx++;\n        mtb.addSeparator();\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTPitchOldButton, tbc);\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTPitchModButton, tbc);\n        tbc.gridx++;\n        mtb.addSeparator();\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTTextingOldButton, tbc);\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 1;\n        mtb.add(this.MTTextingModButton, tbc);\n        tbc.gridx++;\n        mtb.addSeparator();\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.PlayButton, tbc);\n        tbc.gridx++;\n        mtb.addSeparator();\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTVersionLabel = this.createTBVersionDisplay(), tbc);\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        mtb.add(this.MTZoomControl = this.createTBZoomControl(), tbc);\n        return mtb;\n    }\n    //    setUseModernNoteShapes(optSet.useModernNoteShapes());\n    /*------------------------------------------------------------------------\nMethod:  JButton createMainTBButton(ImageIcon img,String tipText)\nPurpose: Create one button for main tool bar\nParameters:\n  Input:  ImageIcon img  - image for button\n          String tipText - tool tip text\n  Output: -\n  Return: button\n------------------------------------------------------------------------*/\n    createMainTBButton(img, tipText) {\n        let b = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_37__.JButton();\n        b.setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_55__.Insets(1, 1, 1, 1));\n        b.setIcon(img);\n        b.setToolTipText(tipText);\n        b.setFocusable(false);\n        b.addActionListener(this);\n        return b;\n    }\n    createTBVersionDisplay() {\n        let versionText = \"\";\n        if (this.musicData.getVariantVersions().size() > 0) {\n            versionText = MusicWin.VERSION_LABEL_TEXT + this.musicData.getVariantVersion_1(0).getID() + \" \";\n        }\n        let newLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_46__.JLabel(versionText);\n        newLabel.setForeground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_51__.Color.GRAY);\n        return newLabel;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void updateTBVersionDisplay(VariantVersionData v)\nPurpose: Update version display area in main tool bar\nParameters:\n  Input:  VariantVersionData v - new version for display\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateTBVersionDisplay(v) {\n        if (this.MTVersionLabel == null)\n            return;\n        let newText = v == null ? MusicWin.VERSION_DEFAULT_TEXT : v.getID();\n        this.MTVersionLabel.setText(MusicWin.VERSION_LABEL_TEXT + newText + \" \");\n        this.pack();\n    }\n    /*------------------------------------------------------------------------\nMethod:  ViewCanvas createMusicCanvas(PieceData p,MusicFont mf,MusicWin mw,OptionSet os)\nPurpose: Create music viewing area\nParameters:\n  Input:  PieceData p,MusicFont mf,MusicWin mw,OptionSet os - constructor params\n  Output: -\n  Return: viewing canvas\n------------------------------------------------------------------------*/\n    createMusicCanvas_1(p, mf, mw, os) {\n        return new _ViewCanvas__WEBPACK_IMPORTED_MODULE_6__.ViewCanvas(p, mf, mw, os);\n    }\n    createStatusPanel_1() {\n        let measurePanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_26__.JPanel();\n        this.StatusMeasureLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_46__.JLabel(\"Measure:\");\n        this.StatusMeasureNum = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_46__.JLabel(\"1/\" + this.ViewScr.nummeasures);\n        measurePanel.add(\"West\", this.StatusMeasureLabel);\n        measurePanel.add(\"East\", this.StatusMeasureNum);\n        this.commentaryTextArea = new _javax_swing_JEditorPane__WEBPACK_IMPORTED_MODULE_43__.JEditorPane(\"text/html\", MusicWin.commentaryLabel + MusicWin.commentaryDefault);\n        this.commentaryScrollPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_44__.JScrollPane(this.commentaryTextArea);\n        this.commentaryTextArea.setEditable(false);\n        this.commentaryScrollPane.setPreferredSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(100, 75));\n        this.commentaryScrollPane.setMinimumSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(20, 20));\n        this.commentaryPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_26__.JPanel();\n        this.commentaryPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__.BoxLayout(this.commentaryPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__.BoxLayout.X_AXIS));\n        this.commentaryPanelDisplayed = true;\n        let sp = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_26__.JPanel();\n        this.layoutStatusPanel(sp, measurePanel, this.commentaryPanel);\n        return sp;\n    }\n    //commentaryPanel.add(commentaryScrollPane,0);\n    //sp.setVisible(false); //change\n    layoutStatusPanel(sp, measurePanel, commentaryPanel) {\n        sp.removeAll();\n        sp.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__.BoxLayout(sp, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__.BoxLayout.Y_AXIS));\n        sp.add(measurePanel);\n        if (this.commentaryPanelDisplayed)\n            sp.add(commentaryPanel);\n    }\n    showCommentaryPanel(show) {\n        if (show == this.commentaryPanelDisplayed)\n            return;\n        this.commentaryPanelDisplayed = show;\n        if (show)\n            this.StatusPanel.add(this.commentaryPanel);\n        else\n            this.StatusPanel.remove(this.commentaryPanel);\n        this.StatusPanel.validate();\n        this.pack();\n    }\n    updateCommentaryArea(vnum, mnum, edCommentary) {\n        if (vnum < 0) {\n            this.commentaryTextArea.setText(MusicWin.commentaryLabel + MusicWin.commentaryDefault);\n            return;\n        }\n        vnum++;\n        mnum++;\n        let commentaryLoc = \"<font color=\\\"blue\\\">Voice \" + vnum + \", m. \" + mnum + \": </font>\";\n        this.commentaryTextArea.setText(MusicWin.commentaryLabel + commentaryLoc + edCommentary);\n    }\n    /* no commentary selected */\n    /*------------------------------------------------------------------------\nMethod:  void [show|create]GenPDFDialog()\nPurpose: Bring up dialog with PDF-generation options\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    showGenPDFDialog() {\n        this.genPDFDialog.setLocationRelativeTo(this);\n        this.genPDFDialog.setVisible(true);\n    }\n    createGenPDFDialog() {\n        this.genPDFDialog = new _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_29__.JDialog(this, \"Generate PDF\", true);\n        let optionsPane = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_26__.JPanel();\n        optionsPane.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__.BoxLayout(optionsPane, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_33__.BoxLayout.Y_AXIS));\n        optionsPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_32__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_32__.BorderFactory.createTitledBorder(\"Options\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_32__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        this.PDFScoreButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_34__.JRadioButton(\"Score\", true);\n        this.PDFPartsButton = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_34__.JRadioButton(\"Parts\");\n        let ScoreOrPartsGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_35__.ButtonGroup();\n        ScoreOrPartsGroup.add(this.PDFScoreButton);\n        ScoreOrPartsGroup.add(this.PDFPartsButton);\n        optionsPane.add(this.PDFScoreButton);\n        optionsPane.add(this.PDFPartsButton);\n        this.genPDFOKButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_37__.JButton(\"Generate...\");\n        this.genPDFCancelButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_37__.JButton(\"Cancel\");\n        let buttonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_27__.Box.createHorizontalBox();\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_27__.Box.createHorizontalGlue());\n        buttonPane.add(this.genPDFOKButton);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_27__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.genPDFCancelButton);\n        buttonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_32__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        let gpcp = this.genPDFDialog.getContentPane();\n        gpcp.add(optionsPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_56__.BorderLayout.CENTER);\n        gpcp.add(buttonPane, _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_56__.BorderLayout.SOUTH);\n        this.genPDFOKButton.addActionListener(this);\n        this.genPDFCancelButton.addActionListener(this);\n        this.genPDFDialog.pack();\n    }\n    /* action buttons */\n    /* lay out frame */\n    /* register listeners */\n    /*------------------------------------------------------------------------\nMethod:  boolean fileExportAs(int fileType)\nPurpose: Choose file name and export score in external format\nParameters:\n  Input:  -\n  Output: -\n  Return: whether file saved successfully\n------------------------------------------------------------------------*/\n    checkAndAddExtension(fn, fileType) {\n        switch (fileType) {\n            case MusicWin.FILETYPE_MIDI:\n                {\n                    if (!MusicWin.isMIDIFilename(fn))\n                        fn += MusicWin.FILENAME_EXTENSION_MIDI;\n                    break;\n                }\n            case MusicWin.FILETYPE_XML:\n                {\n                    if (!MusicWin.isMusicXMLFilename(fn))\n                        fn += MusicWin.FILENAME_EXTENSION_XML;\n                }\n        }\n        return fn;\n    }\n    fileExportAs(fileType) {\n        try {\n            switch (fileType) {\n                case MusicWin.FILETYPE_MIDI:\n                    {\n                        new _MIDIPlayer__WEBPACK_IMPORTED_MODULE_16__.MIDIPlayer(this, this.ViewScr.getMusicData_1(), this.ViewScr.getRenderedMusic()).exportMIDIFile(\"\");\n                        break;\n                    }\n                case MusicWin.FILETYPE_XML:\n                    {\n                        this.writeMusicXMLFile(\"\");\n                        break;\n                    }\n                default:\n                    {\n                        throw new _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception(\"Unsupported file type\");\n                    }\n            }\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n            }\n            else\n                throw e;\n        }\n        return true;\n    }\n    /*\n    JFileChooser fc=getExportFileChooser();\n    FileFilter   ff=null;\n    switch (fileType)\n      {\n        case FILETYPE_MIDI:\n          ff=MIDIFFilter;\n          break;\n        case FILETYPE_XML:\n          ff=XMLFFilter;\n          break;\n      }\n    fc.setFileFilter(ff);\n    int fcval=fc.showSaveDialog(this);\n\n    if (fcval==JFileChooser.APPROVE_OPTION)\n      try\n        {\n          File saveFile=exportFileChooser.getSelectedFile();\n\n          // make sure extension is valid\n          String fn=saveFile.getCanonicalPath(),\n                 fullFN=checkAndAddExtension(fn,fileType);\n          if (!fn.equals(fullFN))\n            {\n              fn=fullFN;\n              saveFile=new File(fn);\n            }\n\n          if (doNotOverwrite(saveFile))\n            return false;\n\n          switch (fileType)\n            {\n              case FILETYPE_MIDI:\n               // new MIDIPlayer(this,ViewScr.getMusicData(),ViewScr.getRenderedMusic()).exportMIDIFile(fn); //CHANGE\n                break;\n              case FILETYPE_XML:\n                writeMusicXMLFile(saveFile);\n                break;\n              default:\n                throw new Exception(\"Unsupported file type\");\n            }\n        }\n      catch (Exception e)\n        {\n          displayErrorMessage(\"Error saving file \\\"\"+exportFileChooser.getSelectedFile().getName()+\"\\\":\\n\"+e,\"File not saved\");\n\n//          System.err.println(\"Error saving \"+musicWinFileChooser.getSelectedFile().getName());\n//          e.printStackTrace();\n        }\n*/\n    writeMusicXMLFile(s) {\n        let renderedPages = new _ScorePageRenderer__WEBPACK_IMPORTED_MODULE_9__.ScorePageRenderer(this.musicData, _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.makeDEFAULT_FULL_MODERN(this), new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(_ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.STAFFXSIZE, _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.DRAWINGSPACEY), _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.STAFFSCALE, _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.CANVASYSCALE);\n        new _MusicXMLGenerator__WEBPACK_IMPORTED_MODULE_14__.MusicXMLGenerator(renderedPages).outputPieceData(null);\n    }\n    /*File f*/\n    /*new FileOutputStream(f)*/\n    //CHANGE removed musicxmlgenerator\n    /*------------------------------------------------------------------------\nMethod:  void generatePDF()\nPurpose: Create PDF with user-chosen options\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    generatePDF() {\n        let pdfName = null;\n        let genParts = this.PDFPartsButton.isSelected();\n        let renderedPages = null;\n        let renderedParts = null;\n        if (genParts) {\n            let PDFPartsWin = _PartsWin__WEBPACK_IMPORTED_MODULE_12__.PartsWin.new0_8(this.ViewScr.getMusicData_1(), this.MusicGfx, this, true);\n            renderedParts = PDFPartsWin.getRenderLists();\n            PDFPartsWin.closewin_3();\n            pdfName = this.windowFileName.replaceFirst(\"\\\\.cmme\\\\.xml\", \"-parts.pdf\");\n        }\n        else {\n            renderedPages = new _ScorePageRenderer__WEBPACK_IMPORTED_MODULE_9__.ScorePageRenderer(this.ViewScr.getMusicData_1(), this.optSet, new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_49__.Dimension(_ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.STAFFXSIZE, _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.DRAWINGSPACEY), _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.STAFFSCALE, _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin.CANVASYSCALE);\n            pdfName = this.windowFileName.replaceFirst(\"cmme\\\\.xml\", \"pdf\");\n        }\n        MusicWin.PDFFileChooser = MusicWin.getPDFFileChooser();\n        let initFile = new _java_io_File__WEBPACK_IMPORTED_MODULE_20__.File(MusicWin.PDFFileChooser.getCurrentDirectory(), pdfName);\n        MusicWin.PDFFileChooser.setSelectedFile(initFile);\n        let FCval = MusicWin.PDFFileChooser.showSaveDialog(this);\n        if (FCval == _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_28__.JFileChooser.APPROVE_OPTION)\n            try {\n                let saveFile = MusicWin.PDFFileChooser.getSelectedFile();\n                if (this.doNotOverwrite(saveFile))\n                    return;\n                let fn = saveFile.getCanonicalPath();\n                if (!fn.matches(\".*\\\\.pdf\")) {\n                    fn = fn.concat(\".pdf\");\n                    saveFile = new _java_io_File__WEBPACK_IMPORTED_MODULE_20__.File(fn);\n                }\n                if (genParts)\n                    _PDFCreator__WEBPACK_IMPORTED_MODULE_11__.PDFCreator.new0(renderedParts).createPDF_1(saveFile);\n                else\n                    _PDFCreator__WEBPACK_IMPORTED_MODULE_11__.PDFCreator.new1(renderedPages).createPDF_1(saveFile);\n            }\n            catch (e) {\n                if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                    _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error saving \" + MusicWin.PDFFileChooser.getSelectedFile().getName());\n                    this.handleRuntimeError(e);\n                }\n                else\n                    throw e;\n            }\n        this.genPDFDialog.setVisible(false);\n    }\n    /* save */\n    /*------------------------------------------------------------------------\nMethod:  void setViewSize|ViewSizeFieldAction|zoomIn|zoomOut()\nPurpose: Functions to control view scale through GUI\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ViewSizeFieldAction() {\n        this.setViewSize_2(this.MTZoomControl.viewSizeFieldAction());\n    }\n    zoomOut_2() {\n        this.VMVSnumItems[this.MTZoomControl.getSizeIndex(this.MTZoomControl.zoomOut_1())].doClick();\n    }\n    zoomIn_2() {\n        this.VMVSnumItems[this.MTZoomControl.getSizeIndex(this.MTZoomControl.zoomIn_1())].doClick();\n    }\n    setViewSize_2(ns) {\n        this.curViewSize = ns;\n        if (this.MTZoomControl != null)\n            this.MTZoomControl.setViewSize_1(this.curViewSize);\n        this.optSet.setVIEWSCALE(this.curViewSize / 100);\n        this.ViewScr.newViewScale_1();\n    }\n    getGreaterVSNum(vs) {\n        for (let i = ((this.VMVSnums.length - 1) | 0); i >= 0; i--)\n            if (this.VMVSnums[i] > vs)\n                return i;\n        return -1;\n    }\n    getLesserVSNum(vs) {\n        for (let i = 0; i < this.VMVSnums.length; i++)\n            if (this.VMVSnums[i] < vs)\n                return i;\n        return -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setKeyboardHandler()\nPurpose: Add keyboard handler\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setKeyboardHandler_1() {\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.FileMenuAbout)\n            this.openAboutWin();\n        else if (item == this.FileMenuClose)\n            this.closewin_1();\n        else if (item == this.FMExportMIDI)\n            this.fileExportAs(MusicWin.FILETYPE_MIDI);\n        else if (item == this.FMExportXML)\n            this.fileExportAs(MusicWin.FILETYPE_XML);\n        else if (item == this.FileMenuGeneratePDF)\n            this.showGenPDFDialog();\n        else if (item == this.MTZoomControl.viewSizeField)\n            this.ViewSizeFieldAction();\n        else if (item == this.VMVSZoomOut || item == this.MTZoomControl.zoomOutButton)\n            this.zoomOut_2();\n        else if (item == this.VMVSZoomIn || item == this.MTZoomControl.zoomInButton)\n            this.zoomIn_2();\n        else if (item == this.VMTOrigText)\n            this.setTexting(true, false);\n        else if (item == this.VMTModText)\n            this.setTexting(false, true);\n        else if (item == this.VMTBothText)\n            this.setTexting(true, true);\n        else if (item == this.VMTNoText)\n            this.setTexting(false, false);\n        else if (item == this.ViewMenuViewParts)\n            this.openPartsLayout_1(false);\n        else if (item == this.VMPPParts)\n            this.openPartsLayout_1(true);\n        else if (item == this.VMPPScore)\n            this.openScorePagePreview();\n        else if (item == this.VMOMMarkAllVariants)\n            this.setVariantMarkingOption_2(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_ALL);\n        else if (item == this.VMOMMarkSubstantiveVariants)\n            this.setVariantMarkingOption_2(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_SUBSTANTIVE);\n        else if (item == this.VMOMMarkNoVariants)\n            this.setVariantMarkingOption_2(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_NONE);\n        else if (item == this.VMOMMarkSelectedVariants)\n            this.setVariantMarkingOption_2(_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_CUSTOM);\n        else if (item == this.VersionsMenuNewNotesWindow)\n            this.openNewNotesWindow();\n        else if (item == this.VersionsMenuSourceAnalysis)\n            this.openSourceAnalysisWindow();\n        else if (item == this.genPDFOKButton)\n            this.generatePDF();\n        else if (item == this.genPDFCancelButton)\n            this.genPDFDialog.setVisible(false);\n        else if (item == this.MTNoteShapesOldButton) {\n            if (this.optSet.useModernNoteShapes())\n                this.VMNSItems[_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_NOTESHAPE_ORIG].doClick();\n        }\n        else if (item == this.MTNoteShapesModButton) {\n            if (!this.optSet.useModernNoteShapes())\n                this.VMNSItems[_OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_NOTESHAPE_MOD_1_1].doClick();\n        }\n        else if (item == this.MTClefsOldButton) {\n            if (this.optSet.get_usemodernclefs())\n                this.ViewMenuUsemodernclefs.doClick();\n        }\n        else if (item == this.MTClefsModButton) {\n            if (!this.optSet.get_usemodernclefs())\n                this.ViewMenuUsemodernclefs.doClick();\n        }\n        else if (item == this.MTEdAccidentalsButton)\n            this.ViewMenuDisplayEditorialAccidentals.doClick();\n        else if (item == this.MTPitchOldButton) {\n            if (this.optSet.getUseModernAccidentalSystem())\n                this.ViewMenuModernAccidentalSystem.doClick();\n        }\n        else if (item == this.MTPitchModButton) {\n            if (!this.optSet.getUseModernAccidentalSystem())\n                this.ViewMenuModernAccidentalSystem.doClick();\n        }\n        else if (item == this.MTTextingOldButton) {\n            if (this.optSet.get_displayOrigText())\n                if (this.optSet.get_displayModText())\n                    this.VMTModText.doClick();\n                else\n                    this.VMTNoText.doClick();\n            else if (this.optSet.get_displayModText())\n                this.VMTBothText.doClick();\n            else\n                this.VMTOrigText.doClick();\n        }\n        else if (item == this.MTTextingModButton) {\n            if (this.optSet.get_displayModText())\n                if (this.optSet.get_displayOrigText())\n                    this.VMTOrigText.doClick();\n                else\n                    this.VMTNoText.doClick();\n            else if (this.optSet.get_displayOrigText())\n                this.VMTBothText.doClick();\n            else\n                this.VMTModText.doClick();\n        }\n        else if (item == this.PlayButton)\n            this.toggleMIDIPlay();\n        for (let i = 0; i < this.VMDMVersions.length; i++)\n            if (item == this.VMDMVersions[i])\n                this.setCurrentVariantVersion_2(i);\n        if (this.updatemusicgfx || this.rerendermusic)\n            this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:     void itemStateChanged(ItemEvent event)\nImplements: ItemListener.itemStateChanged\nPurpose:    Check for item state changes in menu and take appropriate action\nParameters:\n  Input:  ItemEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    itemStateChanged(event) {\n        let item = event.getItemSelectable();\n        if (item == this.ViewMenuUsemodernclefs)\n            this.setUseModernClefs(!this.optSet.get_usemodernclefs());\n        else if (item == this.ViewMenuDisplayEditorialAccidentals)\n            this.setEdAccidentals(this.optSet.get_modacc_type() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_MODACC_NONE ? _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_MODACC_ABOVESTAFF : _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_MODACC_NONE);\n        else if (item == this.ViewMenuModernAccidentalSystem)\n            this.setUseModernPitch(!this.optSet.getUseModernAccidentalSystem());\n        else if (item == this.ViewMenuDisplayallnewlineclefs) {\n            this.optSet.set_displayallnewlineclefs(!this.optSet.get_displayallnewlineclefs());\n            this.rerendermusic = true;\n        }\n        else if (item == this.ViewMenuDisplayligbrackets) {\n            this.optSet.set_displayligbrackets(!this.optSet.get_displayligbrackets());\n            this.updatemusicgfx = true;\n        }\n        else if (item == this.ViewMenuEdCommentary) {\n            this.optSet.setViewEdCommentary(!this.optSet.getViewEdCommentary());\n            this.showCommentaryPanel(this.optSet.getViewEdCommentary());\n            this.rerendermusic = true;\n        }\n        else if (item == this.VersionsMenuDisplayVariantOptions)\n            this.variantDisplayOptionsFrame.setVisible(this.VersionsMenuDisplayVariantOptions.isSelected());\n        else if (item == this.AnalysisMenuMarkDissonances) {\n            this.optSet.set_markdissonances(!this.optSet.get_markdissonances());\n            this.updatemusicgfx = true;\n        }\n        else if (item == this.AnalysisMenuMarkDirectedProgressions) {\n            this.optSet.set_markdirectedprogressions(!this.optSet.get_markdirectedprogressions());\n            this.updatemusicgfx = true;\n        }\n        if (this.VMOMCustomVariants != null)\n            for (let vi = 0; vi < this.VMOMCustomVariants.length; vi++)\n                if (item == this.VMOMCustomVariants[vi]) {\n                    let vflag = 1 << vi;\n                    if (this.VMOMCustomVariants[vi].isSelected())\n                        this.optSet.addCustomVariantFlags(vflag);\n                    else\n                        this.optSet.removeCustomVariantFlags(vflag);\n                    this.rerendermusic = true;\n                }\n        if (this.updatemusicgfx || this.rerendermusic)\n            this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setCurrentVariantVersion(int vi)\nPurpose: Select one variant version for display/editing\nParameters:\n  Input:  int vi - index of selected version (0 or -1 for DEFAULT)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setCurrentVariantVersion_2(vi) {\n        let newVersion = vi < 0 ? this.musicData.getDefaultVariantVersion() : this.musicData.getVariantVersion_1(vi);\n        this.setCurrentVariantVersion_3(newVersion);\n    }\n    setCurrentVariantVersion_3(newVersion) {\n        this.ViewScr.setCurrentVariantVersion_1(newVersion);\n        this.updateTBVersionDisplay(newVersion);\n    }\n    reconstructCurrentVersion() {\n        this.ViewScr.setCurrentVariantVersion_1(this.ViewScr.getCurrentVariantVersion_1());\n    }\n    rerender_3() {\n        this.rerendermusic = true;\n        this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setUseModern*(boolean newstate)\nPurpose: Change state of notational style and update GUI\nParameters:\n  Input:  boolean newstate - new state of flag\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateTBNSButtons() {\n        switch (this.optSet.get_noteShapeType()) {\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_NOTESHAPE_ORIG:\n                {\n                    this.MTNoteShapesOldButton.setIcon(MusicWin.NoteShapesOldIcon_light);\n                    this.MTNoteShapesModButton.setIcon(MusicWin.NoteShapesModIcon_dark);\n                    break;\n                }\n            default:\n                {\n                    this.MTNoteShapesOldButton.setIcon(MusicWin.NoteShapesOldIcon_dark);\n                    this.MTNoteShapesModButton.setIcon(MusicWin.NoteShapesModIcon_light);\n                    break;\n                }\n        }\n    }\n    setUseModernClefs(newstate) {\n        if (newstate == true) {\n            this.MTClefsOldButton.setIcon(MusicWin.ClefsOldIcon_dark);\n            this.MTClefsModButton.setIcon(MusicWin.ClefsModIcon_light);\n        }\n        else {\n            this.MTClefsOldButton.setIcon(MusicWin.ClefsOldIcon_light);\n            this.MTClefsModButton.setIcon(MusicWin.ClefsModIcon_dark);\n        }\n        this.optSet.set_usemodernclefs(newstate);\n        this.rerendermusic = true;\n    }\n    /*    if (newstate==optSet.get_usemodernclefs())\n      return;*/\n    /*------------------------------------------------------------------------\nMethod:  void setEdAccidentals(int newstate)\nPurpose: Change state of editorial accidental display and update GUI\nParameters:\n  Input:  int newstate - new state of flag\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setEdAccidentals(newstate) {\n        if (newstate == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_MODACC_NONE)\n            this.MTEdAccidentalsButton.setIcon(MusicWin.EdAccidentalsIcon_dark);\n        else\n            this.MTEdAccidentalsButton.setIcon(MusicWin.EdAccidentalsIcon_light);\n        this.optSet.set_modacc_type(newstate);\n        this.rerendermusic = true;\n    }\n    /*    if (newstate==optSet.get_modacc_type())\n      return;*/\n    /*------------------------------------------------------------------------\nMethod:  void setUseModernPitch(boolean newstate)\nPurpose: Change state of pitch system and update GUI\nParameters:\n  Input:  boolean newstate - new state of flag\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setUseModernPitch(newstate) {\n        if (newstate == true) {\n            this.MTPitchOldButton.setIcon(MusicWin.PitchOldIcon_dark);\n            this.MTPitchModButton.setIcon(MusicWin.PitchModIcon_light);\n        }\n        else {\n            this.MTPitchOldButton.setIcon(MusicWin.PitchOldIcon_light);\n            this.MTPitchModButton.setIcon(MusicWin.PitchModIcon_dark);\n        }\n        this.optSet.setUseModernAccidentalSystem(newstate);\n        this.rerendermusic = true;\n    }\n    /*    if (newstate==optSet.getUseModernAccidentalSystem())\n      return;*/\n    /*------------------------------------------------------------------------\nMethod:  void setTexting(boolean origText,boolean modText)\nPurpose: Change state of texting and update GUI\nParameters:\n  Input:  boolean origText,modText - new states of flags\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setTexting(origText, modText) {\n        this.MTTextingOldButton.setIcon(origText ? MusicWin.TextingOldIcon_light : MusicWin.TextingOldIcon_dark);\n        this.MTTextingModButton.setIcon(modText ? MusicWin.TextingModIcon_light : MusicWin.TextingModIcon_dark);\n        this.optSet.set_displayOrigText(origText);\n        this.optSet.set_displayModText(modText);\n        this.rerendermusic = true;\n    }\n    /*    if (origText==optSet.get_displayOrigText() &&\n        modText==optSet.get_displayModText())\n      return;*/\n    /*------------------------------------------------------------------------\nMethod:  void setVariantMarkingOption(int newOption)\nPurpose: Change state of variant marking and update GUI\nParameters:\n  Input:  int newOption - new state of flags\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVariantMarkingOption_1(newOption, newFlags) {\n        this.optSet.setCustomVariantFlags(newFlags);\n        this.setVariantMarkingOption_2(newOption);\n    }\n    setVariantMarkingOption_2(newOption) {\n        this.optSet.setMarkVariants(newOption);\n        this.rerendermusic = true;\n        for (let cb of this.VMOMCustomVariants)\n            cb.setEnabled(this.optSet.getMarkVariants() == _OptionSet__WEBPACK_IMPORTED_MODULE_13__.OptionSet.OPT_VAR_CUSTOM);\n    }\n    setVersionsMenuDisplayVariantOptions(newval) {\n        this.VersionsMenuDisplayVariantOptions.setSelected(newval);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void unregisterListeners()\nPurpose: Remove all action/item/etc listeners when disposing of window\n         resources\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    unregisterListeners_3() {\n        let al = this.MusicScrollBarX.getListeners(\"AdjustmentListener\");\n        for (let i = 0; i < al.length; i++)\n            this.MusicScrollBarX.removeAdjustmentListener(al[i]);\n        al = this.MusicScrollBarY.getListeners(\"AdjustmentListener\");\n        for (let i = 0; i < al.length; i++)\n            this.MusicScrollBarY.removeAdjustmentListener(al[i]);\n        let wl = this.getListeners(\"WindowListener\");\n        for (let i = 0; i < wl.length; i++)\n            this.removeWindowListener(wl[i]);\n        let cl = this.getListeners(\"ComponentListener\");\n        for (let i = 0; i < cl.length; i++)\n            this.removeComponentListener(cl[i]);\n        this.genPDFOKButton.removeActionListener(this);\n        this.genPDFCancelButton.removeActionListener(this);\n        this.ViewScr.unregisterListeners_1();\n        this.unregisterToolListeners_1();\n    }\n    /* override just this one when changing menu/tool structures in subclasses */\n    unregisterToolListeners_1() {\n        this.FileMenuAbout.removeActionListener(this);\n        this.FileMenuClose.removeActionListener(this);\n        this.FMExportMIDI.removeActionListener(this);\n        this.FMExportXML.removeActionListener(this);\n        this.FileMenuGeneratePDF.removeActionListener(this);\n        for (let i = 0; i < this.VMVSnumItems.length; i++)\n            this.VMVSnumItems[i].removeActionListener(this.VSListener);\n        for (let i = 0; i < this.VMBSItems.length; i++)\n            this.VMBSItems[i].removeActionListener(this.VMBSListener);\n        for (let i = 0; i < this.VMNSItems.length; i++)\n            this.VMNSItems[i].removeActionListener(this.VMNSListener);\n        this.VMVSZoomOut.removeActionListener(this);\n        this.VMVSZoomIn.removeActionListener(this);\n        this.VMTOrigText.removeActionListener(this);\n        this.VMTModText.removeActionListener(this);\n        this.VMTBothText.removeActionListener(this);\n        this.VMTNoText.removeActionListener(this);\n        this.ViewMenuUsemodernclefs.removeItemListener(this);\n        this.ViewMenuDisplayEditorialAccidentals.removeItemListener(this);\n        this.ViewMenuModernAccidentalSystem.removeItemListener(this);\n        this.ViewMenuDisplayallnewlineclefs.removeItemListener(this);\n        this.ViewMenuDisplayligbrackets.removeItemListener(this);\n        this.ViewMenuEdCommentary.removeItemListener(this);\n        this.ViewMenuViewParts.removeActionListener(this);\n        this.VMPPParts.removeActionListener(this);\n        this.VMPPScore.removeActionListener(this);\n        this.MTNoteShapesOldButton.removeActionListener(this);\n        this.MTNoteShapesModButton.removeActionListener(this);\n        this.MTClefsModButton.removeActionListener(this);\n        this.MTClefsOldButton.removeActionListener(this);\n        this.MTZoomControl.removeListeners_2();\n        this.PlayButton.removeActionListener(this);\n        this.VersionsMenuGeneralInfo.removeActionListener(this);\n        for (let jr of this.VMDMVersions)\n            jr.removeActionListener(this);\n        this.VersionsMenuNewNotesWindow.removeActionListener(this);\n        this.VersionsMenuDisplayVariantOptions.removeItemListener(this);\n        this.VersionsMenuSourceAnalysis.removeActionListener(this);\n        this.variantDisplayOptionsFrame.unregisterListeners_9();\n        this.VMOMMarkAllVariants.removeActionListener(this);\n        this.VMOMMarkSubstantiveVariants.removeActionListener(this);\n        this.VMOMMarkNoVariants.removeActionListener(this);\n        this.VMOMMarkSelectedVariants.removeActionListener(this);\n        for (let cb of this.VMOMCustomVariants)\n            cb.removeItemListener(this);\n        this.AnalysisMenuMarkDissonances.removeItemListener(this);\n        this.AnalysisMenuMarkDirectedProgressions.removeItemListener(this);\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean closewin()\nPurpose: Close window and dependents\nParameters:\n  Input:  -\n  Output: -\n  Return: whether window was closed or not\n------------------------------------------------------------------------*/\n    closewin_1() {\n        if (this.partsWin != null) {\n            this.partsWin.closewin_3();\n            this.partsWin = null;\n        }\n        if (this.scorePageWin != null) {\n            this.scorePageWin.closewin_4();\n            this.scorePageWin = null;\n        }\n        let openNotesWindows = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_21__.ArrayList(this.notesWindows);\n        for (let cnw of openNotesWindows)\n            cnw.closeFrame_2();\n        this.genPDFDialog.dispose();\n        this.unregisterListeners_3();\n        this.stopMIDIPlay();\n        MusicWin.fileWindows.remove(this);\n        if (MusicWin.viewerWin != null)\n            MusicWin.viewerWin.removeFromWindowList(this.windowFileName);\n        this.dispose();\n        return true;\n    }\n    gotomeasure(mnum) {\n        this.MusicScrollBarX.setValue(mnum);\n        if (this.MusicScrollBarX.getValue() != mnum)\n            this.MusicScrollBarX.setValue(mnum);\n        if (this.MusicScrollBarX.getValue() != mnum)\n            this.updateMeasure = mnum;\n        else\n            this.updateMeasure = -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void gotoHeight(int newY)\nPurpose: Move vertical scroll bar and display to new height\nParameters:\n  Input:  int newY - new Y val\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    gotoHeight(newY) {\n        this.MusicScrollBarY.setValue(newY);\n    }\n    //    while (MusicScrollBarY.getValue()!=newY)\n    /*------------------------------------------------------------------------\nMethod:  void setmeasurenum(int mnum)\nPurpose: Display measure number in status panel\nParameters:\n  Input:  int mnum - measure number\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setmeasurenum(mnum) {\n        this.StatusMeasureNum.setText(mnum + \"/\" + this.ViewScr.nummeasures);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setScrollBarXextent(int extent)\nPurpose: Set the extent of the horizontal scrollbar\nParameters:\n  Input:  int extent - new extent\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setScrollBarXextent(extent) {\n        this.MusicScrollBarX.setVisibleAmount(extent);\n        this.MusicScrollBarX.setBlockIncrement(extent);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setScrollBarXmax(int max)\nPurpose: Set the maximum value of the horizontal scrollbar\nParameters:\n  Input:  int max - new maximum\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setScrollBarXmax_1(max) {\n        this.MusicScrollBarX.setMaximum(max);\n    }\n    setScrollBarXmax_2() {\n        this.setScrollBarXmax_1(this.ViewScr.nummeasures);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setScrollBarYparams(int virtual_height,int view_height,int val)\nPurpose: Set parameters for the vertical scrollbar\nParameters:\n  Input:  int virtual_height - total y size of view screen\n          int view_height    - y amount of view screen visible\n          int val            - scroll bar position\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setScrollBarYparams(virtual_height, view_height, val) {\n        this.MusicScrollBarY.setValue(val);\n        this.MusicScrollBarY.setMaximum(virtual_height);\n        this.MusicScrollBarY.setVisibleAmount(view_height);\n        this.MusicScrollBarY.setUnitIncrement(10);\n        this.MusicScrollBarY.setBlockIncrement(((virtual_height / 10) | 0));\n    }\n    openAboutWin() {\n        if (this.aboutWin == null)\n            this.aboutWin = new _GeneralInfoFrame__WEBPACK_IMPORTED_MODULE_18__.GeneralInfoFrame(this);\n        this.aboutWin.setVisible(true);\n        this.aboutWin.toFront();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void openPartsLayout(boolean printpreview)\nPurpose: Open new window with unscored parts in original notation\nParameters:\n  Input:  boolean printpreview - whether to open print view or regular view\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openPartsLayout_1(printpreview) {\n        if (this.partsWin != null)\n            this.partsWin.closewin_3();\n        if (this.ViewScr.getCurrentVariantVersion_1() == this.musicData.getDefaultVariantVersion())\n            printpreview = true;\n        this.partsWin = _PartsWin__WEBPACK_IMPORTED_MODULE_12__.PartsWin.new0_8(this.ViewScr.getMusicData_1(), this.MusicGfx, this, printpreview);\n        this.partsWin.openwin_1();\n    }\n    openPartsLayout_2() {\n        this.openPartsLayout_1(false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void openScorePagePreview()\nPurpose: Open new window with score in page layout\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openScorePagePreview() {\n        if (this.scorePageWin != null)\n            this.scorePageWin.closewin_4();\n        this.scorePageWin = new _ScorePagePreviewWin__WEBPACK_IMPORTED_MODULE_10__.ScorePagePreviewWin(this.musicData, this);\n        this.scorePageWin.openwin_2();\n    }\n    openNewNotesWindow() {\n        let notesWin = new _CriticalNotesWindow__WEBPACK_IMPORTED_MODULE_19__.CriticalNotesWindow(this.musicData, this, this.MusicGfx, this.ViewScr.STAFFSCALE, this.ViewScr.VIEWSCALE);\n        this.notesWindows.add(notesWin);\n        notesWin.setVisible(true);\n    }\n    notesWindowClosed(notesWin) {\n        this.notesWindows.remove(notesWin);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void openSourceAnalysisWindow()\nPurpose: Open window with source/variant analysis visualizations\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openSourceAnalysisWindow() {\n        let val = _VariantAnalysisList__WEBPACK_IMPORTED_MODULE_8__.VariantAnalysisList.new0_3(this.musicData, this);\n    }\n    toggleMIDIPlay() {\n        if (this.scorePlayer == null || !this.scorePlayer.currentlyPlaying()) {\n            this.startMIDIPlay();\n            this.PlayButton.setText(\"STOP\");\n        }\n        else {\n            this.stopMIDIPlay();\n            this.PlayButton.setText(\"PLAY\");\n        }\n    }\n    startMIDIPlay() {\n        this.scorePlayer = new _MIDIPlayer__WEBPACK_IMPORTED_MODULE_16__.MIDIPlayer(this, this.ViewScr.getMusicData_1(), this.ViewScr.getRenderedMusic());\n        this.scorePlayer.play_2(this.ViewScr.curmeasure);\n    }\n    stopMIDIPlay() {\n        if (this.scorePlayer != null)\n            this.scorePlayer.stop();\n        this.ViewScr.MIDIMeasureStarted_1(-1, null);\n    }\n    MIDIEnded() {\n        this.PlayButton.setText(\"PLAY\");\n        this.ViewScr.MIDIMeasureStarted_1(-1, null);\n    }\n    MIDIMeasureStarted_2(mnum) {\n        this.ViewScr.MIDIMeasureStarted_1(mnum, this.MusicScrollBarX);\n    }\n    /*------------------------------------------------------------------------\nMethods:    void window[Gained|Lost]Focus(WindowEvent e)\nImplements: WindowFocusListener.window[Gained|Lost]Focus\nPurpose:    Take action when window focus is gained or lost\nParameters:\n  Input:  WindowEvent e - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    windowGainedFocus(e) {\n        MusicWin.curWindow = this;\n    }\n    windowLostFocus(e) {\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getCurrentVariantVersion_2() {\n        return this.ViewScr.getCurrentVariantVersion_1();\n    }\n    getMusicData_2() {\n        return this.musicData;\n    }\n    getWindowFileName() {\n        return this.windowFileName;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void handleRuntimeError(Exception e)\nPurpose: Default handler for exceptions thrown by AWT threads\nParameters:\n  Input:  Exception e - exception to report\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    handleRuntimeError(e) {\n        if (_DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_62__.MetaData.CMME_OPT_TESTING) {\n            let stackTraceStr = \"\";\n            for (let i = 0; i < e.getStackTrace().length && i < MusicWin.MAX_STACK_TRACE_LEVELS; i++)\n                stackTraceStr += e.getStackTrace()[i] + \"\\n\";\n            this.displayErrorMessage(\"An error has occurred: \" + e + \"\\n\" + \"Location: \\n\" + stackTraceStr, \"CMME internal error\");\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Exception: \" + e);\n            e.printStackTrace();\n        }\n    }\n    displayErrorMessage(msg, winTitle) {\n        _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.showMessageDialog(this, msg, winTitle, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_45__.JOptionPane.ERROR_MESSAGE);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMusicWin.FILETYPE_CMME = 0;\nMusicWin.FILETYPE_MIDI = 1;\nMusicWin.FILETYPE_XML = 2;\nMusicWin.FILENAME_EXTENSION_CMME = \".cmme.xml\";\nMusicWin.FILENAME_EXTENSION_MIDI = \".MID\";\nMusicWin.FILENAME_EXTENSION_XML = \".xml\";\nMusicWin.FILENAME_EXTENSION_HTML = \".html\";\nMusicWin.FILENAME_PATTERN_CMME = \".*\\\\.cmme\\\\.xml\";\nMusicWin.FILENAME_PATTERN_MIDI = \".*\\\\.[Mm][Ii][Dd]\";\nMusicWin.FILENAME_PATTERN_XML = \".*\\\\.[Xx][Mm][Ll]\";\nMusicWin.FILENAME_PATTERN_HTML = \".*\\\\.[Hh][Tt][Mm][Ll]\";\nMusicWin.SCREEN_DIMENSION = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_52__.Toolkit.getDefaultToolkit().getScreenSize();\nMusicWin.DEFAULT_PDFDIR = \"PDFout/\";\nMusicWin.DEFAULT_CRITNOTESDIR = \"TXTout/\";\nMusicWin.MAX_STACK_TRACE_LEVELS = 8;\n/* music windows currently open */\nMusicWin.fileWindows = null;\nMusicWin.curWindow = null;\nMusicWin.exitingProgram = false;\nMusicWin.viewerWin = null;\n/*----------------------------------------------------------------------*/\n/* Class methods */\n/*------------------------------------------------------------------------\nMethod:  Dimension fitInScreen(Dimension dimToCheck,float scrProportion)\nPurpose: Check whether dimension can fit within screen space and if not,\n     calculate new dimension which does\nParameters:\nInput:  Dimension dimToCheck - dimension to check\n      float scrProportion  - proportion of screen space to allow\nOutput: -\nReturn: New dimension which fits within screen dimensions * scrProportion\n------------------------------------------------------------------------*/\nMusicWin.AVAIL_SCREEN_PROPORTION = 0.95;\n/*------------------------------------------------------------------------\nMethod:  JLabel createTBVersionDisplay()\nPurpose: Create version display area for main tool bar\nParameters:\nInput:  -\nOutput: -\nReturn: label\n------------------------------------------------------------------------*/\nMusicWin.VERSION_LABEL_TEXT = \"Version: \";\nMusicWin.VERSION_DEFAULT_TEXT = \"Default\";\n/*------------------------------------------------------------------------\nMethod:  JPanel createStatusPanel()\nPurpose: Create information panel under viewscreen/scrollbar\nParameters:\nInput:  -\nOutput: -\nReturn: panel\n------------------------------------------------------------------------*/\nMusicWin.commentaryLabel = \"<font color=\\\"red\\\"><i>Commentary: </i></font>\";\nMusicWin.commentaryDefault = \"No commentary selected\";\n/* ----- chooser filter for CMME files ----- */\nclass CMMEFileFilter extends _javax_swing_filechooser_FileFilter__WEBPACK_IMPORTED_MODULE_23__.FileFilter {\n    accept(f) {\n        if (f.isDirectory())\n            return true;\n        let fn = f.getName();\n        return fn.matches(MusicWin.FILENAME_PATTERN_CMME) ? true : false;\n    }\n    getDescription() {\n        return \"CMME scores (.cmme.xml)\";\n    }\n}\n/* ----- chooser filter for MIDI files ----- */\nclass MIDIFileFilter extends _javax_swing_filechooser_FileFilter__WEBPACK_IMPORTED_MODULE_23__.FileFilter {\n    accept(f) {\n        if (f.isDirectory())\n            return true;\n        let fn = f.getName();\n        return fn.matches(MusicWin.FILENAME_PATTERN_MIDI) ? true : false;\n    }\n    getDescription() {\n        return \"MIDI files (.mid)\";\n    }\n}\n/* ----- chooser filter for XML files ----- */\nclass XMLFileFilter extends _javax_swing_filechooser_FileFilter__WEBPACK_IMPORTED_MODULE_23__.FileFilter {\n    accept(f) {\n        if (f.isDirectory())\n            return true;\n        let fn = f.getName();\n        return MusicWin.isMusicXMLFilename(fn);\n    }\n    getDescription() {\n        return \"MusicXML scores (.xml)\";\n    }\n}\n/* ----- chooser filter for HTML files ----- */\nclass HTMLFileFilter extends _javax_swing_filechooser_FileFilter__WEBPACK_IMPORTED_MODULE_23__.FileFilter {\n    accept(f) {\n        if (f.isDirectory())\n            return true;\n        let fn = f.getName();\n        return MusicWin.isHTMLFilename(fn);\n    }\n    getDescription() {\n        return \"HTML files (.html)\";\n    }\n}\n/* ----- chooser filter for PDF files ----- */\nclass PDFFileFilter extends _javax_swing_filechooser_FileFilter__WEBPACK_IMPORTED_MODULE_23__.FileFilter {\n    accept(f) {\n        if (f.isDirectory())\n            return true;\n        let fn = f.getName();\n        return fn.matches(\".*\\\\.[Pp][Dd][Ff]\") ? true : false;\n    }\n    getDescription() {\n        return \"PDF files (.pdf)\";\n    }\n}\n/*------------------------------------------------------------------------\nInner Class: ViewSizeListener\nImplements:  ActionListener\nPurpose:     Handles events for View Scale menu\n------------------------------------------------------------------------*/\nclass ViewSizeListener {\n    constructor(inner) {\n        this.mytype_ActionListener = true;\n        this.inner = inner;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nMethod:  void actionPerformed(ActionEvent event)\nPurpose: Check for action types in menu and take appropriate action\nParameters:\nInput:  ActionEvent event - event to handle\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        this.inner.curVMVSnum = _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer.parseInt(event.getActionCommand());\n        this.inner.setViewSize_2(this.inner.VMVSnums[this.inner.curVMVSnum]);\n    }\n}\n/*------------------------------------------------------------------------\nEnd Inner Class ViewSizeListener\n------------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nInner Class: BarlineStyleListener\nImplements:  ActionListener\nPurpose:     Handles events for Barline Style menu\n------------------------------------------------------------------------*/\nclass BarlineStyleListener {\n    constructor(inner) {\n        this.mytype_ActionListener = true;\n        this.inner = inner;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nMethod:  void actionPerformed(ActionEvent event)\nPurpose: Check for action types in menu and take appropriate action\nParameters:\nInput:  ActionEvent event - event to handle\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        this.inner.optSet.set_barline_type(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer.parseInt(event.getActionCommand()));\n        this.inner.rerendermusic = true;\n        this.inner.repaint();\n    }\n}\n/*------------------------------------------------------------------------\nEnd Inner Class BarlineStyleListener\n------------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nInner Class: NoteShapeStyleListener\nImplements:  ActionListener\nPurpose:     Handles events for Note Shape / Reduction menu\n------------------------------------------------------------------------*/\nclass NoteShapeStyleListener {\n    constructor(inner) {\n        this.mytype_ActionListener = true;\n        this.inner = inner;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nMethod:  void actionPerformed(ActionEvent event)\nPurpose: Check for action types in menu and take appropriate action\nParameters:\nInput:  ActionEvent event - event to handle\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        this.inner.optSet.set_noteShapeType(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer.parseInt(event.getActionCommand()));\n        this.inner.updateTBNSButtons();\n        this.inner.rerendermusic = true;\n        this.inner.repaint();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MusicWin.ts?");

/***/ }),

/***/ "./src/Gfx/MusicXMLGenerator.ts":
/*!**************************************!*\
  !*** ./src/Gfx/MusicXMLGenerator.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MusicXMLGenerator: () => (/* binding */ MusicXMLGenerator),\n/* harmony export */   _XMLReader: () => (/* binding */ _XMLReader)\n/* harmony export */ });\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Util/Resources */ \"./src/Util/Resources.ts\");\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n/* harmony import */ var _ScoreRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ScoreRenderer */ \"./src/Gfx/ScoreRenderer.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../DataStruct/MetaData */ \"./src/DataStruct/MetaData.ts\");\n/* harmony import */ var _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../DataStruct/ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n/* harmony import */ var _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../DataStruct/ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass _Attribute {\n    constructor(attr) {\n        this.attr = attr;\n    }\n    getValue() {\n        return this.attr.value;\n    }\n}\nclass _Element {\n    //--write\n    indexOf(e) {\n        return Array.from(this.element.children).indexOf(e.element);\n    }\n    addNamespaceDeclaration(cmmens) {\n        this.element.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns\", cmmens);\n    }\n    set_Attribute(name, value, ns = undefined) {\n        if (ns === undefined)\n            this.element.setAttribute(name, value);\n        else\n            this.element.setAttributeNS(ns, name, value);\n        return this;\n    }\n    addContent(a, b = undefined) {\n        if (arguments.length == 1)\n            this.element.appendChild(a.element);\n        else {\n            const referenceNode = this.element.children[a];\n            this.element.insertBefore(b.element, referenceNode);\n        }\n        return this;\n    }\n    setText(text) {\n        this.element.textContent = text;\n        return this;\n    }\n    constructor(a, b = undefined) {\n        if (arguments.length == 2) {\n            this.element = _Document.docWrite.createElementNS(b, a);\n        }\n        else {\n            if (a instanceof Element)\n                this.element = a;\n            else\n                this.element = _Document.docWrite.createElement(a);\n        }\n    }\n    getName() {\n        return this.element.tagName;\n    }\n    get_Attribute(name) {\n        const attr = this.element.getAttributeNode(name);\n        return attr ? new _Attribute(attr) : null;\n    }\n    getChild(name, namespace) {\n        const child = /*namespace\n          ? this.element.querySelector(namespace + '|' + name)\n          : */ this.element.querySelector(name);\n        return child ? new _Element(child) : null;\n    }\n    getChildText(name, namespace) {\n        const child = this.getChild(name, namespace);\n        return child ? child.getText() : null;\n    }\n    getChildren(name, namespace) {\n        const selector = namespace ? (namespace + '|' + name) : (name || '*');\n        var out = Array.from(this.element.children)\n            .filter((child) => !name || child.tagName === name)\n            .map((child) => new _Element(child));\n        var outout = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_11__.ArrayList();\n        for (var i = 0; i < out.length; i++)\n            outout.add(out[i]);\n        return outout;\n    }\n    getText() {\n        return this.element.textContent || \"\";\n    }\n}\nclass _Document {\n    static create(name, ident, system) {\n        var doctype = name != null ? document.implementation.createDocumentType(name, ident, system) : null;\n        this.docWrite = document.implementation.createDocument(\"\", \"\", doctype);\n    }\n    constructor(a) {\n        if (a instanceof Document)\n            this.doc = a;\n        else {\n            this.doc = _Document.docWrite;\n            _Document.docWrite = undefined;\n            this.doc.appendChild(a.element);\n        }\n    }\n    getRoot_Element() {\n        if (!this.doc.documentElement) {\n            throw new Error(\"Document has no root element\");\n        }\n        return new _Element(this.doc.documentElement);\n    }\n}\n_Document.docWrite = undefined;\nclass _XMLReader {\n    static load(url) {\n        var res = _Util_Resources__WEBPACK_IMPORTED_MODULE_0__.Resources.ensureResource(url)._content;\n        if (res === undefined)\n            throw new Error(\"Missing Resource\");\n        const parser = new DOMParser();\n        const xmlDoc = parser.parseFromString(res, \"text/xml\");\n        return new _Document(xmlDoc);\n    }\n    static parse(s) {\n        const parser = new DOMParser();\n        const xmlDoc = parser.parseFromString(s, \"text/xml\");\n        return new _Document(xmlDoc);\n    }\n}\nclass _XMLOutputter {\n    constructor(format) {\n    }\n    output(outputdoc, outs) {\n        const serializer = new XMLSerializer();\n        const xmlString = serializer.serializeToString(outputdoc.doc);\n        // Step 3: Create an invisible anchor element for downloading\n        const anchor = document.createElement(\"a\");\n        anchor.href = \"data:text/xml;charset=utf-8,\" + encodeURIComponent(xmlString); // Use data URL scheme\n        anchor.download = \"save.xml\"; // Name of the file to save\n        // Step 4: Append the anchor to the body (it won't be visible)\n        document.body.appendChild(anchor);\n        // Step 5: Programmatically trigger a click on the anchor to start the download\n        anchor.click();\n        // Step 6: Clean up by removing the anchor element (optional)\n        document.body.removeChild(anchor);\n    }\n}\nclass MusicXMLGenerator {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /* create MusicXML ID based on CMME voice number */\n    static makePartID(vnum) {\n        return \"P\" + (((vnum + 1) | 0));\n    }\n    static calcIntDuration(l, divisions) {\n        return (((((((l.i1 * divisions) | 0) * 2) | 0)) / l.i2) | 0);\n    }\n    static notetypeToMusicXMLNotetype(nt, l) {\n        return MusicXMLGenerator.MUSICXML_NOTETYPES[nt];\n    }\n    static CMMEtoMusicXMLOctave(p) {\n        return ((p.octave + (_java_lang_Character__WEBPACK_IMPORTED_MODULE_4__.Character.codePointAt(p.noteletter, 0) > _java_lang_Character__WEBPACK_IMPORTED_MODULE_4__.Character.codePointAt(\"B\", 0) ? 1 : 0)) | 0);\n    }\n    static CMMEtoMusicXMLAccidental(acc) {\n        return _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_9__.ModernAccidental.AccidentalNames[acc.accType].toLowerCase();\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: MusicXMLGenerator(ScorePageRenderer renderedScore)\nPurpose:     Initialize\nParameters:\n  Input:  ScorePageRenderer renderedScore - rendered data, multi-page score layout\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(renderedScore) {\n        this.renderedScore = renderedScore;\n        this.musicData = renderedScore.musicData;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void outputPieceData(OutputStream outs)\nPurpose: Output MusicXML format file\nParameters:\n  Input:  OutputStream outs - output destination\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    outputPieceData(outs) {\n        let outputDoc;\n        let rootEl;\n        _Document.create(\"score-partwise\", \"-//Recordare//DTD MusicXML 2.0 Partwise//EN\", \"http://www.musicxml.org/dtds/partwise.dtd\");\n        rootEl = new _Element(\"score-partwise\");\n        rootEl.set_Attribute(\"version\", MusicXMLGenerator.MUSICXML_VERSION);\n        rootEl.addContent(this.createIdentificationTree());\n        rootEl.addContent(this.createPartListTree());\n        this.addPartMusicTrees(rootEl);\n        outputDoc = new _Document(rootEl);\n        try {\n            let xout = new _XMLOutputter(\"\");\n            xout.output(outputDoc, outs);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_1__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_2__.System.err.println(\"Error writing XML doc: \" + e);\n            }\n            else\n                throw e;\n        }\n    }\n    /* header/root */\n    /* actual content */\n    /* output */\n    //outputDoc.setDocType(\"score-partwise\",\n    //                               \"-//Recordare//DTD MusicXML 2.0 Partwise//EN\",\n    //                             \"http://www.musicxml.org/dtds/partwise.dtd\");\n    /*Format.getRawFormat().setIndent(\"  \")*/\n    /*------------------------------------------------------------------------\nMethod:  _Element createIdentificationTree()\nPurpose: Construct tree segment \"identification\" for basic metadata\nParameters:\n  Input:  -\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    encodeDate() {\n        return new Date().toISOString().split('T')[0];\n    }\n    createIdentificationTree() {\n        let baseEl = new _Element(\"identification\");\n        let encodingEl = new _Element(\"encoding\");\n        encodingEl.addContent(new _Element(\"software\").setText(_DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_8__.MetaData.CMME_SOFTWARE_NAME));\n        encodingEl.addContent(new _Element(\"encoding-date\").setText(this.encodeDate()));\n        encodingEl.addContent(new _Element(\"supports\").set_Attribute(\"_Attribute\", \"new-system\").set_Attribute(\"_Element\", \"print\").set_Attribute(\"type\", \"yes\").set_Attribute(\"value\", \"yes\"));\n        encodingEl.addContent(new _Element(\"supports\").set_Attribute(\"_Attribute\", \"new-page\").set_Attribute(\"_Element\", \"print\").set_Attribute(\"type\", \"yes\").set_Attribute(\"value\", \"yes\"));\n        baseEl.addContent(encodingEl);\n        return baseEl;\n    }\n    /* encoding */\n    /*------------------------------------------------------------------------\nMethod:  _Element createPartListTree()\nPurpose: Construct tree segment \"part-list\" for voice information\nParameters:\n  Input:  -\n  Output: -\n  Return: root _Element (for this segment)\n------------------------------------------------------------------------*/\n    createPartListTree() {\n        let baseEl = new _Element(\"part-list\");\n        baseEl.addContent(new _Element(\"part-group\").set_Attribute(\"number\", \"1\").set_Attribute(\"type\", \"start\"));\n        let vnum = 0;\n        for (let v of this.musicData.getVoiceData()) {\n            let voiceEl = new _Element(\"score-part\");\n            voiceEl.set_Attribute(\"id\", MusicXMLGenerator.makePartID(vnum));\n            voiceEl.addContent(new _Element(\"part-name\").setText(v.getName()));\n            voiceEl.addContent(new _Element(\"part-abbreviation\").setText(v.getAbbrevLetter()));\n            baseEl.addContent(voiceEl);\n            vnum++;\n        }\n        baseEl.addContent(new _Element(\"part-group\").set_Attribute(\"number\", \"1\").set_Attribute(\"type\", \"stop\"));\n        return baseEl;\n    }\n    /* voice definitions */\n    /*------------------------------------------------------------------------\nMethod:  void addPartMusicTrees(_Element rootEl)\nPurpose: Construct tree segment for each voice and add to root\nParameters:\n  Input:  -\n  Output: _Element rootEl - root _Element to add parts to\n  Return: -\n------------------------------------------------------------------------*/\n    addPartMusicTrees(rootEl) {\n        for (let vi = 0; vi < this.musicData.getVoiceData().length; vi++)\n            rootEl.addContent(this.createPartMusicTree(vi));\n    }\n    createPartMusicTree(vnum) {\n        let baseEl = new _Element(\"part\");\n        baseEl.set_Attribute(\"id\", MusicXMLGenerator.makePartID(vnum));\n        this.addDivisions = true;\n        this.DIVISIONS = 4;\n        this.curKeySig = _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_10__.ModernKeySignature.DEFAULT_SIG;\n        this.midWord = false;\n        for (let pi = 0; pi < this.renderedScore.pages.size(); pi++)\n            this.addPage(vnum, pi, baseEl);\n        return baseEl;\n    }\n    /* initialize GLOBAAAAALS */\n    /*------------------------------------------------------------------------\nMethod:  void addPage(int vnum,int pnum,_Element partEl)\nPurpose: Add nodes for music of one page of one part to doc\nParameters:\n  Input:  int vnum,pnum  - voice/page number\n  Output: _Element partEl - root _Element to add music to\n  Return: -\n------------------------------------------------------------------------*/\n    addPage(vnum, pnum, partEl) {\n        let curPage = this.renderedScore.pages.get(pnum);\n        let startSys = curPage.startSystem;\n        let endSys = ((((startSys + curPage.numSystems) | 0) - 1) | 0);\n        if (endSys >= this.renderedScore.systems.size())\n            endSys = ((this.renderedScore.systems.size() - 1) | 0);\n        for (let curSys = startSys; curSys <= endSys; curSys++)\n            this.addSystem(vnum, curSys, partEl);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addSystem(int vnum,int snum,_Element partEl)\nPurpose: Add nodes for music of one system of one part to doc\nParameters:\n  Input:  int vnum,snum  - voice/system number\n  Output: _Element partEl - root _Element to add music to\n  Return: -\n------------------------------------------------------------------------*/\n    addSystem(vnum, snum, partEl) {\n        let curSystem = this.renderedScore.systems.get(snum);\n        let rendererNum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_5__.ScoreRenderer.calcRendererNum(this.renderedScore.scoreData, curSystem.startMeasure);\n        for (let mi = curSystem.startMeasure; mi <= curSystem.endMeasure; mi++) {\n            let m = this.renderedScore.scoreData[rendererNum].getMeasure(mi);\n            let measureEl = new _Element(\"measure\");\n            measureEl.set_Attribute(\"number\", _java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(((mi + 1) | 0)));\n            let _AttributesEl = this.createDivisionsEl();\n            if (_AttributesEl != null)\n                measureEl.addContent(_AttributesEl);\n            if (this.renderedScore.scoreData[rendererNum].eventinfo[vnum] != null) {\n                let leftei = m.reventindex[vnum];\n                let rightei = this.renderedScore.getLastEventInMeasure(snum, rendererNum, vnum, mi);\n                this.addEvents(measureEl, this.renderedScore.scoreData[rendererNum], vnum, leftei, rightei);\n            }\n            partEl.addContent(measureEl);\n        }\n    }\n    addEvents(measureEl, renderer, vnum, leftei, rightei) {\n        for (let ei = leftei; ei <= rightei; ei++)\n            this.addOneEvent(measureEl, renderer.eventinfo[vnum], renderer.getEvent(vnum, ei));\n    }\n    addMultiEvent(measureEl, elist, rme) {\n        for (let re of rme.getEventList())\n            this.addOneEvent(measureEl, elist, re);\n    }\n    addOneEvent(measureEl, elist, re) {\n        let eventEl = null;\n        let e = re.getEvent_1();\n        let attrib = false;\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_7__.Event.EVENT_MULTIEVENT:\n                {\n                    this.addMultiEvent(measureEl, elist, re);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_7__.Event.EVENT_CLEF:\n                {\n                    if (e.hasPrincipalClef_1()) {\n                        eventEl = new _Element(\"clef\");\n                        let c = re.getClef();\n                        eventEl.addContent(new _Element(\"sign\").setText(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.ClefLetters[c.cleftype]));\n                        eventEl.addContent(new _Element(\"line\").setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.linespaceNumToLineNum(c.linespacenum))));\n                        if (c.cleftype == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_6__.Clef.CLEF_MODERNG8)\n                            eventEl.addContent(new _Element(\"clef-octave-change\").setText(\"-1\"));\n                    }\n                    else if (e.hasSignatureClef_1())\n                        eventEl = this.createKeyEl(re);\n                    attrib = true;\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_7__.Event.EVENT_REST:\n                {\n                    eventEl = new _Element(\"note\").addContent(new _Element(\"rest\"));\n                    let reste = e;\n                    this.addNoteInfoData(eventEl, elist, re, reste.getModNoteType(), reste.getLength_1());\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_7__.Event.EVENT_NOTE:\n                {\n                    eventEl = new _Element(\"note\");\n                    let ne = e;\n                    this.addPitchData(eventEl, ne.getPitch_1(), ne.getPitchOffset());\n                    this.addNoteInfoData(eventEl, elist, re, ne.getnotetype_1(), ne.getLength_1());\n                    if (ne.hasModernDot())\n                        eventEl.addContent(new _Element(\"dot\"));\n                    let acc = re.getAccidental();\n                    if (acc != null)\n                        eventEl.addContent(new _Element(\"accidental\").setText(MusicXMLGenerator.CMMEtoMusicXMLAccidental(acc)));\n                    if (ne.getModernText() != null)\n                        this.addLyricData(eventEl, ne);\n                    break;\n                }\n        }\n        if (eventEl == null)\n            return;\n        if (!attrib)\n            measureEl.addContent(eventEl);\n        else\n            this.addMeasureAttrib(measureEl, eventEl);\n    }\n    addMeasureAttrib(measureEl, eventEl) {\n        let _AttributesEl = measureEl.getChild(\"Attributes\");\n        if (_AttributesEl != null) {\n            if ((eventEl.getName() == \"key\")) {\n                let clefIndex = _AttributesEl.indexOf(_AttributesEl.getChild(\"clef\"));\n                if (clefIndex != -1) {\n                    _AttributesEl.addContent(clefIndex, eventEl);\n                    return;\n                }\n            }\n            _AttributesEl.addContent(eventEl);\n        }\n        else {\n            _AttributesEl = new _Element(\"Attributes\").addContent(eventEl);\n            measureEl.addContent(_AttributesEl);\n        }\n    }\n    /* key signature has to come before clef. ?! */\n    createDivisionsEl() {\n        let _AttributesEl = null;\n        if (this.addDivisions)\n            _AttributesEl = new _Element(\"Attributes\").addContent(new _Element(\"divisions\").setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(this.DIVISIONS)));\n        this.addDivisions = false;\n        return _AttributesEl;\n    }\n    createKeyEl(re) {\n        let k = re.getModernKeySig();\n        if (k.equals(this.curKeySig))\n            return null;\n        let eventEl = new _Element(\"key\");\n        eventEl.addContent(new _Element(\"fifths\").setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(k.getAccDistance())));\n        eventEl.addContent(new _Element(\"mode\").setText(\"major\"));\n        this.curKeySig = k;\n        return eventEl;\n    }\n    /* duration including tie info */\n    addNoteInfoData(eventEl, elist, re, nt, l) {\n        eventEl.addContent(new _Element(\"duration\").setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(MusicXMLGenerator.calcIntDuration(l, this.DIVISIONS))));\n        let tieInfo = re.getTieInfo();\n        if (tieInfo.firstEventNum != -1) {\n            let tieEl = new _Element(\"tie\");\n            let tre1 = elist.getEvent(tieInfo.firstEventNum);\n            tieEl.set_Attribute(\"type\", (tre1 == re) ? \"start\" : \"stop\");\n            eventEl.addContent(tieEl);\n            if (re.doubleTied())\n                eventEl.addContent(new _Element(\"tie\").set_Attribute(\"type\", \"start\"));\n        }\n        eventEl.addContent(new _Element(\"type\").setText(MusicXMLGenerator.notetypeToMusicXMLNotetype(nt, l)));\n    }\n    addPitchData(eventEl, p, acc) {\n        let pitchEl = new _Element(\"pitch\").addContent(new _Element(\"step\").setText(p.noteletter));\n        let alter = (acc != null) ? acc.pitchOffset : 0;\n        if (alter != 0)\n            pitchEl.addContent(new _Element(\"alter\").setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(alter)));\n        pitchEl.addContent(new _Element(\"octave\").setText(_java_lang_Integer__WEBPACK_IMPORTED_MODULE_3__.Integer.toString(MusicXMLGenerator.CMMEtoMusicXMLOctave(p))));\n        eventEl.addContent(pitchEl);\n    }\n    addLyricData(eventEl, ne) {\n        let lyricEl = new _Element(\"lyric\");\n        let syllabicType = \"\";\n        if (ne.isWordEnd()) {\n            syllabicType = this.midWord ? \"end\" : \"single\";\n            this.midWord = false;\n        }\n        else if (this.midWord)\n            syllabicType = \"middle\";\n        else {\n            syllabicType = \"begin\";\n            this.midWord = true;\n        }\n        lyricEl.addContent(new _Element(\"syllabic\").setText(syllabicType));\n        lyricEl.addContent(new _Element(\"text\").setText(ne.getModernText()));\n        eventEl.addContent(lyricEl);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMusicXMLGenerator.MUSICXML_VERSION = \"2.0\";\nMusicXMLGenerator.MusicXMLNS = \"http://www.musicxml.org\";\nMusicXMLGenerator.xsins = \"http://www.w3.org/2001/XMLSchema-instance\";\nMusicXMLGenerator.MUSICXML_NOTETYPES = [\"X\", \"X\", \"X\", \"256th\", \"128th\", \"64th\", \"32nd\", \"16th\", \"eighth\", \"quarter\", \"half\", \"whole\", \"breve\", \"long\"];\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/MusicXMLGenerator.ts?");

/***/ }),

/***/ "./src/Gfx/OptionSet.ts":
/*!******************************!*\
  !*** ./src/Gfx/OptionSet.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionSet: () => (/* binding */ OptionSet)\n/* harmony export */ });\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n/* harmony import */ var _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Util/GlobalConfig */ \"./src/Util/GlobalConfig.ts\");\n\n//import DataStruct.XMLReader;\n\n/*------------------------------------------------------------------------\nClass:   OptionSet\nExtends: -\nPurpose: Information about music display options\n------------------------------------------------------------------------*/\n\nclass OptionSet {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /* create OptionSet for fully modern notation */\n    static makeDEFAULT_FULL_MODERN(mwin) {\n        let o = new OptionSet(mwin);\n        o.set_barline_type(OptionSet.OPT_BARLINE_MODERN);\n        o.set_modacc_type(OptionSet.OPT_MODACC_ABOVESTAFF);\n        o.set_noteShapeType(OptionSet.OPT_NOTESHAPE_MOD_1_1);\n        o.set_displayOrigText(false);\n        o.set_displayModText(true);\n        o.set_usemodernclefs(true);\n        o.setUseModernAccidentalSystem(true);\n        o.setColorationDisplayFlags(OptionSet.OPT_COLORATION_MINOR_COLOR & OptionSet.OPT_COLORATION_OTHER);\n        return o;\n    }\n    /* create OptionSet for original notation */\n    static makeDEFAULT_ORIGINAL(mwin) {\n        let o = new OptionSet(mwin);\n        o.set_barline_type(OptionSet.OPT_BARLINE_TICK);\n        o.set_modacc_type(OptionSet.OPT_MODACC_ABOVESTAFF);\n        o.set_noteShapeType(OptionSet.OPT_NOTESHAPE_ORIG);\n        o.set_displayOrigText(true);\n        o.set_displayModText(false);\n        o.set_usemodernclefs(false);\n        o.setUseModernAccidentalSystem(false);\n        o.setColorationDisplayFlags(OptionSet.OPT_COLORATION_NONE);\n        return o;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: OptionSet(MusicWin mwin)\nPurpose:     Initialize options\nParameters:\n  Input:  MusicWin mwin - music window for these options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(mwin) {\n        /* music display parameters */\n        this.STAFFSCALE = 10;\n        /* # of pixels per staff line+space */\n        this.STAFFSPACING = OptionSet.DEFAULT_STAFFSPACING;\n        /* number of staff spaces for each\n                                                   voice's vertical space */\n        this.BREVESCALE = 100;\n        /* default # of horizontal pixels for\n                                                   one breve of time */\n        this.VIEWSCALE = 1;\n        this.musicWin = mwin;\n        this.barline_type = OptionSet.OPT_BARLINE_MENSS;\n        this.modacc_type = OptionSet.OPT_MODACC_ABOVESTAFF;\n        this.noteShapeType = OptionSet.OPT_NOTESHAPE_MOD_1_1;\n        this.displayOrigText = false;\n        this.displayModText = true;\n        this.usemodernclefs = true;\n        this.useModernAccidentalSystem = true;\n        this.colorationDisplayFlags = OptionSet.OPT_COLORATION_NONE;\n        this.displayallnewlineclefs = false;\n        this.displayorigligatures = false;\n        this.displayligbrackets = true;\n        this.viewEdCommentary = true;\n        this.markdissonances = false;\n        this.markdirectedprogressions = false;\n        this.displayedittags = false;\n        this.unscoredDisplay = false;\n        this.ligatureList = false;\n        this.markVariants = OptionSet.OPT_VAR_NONE;\n        this.customVariantFlags = _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.VAR_NONE;\n    }\n    /* initialize options for Viewer */\n    initFromGlobalConfig() {\n        let ns = (true) + \"/Defaults/\";\n        let optStr;\n        if ((optStr = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__.GlobalConfig.get(ns + \"NoteShapes\")) != null)\n            if ((optStr == \"original\"))\n                this.noteShapeType = OptionSet.OPT_NOTESHAPE_ORIG;\n            else\n                this.noteShapeType = OptionSet.OPT_NOTESHAPE_MOD_1_1;\n        if ((optStr = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__.GlobalConfig.get(ns + \"Barlines\")) != null)\n            if ((optStr == \"tick\"))\n                this.barline_type = OptionSet.OPT_BARLINE_TICK;\n            else if ((optStr == \"mensurstrich\"))\n                this.barline_type = OptionSet.OPT_BARLINE_MENSS;\n            else if ((optStr == \"modern\"))\n                this.barline_type = OptionSet.OPT_BARLINE_MODERN;\n            else\n                this.barline_type = OptionSet.OPT_BARLINE_NONE;\n        if ((optStr = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__.GlobalConfig.get(ns + \"Clefs\")) != null)\n            if ((optStr == \"original\"))\n                this.usemodernclefs = false;\n            else\n                this.usemodernclefs = true;\n        if ((optStr = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__.GlobalConfig.get(ns + \"AccidentalSystem\")) != null)\n            if ((optStr == \"original\"))\n                this.useModernAccidentalSystem = false;\n            else\n                this.useModernAccidentalSystem = true;\n        if ((optStr = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__.GlobalConfig.get(ns + \"ColorationBrackets\")) != null) {\n            if ((optStr == \"minor\") || (optStr == \"all\"))\n                this.addColorationDisplayFlags(OptionSet.OPT_COLORATION_MINOR_COLOR);\n            if ((optStr == \"other\") || (optStr == \"all\"))\n                this.addColorationDisplayFlags(OptionSet.OPT_COLORATION_OTHER);\n        }\n        this.displayOrigText = false;\n        this.displayModText = false;\n        if ((optStr = _Util_GlobalConfig__WEBPACK_IMPORTED_MODULE_2__.GlobalConfig.get(ns + \"Text\")) != null) {\n            if ((optStr == \"original\") || (optStr == \"all\"))\n                this.displayOrigText = true;\n            if ((optStr == \"modern\") || (optStr == \"all\"))\n                this.displayModText = true;\n        }\n    }\n    /*(musicWin instanceof MusicWin) ? \"Viewer\" : \"Editor\"*/\n    //CHANGE\n    /*------------------------------------------------------------------------\nMethods: boolean markVariant(long varFlags)\nPurpose: Check whether a variant of a certain type should be marked with\n         the current option settings\nParameters:\n  Input:  long varFlags - flags marking which types of variant are present\n  Output: -\n  Return: true if variant should be marked\n------------------------------------------------------------------------*/\n    markVariant(varFlags) {\n        switch (this.markVariants) {\n            case OptionSet.OPT_VAR_NONE:\n                {\n                    return false;\n                }\n            case OptionSet.OPT_VAR_ALL:\n                {\n                    return true;\n                }\n            case OptionSet.OPT_VAR_SUBSTANTIVE:\n                {\n                    return varFlags != _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.VAR_NONE;\n                }\n            case OptionSet.OPT_VAR_CUSTOM:\n                {\n                    return (this.customVariantFlags & varFlags) > 0;\n                }\n        }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*()\nPurpose: Routines to return parameters and options\nParameters:\n  Input:  -\n  Output: -\n  Return: parameter/option variables\n------------------------------------------------------------------------*/\n    getSTAFFSCALE() {\n        return this.STAFFSCALE;\n    }\n    getSTAFFSPACING() {\n        if (this.musicWin != null) {\n            this.STAFFSPACING = OptionSet.DEFAULT_STAFFSPACING;\n            let numVersions = this.musicWin.musicData.getVariantVersions().size();\n            if (this.markVariant(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_1__.VariantReading.VAR_ORIGTEXT) && !this.get_displayedittags() && numVersions >= OptionSet.MIN_TEXTS_FOR_RESPACING)\n                this.STAFFSPACING += (((((numVersions - OptionSet.MIN_TEXTS_FOR_RESPACING) | 0)) * OptionSet.SPACES_PER_TEXTLINE) | 0);\n        }\n        return this.STAFFSPACING;\n    }\n    /* calculate spacing based on text to display */\n    getBREVESCALE() {\n        return this.BREVESCALE;\n    }\n    getVIEWSCALE() {\n        return this.VIEWSCALE;\n    }\n    get_barline_type() {\n        return this.barline_type;\n    }\n    get_noteShapeType() {\n        return this.noteShapeType;\n    }\n    useModernNoteShapes() {\n        return this.noteShapeType != OptionSet.OPT_NOTESHAPE_ORIG;\n    }\n    get_modacc_type() {\n        return this.modacc_type;\n    }\n    get_displayOrigText() {\n        return this.displayOrigText;\n    }\n    get_displayModText() {\n        return this.displayModText;\n    }\n    get_usemodernclefs() {\n        return this.usemodernclefs;\n    }\n    getUseModernAccidentalSystem() {\n        return this.useModernAccidentalSystem;\n    }\n    getColorationDisplayFlags() {\n        return this.colorationDisplayFlags;\n    }\n    get_displayorigligatures() {\n        return this.displayorigligatures;\n    }\n    get_displayligbrackets() {\n        return this.displayligbrackets;\n    }\n    getViewEdCommentary() {\n        return this.viewEdCommentary;\n    }\n    get_displayallnewlineclefs() {\n        return this.displayallnewlineclefs;\n    }\n    get_markdissonances() {\n        return this.markdissonances;\n    }\n    get_markdirectedprogressions() {\n        return this.markdirectedprogressions;\n    }\n    get_displayedittags() {\n        return this.displayedittags;\n    }\n    get_unscoredDisplay() {\n        return this.unscoredDisplay;\n    }\n    isLigatureList() {\n        return this.ligatureList;\n    }\n    getMarkVariants() {\n        return this.markVariants;\n    }\n    markCustomVariant(varFlags) {\n        return (this.customVariantFlags & varFlags) > 0;\n    }\n    displayColorationType(ct) {\n        return (this.colorationDisplayFlags & ct) != 0;\n    }\n    displayColorationBracket(e) {\n        if (this.colorationDisplayFlags == OptionSet.OPT_COLORATION_NONE || e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__.Event.EVENT_NOTE || !e.isColored())\n            return false;\n        if (e.isMinorColor_1())\n            return this.displayColorationType(OptionSet.OPT_COLORATION_MINOR_COLOR);\n        return this.displayColorationType(OptionSet.OPT_COLORATION_OTHER);\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*\nPurpose: Routines to set parameters and options\nParameters:\n  Input:  new values for parameters and options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setVIEWSCALE(newval) {\n        this.VIEWSCALE = newval;\n    }\n    set_barline_type(newval) {\n        this.barline_type = newval;\n    }\n    addCustomVariantFlags(newFlags) {\n        this.customVariantFlags |= newFlags;\n    }\n    removeCustomVariantFlags(newFlags) {\n        this.customVariantFlags &= ~newFlags;\n    }\n    setCustomVariantFlags(newFlags) {\n        this.customVariantFlags = newFlags;\n    }\n    setLigatureList(newval) {\n        this.ligatureList = newval;\n    }\n    set_modacc_type(newval) {\n        this.modacc_type = newval;\n    }\n    set_noteShapeType(newval) {\n        this.noteShapeType = newval;\n    }\n    set_displayOrigText(newval) {\n        this.displayOrigText = newval;\n    }\n    set_displayModText(newval) {\n        this.displayModText = newval;\n    }\n    set_usemodernclefs(newval) {\n        this.usemodernclefs = newval;\n    }\n    addColorationDisplayFlags(newFlags) {\n        this.colorationDisplayFlags |= newFlags;\n    }\n    setColorationDisplayFlags(newval) {\n        this.colorationDisplayFlags = newval;\n    }\n    setUseModernAccidentalSystem(newval) {\n        this.useModernAccidentalSystem = newval;\n    }\n    set_displayorigligatures(newval) {\n        this.displayorigligatures = newval;\n    }\n    set_displayligbrackets(newval) {\n        this.displayligbrackets = newval;\n    }\n    setViewEdCommentary(newval) {\n        this.viewEdCommentary = newval;\n    }\n    set_displayallnewlineclefs(newval) {\n        this.displayallnewlineclefs = newval;\n    }\n    set_markdissonances(newval) {\n        this.markdissonances = newval;\n    }\n    set_markdirectedprogressions(newval) {\n        this.markdirectedprogressions = newval;\n    }\n    set_displayedittags(newval) {\n        this.displayedittags = newval;\n    }\n    set_unscoredDisplay(newval) {\n        this.unscoredDisplay = newval;\n    }\n    setMarkVariants(newval) {\n        this.markVariants = newval;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nOptionSet.OPT_BARLINE_NONE = 0;\nOptionSet.OPT_BARLINE_MENSS = 1;\nOptionSet.OPT_BARLINE_TICK = 2;\nOptionSet.OPT_BARLINE_MODERN = 3;\nOptionSet.OPT_NOTESHAPE_ORIG = 0;\nOptionSet.OPT_NOTESHAPE_MOD_1_1 = 1;\nOptionSet.OPT_NOTESHAPE_MOD_2_1 = 2;\nOptionSet.OPT_NOTESHAPE_MOD_4_1 = 3;\nOptionSet.OPT_NOTESHAPE_MOD_8_1 = 4;\nOptionSet.OPT_MODACC_NONE = 0;\nOptionSet.OPT_MODACC_ABOVESTAFF = 1;\nOptionSet.OPT_COLORATION_NONE = 0;\nOptionSet.OPT_COLORATION_MINOR_COLOR = 1 << 0;\nOptionSet.OPT_COLORATION_OTHER = 1 << 1;\nOptionSet.OPT_VAR_ALL = 0;\nOptionSet.OPT_VAR_SUBSTANTIVE = 1;\nOptionSet.OPT_VAR_NONE = 2;\nOptionSet.OPT_VAR_CUSTOM = 3;\nOptionSet.BarlineStrings = [\"None\", \"Mensurstrich\", \"Tick\", \"Modern\"];\nOptionSet.NoteShapeStrings = [\"Original\", \"Modern 1:1\"];\n/*,\n                                       \"Modern 2:1\",\n                                       \"Modern 4:1\",\n                                       \"Modern 8:1\" };*/\nOptionSet.DEFAULT_STAFFSPACING = 12;\nOptionSet.SPACES_PER_TEXTLINE = 2;\nOptionSet.TEXTVERSION_COLORS = 3;\nOptionSet.MIN_TEXTS_FOR_RESPACING = 4;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/OptionSet.ts?");

/***/ }),

/***/ "./src/Gfx/PDFCreator.ts":
/*!*******************************!*\
  !*** ./src/Gfx/PDFCreator.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFCreator: () => (/* binding */ PDFCreator)\n/* harmony export */ });\nclass PDFCreator {\n    static new0(a) {\n        let _new0 = new PDFCreator;\n        PDFCreator.set0(_new0, a);\n        return _new0;\n    }\n    static set0(new0, a) {\n    }\n    static new1(s) {\n        let _new1 = new PDFCreator;\n        PDFCreator.set1(_new1, s);\n        return _new1;\n    }\n    static set1(new1, s) {\n    }\n    createPDF_1(saveFile) {\n    }\n    createPDF_2(name) {\n    }\n    drawEvent(a, b, c, d, e) {\n    }\n    drawGlyph(a, b, c, d, e, f, g) {\n    }\n}\nPDFCreator.XEVENTSPACE_SCALE = 0;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/PDFCreator.ts?");

/***/ }),

/***/ "./src/Gfx/PartRenderer.ts":
/*!*********************************!*\
  !*** ./src/Gfx/PartRenderer.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PartRenderer: () => (/* binding */ PartRenderer)\n/* harmony export */ });\n/* harmony import */ var _StaffEventData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StaffEventData */ \"./src/Gfx/StaffEventData.ts\");\n/* harmony import */ var _RenderParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RenderParams */ \"./src/Gfx/RenderParams.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_LineEndEvent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DataStruct/LineEndEvent */ \"./src/DataStruct/LineEndEvent.ts\");\n\n\n\n\n\n\n\nclass PartRenderer {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  void incipitJustify(ArrayList<ArrayList<RenderList>> voices)\nPurpose: For incipit view: adjust positions of events in voices so that\n         all incipits take up the same horizontal space\nParameters:\n  Input:  ArrayList<ArrayList<RenderList>> voices - rendered event information\n  Output: voices\n  Return: -\n------------------------------------------------------------------------*/\n    static incipitJustify(voices) {\n        let numVoices = voices.size();\n        let maxX = 0;\n        let longestVoice = 0;\n        let curStaff;\n        for (let i = 0; i < numVoices; i++) {\n            curStaff = voices.get(i).get(0);\n            let incipitXspace = curStaff.calcEventSpace_1(0, ((curStaff.getIncipitEndGroupIndex() - 1) | 0));\n            if (incipitXspace > maxX) {\n                maxX = incipitXspace;\n                longestVoice = i;\n            }\n        }\n        curStaff = voices.get(longestVoice).get(0);\n        let totalIncipitSize = curStaff.padEvents_1(PartRenderer.MAX_PADDING, 0, ((curStaff.getIncipitEndGroupIndex() - 1) | 0), 0);\n        curStaff.totalxsize = curStaff.padEvents_1(PartRenderer.MAX_PADDING, curStaff.getIncipitEndGroupIndex(), ((curStaff.eventgroups.size() - 1) | 0), totalIncipitSize);\n        let paddingspace;\n        for (let vi = 0; vi < numVoices; vi++)\n            if (vi != longestVoice) {\n                curStaff = voices.get(vi).get(0);\n                let curspace = curStaff.calcEventSpace_1(0, ((curStaff.getIncipitEndGroupIndex() - 1) | 0));\n                paddingspace = (totalIncipitSize - curspace) / (curStaff.getIncipitEndGroupIndex());\n                curStaff.padEvents_1(paddingspace, 0, ((curStaff.getIncipitEndGroupIndex() - 1) | 0), 0);\n                curStaff.totalxsize = curStaff.padEvents_1(PartRenderer.MAX_PADDING, curStaff.getIncipitEndGroupIndex(), ((curStaff.eventgroups.size() - 1) | 0), totalIncipitSize);\n            }\n    }\n    /* find longest incipit */\n    /* voice with longest incipit: set x coordinates */\n    /* space other voices to match longest length */\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: PartRenderer(Voice voiceinfo,int sxs,boolean pp)\nPurpose:     Render music of one voice part\nParameters:\n  Input:  Voice voiceinfo - voice/event data\n          int sxs         - total available x-size for each staff\n          boolean pp      - whether to use 'print preview' mode\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(voiceinfo, sxs, pp) {\n        this.STAFFXSIZE = sxs;\n        this.printPreview = pp;\n        this.options = _OptionSet__WEBPACK_IMPORTED_MODULE_2__.OptionSet.makeDEFAULT_ORIGINAL(null);\n        this.options.set_usemodernclefs(false);\n        this.options.set_displayorigligatures(true);\n        this.options.setViewEdCommentary(false);\n        this.options.set_modacc_type(_OptionSet__WEBPACK_IMPORTED_MODULE_2__.OptionSet.OPT_MODACC_NONE);\n        this.options.set_unscoredDisplay(true);\n        this.renderedStaves = this.renderMusicIntoStaves(voiceinfo);\n    }\n    atLineend(v, evnum) {\n        while (evnum < v.getNumEvents()) {\n            let e = v.getEvent(evnum);\n            let etype = e.geteventtype();\n            if (etype == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_LINEEND)\n                return true;\n            else if (etype != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_CUSTOS && etype != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_COLORCHANGE)\n                return false;\n            evnum++;\n        }\n        return false;\n    }\n    skipLineendEvents(v, evnum, curclef) {\n        let i = evnum;\n        let lineendevnum;\n        let done = false;\n        while (!done)\n            if (v.getEvent(i++).geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_LINEEND)\n                done = true;\n        lineendevnum = ((i - 1) | 0);\n        done = i >= v.getNumEvents();\n        while (!done) {\n            let e = v.getEvent(i);\n            if (!e.hasSignatureClef_1())\n                done = true;\n            else if (e.getClefSet_2(false).contradicts_2(curclef.getClefSet_2(false), false, null))\n                done = true;\n            if (!done)\n                i++;\n        }\n        return ((i - evnum) | 0);\n    }\n    renderMusicIntoStaves(voiceInfo) {\n        let addstaff = true;\n        let bracketopen = false;\n        let endSection = false;\n        let cureventnum;\n        let renderedeventnum = 0;\n        let clefeventnum = -1;\n        let vcen = -1;\n        let eventnumadd;\n        let colorbracketleft = -1;\n        let curevent;\n        let staves = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__.ArrayList();\n        let curstaff = null;\n        let clefStaffData = null;\n        let clefVoice = null;\n        let numSections = voiceInfo.getGeneralData().getNumSections();\n        for (let si = 0; si < numSections; si++) {\n            let curSection = voiceInfo.getGeneralData().getSection(si);\n            let v = curSection.getVoice_1(((voiceInfo.getNum() - 1) | 0));\n            let doneSection = v == null || (v.getNumEvents() < 2 && !addstaff) || curSection.isEditorial();\n            if (!doneSection && voiceInfo.getGeneralData().isIncipitScore() && numSections > 1 && si == ((numSections - 1) | 0)) {\n                curstaff.addevent_1(true, _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.new1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_ELLIPSIS), _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new1(this.getClefEvents(clefStaffData, clefeventnum)));\n            }\n            cureventnum = 0;\n            while (!doneSection) {\n                eventnumadd = 1;\n                if (addstaff) {\n                    if (curstaff != null)\n                        curstaff.totalxsize = this.calcstaffxlocs(curstaff, this.STAFFXSIZE, endSection);\n                    curstaff = _StaffEventData__WEBPACK_IMPORTED_MODULE_0__.StaffEventData.new2(this.options, v.getMetaData(), curSection);\n                    staves.add(curstaff);\n                    renderedeventnum = 0;\n                    clefeventnum = -1;\n                    addstaff = false;\n                    endSection = false;\n                    if (this.printPreview && (cureventnum > 0 || si > 0)) {\n                        clefeventnum = 0;\n                        renderedeventnum += curstaff.addclefgroup(clefVoice, vcen, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new1(this.getClefEvents(clefStaffData, clefeventnum)));\n                    }\n                }\n                curevent = v.getEvent(cureventnum);\n                let etype = curevent.geteventtype();\n                if (etype == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_LINEEND && !this.printPreview)\n                    addstaff = true;\n                else if (this.printPreview && this.atLineend(v, cureventnum)) {\n                    eventnumadd = this.skipLineendEvents(v, cureventnum, clefVoice.getEvent(vcen));\n                    if (v.getEvent(((((cureventnum + eventnumadd) | 0) - 1) | 0)).geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_LINEEND) {\n                        curstaff.addevent_1(true, _DataStruct_LineEndEvent__WEBPACK_IMPORTED_MODULE_6__.LineEndEvent.new15(), _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new1(this.getClefEvents(clefStaffData, clefeventnum)));\n                        renderedeventnum++;\n                    }\n                }\n                else if (etype == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_COLORCHANGE && this.printPreview) {\n                    if ((!bracketopen) && curevent.getcolorscheme().primaryColor != _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_4__.Coloration.BLACK)\n                        colorbracketleft = renderedeventnum;\n                    else if (bracketopen && curevent.getcolorscheme().primaryColor == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_4__.Coloration.BLACK) {\n                        curstaff.getEvent(((renderedeventnum - 1) | 0)).addcolorbracket(1);\n                        bracketopen = false;\n                    }\n                }\n                else if (etype != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_PROPORTION) {\n                    if (curevent.hasPrincipalClef_1()) {\n                        clefStaffData = curstaff;\n                        clefeventnum = renderedeventnum;\n                        clefVoice = v;\n                        vcen = cureventnum;\n                    }\n                    if (etype == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_NOTE && curevent.isligated())\n                        eventnumadd = curstaff.addlig_1(v, cureventnum, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new1(this.getClefEvents(clefStaffData, clefeventnum)));\n                    else\n                        curstaff.addevent_1(true, curevent, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new1(this.getClefEvents(clefStaffData, clefeventnum)));\n                    renderedeventnum += eventnumadd;\n                }\n                if (etype != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_LINEEND)\n                    endSection = false;\n                else if (curevent.isPageEnd())\n                    endSection = true;\n                if (colorbracketleft != -1 && renderedeventnum > colorbracketleft) {\n                    curstaff.getEvent(colorbracketleft).addcolorbracket(0);\n                    colorbracketleft = -1;\n                    bracketopen = true;\n                }\n                cureventnum += eventnumadd;\n                doneSection = cureventnum >= v.getNumEvents();\n                if ((this.printPreview && !doneSection && curstaff.eventgroups.size() >= PartRenderer.DEFAULT_GROUPS_PER_STAFF && !curstaff.groupwithprevious(v.getEvent(cureventnum)) && ((v.getNumEvents() - cureventnum) | 0) >= PartRenderer.MIN_GROUPS_FROM_SECTION && !(bracketopen && v.getEvent(cureventnum).geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_COLORCHANGE) && etype != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.EVENT_CLEF) || (this.printPreview && doneSection && curstaff.eventgroups.size() > ((PartRenderer.DEFAULT_GROUPS_PER_STAFF - PartRenderer.MIN_GROUPS_FROM_SECTION) | 0)))\n                    addstaff = true;\n                if (addstaff)\n                    curstaff.addevent_1(false, _DataStruct_Event__WEBPACK_IMPORTED_MODULE_5__.Event.new0(), _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new1(this.getClefEvents(clefStaffData, clefeventnum)));\n            }\n        }\n        if (curstaff != null)\n            if (staves.size() > 1)\n                curstaff.totalxsize = this.calcstaffxlocs(curstaff, this.STAFFXSIZE, true);\n            else if (curstaff.eventgroups.size() > ((PartRenderer.DEFAULT_GROUPS_PER_STAFF - PartRenderer.MIN_GROUPS_FROM_SECTION) | 0))\n                curstaff.totalxsize = this.calcstaffxlocs(curstaff, this.STAFFXSIZE, true);\n            else\n                curstaff.totalxsize = (curstaff.padEvents_2(PartRenderer.MIN_PADDING));\n        return staves;\n    }\n    /* do finishing calculations */\n    /* initialize new blank staff */\n    /* create new clef set for non-original line breaks */\n    /*            if (etype==Event.EVENT_BARLINE)\n              endSection=true;\n            else*/\n    /* don't start a new line with a close bracket */\n    getClefEvents(clefStaffData, clefEventNum) {\n        return clefStaffData == null ? null : clefStaffData.getClefEvents(clefEventNum);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcstaffxlocs(StaffEventData events,int xsize,boolean laststaff)\nPurpose: Calculate x-locations for events on one staff (justified spacing)\nParameters:\n  Input:  StaffEventData events - events on staff\n          int xsize             - total x space to fill\n          boolean laststaff     - whether this is the last staff of the section\n  Output: -\n  Return: total space used\n------------------------------------------------------------------------*/\n    calcstaffxlocs(events, xsize, laststaff) {\n        let totaleventspace = events.calcEventSpace_2();\n        let paddingspace = (((xsize - totaleventspace) | 0)) / (events.eventgroups.size());\n        if (laststaff && paddingspace > PartRenderer.MAX_PADDING)\n            paddingspace = PartRenderer.MAX_PADDING;\n        return (events.padEvents_2(paddingspace));\n    }\n    /* calculate justification size */\n    /* set x coordinates */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getRenderedData() {\n        return this.renderedStaves;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nPartRenderer.MAX_PADDING = 13;\nPartRenderer.MIN_PADDING = 7;\n/* skip to line end */\n/* skip clef information */\n/*------------------------------------------------------------------------\nMethod:  ArrayList<RenderList> renderMusicIntoStaves(Voice voiceInfo)\nPurpose: Divide event list into staves and calculate x-locations for events\nParameters:\nInput:  Voice voiceInfo - original event information for all sections\nOutput: -\nReturn: list of structures, each containing event placement information\n      for one staff\n------------------------------------------------------------------------*/\nPartRenderer.DEFAULT_GROUPS_PER_STAFF = 35;\nPartRenderer.MIN_GROUPS_FROM_SECTION = 8;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/PartRenderer.ts?");

/***/ }),

/***/ "./src/Gfx/PartsWin.ts":
/*!*****************************!*\
  !*** ./src/Gfx/PartsWin.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IncipitView: () => (/* binding */ IncipitView),\n/* harmony export */   PartPainter: () => (/* binding */ PartPainter),\n/* harmony export */   PartsSizeParams: () => (/* binding */ PartsSizeParams),\n/* harmony export */   PartsWin: () => (/* binding */ PartsWin),\n/* harmony export */   VoicePartView: () => (/* binding */ VoicePartView)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _ViewCanvas__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ViewCanvas */ \"./src/Gfx/ViewCanvas.ts\");\n/* harmony import */ var _PartRenderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PartRenderer */ \"./src/Gfx/PartRenderer.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/imageio/ImageIO */ \"./src/javax/imageio/ImageIO.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JFileChooser */ \"./src/javax/swing/JFileChooser.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/JFrame */ \"./src/javax/swing/JFrame.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../javax/swing/JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../javax/swing/JOptionPane */ \"./src/javax/swing/JOptionPane.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n\n\n\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : PartsWin\n\n        Package         : Gfx\n\n        Classes Included: PartsWin,VoicePartView,IncipitView,PartPainter\n\n        Purpose         : Display unscored parts in original notation\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 7/8/05\n\nUpdates:\n3/27/06:  Moved unscored part renderer to separate public class\n          (PartRenderer.java)\n          Created PartPainter class to share drawing functions between different\n          classes\n          Added IncipitView, which puts all parts on one canvas\n11/13/06: No longer pre-draws parts images into buffers holding entire parts\n          (too much memory usage, and drawing on the fly is fast enough)\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*----------------------------------------------------------------------*/\n/* Imported packages */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass PartsWin extends _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_15__.JFrame {\n    constructor() {\n        super(...arguments);\n        this.mytype_ActionListener = true;\n        this.generateImageButton = null;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute values\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute values\n------------------------------------------------------------------------*/\n    static getDefaultSTAFFXSIZE() {\n        return VoicePartView.defaultSTAFFXSIZE;\n    }\n    static getDefaultSTAFFSCALE() {\n        return VoicePartView.defaultSTAFFSCALE;\n    }\n    static new0_8(p, mf, mw, pp) {\n        let _new0 = new PartsWin;\n        PartsWin.set0_8(_new0, p, mf, mw, pp);\n        return _new0;\n    }\n    static set0_8(new0, p, mf, mw, pp) {\n        new0.musicwin = mw;\n        new0.musicData = p;\n        new0.printPreview = pp;\n        new0.win_visible = false;\n        new0.setTitle(new0.musicwin.getTitle() + (new0.printPreview ? \" (print preview)\" : \" (parts layout)\"));\n        new0.setIconImage(new0.musicwin.windowIcon);\n        let contentPane = new0.getContentPane();\n        contentPane.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_14__.BoxLayout(contentPane, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_14__.BoxLayout.Y_AXIS));\n        new0.numvoices = new0.musicData.getVoiceData().length;\n        if (new0.printPreview && new0.musicData.isIncipitScore())\n            new0.layoutIncipitWindow(contentPane);\n        else\n            new0.layoutPartsPanels(contentPane);\n        new0.pack();\n        new0.setLocationRelativeTo(mw);\n        new0.addWindowListener({\n            windowClosing: (event) => {\n                new0.closewin_3();\n            }\n        });\n    }\n    static new1_8(p, mf, mw) {\n        let _new1 = new PartsWin;\n        PartsWin.set1_8(_new1, p, mf, mw);\n        return _new1;\n    }\n    static set1_8(new1, p, mf, mw) {\n        PartsWin.set0_8(new1, p, mf, mw, false);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void layoutPartsPanels(Container c)\nPurpose: Add parts displays in separate panels\nParameters:\n  Input:  Container c  - component to which to add parts display\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    layoutPartsPanels(c) {\n        let voiceAreas;\n        let voiceAreaPanes;\n        let VS = this.musicwin.optSet.getVIEWSCALE();\n        let panelSize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__.Dimension(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(830 * VS), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(200 * VS));\n        voiceAreas = Array(this.numvoices);\n        voiceAreaPanes = Array(this.numvoices);\n        this.renderedVoices = Array(this.numvoices);\n        for (let i = 0; i < this.numvoices; i++) {\n            voiceAreas[i] = new VoicePartView(this.musicData.getVoiceData()[i], this.musicwin.optSet, this.printPreview);\n            voiceAreaPanes[i] = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_18__.JScrollPane(voiceAreas[i]);\n            voiceAreaPanes[i].setPreferredSize(panelSize);\n            voiceAreaPanes[i].getViewport().setBackground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.WHITE);\n            c.add(voiceAreaPanes[i]);\n            this.renderedVoices[i] = voiceAreas[i].getRenderedData();\n        }\n    }\n    layoutIncipitWindow(c) {\n        try {\n            if (PartsWin.incipitImageFileChooser == null)\n                PartsWin.incipitImageFileChooser = new _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_13__.JFileChooser(new _java_io_File__WEBPACK_IMPORTED_MODULE_9__.File(\".\").getCanonicalPath() + \"/data/IMGout/\");\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error initializing incipit image file chooser: \" + e);\n            }\n            else\n                throw e;\n        }\n        let controlsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_12__.JPanel();\n        this.generateImageButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_16__.JButton(\"Generate image file...\");\n        this.generateImageButton.addActionListener(this);\n        controlsPanel.add(this.generateImageButton);\n        c.add(controlsPanel);\n        this.iView = new IncipitView(this.musicData, this.musicwin.optSet);\n        let iPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_18__.JScrollPane(this.iView);\n        iPane.getViewport().setBackground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.WHITE);\n        c.add(iPane);\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for actions in GUI and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.generateImageButton)\n            this.genIncipitImageFile();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void genIncipitImageFile()\nPurpose: Save incipit image to file\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    genIncipitImageFile() {\n        let defaultImgName = this.musicwin.windowFileName.replaceFirst(\"\\\\.cmme\\\\.xml\", \"-incipit.JPG\");\n        let saveFile = new _java_io_File__WEBPACK_IMPORTED_MODULE_9__.File(defaultImgName);\n        PartsWin.incipitImageFileChooser.setSelectedFile(saveFile);\n        let saveResponse = PartsWin.incipitImageFileChooser.showSaveDialog(this);\n        if (saveResponse == _javax_swing_JFileChooser__WEBPACK_IMPORTED_MODULE_13__.JFileChooser.APPROVE_OPTION)\n            try {\n                let savefile = PartsWin.incipitImageFileChooser.getSelectedFile();\n                if (savefile.exists()) {\n                    let confirm_option = _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_19__.JOptionPane.showConfirmDialog(this, \"Overwrite \" + savefile.getName() + \"?\", \"File already exists\", _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_19__.JOptionPane.YES_NO_OPTION, _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_19__.JOptionPane.WARNING_MESSAGE);\n                    if (confirm_option == _javax_swing_JOptionPane__WEBPACK_IMPORTED_MODULE_19__.JOptionPane.NO_OPTION)\n                        return;\n                }\n                let fn = savefile.getCanonicalPath();\n                if (!fn.matches(\".*\\\\.[Jj][Pp][Gg]\")) {\n                    fn = fn.concat(\".JPG\");\n                    savefile = new _java_io_File__WEBPACK_IMPORTED_MODULE_9__.File(fn);\n                }\n                _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_11__.ImageIO.write(this.iView.createBufferedImage(), \"jpg\", savefile);\n            }\n            catch (e) {\n                if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                    _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error creating \" + PartsWin.incipitImageFileChooser.getSelectedFile().getName());\n                }\n                else\n                    throw e;\n            }\n    }\n    /* overwrite existing file? */\n    /* save */\n    /*------------------------------------------------------------------------\nMethod:  void openwin()\nPurpose: Make window appear in front\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openwin_1() {\n        this.setVisible(true);\n        this.toFront();\n        this.win_visible = true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void closewin()\nPurpose: Hide window\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    closewin_3() {\n        this.win_visible = false;\n        let wl = this.getListeners(\"WindowListener\");\n        for (let i = 0; i < wl.length; i++)\n            this.removeWindowListener(wl[i]);\n        if (this.generateImageButton != null)\n            this.generateImageButton.removeActionListener(this);\n        this.dispose();\n    }\n    /* unregister listeners */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getRenderLists() {\n        return this.renderedVoices;\n    }\n}\n/*------------------------------------------------------------------------\nMethod:  void layoutIncipitWindow(Container c)\nPurpose: Add parts displays on a single canvas\nParameters:\nInput:  Container c - component to which to add parts display\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\nPartsWin.incipitImageFileChooser = null;\nclass PartsSizeParams {\n    static new0(vs, staves) {\n        let _new0 = new PartsSizeParams;\n        PartsSizeParams.set0(_new0, vs, staves);\n        return _new0;\n    }\n    static set0(new0, vs, staves) {\n        new0.VIEWSCALE = vs;\n        new0.STAFFSCALE = vs * PartsSizeParams.defaultSTAFFSCALE;\n        new0.CANVASXSIZE = vs * PartsSizeParams.defaultCANVASXSIZE;\n        new0.CANVASYSCALE = vs * PartsSizeParams.defaultCANVASYSCALE;\n        new0.XMARGIN = vs * PartsSizeParams.defaultXMARGIN;\n        new0.YMARGIN = vs * PartsSizeParams.defaultYMARGIN;\n        new0.YSTAFFSTART = vs * PartsSizeParams.defaultYSTAFFSTART;\n        new0.STAFFXSIZE = vs * PartsSizeParams.defaultSTAFFXSIZE;\n        if (staves != null && staves.size() == 1) {\n            new0.STAFFXSIZE = staves.get(0).totalxsize * vs;\n            new0.CANVASXSIZE = 2 * new0.XMARGIN + new0.STAFFXSIZE;\n        }\n        let numStaves = (staves == null) ? 0 : staves.size();\n        new0.musicGfx = _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.new1(new0.VIEWSCALE);\n        new0.canvasSize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__.Dimension(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(new0.CANVASXSIZE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(new0.YSTAFFSTART + new0.CANVASYSCALE * numStaves));\n    }\n    static new1(vs) {\n        let _new1 = new PartsSizeParams;\n        PartsSizeParams.set1(_new1, vs);\n        return _new1;\n    }\n    static set1(new1, vs) {\n        PartsSizeParams.set0(new1, vs, null);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nPartsSizeParams.defaultSTAFFSCALE = 10;\nPartsSizeParams.defaultCANVASXSIZE = 1000;\nPartsSizeParams.defaultCANVASYSCALE = ((PartsSizeParams.defaultSTAFFSCALE * 10) | 0);\n/* amount of vertical space per staff */\nPartsSizeParams.defaultXMARGIN = 20;\nPartsSizeParams.defaultYMARGIN = 20;\n/* margins of drawing space */\nPartsSizeParams.defaultYSTAFFSTART = ((PartsSizeParams.defaultYMARGIN + ((PartsSizeParams.defaultSTAFFSCALE * 3) | 0)) | 0);\n/* top margin for staff drawing */\nPartsSizeParams.defaultSTAFFXSIZE = ((PartsSizeParams.defaultCANVASXSIZE - ((PartsSizeParams.defaultXMARGIN * 2) | 0)) | 0);\nPartsSizeParams.defaultVIEWSCALE = 0.75;\n/*------------------------------------------------------------------------\nClass:   VoicePartView\nExtends: JComponent\nPurpose: Canvas for displaying one voice part in original notation\n------------------------------------------------------------------------*/\nclass VoicePartView extends _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_17__.JComponent {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VoicePartView(Voice voiceinfo,OptionSet os,boolean pp)\nPurpose:     Initialize canvas and render music\nParameters:\n  Input:  Voice voiceinfo - voice/event data\n          OptionSet os    - parent window's rendering options\n          boolean pp      - whether to use 'print preview' mode\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(voiceinfo, os, pp) {\n        super();\n        this.renderer = new _PartRenderer__WEBPACK_IMPORTED_MODULE_4__.PartRenderer(voiceinfo, VoicePartView.defaultSTAFFXSIZE, pp);\n        this.renderedStaves = this.renderer.getRenderedData();\n        this.sizeParams = PartsSizeParams.new0(PartsSizeParams.defaultVIEWSCALE * os.getVIEWSCALE(), this.renderedStaves);\n        this.painter = new PartPainter(voiceinfo, this.renderedStaves, this.sizeParams, pp);\n        this.setPreferredSize(this.sizeParams.canvasSize);\n    }\n    /* create music rendering information */\n    /* set up graphics */\n    /*------------------------------------------------------------------------\nMethod:    void paintComponent(Graphics g)\nOverrides: javax.swing.JComponent.paintComponent\nPurpose:   Repaint area\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    paintComponent(g) {\n        this.painter.draw(g, 0, 0);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getRenderedData() {\n        return this.renderedStaves;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nVoicePartView.defaultSTAFFSCALE = PartsSizeParams.defaultSTAFFSCALE;\nVoicePartView.defaultSTAFFXSIZE = PartsSizeParams.defaultSTAFFXSIZE;\n/*------------------------------------------------------------------------\nClass:   IncipitView\nExtends: JComponent\nPurpose: Canvas for displaying all incipits together\n------------------------------------------------------------------------*/\nclass IncipitView extends _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_17__.JComponent {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: IncipitView(PieceData musicData,OptionSet os)\nPurpose:     Initialize canvas and render music\nParameters:\n  Input:  PieceData musicData - event data for all voices\n          OptionSet os        - parent window's rendering options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(musicData, os) {\n        super();\n        let numVoices = musicData.getVoiceData().length;\n        let totalNumStaves = 0;\n        let cury = 0;\n        let maxx = 0;\n        this.renderedVoices = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_10__.ArrayList();\n        for (let i = 0; i < numVoices; i++) {\n            this.renderedVoices.add(new _PartRenderer__WEBPACK_IMPORTED_MODULE_4__.PartRenderer(musicData.getVoiceData()[i], PartsSizeParams.defaultSTAFFXSIZE, true).getRenderedData());\n            totalNumStaves += this.renderedVoices.get(i).size();\n        }\n        _PartRenderer__WEBPACK_IMPORTED_MODULE_4__.PartRenderer.incipitJustify(this.renderedVoices);\n        for (let i = 0; i < numVoices; i++)\n            if (this.renderedVoices.get(i).get(0).totalxsize > maxx)\n                maxx = this.renderedVoices.get(i).get(0).totalxsize;\n        let numColumns = (numVoices > 1) ? 2 : 1;\n        let numRows = _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.ceil(numVoices / 2));\n        this.sizeParams = PartsSizeParams.new1((IncipitView.defaultVIEWSCALE));\n        this.sizeParams.STAFFXSIZE = maxx * this.sizeParams.VIEWSCALE;\n        this.nameHeight = this.sizeParams.musicGfx.displayTextFontMetrics.getHeight();\n        let cs = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__.Dimension(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round((this.sizeParams.STAFFXSIZE + this.nameHeight) * numColumns + this.sizeParams.XMARGIN * (((numColumns + 2) | 0))), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round((((numRows + 1) | 0)) * this.sizeParams.YSTAFFSTART + numRows * this.sizeParams.CANVASYSCALE));\n        this.sizeParams.canvasSize = cs;\n        this.setPreferredSize(this.sizeParams.canvasSize);\n        this.painter = Array(numVoices);\n        for (let i = 0; i < numVoices; i++)\n            this.painter[i] = new PartPainter(musicData.getVoiceData()[i], this.renderedVoices.get(i), this.sizeParams, true);\n    }\n    /* render music */\n    //*os.getVIEWSCALE()));\n    /*------------------------------------------------------------------------\nMethod:  BufferedImage createBufferedImage()\nPurpose: Create image object displaying music in incipit layout\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createBufferedImage() {\n        let incImg = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_8__.BufferedImage(this.sizeParams.canvasSize.width, this.sizeParams.canvasSize.height, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_8__.BufferedImage.TYPE_INT_RGB);\n        let g = incImg.createGraphics();\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n        g.fillRect(0, 0, ((this.sizeParams.canvasSize.width + 1) | 0), ((this.sizeParams.canvasSize.height + 1) | 0));\n        this.draw(g);\n        return incImg;\n    }\n    /*------------------------------------------------------------------------\nMethod:    void paintComponent(Graphics g)\nOverrides: javax.swing.JComponent.paintComponent\nPurpose:   Repaint area\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    paintComponent(g) {\n        this.draw(g);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw(Graphics g)\nPurpose: Draw incipit into any graphical context\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw(g) {\n        for (let i = 0; i < this.painter.length; i++)\n            this.painter[i].draw(g, (i % 2) * (this.sizeParams.XMARGIN * 2 + this.nameHeight + this.sizeParams.STAFFXSIZE), this.sizeParams.YSTAFFSTART / 2 + (((i / 2) | 0)) * (this.sizeParams.YSTAFFSTART + this.sizeParams.CANVASYSCALE));\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nIncipitView.defaultVIEWSCALE = 0.8;\n/*------------------------------------------------------------------------\nClass:   PartPainter\nExtends: -\nPurpose: Paints one unscored voice part into a given graphical context\n------------------------------------------------------------------------*/\nclass PartPainter {\n    /*------------------------------------------------------------------------\nConstructor: PartPainter(Voice voiceinfo,ArrayList<RenderList> staves,\n                         PartsSizeParams psp,boolean pp)\nPurpose:     Initialize canvas and render music\nParameters:\n  Input:  Voice voiceinfo              - voice data\n          ArrayList<RenderList> staves - rendered event placement information\n          PartsSizeParams psp          - size/spacing/font information\n          boolean pp                   - whether to use 'print preview' mode\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(voiceinfo, staves, psp, pp) {\n        this.voiceinfo = voiceinfo;\n        this.staves = staves;\n        this.sizeParams = psp;\n        this.printPreview = pp;\n        this.incipitScore = voiceinfo.getGeneralData().isIncipitScore();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw(Graphics g)\nPurpose: Draw area\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw(g1d, startX, startY) {\n        let g = g1d;\n        let bounds = g.getClipBounds();\n        let XMARGIN = this.sizeParams.XMARGIN;\n        if (this.printPreview) {\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n            g.setFont(this.sizeParams.musicGfx.displayTextFont);\n            let vn = this.voiceinfo.getName();\n            let fmetrics = this.sizeParams.musicGfx.displayTextFontMetrics;\n            let xs = fmetrics.stringWidth(vn);\n            let ys = fmetrics.getHeight();\n            XMARGIN += ys;\n            let saveTransform = g.getTransform();\n            g.rotate(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.toRadians(-90));\n            g.drawString(vn, 0 - startY - this.sizeParams.YSTAFFSTART - this.sizeParams.STAFFSCALE * 2 - xs / 2, startX + XMARGIN - ys / 2);\n            g.setTransform(saveTransform);\n        }\n        else {\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.red);\n            g.setFont(this.sizeParams.musicGfx.displayTextLargeFont);\n            g.drawString(this.voiceinfo.getName(), startX + XMARGIN, startY + this.sizeParams.YMARGIN);\n        }\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        let cury = startY + this.sizeParams.YSTAFFSTART;\n        for (let i = this.staves.iterator(); i.hasNext();) {\n            let curstaff = i.next();\n            this.drawStaff_1(g, startX + XMARGIN, cury, 5, curstaff.totalxsize * this.sizeParams.VIEWSCALE);\n            for (let ei = 0; ei < curstaff.size(); ei++) {\n                let e = curstaff.getEvent(ei);\n                if (e.isdisplayed()) {\n                    e.draw_2(g, this.sizeParams.musicGfx, null, startX + XMARGIN + e.getxloc() * this.sizeParams.VIEWSCALE, cury, this.sizeParams.VIEWSCALE);\n                    if (e.getEvent_1().hasEventType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_20__.Event.EVENT_NOTE)) {\n                        let ne = (e.getEvent_1().getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_20__.Event.EVENT_NOTE));\n                        if (ne.getTieType() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_21__.NoteEvent.TIE_NONE) {\n                            let x1 = startX + XMARGIN + e.getxloc() * this.sizeParams.VIEWSCALE;\n                            let x2 = x1 + (_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.CONNECTION_SCREEN_LIG_RECTA) * this.sizeParams.VIEWSCALE;\n                            let e2i = curstaff.getNextEventWithType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_20__.Event.EVENT_NOTE, ((ei + 1) | 0), 1);\n                            if (e2i != -1)\n                                x2 = startX + XMARGIN + curstaff.getEvent(e2i).getxloc() * this.sizeParams.VIEWSCALE;\n                            _ViewCanvas__WEBPACK_IMPORTED_MODULE_3__.ViewCanvas.drawTieOnCanvas_1(g, ne.getTieType(), x1, x2, _ViewCanvas__WEBPACK_IMPORTED_MODULE_3__.ViewCanvas.calcTieY_1(e, cury, (this.sizeParams.STAFFSCALE / this.sizeParams.VIEWSCALE), (this.sizeParams.STAFFSCALE / (2 * this.sizeParams.VIEWSCALE)), this.sizeParams.VIEWSCALE), startX, startX + this.sizeParams.STAFFXSIZE, this.sizeParams.VIEWSCALE);\n                        }\n                    }\n                }\n            }\n            cury += this.sizeParams.CANVASYSCALE;\n        }\n    }\n    /* initialize drawing context */\n    // g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON); //CHANGE\n    /* write voice information */\n    /* print voice name sideways at left */\n    /* draw music */\n    /* tie */\n    /*------------------------------------------------------------------------\nMethod:  void drawStaff(Graphics g,float xloc,float yloc,int numlines,float xsize)\nPurpose: Draw staff at specified location\nParameters:\n  Input:  Graphics g      - graphical context\n          float xloc,yloc - location for top/left of staff\n          int numlines    - number of lines for staff\n          float xsize     - width of staff\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawStaff_1(g, xloc, yloc, numlines, xsize) {\n        if (xsize > this.sizeParams.STAFFXSIZE - 10 && xsize < this.sizeParams.STAFFXSIZE)\n            xsize = this.sizeParams.STAFFXSIZE;\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        for (let i = 0; i < numlines; i++)\n            g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(xloc), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(yloc + i * this.sizeParams.STAFFSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(xloc + xsize - 1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(yloc + i * this.sizeParams.STAFFSCALE));\n        if (this.printPreview && this.incipitScore && this.voiceinfo.hasFinalisSection())\n            g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(xloc + xsize - 1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(yloc), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(xloc + xsize - 1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.round(yloc + (((numlines - 1) | 0)) * this.sizeParams.STAFFSCALE));\n    }\n    /* ending barline */\n    drawStaff_2(g, xloc, yloc, numlines) {\n        this.drawStaff_1(g, xloc, yloc, numlines, this.sizeParams.STAFFXSIZE);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/PartsWin.ts?");

/***/ }),

/***/ "./src/Gfx/RenderList.ts":
/*!*******************************!*\
  !*** ./src/Gfx/RenderList.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderList: () => (/* binding */ RenderList)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _RenderedEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RenderedEvent */ \"./src/Gfx/RenderedEvent.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DataStruct/ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _DataStruct_VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DataStruct/VariantMarkerEvent */ \"./src/DataStruct/VariantMarkerEvent.ts\");\n\n\n\n\n\n\n\n\nclass RenderList extends _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__.ArrayList {\n    constructor() {\n        super(...arguments);\n        /*----------------------------------------------------------------------*/\n        /* Instance variables */\n        this.totalxsize = 0;\n    }\n    static new0_2(o, v, section) {\n        let _new0 = new RenderList;\n        RenderList.set0_2(_new0, o, v, section);\n        return _new0;\n    }\n    static set0_2(new0, o, v, section) {\n        new0.options = o;\n        new0.voicedata = v;\n        new0.voiceEventData = v == null ? null : section.getVoice_1(((v.getNum() - 1) | 0));\n        new0.section = section;\n    }\n    static new1_2(v, section) {\n        let _new1 = new RenderList;\n        RenderList.set1_2(_new1, v, section);\n        return _new1;\n    }\n    static set1_2(new1, v, section) {\n        new1.options = _OptionSet__WEBPACK_IMPORTED_MODULE_2__.OptionSet.makeDEFAULT_ORIGINAL(null);\n        new1.voicedata = v;\n        new1.section = section;\n    }\n    /*------------------------------------------------------------------------\nMethod:  RenderedEvent addevent(boolean display,Event e,RenderParams rp)\nPurpose: Add event to list\nParameters:\n  Input:  boolean display - whether to display event\n          Event e         - event\n          RenderParams rp - musical parameters at this score location\n  Output: -\n  Return: new event\n------------------------------------------------------------------------*/\n    addevent_1(display, e, rp) {\n        let newe = new _RenderedEvent__WEBPACK_IMPORTED_MODULE_1__.RenderedEvent(display, e, rp, this.options);\n        this.add(newe);\n        return newe;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int addlig(VoiceEventListData v,int firstevnum,RenderParams rp[,boolean varDisplay])\nPurpose: Add ligature to list\nParameters:\n  Input:  VoiceEventListData v - event list\n          int evnum            - event list index of first note\n          RenderParams rp      - musical parameters at this score location\n          boolean varDisplay   - whether to stop at variant border\n  Output: -\n  Return: number of events in ligature\n------------------------------------------------------------------------*/\n    /* find next event in RenderList representing a NoteEvent */\n    findnextnoteevent(i) {\n        for (; i < this.size(); i++)\n            if (this.getEvent(i).getEvent_1().hasEventType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_NOTE))\n                return this.getEvent(i);\n        return null;\n    }\n    addlig_1(v, evnum, rp) {\n        return this.addlig_2(v, evnum, rp, false);\n    }\n    addlig_2(v, evnum, rp, varDisplay) {\n        let e = v.getEvent(evnum);\n        let ne = e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_NOTE);\n        let newe;\n        let numeventsinlig = 0;\n        if (!ne.isligated()) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"!! ligature rendering error: attempting to render unligated note as ligature\");\n            ne.prettyprint_1();\n        }\n        let done = false;\n        while (!done) {\n            newe = new _RenderedEvent__WEBPACK_IMPORTED_MODULE_1__.RenderedEvent(true, e, rp, this.options);\n            this.add(newe);\n            numeventsinlig++;\n            ne = e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_NOTE);\n            if (ne != null && !ne.isligated())\n                done = true;\n            e = v.getEvent(++evnum);\n            if (e == null || (varDisplay && e instanceof _DataStruct_VariantMarkerEvent__WEBPACK_IMPORTED_MODULE_7__.VariantMarkerEvent))\n                done = true;\n        }\n        let curligre;\n        let lastne = null;\n        let nextne = null;\n        let cure;\n        for (let i = ((this.size() - numeventsinlig) | 0); i < this.size(); i++) {\n            curligre = this.getEvent(i);\n            cure = curligre.getEvent_1();\n            ne = cure.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_NOTE);\n            if (ne != null) {\n                if (ne.isligated())\n                    nextne = this.findnextnoteevent(((i + 1) | 0));\n                curligre.renderaslig(lastne, nextne);\n                lastne = curligre;\n            }\n        }\n        return numeventsinlig;\n    }\n    //        System.err.println(\"listplace=\"+e.getListPlace(v.isDefaultVersion())+\" evnum=\"+evnum);\n    //    if (e==null)\n    //      return 0;\n    /* now that ligature events have been rendered, redraw as ligature */\n    /*------------------------------------------------------------------------\nMethod:  float drawclefset(int starti,boolean princOnly,\n                           java.awt.Graphics2D g,MusicFont mf,\n                           java.awt.image.ImageObserver ImO,\n                           float xl,float yl,float VIEWSCALE)\nPurpose: Draws multi-clef into given graphical context\nParameters:\n  Input:  int starti        - index of first clef event\n          boolean princOnly - whether to draw just principal clefs\n          Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          float xl,yl       - location in context to draw event\n          float VIEWSCALE   - scaling factor\n  Output: -\n  Return: x size of total clef set\n------------------------------------------------------------------------*/\n    /*\n  public float drawclefset(int starti,boolean princOnly,\n                           java.awt.Graphics2D g,MusicFont mf,\n                           java.awt.image.ImageObserver ImO,\n                           float xl,float yl,float VIEWSCALE)\n  {\n    float         origxl=xl;\n    int           i=starti;\n    RenderedEvent re=getEvent(i);\n    Event         ce;\n    ClefSet       origcs;\n\n    if (re==null)\n      return 0;\n    ce=re.getEvent();\n    origcs=ce.getClefSet(options.get_usemodernclefs());\n    boolean done=!ce.hasSignatureClef();\n\n     combine multiple clef events into a single display set\n    if (starti>0 && origcs.getprincipalclef().isprincipalclef() && !ce.hasPrincipalClef())\n      xl+=drawclefset(getEvent(starti-1).getClefEventNum(),princOnly,g,mf,ImO,xl,yl,VIEWSCALE);\n\n    while (!done)\n      {\n        if ((!princOnly) || ce.hasPrincipalClef())\n          xl+=re.drawClefs(g,mf,ImO,xl,yl,VIEWSCALE);\n\n        re=getEvent(++i);\n        if (re!=null)\n          {\n            ce=re.getEvent();\n            done=ce.getClefSet(options.get_usemodernclefs())!=origcs;\n          }\n        else\n          done=true;\n      }\n    return xl-origxl;\n  }*/\n    /*------------------------------------------------------------------------\nMethod:  float drawclefset(int starti,PDFCreator outp,float xl,float yl)\nPurpose: Draws multi-clef into PDF\nParameters:\n  Input:  int starti        - index of first clef event\n          PDFCreator outp   - PDF-writing object\n          PdfContentByte cb - PDF graphical context\n          float xl,yl       - location in context to draw event\n  Output: -\n  Return: x size of total clef set\n------------------------------------------------------------------------*/\n    /*\n  public float drawclefset(int starti,PDFCreator outp,PdfContentByte cb,float xl,float yl)\n  {\n    float         origxl=xl;\n    int           i=starti;\n    RenderedEvent re=getEvent(i);\n    Event         ce;\n    ClefSet       origcs;\n\n    if (re==null)\n      return 0;\n    ce=re.getEvent();\n    origcs=ce.getClefSet(options.get_usemodernclefs());\n    boolean done=!ce.hasSignatureClef();\n\n     combine multiple clef events into a single display set\n    if (starti>0 && origcs.getprincipalclef().isprincipalclef() && !ce.hasPrincipalClef())\n      xl+=drawclefset(getEvent(starti-1).getClefEventNum(),outp,cb,xl,yl);\n\n    while (!done)\n      {\n        xl+=re.drawClefs(outp,cb,xl,yl);\n\n        re=getEvent(++i);\n        if (re!=null)\n          {\n            ce=re.getEvent();\n            done=ce.getClefSet(options.get_usemodernclefs())!=origcs;\n          }\n        else\n          done=true;\n      }\n    return xl-origxl;\n  }\n*/\n    /*------------------------------------------------------------------------\nMethod:  float getclefsetsize(int starti)\nPurpose: Calculate x size of multi-clef (without drawing)\nParameters:\n  Input:  int starti - index of first clef event\n  Output: -\n  Return: x size of total clef set\n------------------------------------------------------------------------*/\n    /*\n  public float getclefsetsize(int starti)\n  {\n    float         totalxsize=0;\n    int           i=starti;\n    RenderedEvent re=getEvent(i);\n    Event         ce;\n    ClefSet       origcs;\n\n    if (re==null)\n      return 0;\n    ce=re.getEvent();\n    origcs=ce.getClefSet(options.get_usemodernclefs());\n    boolean done=!ce.hasSignatureClef();\n\n     combine multiple clef events into a single display set\n    if (starti>0 && origcs.getprincipalclef().isprincipalclef() && !ce.hasPrincipalClef())\n      totalxsize+=getclefsetsize(getEvent(starti-1).getClefEventNum());\n\n    while (!done)\n      {\n        totalxsize+=re.getClefImgXSize();\n\n        re=getEvent(++i);\n        if (re!=null)\n          {\n            ce=re.getEvent();\n            done=ce.getClefSet(options.get_usemodernclefs())!=origcs;\n          }\n        else\n          done=true;\n      }\n    return totalxsize;\n  }*/\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getSection() {\n        return this.section;\n    }\n    getVoiceData() {\n        return this.voicedata;\n    }\n    getVoiceEventData() {\n        return this.voiceEventData;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*(int i)\nPurpose: Routines to return rendering parameters at particular list locations\nParameters:\n  Input:  int i - list index to check\n  Output: -\n  Return: parameters (events/structures)\n------------------------------------------------------------------------*/\n    getEvent(i) {\n        if (i >= 0 && i < this.size())\n            return this.get(i);\n        else\n            return null;\n    }\n    getClefEvents(i) {\n        if (i < 0)\n            return null;\n        else if (i < this.size())\n            return this.getEvent(i).getClefEvents();\n        else if (this.size() > 0)\n            return this.getEvent(((this.size() - 1) | 0)).getClefEvents();\n        else\n            return null;\n    }\n    getMensEvent(i) {\n        if (i < 0)\n            return null;\n        if (i < this.size())\n            return this.getEvent(i).getMensEvent();\n        else if (this.size() > 0)\n            return this.getEvent(((this.size() - 1) | 0)).getMensEvent();\n        else\n            return null;\n    }\n    getColoration(i) {\n        if (i < 0)\n            return this.section.getBaseColoration();\n        if (i < this.size())\n            return this.getEvent(i).getColoration();\n        else if (this.size() > 0)\n            return this.getEvent(((this.size() - 1) | 0)).getColoration();\n        else\n            return null;\n    }\n    getProportion(i) {\n        if (i < 0)\n            return _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_6__.Proportion.EQUALITY;\n        if (i < this.size())\n            return this.getEvent(i).getProportion();\n        else if (this.size() > 0)\n            return this.getEvent(((this.size() - 1) | 0)).getProportion();\n        else\n            return null;\n    }\n    getModernKeySig(i) {\n        if (i < 0)\n            return _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_5__.ModernKeySignature.DEFAULT_SIG;\n        if (i < this.size())\n            return this.getEvent(i).getModernKeySig();\n        else if (this.size() > 0)\n            return this.getEvent(((this.size() - 1) | 0)).getModernKeySig();\n        else\n            return null;\n    }\n    getOptions() {\n        return this.options;\n    }\n    inEditorialSection(i) {\n        if (i < 0)\n            return false;\n        if (i < this.size())\n            return this.getEvent(i).inEditorialSection();\n        else if (this.size() > 0)\n            return this.getEvent(((this.size() - 1) | 0)).inEditorialSection();\n        else\n            return false;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderList.ts?");

/***/ }),

/***/ "./src/Gfx/RenderParams.ts":
/*!*********************************!*\
  !*** ./src/Gfx/RenderParams.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderParams: () => (/* binding */ RenderParams)\n/* harmony export */ });\nclass RenderParams {\n    static new0(mnum, ce, le, me, p, cc, ies, miv, li, el, tieInfo, smc, varReadingInfo) {\n        let _new0 = new RenderParams;\n        RenderParams.set0(_new0, mnum, ce, le, me, p, cc, ies, miv, li, el, tieInfo, smc, varReadingInfo);\n        return _new0;\n    }\n    static set0(new0, mnum, ce, le, me, p, cc, ies, miv, li, el, tieInfo, smc, varReadingInfo) {\n        new0.measurenum = mnum;\n        new0.clefEvents = ce;\n        new0.lastEvent = le;\n        new0.mensEvent = me;\n        new0.curProportion = p;\n        new0.curColoration = cc;\n        new0.inEditorialSection = ies;\n        new0.missingInVersion = miv;\n        new0.ligInfo = li;\n        new0.endlig = el;\n        new0.tieInfo = tieInfo;\n        new0.doubleTied = false;\n        new0.inMultiEvent = false;\n        new0.suggestedModernClef = smc;\n        new0.varReadingInfo = varReadingInfo;\n    }\n    static new1(ce) {\n        let _new1 = new RenderParams;\n        RenderParams.set1(_new1, ce);\n        return _new1;\n    }\n    static set1(new1, ce) {\n        new1.clefEvents = ce;\n        new1.measurenum = -1;\n        new1.lastEvent = null;\n        new1.mensEvent = null;\n        new1.curProportion = null;\n        new1.curColoration = null;\n        new1.inEditorialSection = false;\n        new1.inMultiEvent = false;\n        new1.missingInVersion = false;\n        new1.ligInfo = null;\n        new1.endlig = false;\n        new1.tieInfo = null;\n        new1.doubleTied = false;\n        new1.suggestedModernClef = null;\n        new1.varReadingInfo = null;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderParams.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedClefSet.ts":
/*!************************************!*\
  !*** ./src/Gfx/RenderedClefSet.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedClefSet: () => (/* binding */ RenderedClefSet)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n\n\nclass RenderedClefSet extends _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_1__.LinkedList {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: RenderedClefSet(RenderedClefSet lastRCS,RenderedEvent ce,boolean modClefs,Clef smc)\nPurpose:     Initialize clef set\nParameters:\n  Input:  RenderedClefSet lastRCS - clef set preceding the new clef event\n          RenderedEvent           - new clef event in list\n          boolean modClefs        - use modern clef sets?\n          Clef smc                - suggested modern clef\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(lastRCS, ce, modClefs, smc) {\n        super();\n        if (lastRCS == null || ce.getEvent_1().hasPrincipalClef_1())\n            this.add(ce);\n        else {\n            this.addAll(lastRCS);\n            let lastCS = lastRCS.getLastClefSet(modClefs);\n            let thisCS = ce.getEvent_1().getClefSet_2(modClefs);\n            if (lastCS == thisCS || thisCS.contradicts_2(lastCS, modClefs, smc))\n                this.add(ce);\n        }\n    }\n    /* create clef set, combining with last valid clef set if necessary */\n    /* new clef set */\n    /* combine with last set */\n    /*------------------------------------------------------------------------\nMethod:  double draw(boolean princOnly,\n                     java.awt.Graphics2D g,MusicFont mf,\n                     double xl,double yl,double VIEWSCALE)\nPurpose: Draws this clef set into a given graphical context\nParameters:\n  Input:  boolean princOnly - whether to draw only principal clefs\n          Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          double xl,yl      - location in context to draw event\n          double VIEWSCALE  - scaling factor\n  Output: -\n  Return: amount of x-space used\n------------------------------------------------------------------------*/\n    draw_1(princOnly, g, mf, xl, yl, VIEWSCALE) {\n        let origxl = xl;\n        for (let re of this)\n            if ((!princOnly) || re.getEvent_1().hasPrincipalClef_1())\n                xl += re.drawClefs_1(g, mf, null, xl, yl, VIEWSCALE);\n        return xl - origxl;\n    }\n    /*------------------------------------------------------------------------\nMethod:  float drawClefs(PDFCreator outp,PdfContentByte cb,float xl,float yl)\nPurpose: Draws this clef set into PDF\nParameters:\n  Input:  PDFCreator outp   - PDF-writing object\n          PdfContentByte cb - PDF graphical context\n          float xl,yl       - location in context to draw event\n  Output: -\n  Return: amount of x-space used\n------------------------------------------------------------------------*/\n    draw_2(princOnly, outp, cb, xl, yl) {\n        let origxl = xl;\n        for (let re of this)\n            if ((!princOnly) || re.getEvent_1().hasPrincipalClef_1())\n                xl += re.drawClefs_2(outp, cb, xl, yl);\n        return xl - origxl;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getPrincipalClefEvent() {\n        return this.get(0);\n    }\n    getLastClefEvent() {\n        return this.getLast();\n    }\n    getLastClefSet(modClefs) {\n        return this.getLastClefEvent().getEvent_1().getClefSet_2(modClefs);\n    }\n    getXSize() {\n        let xsize = 0;\n        for (let re of this)\n            xsize += re.getClefImgXSize();\n        return xsize;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this clef set\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint_3() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(this);\n    }\n    toString() {\n        let strVal = \"RenderedClefSet: [ \";\n        for (let re of this)\n            strVal += re.getEvent_1() + \" \";\n        strVal += \"]\";\n        return strVal;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedClefSet.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedEvent.ts":
/*!**********************************!*\
  !*** ./src/Gfx/RenderedEvent.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedEvent: () => (/* binding */ RenderedEvent)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _java_lang_Character__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Character */ \"./src/java/lang/Character.ts\");\n/* harmony import */ var _RenderedClefSet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RenderedClefSet */ \"./src/Gfx/RenderedClefSet.ts\");\n/* harmony import */ var _PDFCreator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PDFCreator */ \"./src/Gfx/PDFCreator.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _EventStringImg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./EventStringImg */ \"./src/Gfx/EventStringImg.ts\");\n/* harmony import */ var _EventShapeImg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./EventShapeImg */ \"./src/Gfx/EventShapeImg.ts\");\n/* harmony import */ var _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./EventGlyphImg */ \"./src/Gfx/EventGlyphImg.ts\");\n/* harmony import */ var _java_awt_geom_Rectangle2D__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../java/awt/geom/Rectangle2D */ \"./src/java/awt/geom/Rectangle2D.ts\");\n/* harmony import */ var _java_awt_geom_Line2D__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../java/awt/geom/Line2D */ \"./src/java/awt/geom/Line2D.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _java_awt_Polygon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../java/awt/Polygon */ \"./src/java/awt/Polygon.ts\");\n/* harmony import */ var _java_awt_Font__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../java/awt/Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DataStruct/ModernAccidental */ \"./src/DataStruct/ModernAccidental.ts\");\n/* harmony import */ var _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../DataStruct/ModernKeySignature */ \"./src/DataStruct/ModernKeySignature.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../DataStruct/Signum */ \"./src/DataStruct/Signum.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass RenderedEvent {\n    /* index of last dot or other event\n                                             immediately following/attached */\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: RenderedEvent(boolean d,Event ev,RenderParams rp,OptionSet op)\nPurpose:     Initialize event\nParameters:\n  Input:  boolean d         - whether to display event\n          Event ev          - event\n          RenderParams rp   - musical parameters at this score location\n          OptionSet op      - drawing/rendering options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(d, ev, rp, op) {\n        this.e = ev;\n        this.options = op;\n        this.display = d;\n        this.musicparams = rp;\n        this.ligEnd = this.musicparams.endlig;\n        this.attachedEventIndex = -1;\n        this.modernNoteShapes = this.options.useModernNoteShapes();\n        this.musicLength = ev.getmusictime() != null ? _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_23__.Proportion.new1(ev.getmusictime()) : null;\n        this.multiEventList = null;\n        if (this.e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT) {\n            let savedCS = this.musicparams.clefEvents;\n            this.imgs = null;\n            this.imgxsize = (this.imgXSizeWithoutText = 0);\n            this.multiEventList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_13__.LinkedList();\n            this.musicparams.inMultiEvent = true;\n            for (let i = this.e.iterator_2(); i.hasNext();) {\n                let re = new RenderedEvent(d, i.next(), this.musicparams, op);\n                this.multiEventList.add(re);\n                if (re.imgxsize > this.imgxsize)\n                    this.imgxsize = re.imgxsize;\n                if (re.imgXSizeWithoutText > this.imgXSizeWithoutText)\n                    this.imgXSizeWithoutText = re.imgXSizeWithoutText;\n            }\n            this.musicparams.clefEvents = savedCS;\n        }\n        if (ev.hasSignatureClef_1())\n            this.musicparams.clefEvents = new _RenderedClefSet__WEBPACK_IMPORTED_MODULE_3__.RenderedClefSet(this.musicparams.clefEvents, this, this.options.get_usemodernclefs(), this.musicparams.suggestedModernClef);\n        if (ev.getMensInfo_1() != null)\n            this.musicparams.mensEvent = this;\n        this.clefset = this.musicparams.clefEvents != null ? this.musicparams.clefEvents.getLastClefEvent().getEvent_1().getClefSet_2(op.get_usemodernclefs()) : null;\n        if (this.options.get_usemodernclefs() && this.musicparams.suggestedModernClef != null)\n            this.princlef = this.musicparams.suggestedModernClef;\n        else\n            this.princlef = this.musicparams.clefEvents != null ? this.clefset.getprincipalclef() : null;\n        this.imgcolor = this.e.isEditorial() || this.e.displayAsEditorial() ? _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GRAY : this.e.getcolor_1();\n        this.accidental = null;\n        if (this.multiEventList == null)\n            this.initImages();\n    }\n    /* initialize event data */\n    /* restore params modified by individual events in multi-event */\n    /*------------------------------------------------------------------------\nMethod:  void initImages()\nPurpose: Create image set for drawing event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initImages() {\n        let STAFFPOSSCALE = ((this.options.getSTAFFSCALE() / 2) | 0);\n        let VIEWSCALE = this.options.getVIEWSCALE();\n        let curxoff = 0;\n        let UNSCALEDxoff = 0;\n        let curImg;\n        this.imgs = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        let xoff = 0;\n        let vme;\n        let c;\n        switch (this.e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF:\n                {\n                    c = this.e.getClef_1(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem());\n                    if (c.isprincipalclef() && this.options.get_usemodernclefs() && this.musicparams.suggestedModernClef != null)\n                        c = this.musicparams.suggestedModernClef;\n                    if (c.cleftype == _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_NONE)\n                        break;\n                    this.ssnum = c.getypos(this.princlef);\n                    this.addLedgerLineImages();\n                    curImg = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + c.cleftype) | 0), this.ssnum, curxoff, ((STAFFPOSSCALE * this.ssnum) | 0), UNSCALEDxoff, 0, this.imgcolor);\n                    this.imgs.add(curImg);\n                    if (this.options.get_displayedittags() && c.issignatureclef() && !c.isprincipalclef()) {\n                        let sigMarkerPos = this.ssnum > 4 ? ((this.ssnum + 6) | 0) : 10;\n                        this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\" S\", sigMarkerPos, curxoff, (((((sigMarkerPos - 9) | 0)) * STAFFPOSSCALE) | 0), UNSCALEDxoff, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GRAY, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_SMALLFONTSIZE));\n                    }\n                    curxoff += curImg.xsize;\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MENS:\n                {\n                    let mense = this.e;\n                    let ei;\n                    let curssnum = mense.getStaffLoc();\n                    let smallMens = mense.small();\n                    if (this.modernNoteShapes && !this.e.isEditorial() && !this.musicparams.inMultiEvent) {\n                        curssnum = 4;\n                        smallMens = false;\n                    }\n                    for (let mei = mense.iterator_1(); mei.hasNext();) {\n                        let curSign = mei.next();\n                        switch (curSign.signType) {\n                            case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_19__.MensSignElement.NO_SIGN:\n                                {\n                                    break;\n                                }\n                            case _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_19__.MensSignElement.NUMBERS:\n                                {\n                                    this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(`${curSign.number.i1}`, ((curssnum - 1) | 0), curxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MENSNUMBERX, ((((((((STAFFPOSSCALE * (((curssnum - 1) | 0))) | 0) - ((this.options.getSTAFFSCALE() * 4) | 0)) | 0) - 1) | 0) + (smallMens ? 0 : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MENSNUMBERY)) | 0), UNSCALEDxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MENSNUMBERX, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MENSNUMBERY, this.imgcolor, smallMens ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_FONTSIZE : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_LARGEFONTSIZE));\n                                    if (mense.vertical())\n                                        curssnum -= 2;\n                                    else {\n                                        curxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MENSNUMBERX;\n                                        UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MENSNUMBERX;\n                                    }\n                                    break;\n                                }\n                            default:\n                                {\n                                    let picnum;\n                                    let picoffset = smallMens ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_OFFSETSMALL : 0;\n                                    if (curSign.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_19__.MensSignElement.MENS_SIGN_O)\n                                        picnum = ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_O + picoffset) | 0);\n                                    else if (curSign.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_19__.MensSignElement.MENS_SIGN_C)\n                                        picnum = ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_C + picoffset) | 0);\n                                    else if (curSign.signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_19__.MensSignElement.MENS_SIGN_CREV)\n                                        picnum = ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_CREV + picoffset) | 0);\n                                    else\n                                        picnum = ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_NONE + picoffset) | 0);\n                                    this.imgs.add(ei = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENSSTART + picnum) | 0), curssnum, curxoff, ((STAFFPOSSCALE * curssnum) | 0), UNSCALEDxoff, 0, this.imgcolor));\n                                    if (curSign.stroke)\n                                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENSSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_STROKE) | 0) + picoffset) | 0), curssnum, curxoff, ei.yoff, UNSCALEDxoff, 0, this.imgcolor));\n                                    if (curSign.dotted)\n                                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENSSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MENS_DOT) | 0) + picoffset) | 0), curssnum, curxoff, ei.yoff, UNSCALEDxoff, 0, this.imgcolor));\n                                    if (mense.vertical())\n                                        curssnum -= smallMens ? 2 : 4;\n                                    else {\n                                        curxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MENSSIGNX * (smallMens ? 0.5 : 1);\n                                        UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MENSSIGNX * (smallMens ? 0.5 : 1);\n                                    }\n                                }\n                        }\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE:\n                {\n                    let ne = this.e;\n                    let yoff;\n                    this.ssnum = ne.getPitch_1().calcypos(this.princlef);\n                    this.addLedgerLineImages();\n                    let notetype = ne.getnotetype_1();\n                    let stemdir = -1;\n                    let stemPicOffset = 0;\n                    if (ne.hasStem()) {\n                        stemdir = this.calcStemDir(ne, this.modernNoteShapes || this.options.get_usemodernclefs());\n                        if (stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_DOWN)\n                            stemPicOffset = this.modernNoteShapes ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODNOTE_OFFSET_STEMDOWN : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NOTE_OFFSET_STEMDOWN;\n                        else if (stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP)\n                            stemPicOffset = this.modernNoteShapes ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODNOTE_OFFSET_STEMUP : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NOTE_OFFSET_STEMUP;\n                    }\n                    let noteheadImg = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NOTESTART + ne.getnoteheadstyle()) | 0) + stemPicOffset) | 0), this.ssnum, xoff = 0, yoff = ((STAFFPOSSCALE * this.ssnum) | 0), 0, 0, this.imgcolor);\n                    this.imgs.add(noteheadImg);\n                    this.imgxsize = noteheadImg.xsize;\n                    this.UNSCALEDMainXSize = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultPrintGlyphWidth(_java_lang_Character__WEBPACK_IMPORTED_MODULE_2__.Character.codePointAt(noteheadImg.imgnum, 0));\n                    let origxoff = xoff;\n                    let origyoff = yoff;\n                    let UNSCALEDyoff = 0;\n                    UNSCALEDxoff = 0;\n                    if (stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_BARLINE)\n                        this.imgs.add(_EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_geom_Line2D__WEBPACK_IMPORTED_MODULE_11__.Line2D.Float((xoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_STEMX), (((0 - STAFFPOSSCALE) | 0)), (xoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_STEMX), (this.options.getSTAFFSCALE() * 4.5)), [(UNSCALEDxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_STEMX), (UNSCALEDxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_STEMX)], [0, 0], this.imgcolor, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.VOID, 8, 0, 1));\n                    if (ne.isflagged_1() || notetype == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NT_Semifusa || notetype == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NT_Fusa) {\n                        if (!this.modernNoteShapes) {\n                            xoff += 1.2;\n                            UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SB_UPSTEMX;\n                        }\n                        else {\n                            xoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODFLAGX;\n                            UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODFLAGX;\n                        }\n                        let flagpic;\n                        if (stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP) {\n                            UNSCALEDyoff += this.modernNoteShapes ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_STEM_UPMODFLAGY : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_STEM_UPFLAGY;\n                            flagpic = this.modernNoteShapes ? ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODNOTESTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODNOTE_OFFSET_FLAGUP) | 0) : ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_FLAGUP) | 0);\n                        }\n                        else {\n                            UNSCALEDyoff += this.modernNoteShapes ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_STEM_DOWNMODFLAGY : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_STEM_DOWNFLAGY;\n                            flagpic = this.modernNoteShapes ? ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODNOTESTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODNOTE_OFFSET_FLAGDOWN) | 0) : ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_FLAGDOWN) | 0);\n                        }\n                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(flagpic, this.ssnum, xoff, yoff, UNSCALEDxoff, UNSCALEDyoff, this.imgcolor));\n                        let numFlags = ne.getNumFlags();\n                        let numFlagsLeft;\n                        let yincrdir = stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP ? -1 : 1;\n                        if (notetype == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NT_Semifusa)\n                            numFlagsLeft = 1;\n                        else if (numFlags > 0)\n                            numFlagsLeft = ((numFlags - 1) | 0);\n                        else\n                            numFlagsLeft = 0;\n                        while (--numFlagsLeft >= 0) {\n                            UNSCALEDyoff += yincrdir * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_FLAGINTERVAL;\n                            yoff += yincrdir * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_FLAGINTERVAL;\n                            this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(flagpic, this.ssnum, xoff, yoff, UNSCALEDxoff, UNSCALEDyoff, this.imgcolor));\n                        }\n                    }\n                    this.addNoteOptionImages(ne, origxoff, origyoff, this.ssnum, stemdir);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_REST:\n                {\n                    let re = this.e;\n                    let numSets = re.getNumSets();\n                    let bottomLine = re.getbottomline_1(this.options.get_usemodernclefs());\n                    this.ssnum = ((2 * (((bottomLine - 1) | 0))) | 0);\n                    let RIMGBASE = this.modernNoteShapes ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MODRESTSTART : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_RESTSTART;\n                    this.addLedgerLineImages();\n                    xoff = 0;\n                    UNSCALEDxoff = 0;\n                    let curi;\n                    for (let ri = 0; ri < numSets; ri++) {\n                        this.imgs.add(curi = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((RIMGBASE + re.getnotetype_1()) | 0), this.ssnum, xoff, ((STAFFPOSSCALE * this.ssnum) | 0), UNSCALEDxoff, 0, this.imgcolor));\n                        for (let i = 1; i < re.getnumlines(); i++)\n                            this.imgs.add(curi = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((RIMGBASE + re.getnotetype_1()) | 0), ((this.ssnum + ((2 * i) | 0)) | 0), xoff, ((STAFFPOSSCALE * (((this.ssnum + ((2 * i) | 0)) | 0))) | 0), UNSCALEDxoff, 0, this.imgcolor));\n                        xoff += curi.xsize * 4;\n                        UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_BARLINEX * 1.5;\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_DOT:\n                {\n                    let de = this.e;\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_DOT) | 0), this.calcDotLoc(de, this.options.get_usemodernclefs(), this.musicparams.lastEvent), _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_DOTX, ((STAFFPOSSCALE * (this.calcDotLoc(de, this.options.get_usemodernclefs(), this.musicparams.lastEvent))) | 0), 0, 0, this.imgcolor));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ORIGINALTEXT:\n                {\n                    let oe = this.e;\n                    this.ssnum = -6;\n                    let txtColor = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK;\n                    xoff = 0;\n                    if (this.options.get_displayModText())\n                        this.ssnum += 2;\n                    let textVersion = oe.getVariantVersion();\n                    if (textVersion != null) {\n                        let versionNum = textVersion.getNumInList();\n                        this.ssnum -= ((versionNum * _OptionSet__WEBPACK_IMPORTED_MODULE_5__.OptionSet.SPACES_PER_TEXTLINE) | 0);\n                        txtColor = ((versionNum % _OptionSet__WEBPACK_IMPORTED_MODULE_5__.OptionSet.TEXTVERSION_COLORS + 1) | 0);\n                    }\n                    if (this.options.get_displayedittags()) {\n                        let tagImg = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 0, 0, ((STAFFPOSSCALE * 8) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLUE);\n                        this.imgs.add(tagImg);\n                        xoff += tagImg.xsize;\n                    }\n                    if (this.options.get_displayOrigText()) {\n                        let textImg = _EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(oe.getText(), this.ssnum, xoff, ((((STAFFPOSSCALE * (this.ssnum)) | 0) - ((this.options.getSTAFFSCALE() * 4) | 0)) | 0), 0, 0, txtColor, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_FONTSIZE);\n                        textImg.xsize = 0;\n                        this.imgs.add(textImg);\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CUSTOS:\n                {\n                    let custe = this.e;\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_CUSTOS) | 0), custe.getPitch_1().calcypos(this.princlef), 0, ((STAFFPOSSCALE * custe.getPitch_1().calcypos(this.princlef)) | 0), 0, 0, this.imgcolor));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LINEEND:\n                {\n                    let le = this.e;\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_LINEEND) | 0), 0, 0, 0, 0, 0, this.imgcolor));\n                    if (le.isPageEnd())\n                        this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\"||\", 9, 3, 0, 0, 0, this.imgcolor, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_SMALLFONTSIZE));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_PROPORTION:\n                {\n                    let pp = this.e.getproportion();\n                    if (this.options.get_displayedittags()) {\n                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 8, 0, ((STAFFPOSSCALE * 8) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n                        this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\"[\" + pp.i1 + \":\" + pp.i2 + \"]\", 10, 0, this.options.getSTAFFSCALE(), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLUE, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_SMALLFONTSIZE));\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_COLORCHANGE:\n                {\n                    if (this.options.get_displayedittags())\n                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 0, 0, ((STAFFPOSSCALE * 8) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_BARLINE:\n                {\n                    let be = this.e;\n                    this.ssnum = ((2 * be.getBottomLinePos()) | 0);\n                    let isRepeatSign = be.isRepeatSign();\n                    let repeatSignOffset = isRepeatSign ? 3 : 0;\n                    for (let i = 0; i < be.getNumLines(); i++) {\n                        let esi = _EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_geom_Line2D__WEBPACK_IMPORTED_MODULE_11__.Line2D.Float(((((i + repeatSignOffset) | 0)) * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_BARLINEX), (((STAFFPOSSCALE * (((8 - this.ssnum) | 0))) | 0)), ((((i + repeatSignOffset) | 0)) * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_BARLINEX), (((STAFFPOSSCALE * (((((8 - this.ssnum) | 0) - ((be.getNumSpaces() * 2) | 0)) | 0))) | 0))), [(i * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_BARLINEX), (i * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_BARLINEX)], [0, 0], this.imgcolor, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.VOID, 8, 0, 1);\n                        esi.xsize += 10;\n                        this.imgs.add(esi);\n                    }\n                    if (isRepeatSign) {\n                        let dotPos = be.getBottomLinePos();\n                        for (let di = 0; di < be.getNumSpaces(); di++) {\n                            this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_DOT) | 0), ((1 + (((((dotPos + di) | 0)) * 2) | 0)) | 0), _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_DOTX, ((STAFFPOSSCALE * (((1 + (((((dotPos + di) | 0)) * 2) | 0)) | 0))) | 0), 0, 0, this.imgcolor));\n                            let esi = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_DOT) | 0), ((1 + (((((dotPos + di) | 0)) * 2) | 0)) | 0), (((be.getNumLines() + repeatSignOffset) | 0)) * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_BARLINEX, ((STAFFPOSSCALE * (((1 + (((((dotPos + di) | 0)) * 2) | 0)) | 0))) | 0), 0, 0, this.imgcolor);\n                            esi.xsize += 10;\n                            this.imgs.add(esi);\n                        }\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ANNOTATIONTEXT:\n                {\n                    let ae = this.e;\n                    if (this.options.get_displayedittags())\n                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 0, 0, ((STAFFPOSSCALE * 8) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n                    let textImg = _EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(ae.gettext(), ae.getstaffloc(), 5, ((((STAFFPOSSCALE * ae.getstaffloc()) | 0) - ((this.options.getSTAFFSCALE() * 4) | 0)) | 0), 0, 0, this.imgcolor, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_FONTSIZE);\n                    textImg.xsize = 0;\n                    this.imgs.add(textImg);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LACUNA:\n                {\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_BRACKETLEFT) | 0), 4, 0, ((STAFFPOSSCALE * 4) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.RED));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LACUNA_END:\n                {\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_BRACKETRIGHT) | 0), 4, 0, ((STAFFPOSSCALE * 4) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.RED));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_START:\n                {\n                    vme = this.e;\n                    if (this.options.isLigatureList() || !this.options.markVariant(vme.getVarTypeFlags())) {\n                        this.display = false;\n                        break;\n                    }\n                    if (this.options.get_displayedittags())\n                        if (vme.getVarTypeFlags() != _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_25__.VariantReading.VAR_ORIGTEXT)\n                            this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_BRACKETLEFT) | 0), 4, 0, ((STAFFPOSSCALE * 4) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GREEN));\n                        else {\n                            let esi = _EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_geom_Line2D__WEBPACK_IMPORTED_MODULE_11__.Line2D.Float(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_BARLINEX, (((STAFFPOSSCALE * -2) | 0)), _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_BARLINEX, (((STAFFPOSSCALE * 2) | 0))), [0, 0], [0, 0], _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GREEN, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.VOID, 8, 0, 1);\n                            esi.xsize += 5;\n                            this.imgs.add(esi);\n                        }\n                    else {\n                        let vr = this.getVarReadingInfo() != null ? this.getVarReadingInfo().varReading : null;\n                        this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\"v\", 9, 4, 0, 0, 0, (vr != null && vr.isError()) ? _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.RED : _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GREEN, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_LARGEFONTSIZE));\n                        this.display = false;\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END:\n                {\n                    vme = this.e;\n                    if (this.options.isLigatureList() || !this.options.markVariant(vme.getVarTypeFlags())) {\n                        this.display = false;\n                        break;\n                    }\n                    if (this.options.get_displayedittags())\n                        if (vme.getVarTypeFlags() != _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_25__.VariantReading.VAR_ORIGTEXT)\n                            this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_BRACKETRIGHT) | 0), 4, 0, ((STAFFPOSSCALE * 4) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GREEN));\n                        else {\n                            let esi = _EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_geom_Line2D__WEBPACK_IMPORTED_MODULE_11__.Line2D.Float(5, (((STAFFPOSSCALE * -2) | 0)), 5, (((STAFFPOSSCALE * 2) | 0))), [0, 0], [0, 0], _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GREEN, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.VOID, 8, 0, 1);\n                            esi.xsize += 5;\n                            this.imgs.add(esi);\n                        }\n                    else\n                        this.display = false;\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ELLIPSIS:\n                {\n                    if (this.options.get_unscoredDisplay()) {\n                        let ellXS = 50;\n                        let ellYS = this.options.getSTAFFSCALE() * 5.5;\n                        let esi = _EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_geom_Rectangle2D__WEBPACK_IMPORTED_MODULE_10__.Rectangle2D.Float(0, (((0 - ellYS / 10) | 0)), ellXS, ellYS), [0, 0, ellXS, ellXS], [0, ellYS, ellYS, 0], _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.WHITE, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL, 9, -1, 3);\n                        this.imgs.add(esi);\n                        this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\". . .\", 0, ellXS / 3, 0 - ellYS, 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_LARGEFONTSIZE));\n                    }\n                    else\n                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 0, 0, 0, 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_SECTIONEND:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_BLANK:\n                {\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MODERNKEYSIGNATURE:\n                {\n                    if (this.options.get_displayedittags()) {\n                        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 0, 0, ((STAFFPOSSCALE * 8) | 0), 0, 0, this.imgcolor));\n                        this.imgs.add(_EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\" K\", 10, 0, this.options.getSTAFFSCALE(), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLUE, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_SMALLFONTSIZE));\n                    }\n                    if (this.options.getUseModernAccidentalSystem()) {\n                        let mk = this.e.getSigInfo();\n                        xoff = 5;\n                        c = this.princlef;\n                        let staffApos = c.getApos();\n                        let accColor = this.options.get_displayedittags() ? _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLUE : this.imgcolor;\n                        if (staffApos < 0)\n                            staffApos += 7;\n                        else if (staffApos > 5)\n                            staffApos -= 7;\n                        for (let i = mk.iterator(); i.hasNext();) {\n                            let kse = i.next();\n                            for (let ai = 0; ai < kse.accidental.numAcc; ai++) {\n                                this.ssnum = ((staffApos + kse.calcAOffset()) | 0);\n                                let mkeImg = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0), this.ssnum, xoff, ((STAFFPOSSCALE * this.ssnum) | 0), 0, 0, accColor);\n                                this.imgs.add(mkeImg);\n                                xoff += mkeImg.xsize + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_DBLFLAT;\n                            }\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NULL, 0, 0, 0, 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n                }\n        }\n        this.initExtraImgs();\n        this.imgxsize = (this.imgXSizeWithoutText = 0);\n        let eventType = this.e.geteventtype();\n        for (let ei of this.imgs) {\n            if (ei.xsize > 0 && ei.xoff + ei.xsize > this.imgxsize)\n                this.imgxsize = ei.xoff + ei.xsize;\n            if (ei.xsize > 0 && ei.xoff + ei.xsize > this.imgXSizeWithoutText)\n                if (eventType != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE || !(ei instanceof _EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg))\n                    this.imgXSizeWithoutText = ei.xoff + ei.xsize;\n        }\n        if (eventType == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE) {\n            let notetype = this.e.getnotetype_1();\n            switch (notetype) {\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NT_Fusa:\n                    {\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NT_Flagged:\n                    {\n                        this.imgxsize -= 2;\n                        this.imgXSizeWithoutText -= 2;\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NT_Semifusa:\n                    {\n                        this.imgxsize -= 4;\n                        this.imgXSizeWithoutText -= 4;\n                        break;\n                    }\n            }\n        }\n        this.grayOutIfMissing();\n    }\n    /*    if (e.isEditorial())\n      {\n        EventGlyphImg edImg=new EventGlyphImg(\n          MusicFont.PIC_MISCSTART+MusicFont.PIC_MISC_BRACKETLEFT,4,\n          curxoff,STAFFPOSSCALE*4,UNSCALEDxoff,0f,Coloration.BLACK);\n        imgs.add(edImg);\n        curxoff+=edImg.xsize;\n      }*/\n    //CHANGE\n    /* to ensure proper image size after numbers:\n          imgs.add(new EventStringImg(\n            \" \",curssnum-1,\n            curxoff+MusicFont.CONNECTION_SCREEN_MENSNUMBERX,STAFFPOSSCALE*(curssnum-1)-options.getSTAFFSCALE()*4,\n            0f,MusicFont.CONNECTION_MENSNUMBERY,\n            Coloration.BLACK,12));*/\n    // double    xoff=0,yoff;//CHANGE\n    /* notehead */\n    /* flags */\n    /* multi-text */\n    //tagImg.xsize=0;\n    //VariantMarkerEvent vme=(VariantMarkerEvent)e;//CHANGE\n    //CHANGE\n    /* NO - need to use print values */\n    /* add individual accidentals in signature */\n    /* fix for note-spacing at small values */\n    /* gray out music missing in current version */\n    grayOutIfMissing() {\n        if (this.musicparams.missingInVersion)\n            for (let ei of this.imgs)\n                ei.color = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.GRAY;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initExtraImgs()\nPurpose: Initialize non-event-specific images (corona, signum congruentiae,\n         etc)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initExtraImgs() {\n        let STAFFPOSSCALE = ((this.options.getSTAFFSCALE() / 2) | 0);\n        let s = this.e.getCorona();\n        if (s != null)\n            this.addSignumImg(s, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_CORONAUP);\n        s = this.e.getSignum();\n        if (s != null)\n            this.addSignumImg(s, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_SIGNUMUP);\n        if (this.e.isError()) {\n            let eeImg = _EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\" X\", ((this.ssnum + 4) | 0), 0, ((STAFFPOSSCALE * (((((this.ssnum + 4) | 0) - 9) | 0))) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.RED, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_LARGEFONTSIZE);\n            this.imgs.add(eeImg);\n        }\n        let ec = this.e.getEdCommentary();\n        if (ec != null && this.options.getViewEdCommentary()) {\n            let ecImg = _EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new2(\" *\", 9, 0, ((this.options.getSTAFFSCALE() - STAFFPOSSCALE) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLUE, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_LARGEFONTSIZE);\n            this.imgs.add(ecImg);\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addLedgerLineImages()\nPurpose: Initialize images for ledger lines\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addLedgerLineImages() {\n        let STAFFPOSSCALE = ((this.options.getSTAFFSCALE() / 2) | 0);\n        if (this.ssnum < -1 || this.ssnum > 9) {\n            let curledgerplace;\n            let incr;\n            if (this.ssnum < 0) {\n                curledgerplace = -2;\n                incr = -2;\n            }\n            else {\n                curledgerplace = 10;\n                incr = 2;\n            }\n            for (; _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(curledgerplace) <= _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(this.ssnum); curledgerplace += incr)\n                this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_LEDGER) | 0), curledgerplace, -1, ((STAFFPOSSCALE * curledgerplace) | 0), 0, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addSignumImg(Signum s,int picnumUp)\nPurpose: Initialize image for one corona or signum congruentiae\nParameters:\n  Input:  Signum s     - sign position/orientation info\n          int picnumUp - index of sign image (in up orientation)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addSignumImg(s, picnumUp) {\n        let STAFFPOSSCALE = ((this.options.getSTAFFSCALE() / 2) | 0);\n        let picnum = ((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + picnumUp) | 0) + (s.orientation == _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_24__.Signum.DOWN ? 1 : 0)) | 0);\n        let syp = this.ssnum;\n        let screen_xoff = 0;\n        let xoff = 0;\n        let screen_xconnect = 0;\n        let xconnect = 0;\n        if (this.imgs.size() > 0) {\n            let firstimg = (this.imgs.get(0));\n            screen_xoff = firstimg.xoff;\n            xoff = firstimg.UNSCALEDxoff;\n            syp = firstimg.staffypos;\n        }\n        if (picnumUp == _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_CORONAUP) {\n            screen_xconnect = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_CORONAX;\n            xconnect = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_CORONAX;\n        }\n        if (s.side == _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_24__.Signum.LEFT)\n            screen_xoff -= 5;\n        else if (s.side == _DataStruct_Signum__WEBPACK_IMPORTED_MODULE_24__.Signum.RIGHT)\n            screen_xoff += 5;\n        let sigImg = new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(picnum, ((syp + s.offset) | 0), screen_xoff + screen_xconnect, ((STAFFPOSSCALE * (((syp + s.offset) | 0))) | 0), xoff + xconnect, 0, this.imgcolor);\n        sigImg.xsize = 0;\n        this.imgs.add(sigImg);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void renderaslig(RenderedEvent lastnote,RenderedEvent nextnote)\nPurpose: Re-do image information to render note as part of a ligature in\n         its original shape\nParameters:\n  Input:  RenderedEvent lastnote,nextnote - previous and next notes in ligature\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    renderaslig(lastnote, nextnote) {\n        let ne = this.e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE);\n        let nnssnum = nextnote == null ? ((this.ssnum + 1) | 0) : nextnote.ssnum;\n        if (ne != null) {\n            this.imgs = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n            let STAFFSCALE = this.options.getSTAFFSCALE();\n            let STAFFPOSSCALE = ((STAFFSCALE / 2) | 0);\n            let lastne = lastnote == null ? null : lastnote.getEvent_1().getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE);\n            let nextne = nextnote == null ? null : nextnote.getEvent_1().getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE);\n            let UNSCALEDxoff = 0;\n            let UNSCALEDyoff = 0;\n            let xoff = 0;\n            let yoff = ((STAFFPOSSCALE * this.ssnum) | 0);\n            let origxoff = xoff;\n            let origyoff = yoff;\n            if (this.ssnum < -1 || this.ssnum > 9) {\n                let curledgerplace;\n                let incr;\n                if (this.ssnum < 0) {\n                    curledgerplace = -2;\n                    incr = -2;\n                }\n                else {\n                    curledgerplace = 10;\n                    incr = 2;\n                }\n                for (; _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(curledgerplace) <= _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.abs(this.ssnum); curledgerplace += incr)\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_LEDGER) | 0), curledgerplace, xoff - 1, ((STAFFPOSSCALE * curledgerplace) | 0), 0, 0, this.imgcolor));\n            }\n            if (ne.getligtype() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.LIG_OBLIQUA) {\n                let xl = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_LEFTSTEMX;\n                let xr = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_LIG_RECTA * 2;\n                let yl = ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PICYCENTER - yoff - STAFFPOSSCALE) | 0);\n                let yr = ((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PICYCENTER - ((STAFFPOSSCALE * nnssnum) | 0)) | 0) - STAFFPOSSCALE) | 0);\n                let totalx = xr - xl;\n                let totaly = yr - yl;\n                let USxl = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_LEFTSTEMX;\n                let USxr = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_RECTA * 2;\n                let USyup = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                let USydown = 0 - _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                let UStotalx = USxr - USxl;\n                let fullColored = this.e.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL && (nextne != null && nextne.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL);\n                this.imgs.add(_EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_Polygon__WEBPACK_IMPORTED_MODULE_14__.Polygon([_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xr), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xr)], [_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(yl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((yl + STAFFSCALE)), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((yr + STAFFSCALE)), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(yr)], 4), [USxl, USxl, USxr, USxr], [USyup, USydown, USydown, USyup], this.imgcolor, fullColored ? _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL : _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.VOID, this.ssnum, nnssnum, 2));\n                if (this.e.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL && !fullColored)\n                    this.imgs.add(_EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_Polygon__WEBPACK_IMPORTED_MODULE_14__.Polygon([_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((xl + totalx / 2)), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((xl + totalx / 2))], [_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(yl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((yl + STAFFSCALE)), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((((yl + STAFFSCALE + totaly / 2) | 0))), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((yl + totaly / 2))], 4), [USxl, USxl, (USxl + UStotalx / 2), (USxl + UStotalx / 2)], [USyup, USydown, USydown, USyup], this.imgcolor, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL, this.ssnum, nnssnum, 2));\n            }\n            else if (lastne != null && lastne.getligtype() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.LIG_OBLIQUA) {\n                let fullColored = this.e.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL && lastne.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL;\n                if (this.e.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL && !fullColored) {\n                    let xl = 0;\n                    let xr = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_LIG_RECTA;\n                    let lastyl = ((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PICYCENTER - ((STAFFPOSSCALE * lastnote.ssnum) | 0)) | 0) - STAFFPOSSCALE) | 0);\n                    let yr = ((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PICYCENTER - yoff - STAFFPOSSCALE) | 0);\n                    let yl = lastyl + (((yr - lastyl) / 2) | 0);\n                    let USxl = 0;\n                    let USxr = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_RECTA;\n                    let USyup = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                    let USydown = 0 - _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                    this.imgs.add(_EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_Polygon__WEBPACK_IMPORTED_MODULE_14__.Polygon([_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xr), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(xr)], [_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(yl), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((yl + STAFFSCALE)), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round((yr + STAFFSCALE)), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(yr)], 4), [USxl, USxl, USxr, USxr], [USyup, USydown, USydown, USyup], this.imgcolor, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL, lastnote.ssnum, this.ssnum, 2));\n                }\n            }\n            else {\n                this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NOTESTART + (ne.getcolorfill_1() == _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.FULL ? _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NOTEHEADSTYLE_FULLBREVE : _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NOTEHEADSTYLE_BREVE)) | 0), this.ssnum, xoff, yoff, 0, 0, this.imgcolor));\n                if (lastne != null && lastne.getligtype() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.LIG_RECTA)\n                    this.useligxpos = true;\n            }\n            if (ne.getligtype() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.LIG_NONE)\n                this.imgxsize = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_NOTESTART + _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.NOTEHEADSTYLE_BREVE) | 0));\n            else\n                this.imgxsize = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_STEMX;\n            if (ne.getligtype() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.LIG_RECTA) {\n                let nextyoff = ((STAFFPOSSCALE * nnssnum) | 0);\n                let y1;\n                let y2;\n                let USy1;\n                let USy2;\n                if (nextyoff > yoff) {\n                    y1 = yoff - _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_UPSTEMY;\n                    y2 = nextyoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_UPSTEMY;\n                    USy1 = 0 - _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                    USy2 = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                }\n                else {\n                    y1 = nextyoff - _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_UPSTEMY;\n                    y2 = yoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_UPSTEMY;\n                    USy1 = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                    USy2 = 0 - _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                }\n                this.imgs.add(_EventShapeImg__WEBPACK_IMPORTED_MODULE_8__.EventShapeImg.new1(new _java_awt_geom_Line2D__WEBPACK_IMPORTED_MODULE_11__.Line2D.Float(_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_STEMX, (_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PICYCENTER - y1), _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_STEMX, (_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PICYCENTER - y2)), [_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_STEMX, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_STEMX], [USy1, USy2], this.imgcolor, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.VOID, this.ssnum, nnssnum, 1));\n            }\n            let stemdir = ne.getstemdir();\n            let stemside = ne.getstemside();\n            let stemssnum = this.ssnum;\n            if (stemside != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_NONE && stemdir != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_NONE) {\n                if (stemside == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_LEFT) {\n                    UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_LEFTSTEMX;\n                    xoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_LEFTSTEMX;\n                    if (stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP) {\n                        UNSCALEDyoff = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_UPSTEMY;\n                        yoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_LIG_UPSTEMY;\n                    }\n                    else {\n                        UNSCALEDyoff = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_DOWNSTEMY;\n                        yoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_LIG_DOWNSTEMY;\n                    }\n                }\n                else {\n                    UNSCALEDxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_L_STEMX;\n                    xoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_L_STEMX;\n                    if (ne.isligated() && nnssnum < this.ssnum) {\n                        stemssnum = nnssnum;\n                        yoff = ((STAFFPOSSCALE * stemssnum) | 0);\n                    }\n                    UNSCALEDyoff = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_LIG_DOWNSTEMY;\n                    yoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_LIG_DOWNSTEMY;\n                }\n                this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_STEM) | 0), stemssnum, xoff, yoff, UNSCALEDxoff, UNSCALEDyoff, this.imgcolor));\n            }\n            this.addNoteOptionImages(ne, origxoff, origyoff, this.ssnum, -1);\n        }\n        else {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: called renderaslig with non-note type\");\n        }\n        this.initExtraImgs();\n        this.grayOutIfMissing();\n    }\n    /* ledger lines */\n    /* notehead */\n    /* obliqua start */\n    /* half-coloration */\n    /* FIX THIS!!! implement half-coloration y-vals for 'unscaled' coordinates */\n    /* obliqua end */\n    /* half-coloration */\n    /* FIX THIS!!! implement half-coloration y-vals for 'unscaled' coordinates */\n    /* recta (start or end) */\n    /* vertical connecting line (only after recta start) */\n    /* stem */\n    /* always down on the right */\n    /* non-note event type */\n    /*------------------------------------------------------------------------\nMethod:  void addNoteOptionImages(NoteEvent ne,double origxoff,double origyoff,\n                                  int ssnum,int stemdir)\nPurpose: Create images for note elements besids noteheads and stems (modern\n         accidentals, modern text, etc)\nParameters:\n  Input:  NoteEvent ne            - note info\n          double origxoff,origyoff - original drawing position\n          int ssnum               - staff position of note\n          int stemdir             - stem direction\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addNoteOptionImages(ne, origxoff, origyoff, ssnum, stemdir) {\n        let STAFFPOSSCALE = ((this.options.getSTAFFSCALE() / 2) | 0);\n        let po = ne.getPitchOffset();\n        let ma = null;\n        let keySig = ne.getModernKeySig();\n        if (!this.options.getUseModernAccidentalSystem()) {\n            let clefKeySig = _DataStruct_ModernKeySignature__WEBPACK_IMPORTED_MODULE_21__.ModernKeySignature.DEFAULT_SIG;\n            if (this.clefset != null)\n                clefKeySig = this.clefset.getKeySig();\n            ma = clefKeySig.chooseNoteAccidental(ne, po.pitchOffset);\n        }\n        else\n            ma = keySig.chooseNoteAccidental(ne, po.pitchOffset);\n        if (ma != null)\n            ma.optional = po.optional;\n        if (ma != null && ne.displayAccidental() && (this.options.get_displayedittags() || this.options.get_modacc_type() != _OptionSet__WEBPACK_IMPORTED_MODULE_5__.OptionSet.OPT_MODACC_NONE)) {\n            let accssnum = 10;\n            let leftAccX = 0;\n            let rightAccX = 0;\n            let UNSCALEDleftAccX = 0;\n            let UNSCALEDrightAccX = 0;\n            if (stemdir == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP && ((ssnum + 9) | 0) > accssnum)\n                accssnum = ((ssnum + 9) | 0);\n            else if (((ssnum + 3) | 0) > accssnum)\n                accssnum = ((ssnum + 3) | 0);\n            if (ne.getCorona() != null)\n                accssnum = ((ssnum + 7) | 0);\n            if (accssnum < 10)\n                accssnum = 10;\n            if (ma.accType == _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_20__.ModernAccidental.ACC_Flat) {\n                let UNSCALEDcurxoff = ((0 - (((ma.numAcc - 1) | 0)) * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX) | 0);\n                let curxoff = ((0 - ((((((((ma.numAcc - 1) | 0)) * (_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNFlatSMALL) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLFLAT)) | 0)) / 2) | 0)) | 0);\n                leftAccX = curxoff;\n                UNSCALEDleftAccX = UNSCALEDcurxoff;\n                for (let i = 0; i < ma.numAcc; i++) {\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNFlatSMALL) | 0), accssnum, origxoff + curxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACCSMALLX, ((STAFFPOSSCALE * accssnum) | 0), UNSCALEDcurxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX, 0, this.imgcolor));\n                    curxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNFlatSMALL) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLFLAT;\n                    UNSCALEDcurxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX * 2;\n                }\n                rightAccX = curxoff;\n                UNSCALEDrightAccX = UNSCALEDcurxoff;\n            }\n            else if (ma.accType == _DataStruct_ModernAccidental__WEBPACK_IMPORTED_MODULE_20__.ModernAccidental.ACC_Sharp) {\n                if (stemdir != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP && ssnum > 4)\n                    accssnum++;\n                let numSymbols = ((ma.numAcc % 2 + ((ma.numAcc / 2) | 0)) | 0);\n                let UNSCALEDcurxoff = ((0 - (((numSymbols - 1) | 0)) * _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX) | 0);\n                let curxoff = ((0 - ((((((((numSymbols - 1) | 0)) * (_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNDoubleSharpSMALL) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLSHARP)) | 0)) / 2) | 0)) | 0);\n                leftAccX = curxoff;\n                UNSCALEDleftAccX = UNSCALEDcurxoff;\n                if (ma.numAcc == 1 || ma.numAcc % 2 != 0) {\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNSharpSMALL) | 0), accssnum, origxoff + curxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACCSMALLX, ((STAFFPOSSCALE * accssnum) | 0), UNSCALEDcurxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX, 0, this.imgcolor));\n                    curxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNSharpSMALL) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLSHARP;\n                    UNSCALEDcurxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX * 2;\n                    numSymbols--;\n                }\n                for (let i = 0; i < numSymbols; i++) {\n                    this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNDoubleSharpSMALL) | 0), accssnum, origxoff + curxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACCSMALLX, ((STAFFPOSSCALE * accssnum) | 0), UNSCALEDcurxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX, 0, this.imgcolor));\n                    curxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNDoubleSharpSMALL) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLSHARP;\n                    UNSCALEDcurxoff += _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX * 2;\n                }\n                rightAccX = curxoff;\n                UNSCALEDrightAccX = UNSCALEDcurxoff;\n            }\n            else {\n                this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNFlat) | 0) + ma.accType) | 0) + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.OFFSET_SMALL_ACC) | 0), accssnum, origxoff + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACCSMALLX, ((STAFFPOSSCALE * accssnum) | 0), _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACC_SMALLNATURAL, 0, this.imgcolor));\n                rightAccX = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_16__.Clef.CLEF_MODERNFlatSMALL) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLDBLFLAT;\n                { }\n                UNSCALEDrightAccX = _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX * 2;\n            }\n            if (ma.optional) {\n                leftAccX -= _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_PARENSLEFTSMALL) | 0));\n                UNSCALEDleftAccX -= _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACCSMALLX + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACC_SMALLPARENS;\n                this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_PARENSLEFTSMALL) | 0), accssnum, origxoff + leftAccX + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLPARENSLEFT, ((STAFFPOSSCALE * accssnum) | 0), UNSCALEDleftAccX + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACC_SMALLPARENS, 0, this.imgcolor));\n                this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_PARENSRIGHTSMALL) | 0), accssnum, origxoff + rightAccX + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_MODACC_SMALLPARENSRIGHT, ((STAFFPOSSCALE * accssnum) | 0), UNSCALEDrightAccX + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_MODACC_SMALLPARENS, 0, this.imgcolor));\n            }\n        }\n        this.accidental = ma;\n        let modernText = ne.getModernText();\n        let mtssnum = ssnum > -3 ? -6 : ((ssnum - 4) | 0);\n        let mtCol = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK;\n        if (this.options.get_displayedittags() || this.options.get_displayOrigText()) {\n            mtssnum -= 2;\n            mtCol = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLUE;\n        }\n        if (modernText != null && this.options.get_displayModText()) {\n            if (modernText.length <= 1)\n                modernText = \"  \" + modernText;\n            else if (modernText.length <= 2)\n                modernText = \" \" + modernText;\n            modernText += \" \";\n            if (!ne.isWordEnd())\n                modernText = modernText + \"-\";\n            let textStyle = ne.isModernTextEditorial() ? _java_awt_Font__WEBPACK_IMPORTED_MODULE_15__.Font.ITALIC : _java_awt_Font__WEBPACK_IMPORTED_MODULE_15__.Font.PLAIN;\n            let textImg = _EventStringImg__WEBPACK_IMPORTED_MODULE_7__.EventStringImg.new3(modernText, mtssnum, origxoff, ((((STAFFPOSSCALE * mtssnum) | 0) - ((this.options.getSTAFFSCALE() * 4) | 0)) | 0), 0, 0, mtCol, _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.DEFAULT_TEXT_FONTSIZE, textStyle);\n            this.imgs.add(textImg);\n        }\n        if (ne.hasModernDot()) {\n            let dotLoc = this.calcModernDotLoc();\n            this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_DOT) | 0), dotLoc, this.imgxsize + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_DOTX, ((STAFFPOSSCALE * dotLoc) | 0), this.UNSCALEDMainXSize + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_DOTX, 0, this.imgcolor));\n        }\n    }\n    /* modern accidental */\n    /* if we're showing editorial accidentals but not modern key\n           signatures, make sure signature accidentals are shown as\n           accidentals on individual notes */\n    //err starts here\n    //err ends here\n    /* parentheses for 'optional' accidentals */\n    /* left parens */\n    /* right parens */\n    /* modern text */\n    /* if notehead is too low, push syllable below it */\n    /* temporary hack to show dashes between syllables! */\n    /* modern dot */\n    /*------------------------------------------------------------------------\nMethod:  void addcolorbracket(int side)\nPurpose: Add angle bracket to mark coloration\nParameters:\n  Input:  int side - 0=left, 1=right\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addcolorbracket(side) {\n        let STAFFPOSSCALE = ((this.options.getSTAFFSCALE() / 2) | 0);\n        let bracketssnum = 10;\n        let xoff = side == 0 ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_ANGBRACKETLEFT : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_SCREEN_ANGBRACKETRIGHT;\n        let USxoff = side == 0 ? _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_ANGBRACKETLEFT : _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.CONNECTION_ANGBRACKETRIGHT;\n        if (this.e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE) {\n            let ne = this.e;\n            if (side == 0 && ne.getstemside() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_LEFT && ne.getstemdir() == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP) {\n                xoff -= 4;\n                USxoff -= 240;\n            }\n        }\n        this.imgs.add(new _EventGlyphImg__WEBPACK_IMPORTED_MODULE_9__.EventGlyphImg(((((_MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISCSTART + _MusicFont__WEBPACK_IMPORTED_MODULE_6__.MusicFont.PIC_MISC_ANGBRACKETLEFT) | 0) + side) | 0), bracketssnum, xoff, ((STAFFPOSSCALE * (bracketssnum)) | 0), USxoff, 0, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.BLACK));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                   double xl,double yl,double VIEWSCALE)\nPurpose: Draws event into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl       - location in context to draw event\n          double VIEWSCALE   - scaling factor\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw_1(g, mf, ImO, xl, yl) {\n        this.draw_2(g, mf, ImO, xl, yl, 1);\n    }\n    draw_2(g, mf, ImO, xl, yl, VIEWSCALE) {\n        if (this.multiEventList != null)\n            for (let i = this.multiEventList.iterator(); i.hasNext();)\n                (i.next()).draw_2(g, mf, ImO, xl, yl, VIEWSCALE);\n        else\n            for (let i = this.imgs.iterator(); i.hasNext();)\n                (i.next()).draw_1(g, mf, ImO, xl, yl, VIEWSCALE);\n    }\n    /* loop through events */\n    /* loop through images */\n    /*------------------------------------------------------------------------\nMethod:  void drawHighlighted(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                              double xl,double yl,double VIEWSCALE)\nPurpose: Draws highlighted version of event into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl       - location in context to draw event\n          double VIEWSCALE   - scaling factor\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawHighlighted(g, mf, ImO, xl, yl, VIEWSCALE) {\n        if (this.multiEventList != null)\n            for (let i = this.multiEventList.iterator(); i.hasNext();)\n                (i.next()).drawHighlighted(g, mf, ImO, xl, yl, VIEWSCALE);\n        else\n            for (let i = this.imgs.iterator(); i.hasNext();)\n                (i.next()).draw(g, mf, ImO, xl, yl, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_17__.Coloration.CYAN, VIEWSCALE);\n    }\n    /* loop through events */\n    /* loop through images */\n    /*------------------------------------------------------------------------\nMethod:  void drawLig(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                      int xl,int yl)\nPurpose: Draws event's ligature (original form) into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          int xl,yl         - location in context to draw event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawLig(g, mf, ImO, xl, yl) {\n        let li = this.getLigInfo();\n        let re;\n        for (let i = li.rligEvents.iterator(); i.hasNext();) {\n            re = i.next();\n            if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE)\n                re.draw_1(g, mf, ImO, (xl + re.getxloc()), yl);\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  double drawClefs(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                          double xl,double yl,double VIEWSCALE)\nPurpose: Draws only clef events into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl      - location in context to draw event\n          double VIEWSCALE  - scaling factor\n  Output: -\n  Return: amount of x-space used\n------------------------------------------------------------------------*/\n    drawClefs_1(g, mf, ImO, xl, yl, VIEWSCALE) {\n        let xs = 0;\n        if (this.multiEventList != null)\n            for (let i = this.multiEventList.iterator(); i.hasNext();) {\n                let re = i.next();\n                let ce = re.getEvent_1();\n                if (ce.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF && ce.hasSignatureClef_1() && ce.drawInSig(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem())) {\n                    re.draw_2(g, mf, ImO, xl, yl, VIEWSCALE);\n                    if (re.getimgxsize() > xs)\n                        xs = re.getimgxsize();\n                }\n            }\n        else if (this.getEvent_1().drawInSig(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem())) {\n            this.draw_2(g, mf, ImO, xl, yl, VIEWSCALE);\n            xs = this.getimgxsize();\n        }\n        return xs * VIEWSCALE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  double drawClefs(PDFCreator outp,PdfContentByte cb,double xl,double yl)\nPurpose: Draws only clef events into PDF\nParameters:\n  Input:  PDFCreator outp   - PDF-writing object\n          PdfContentByte cb - PDF graphical context\n          double xl,yl       - location in context to draw event\n  Output: -\n  Return: amount of x-space used\n------------------------------------------------------------------------*/\n    drawClefs_2(outp, cb, xl, yl) {\n        let xs = 0;\n        if (this.multiEventList != null)\n            for (let i = this.multiEventList.iterator(); i.hasNext();) {\n                let re = i.next();\n                let ce = re.getEvent_1();\n                if (ce.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF && ce.hasSignatureClef_1() && ce.drawInSig(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem())) {\n                    outp.drawEvent(re, xl, yl, false, cb);\n                    if (re.getimgxsize() > xs)\n                        xs = re.getimgxsize();\n                }\n            }\n        else if (this.getEvent_1().drawInSig(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem())) {\n            outp.drawEvent(this, xl, yl, false, cb);\n            xs = this.getimgxsize();\n        }\n        return (xs * _PDFCreator__WEBPACK_IMPORTED_MODULE_4__.PDFCreator.XEVENTSPACE_SCALE);\n    }\n    /*------------------------------------------------------------------------\nMethod:  double getClefImgXSize()\nPurpose: Get x size of visible clef images only\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    getClefImgXSize() {\n        let xs = 0;\n        if (this.multiEventList != null)\n            for (let i = this.multiEventList.iterator(); i.hasNext();) {\n                let re = i.next();\n                let ce = re.getEvent_1();\n                if (ce.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF && ce.hasSignatureClef_1() && ce.drawInSig(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem())) {\n                    if (re.getimgxsize() > xs)\n                        xs = re.getimgxsize();\n                }\n            }\n        else if (this.getEvent_1().drawInSig(this.options.get_usemodernclefs(), this.options.getUseModernAccidentalSystem())) {\n            xs = this.getimgxsize();\n        }\n        return xs;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawMens(java.awt.Graphics2D g,MusicFont mf,ImageObserver ImO,\n                       double xl,double yl,double VIEWSCALE)\nPurpose: Draws only mensuration events into given graphical context\nParameters:\n  Input:  Graphics2D g      - graphical context for drawing\n          MusicFont mf      - font for drawing symbols\n          ImageObserver ImO - observer for drawImage\n          double xl,yl       - location in context to draw event\n          double VIEWSCALE   - scaling factor\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawMens(g, mf, ImO, xl, yl, VIEWSCALE) {\n        if (this.multiEventList != null)\n            for (let i = this.multiEventList.iterator(); i.hasNext();) {\n                let re = i.next();\n                if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MENS)\n                    re.draw_2(g, mf, ImO, xl, yl, VIEWSCALE);\n            }\n        else\n            this.draw_2(g, mf, ImO, xl, yl, VIEWSCALE);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcStemDir(NoteEvent ne,boolean modernNotation)\nPurpose: Calculate stem direction for note, depending on whether\n         original notational elements are retained\nParameters:\n  Input:  NoteEvent ne           - note to check\n          boolean modernNotation - whether modern notation display is on\n  Output: -\n  Return: stem direction for displaying note\n------------------------------------------------------------------------*/\n    calcStemDir(ne, modernNotation) {\n        if (modernNotation)\n            if (this.princlef.calcypos(ne.getPitch_1()) >= 5)\n                return _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_DOWN;\n            else\n                return _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.STEM_UP;\n        else\n            return ne.getstemdir();\n    }\n    /* take direction specified in transcription */\n    /* calculate tie direction depending on notation options */\n    getTieType() {\n        if (this.e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE)\n            return _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.TIE_NONE;\n        let ne = this.e;\n        if (!(this.modernNoteShapes || this.options.get_usemodernclefs()))\n            return ne.getTieType();\n        if (this.princlef.calcypos(ne.getPitch_1()) >= 5)\n            return _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.TIE_OVER;\n        return _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_22__.NoteEvent.TIE_UNDER;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcDotLoc(DotEvent de,boolean usemodernclefs,RenderedEvent laste)\nPurpose: Calculate staff position for displaying dot, depending on whether\n         original clefs are retained\nParameters:\n  Input:  -\n  Output: -\n  Return: staff position for displaying dot\n------------------------------------------------------------------------*/\n    calcDotLoc(de, usemodernclefs, laste) {\n        if (usemodernclefs && laste != null)\n            return laste.calcModernDotLoc();\n        else\n            return de.calcYPos(this.princlef);\n    }\n    /* only for note events */\n    calcModernDotLoc() {\n        let noteloc = this.princlef.calcypos(this.e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE).getPitch_1());\n        return ((noteloc + (noteloc % 2 == 0 ? 1 : 0)) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getAttachedEventIndex() {\n        return this.attachedEventIndex;\n    }\n    getEvent_1() {\n        return this.e;\n    }\n    getEvent_2(i) {\n        return this.multiEventList.get(i);\n    }\n    getEventList() {\n        return this.multiEventList;\n    }\n    getFullSonority() {\n        return this.fullSonority;\n    }\n    getOptions() {\n        return this.options;\n    }\n    getRenderParams() {\n        return this.musicparams;\n    }\n    isdisplayed() {\n        return this.display;\n    }\n    getmeasurenum() {\n        return this.musicparams.measurenum;\n    }\n    getxloc() {\n        return this.xloc;\n    }\n    getssnum() {\n        return this.ssnum;\n    }\n    getMusicLength() {\n        return this.musicLength;\n    }\n    getmusictime() {\n        return this.musictime;\n    }\n    getrenderedxsize() {\n        return this.display ? this.getimgxsize() : 0;\n    }\n    getRenderedXSizeWithoutText() {\n        return this.display ? this.getImgXSizeWithoutText() : 0;\n    }\n    getxend() {\n        return this.xloc + this.getRenderedXSizeWithoutText();\n    }\n    getimgs() {\n        return this.imgs;\n    }\n    getimgxsize() {\n        return this.imgxsize;\n    }\n    getImgXSizeWithoutText() {\n        return this.imgXSizeWithoutText;\n    }\n    getClefEvents() {\n        return this.musicparams.clefEvents;\n    }\n    getLastClefEvent() {\n        if (this.musicparams.clefEvents == null)\n            return null;\n        return this.musicparams.clefEvents.getLastClefEvent();\n    }\n    getAccidental() {\n        return this.accidental;\n    }\n    getClef() {\n        return this.princlef;\n    }\n    getMensEvent() {\n        return this.musicparams.mensEvent;\n    }\n    getColoration() {\n        return this.musicparams.curColoration;\n    }\n    getProportion() {\n        return this.musicparams.curProportion;\n    }\n    getModernKeySig() {\n        return this.e.getModernKeySig();\n    }\n    inEditorialSection() {\n        return this.musicparams.inEditorialSection;\n    }\n    getLigInfo() {\n        return this.musicparams.ligInfo;\n    }\n    isligend() {\n        return this.ligEnd;\n    }\n    getTieInfo() {\n        return this.musicparams.tieInfo;\n    }\n    doubleTied() {\n        return this.musicparams.doubleTied;\n    }\n    get_useligxpos() {\n        return this.useligxpos;\n    }\n    getVarReadingInfo() {\n        return this.musicparams.varReadingInfo;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set parameters and options\nParameters:\n  Input:  new values for parameters and options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setAttachedEventIndex(attachedEventIndex) {\n        this.attachedEventIndex = attachedEventIndex;\n    }\n    setDisplay(display) {\n        this.display = display;\n    }\n    setEvent(e) {\n        this.e = e;\n    }\n    setLigEnd(ligEnd) {\n        this.ligEnd = ligEnd;\n        this.musicparams.endlig = ligEnd;\n    }\n    setLigInfo(ligInfo) {\n        this.musicparams.ligInfo = ligInfo;\n    }\n    setMeasureNum(newval) {\n        this.musicparams.measurenum = newval;\n    }\n    setMusicLength(newval) {\n        this.musicLength = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_23__.Proportion.new1(newval);\n    }\n    setSonority(rs) {\n        this.fullSonority = rs;\n    }\n    setTieInfo(tieInfo) {\n        this.musicparams.tieInfo = tieInfo;\n    }\n    setDoubleTied(doubleTied) {\n        this.musicparams.doubleTied = doubleTied;\n    }\n    setxloc(xl) {\n        this.xloc = xl;\n    }\n    setmusictime(p) {\n        this.musictime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_23__.Proportion.new1(p);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this event\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.print(\"X=\" + this.xloc + \" m=\" + this.musicparams.measurenum + \" \");\n        this.getEvent_1().prettyprint_1();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedEvent.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedEventGroup.ts":
/*!***************************************!*\
  !*** ./src/Gfx/RenderedEventGroup.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedEventGroup: () => (/* binding */ RenderedEventGroup)\n/* harmony export */ });\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n\nclass RenderedEventGroup {\n    static new0(ei) {\n        let _new0 = new RenderedEventGroup;\n        RenderedEventGroup.set0(_new0, ei);\n        return _new0;\n    }\n    static set0(new0, ei) {\n        new0.grouptype = RenderedEventGroup.EVENTGROUP_NONE;\n        new0.firstEventNum = (new0.lastEventNum = (new0.yMaxEventNum = (new0.yMinEventNum = ei)));\n        new0.yMaxEvent = (new0.yMinEvent = null);\n        new0.varReading = null;\n        new0.varMarker = null;\n    }\n    static new1(fei, lei) {\n        let _new1 = new RenderedEventGroup;\n        RenderedEventGroup.set1(_new1, fei, lei);\n        return _new1;\n    }\n    static set1(new1, fei, lei) {\n        new1.grouptype = RenderedEventGroup.EVENTGROUP_LIG;\n        new1.firstEventNum = fei;\n        new1.lastEventNum = lei;\n        new1.yMaxEventNum = (new1.yMinEventNum = fei);\n        new1.yMaxEvent = (new1.yMinEvent = null);\n        new1.varReading = null;\n        new1.varMarker = null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void calculateYMinMax(RenderList rl)\nPurpose: Calculate minimum and maximum y-vals for events within group\nParameters:\n  Input:  RenderList rl - rendered event list\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    calculateYMinMax(rl) {\n        let e;\n        for (let ei = this.firstEventNum; ei <= this.lastEventNum; ei++) {\n            e = rl.getEvent(ei).getEvent_1();\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_0__.Event.EVENT_NOTE) {\n                let p = e.getPitch_1();\n                if (this.yMaxEvent == null || p.isHigherThan(this.yMaxEvent.getPitch_1())) {\n                    this.yMaxEventNum = ei;\n                    this.yMaxEvent = e;\n                }\n                if (this.yMinEvent == null || this.yMinEvent.getPitch_1().isHigherThan(p)) {\n                    this.yMinEventNum = ei;\n                    this.yMinEvent = e;\n                }\n            }\n        }\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nRenderedEventGroup.EVENTGROUP_NONE = 0;\nRenderedEventGroup.EVENTGROUP_LIG = 1;\nRenderedEventGroup.EVENTGROUP_VARIANTREADING = 2;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedEventGroup.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedLigature.ts":
/*!*************************************!*\
  !*** ./src/Gfx/RenderedLigature.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedLigature: () => (/* binding */ RenderedLigature)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _StaffEventData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StaffEventData */ \"./src/Gfx/StaffEventData.ts\");\n/* harmony import */ var _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderedEventGroup */ \"./src/Gfx/RenderedEventGroup.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n\n\n\n\nclass RenderedLigature extends _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_2__.RenderedEventGroup {\n    static new2(v, rel, groupType) {\n        let _new2 = new RenderedLigature;\n        RenderedLigature.set2(_new2, v, rel, groupType);\n        return _new2;\n    }\n    static set2(new2, v, rel, groupType) {\n        _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_2__.RenderedEventGroup.set1(new2, -1, -1);\n        new2.curVoice = v;\n        new2.reventList = rel;\n        new2.groupType = groupType;\n    }\n    static new3(v, rel) {\n        let _new3 = new RenderedLigature;\n        RenderedLigature.set3(_new3, v, rel);\n        return _new3;\n    }\n    static set3(new3, v, rel) {\n        RenderedLigature.set2(new3, v, rel, RenderedLigature.LIG);\n    }\n    /*------------------------------------------------------------------------\nMethod:  update(int evNum,NoteEvent ne)\nPurpose: Update ligature info when rendering a new note (which may or may not\n         be part of a ligature)\nParameters:\n  Input:  int evNum     - event index within render list\n          NoteEvent ne  - note being rendered\n  Output: -\n  Return: whether or not this is the last note of a ligature\n------------------------------------------------------------------------*/\n    updateTie(evNum, ne) {\n        if (this.firstEventNum != -1) {\n            this.numNotes++;\n            this.lastEventNum = evNum;\n        }\n        else if (ne.getTieType() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_3__.NoteEvent.TIE_NONE) {\n            this.firstEventNum = (this.yMaxEventNum = (this.yMinEventNum = evNum));\n            this.yMaxEvent = (this.yMinEvent = ne);\n            this.numNotes = 1;\n        }\n        this.findMinMaxY(evNum, ne);\n        return this.numNotes > 1;\n    }\n    update(evNum, ne) {\n        let endlig = false;\n        if (this.groupType == RenderedLigature.TIE)\n            return this.updateTie(evNum, ne);\n        if (this.firstEventNum != -1) {\n            this.numNotes++;\n            if (!ne.isligated()) {\n                endlig = true;\n                this.lastEventNum = evNum;\n                this.rligEvents = _StaffEventData__WEBPACK_IMPORTED_MODULE_1__.StaffEventData.new3(this.curVoice.getMetaData(), this.reventList.getSection());\n                this.rligEvents.getOptions().setLigatureList(true);\n                this.rligEvents.addlig_3(this.reventList, this.firstEventNum, this.reventList.getEvent(this.firstEventNum).getRenderParams());\n                this.rligEvents.setgroupxlocs(_RenderedEventGroup__WEBPACK_IMPORTED_MODULE_2__.RenderedEventGroup.new1(0, ((this.lastEventNum - this.firstEventNum) | 0)), 0);\n            }\n        }\n        else if (ne.isligated()) {\n            this.firstEventNum = (this.yMaxEventNum = (this.yMinEventNum = evNum));\n            this.yMaxEvent = (this.yMinEvent = ne);\n            this.numNotes = 1;\n        }\n        this.findMinMaxY(evNum, ne);\n        return endlig;\n    }\n    /* this is the last note of the ligature */\n    /* all lig notes have been accounted, now render lig in its\n               original shape */\n    //            rligEvents.addlig(curVoice,reventList.getEvent(firstEventNum).getEvent().getListPlace(curVoice.isDefaultVersion()),\n    //                                       reventList.getEvent(firstEventNum).getRenderParams());\n    /* start of a new ligature */\n    findMinMaxY(evNum, ne) {\n        if (this.firstEventNum != -1)\n            if (ne.getPitch_1().isHigherThan(this.yMaxEvent.getPitch_1())) {\n                this.yMaxEventNum = evNum;\n                this.yMaxEvent = ne;\n            }\n            else if (this.yMinEvent.getPitch_1().isHigherThan(ne.getPitch_1())) {\n                this.yMinEventNum = evNum;\n                this.yMinEvent = ne;\n            }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void prettyprint()\nPurpose: Prints information about this ligature\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    toString() {\n        return \"Lig: FEN=\" + this.firstEventNum + \" LEN=\" + this.lastEventNum + \" yMXN=\" + this.yMaxEventNum + \" yMXE=\" + this.yMaxEvent + \" yMNN=\" + this.yMinEventNum + \" yMNE=\" + this.yMinEvent;\n    }\n    prettyprint() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(this.toString());\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nRenderedLigature.LIG = 0;\nRenderedLigature.TIE = 1;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedLigature.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedScorePage.ts":
/*!**************************************!*\
  !*** ./src/Gfx/RenderedScorePage.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedScorePage: () => (/* binding */ RenderedScorePage)\n/* harmony export */ });\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : RenderedScorePage\n\n        Package         : Gfx\n\n        Classes Included: RenderedScorePage\n\n        Purpose         : Parameters for one page in score page display\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 8/2/06\n\n        Updates         :\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   RenderedScorePage\nExtends: -\nPurpose: One page in scored page display\n------------------------------------------------------------------------*/\nclass RenderedScorePage {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: RenderedScorePage(int ss,int ns)\nPurpose:     Initialize structure\nParameters:\n  Input:  int ss - starting system number\n          int ns - number of systems on page\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(ss, ns) {\n        this.startSystem = ss;\n        this.numSystems = ns;\n        this.numStaves = 0;\n        this.ySpace = 0;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedScorePage.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedSectionParams.ts":
/*!******************************************!*\
  !*** ./src/Gfx/RenderedSectionParams.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedSectionParams: () => (/* binding */ RenderedSectionParams)\n/* harmony export */ });\nclass RenderedSectionParams {\n    static new0() {\n        let _new0 = new RenderedSectionParams;\n        RenderedSectionParams.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.clefSet = null;\n        new0.mensEvent = null;\n        new0.usedInSection = false;\n    }\n    static new1(rsp) {\n        let _new1 = new RenderedSectionParams;\n        RenderedSectionParams.set1(_new1, rsp);\n        return _new1;\n    }\n    static set1(new1, rsp) {\n        new1.clefSet = rsp.clefSet;\n        new1.mensEvent = rsp.mensEvent;\n        new1.usedInSection = rsp.usedInSection;\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getClefSet() {\n        return this.clefSet;\n    }\n    getMens() {\n        return this.mensEvent;\n    }\n    /*------------------------------------------------------------------------\nMethods: void set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attributes\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setClefSet(cs) {\n        this.clefSet = cs;\n    }\n    setMens(me) {\n        this.mensEvent = me;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedSectionParams.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedSonority.ts":
/*!*************************************!*\
  !*** ./src/Gfx/RenderedSonority.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedSonority: () => (/* binding */ RenderedSonority)\n/* harmony export */ });\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n\n\n\nclass RenderedSonority {\n    static new0() {\n        let _new0 = new RenderedSonority;\n        RenderedSonority.set0(_new0);\n        return _new0;\n    }\n    static set0(new0) {\n        new0.pitches = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__.LinkedList();\n        new0.rNotes = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__.LinkedList();\n        new0.musicTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_2__.Proportion.new0(0, 1);\n    }\n    static new1(toCopy) {\n        let _new1 = new RenderedSonority;\n        RenderedSonority.set1(_new1, toCopy);\n        return _new1;\n    }\n    static set1(new1, toCopy) {\n        new1.pitches = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__.LinkedList(toCopy.pitches);\n        new1.rNotes = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_0__.LinkedList(toCopy.rNotes);\n        new1.musicTime = toCopy.musicTime;\n    }\n    copyWithout(re) {\n        let newSonority = RenderedSonority.new1(this);\n        newSonority.remove(re);\n        return newSonority;\n    }\n    add(re) {\n        let e = re.getEvent_1();\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_MULTIEVENT:\n                {\n                    for (let i = re.getEvent_1().iterator_2(); i.hasNext();) {\n                        let ne = i.next();\n                        if (ne.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                            this.insertNote(re, ne.getPitch_1());\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE:\n                {\n                    this.insertNote(re, e.getPitch_1());\n                    break;\n                }\n        }\n    }\n    remove(re) {\n        if (re == null)\n            return;\n        let e = re.getEvent_1();\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_MULTIEVENT:\n                {\n                    for (let i = re.getEvent_1().iterator_2(); i.hasNext();) {\n                        let ne = i.next();\n                        if (ne.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE)\n                            this.removeNote(re, ne.getPitch_1());\n                    }\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_1__.Event.EVENT_NOTE:\n                {\n                    this.removeNote(re, e.getPitch_1());\n                    break;\n                }\n        }\n    }\n    insertNote(re, p) {\n        let insertPos = this.calcInsertPos(p);\n        this.rNotes.add(insertPos, re);\n        this.pitches.add(insertPos, p);\n    }\n    removeNote(re, p) {\n        this.rNotes.remove(re);\n        this.pitches.remove(p);\n    }\n    calcInsertPos(p) {\n        let pos;\n        for (pos = 0; pos < this.pitches.size(); pos++)\n            if (p.isLowerThan(this.pitches.get(pos)))\n                return pos;\n        return pos;\n    }\n    setMusicTime(newMusicTime) {\n        this.musicTime = newMusicTime;\n    }\n    getMusicTime() {\n        return this.musicTime;\n    }\n    getNumPitches() {\n        return this.pitches.size();\n    }\n    getPitch(i) {\n        return this.pitches.get(i);\n    }\n    getRenderedNote(i) {\n        return this.rNotes.get(i);\n    }\n    toString() {\n        let s = \"Sonority at \" + this.musicTime + \":\";\n        for (let p of this.pitches)\n            s += \" \" + p;\n        return s;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedSonority.ts?");

/***/ }),

/***/ "./src/Gfx/RenderedStaffSystem.ts":
/*!****************************************!*\
  !*** ./src/Gfx/RenderedStaffSystem.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderedStaffSystem: () => (/* binding */ RenderedStaffSystem)\n/* harmony export */ });\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : RenderedStaffSystem\n\n        Package         : Gfx\n\n        Classes\tIncluded: RenderedStaffSystem\n\n        Purpose         : Parameters for one staff system in page display\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 8/2/06\n\n        Updates:\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   RenderedStaffSystem\nExtends: -\nPurpose: One staff system in page display\n------------------------------------------------------------------------*/\nclass RenderedStaffSystem {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: RenderedStaffSystem(int sm,int lx,int rx,int topY,int numVoices,boolean displayVoiceNames)\nPurpose:     Initialize structure\nParameters:\n  Input:  int sm                    - starting measure number\n          int lx,rx                 - left and right X-coordinates of system\n          int topY                  - top Y-coordinate\n          int numVoices             - number of voices\n          boolean displayVoiceNames - whether to display voice names at left\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(sm, lx, rx, topY, numVoices, displayVoiceNames) {\n        this.spacingCoefficient = 1;\n        this.startMeasure = (this.endMeasure = sm);\n        this.leftX = lx;\n        this.rightX = rx;\n        this.topY = topY;\n        this.numVoices = numVoices;\n        this.displayVoiceNames = displayVoiceNames;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/RenderedStaffSystem.ts?");

/***/ }),

/***/ "./src/Gfx/ScorePagePreviewWin.ts":
/*!****************************************!*\
  !*** ./src/Gfx/ScorePagePreviewWin.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScorePageCanvas: () => (/* binding */ ScorePageCanvas),\n/* harmony export */   ScorePagePreviewWin: () => (/* binding */ ScorePagePreviewWin)\n/* harmony export */ });\n/* harmony import */ var _ZoomControl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ZoomControl */ \"./src/Gfx/ZoomControl.ts\");\n/* harmony import */ var _ViewCanvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ViewCanvas */ \"./src/Gfx/ViewCanvas.ts\");\n/* harmony import */ var _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ScoreRenderer */ \"./src/Gfx/ScoreRenderer.ts\");\n/* harmony import */ var _ScorePageRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScorePageRenderer */ \"./src/Gfx/ScorePageRenderer.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JSpinner */ \"./src/javax/swing/JSpinner.ts\");\n/* harmony import */ var _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/JFrame */ \"./src/javax/swing/JFrame.ts\");\n/* harmony import */ var _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _javax_swing_JToolBar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JToolBar */ \"./src/javax/swing/JToolBar.ts\");\n/* harmony import */ var _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/SpinnerNumberModel */ \"./src/javax/swing/SpinnerNumberModel.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../java/awt/Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_awt_Component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../java/awt/Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../DataStruct/MusicSection */ \"./src/DataStruct/MusicSection.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ScorePageCanvas extends _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_10__.JComponent {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ScorePageCanvas(PieceData musicData,ScorePageRenderer rp,MusicFont mf,MusicWin mw)\nPurpose:     Initialize canvas and render music\nParameters:\n  Input:  PieceData musicData  - event data for all voices\n          ScorePageRenderer rp - rendered event data\n          MusicFont mf         - music symbols for drawing\n          MusicWin mw          - parent window\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(musicData, rp, mf, mw) {\n        super();\n        this.musicData = musicData;\n        this.musicOptions = mw.optSet;\n        this.renderedPages = rp;\n        this.curPageNum = 0;\n        this.numVoices = musicData.getVoiceData().length;\n        this.useModernAccSystem = this.musicOptions.getUseModernAccidentalSystem();\n        this.canvasSize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_16__.Dimension(ScorePageCanvas.CANVASXSIZE, ScorePageCanvas.CANVASYSIZE);\n        this.canvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__.BufferedImage(this.canvasSize.width, this.canvasSize.height, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__.BufferedImage.TYPE_INT_ARGB);\n        this.canvasg2d = this.canvas.createGraphics();\n        this.musicGfx = mf;\n        this.VIEWSCALE = this.musicOptions.getVIEWSCALE();\n        this.scaledCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__.BufferedImage((this.canvasSize.width * this.VIEWSCALE), (this.canvasSize.height * this.VIEWSCALE), _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__.BufferedImage.TYPE_INT_ARGB);\n        this.scaledCanvasg2d = this.scaledCanvas.createGraphics();\n        this.scaledCanvasg2d.scale(this.VIEWSCALE, this.VIEWSCALE);\n        this.drawPage();\n        this.setPreferredSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_16__.Dimension((this.canvasSize.width * this.VIEWSCALE), (this.canvasSize.height * this.VIEWSCALE)));\n    }\n    /* render data into page/system structure */\n    /* create drawing canvas */\n    /* created scaled display canvas */\n    //  if (VIEWSCALE!=1) //CHANGE\n    //  scaledCanvasg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n    /*------------------------------------------------------------------------\nMethod:  void setPage(int newPageNum)\nPurpose: Change currently displayed page\nParameters:\n  Input:  int newPageNum - number of new page to display\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setPage(newPageNum) {\n        if (newPageNum == this.curPageNum)\n            return;\n        this.curPageNum = newPageNum;\n        this.drawPage();\n        this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setScale(int newScale)\nPurpose: Change currently display scale\nParameters:\n  Input:  int newScale - new scale * 100\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setScale(newScale) {\n        let newVS = newScale / 100;\n        if (this.canvasSize.width * newVS > this.scaledCanvas.getWidth() || this.canvasSize.height * newVS > this.scaledCanvas.getHeight()) {\n            this.scaledCanvas = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__.BufferedImage((((this.canvasSize.width * newVS) + 1) | 0), (((this.canvasSize.height * newVS) + 1) | 0), _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_21__.BufferedImage.TYPE_INT_ARGB);\n            this.scaledCanvasg2d = this.scaledCanvas.createGraphics();\n        }\n        else\n            this.scaledCanvasg2d.scale(1 / this.VIEWSCALE, 1 / this.VIEWSCALE);\n        this.VIEWSCALE = newVS;\n        this.scaledCanvasg2d.scale(this.VIEWSCALE, this.VIEWSCALE);\n        this.setPreferredSize(new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_16__.Dimension((this.canvasSize.width * this.VIEWSCALE), (this.canvasSize.height * this.VIEWSCALE)));\n        this.revalidate();\n        this.drawPage();\n        this.repaint();\n    }\n    /* if scaledCanvas isn't big enough, resize */\n    /* cancel current scaling */\n    // if (VIEWSCALE!=1) //CHANGE\n    // scaledCanvasg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n    /*------------------------------------------------------------------------\nMethod:  void drawPage()\nPurpose: Draw music onto canvases\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawPage() {\n        this.canvasg2d.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.white);\n        this.canvasg2d.fillRect(0, 0, ((this.canvasSize.width + 1) | 0), ((this.canvasSize.height + 1) | 0));\n        this.canvasg2d.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.black);\n        if (this.curPageNum == 0) {\n            this.canvasg2d.setFont(ScorePageCanvas.titleFont);\n            this.drawCenteredString(this.canvasg2d, this.musicData.getComposer() + \": \" + this.musicData.getTitle(), this.canvasSize.width, ScorePageCanvas.YMARGIN);\n            if (this.musicData.getSectionTitle() != null) {\n                let yadd = this.canvasg2d.getFontMetrics().getHeight();\n                this.canvasg2d.setFont(ScorePageCanvas.subTitleFont);\n                this.drawCenteredString(this.canvasg2d, this.musicData.getSectionTitle(), this.canvasSize.width, ((ScorePageCanvas.YMARGIN + yadd) | 0));\n            }\n            this.canvasg2d.setFont(ScorePageCanvas.normalFont);\n        }\n        else {\n            this.canvasg2d.setFont(ScorePageCanvas.normalFont);\n            let smallTitle = this.musicData.getComposer() + \": \" + this.musicData.getTitle();\n            if (this.musicData.getSectionTitle() != null)\n                smallTitle += \" (\" + this.musicData.getSectionTitle() + \")\";\n            this.canvasg2d.drawString(smallTitle, ScorePageCanvas.XMARGIN, ScorePageCanvas.YMARGIN);\n        }\n        if (this.curPageNum > 0)\n            this.drawRightString(this.canvasg2d, `${this.curPageNum + 1}`, ((this.canvasSize.width - ScorePageCanvas.XMARGIN) | 0), ScorePageCanvas.YMARGIN);\n        let curPage = this.renderedPages.pages.get(this.curPageNum);\n        let startSys = curPage.startSystem;\n        let endSys = ((((startSys + curPage.numSystems) | 0) - 1) | 0);\n        if (endSys >= this.renderedPages.systems.size())\n            endSys = ((this.renderedPages.systems.size() - 1) | 0);\n        let spaceBetweenSystems = curPage.numSystems <= 1 ? 0 : (((((ScorePageCanvas.DRAWINGSPACEY - ((curPage.numStaves * ScorePageCanvas.CANVASYSCALE) | 0)) | 0)) / (((curPage.numSystems - (this.curPageNum == 0 ? 0 : 1)) | 0))) | 0);\n        if (curPage.numSystems < 3)\n            spaceBetweenSystems = (((spaceBetweenSystems / 2) | 0));\n        let curY = ((ScorePageCanvas.YSTAFFSTART + (this.curPageNum == 0 ? spaceBetweenSystems : 0)) | 0);\n        for (let curSys = startSys; curSys <= endSys; curSys++) {\n            this.drawSystem(curSys, curY);\n            curY += ((((this.renderedPages.systems.get(curSys).numVoices * ScorePageCanvas.CANVASYSCALE) | 0) + spaceBetweenSystems) | 0);\n        }\n        this.scaledCanvasg2d.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.white);\n        this.scaledCanvasg2d.fillRect(0, 0, (((this.canvasSize.width / this.VIEWSCALE) + 1) | 0), (((this.canvasSize.height / this.VIEWSCALE) + 1) | 0));\n        this.scaledCanvasg2d.drawImage(this.canvas, 0, 0, this);\n    }\n    /* draw onto main canvas */\n    /* header */\n    /* music */\n    /* now scale with acceptable interpolation results by copying onto\n       scaled canvas */\n    /*------------------------------------------------------------------------\nMethod:  void drawSystem(int sysNum,int starty)\nPurpose: Draw music of one system\nParameters:\n  Input:  int sysNum - index of system to draw\n          int starty - starting y position\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawSystem(sysNum, starty) {\n        let curSystem = this.renderedPages.systems.get(sysNum);\n        let clefInfoSize = this.renderedPages.calcLeftInfoSize(curSystem.startMeasure);\n        let rendererNum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedPages.scoreData, curSystem.startMeasure);\n        let curRenderer = this.renderedPages.scoreData[rendererNum];\n        let leftMeasure = curRenderer.getMeasure(curSystem.startMeasure);\n        this.canvasg2d.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.black);\n        this.canvasg2d.drawLine(((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0), starty, ((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0), ((((starty + (((((curSystem.numVoices - 1) | 0)) * ScorePageCanvas.CANVASYSCALE) | 0)) | 0) + ((4 * ScorePageCanvas.STAFFSCALE) | 0)) | 0));\n        this.drawSystemBarlines(this.canvasg2d, ((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) + clefInfoSize) | 0), starty, curSystem);\n        let cury = starty;\n        for (let v = 0; v < this.numVoices; v++)\n            if (curRenderer.eventinfo[v] != null) {\n                if (curSystem.displayVoiceNames) {\n                    this.canvasg2d.setFont(ScorePageCanvas.snameFont);\n                    this.drawRightString(this.canvasg2d, this.musicData.getVoiceData()[v].getStaffTitle(), ((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) - 10) | 0), ((cury + ((ScorePageCanvas.STAFFPOSSCALE * 5) | 0)) | 0));\n                }\n                this.drawStaff_3(this.canvasg2d, cury, 5, curSystem.leftX, curSystem.rightX);\n                let VclefInfoSize = clefInfoSize;\n                if (!leftMeasure.beginsWithClef(v) && (curRenderer.getStartingParams()[v].clefSet != null || curSystem.startMeasure > curRenderer.getFirstMeasureNum()))\n                    this.drawClefInfo(this.canvasg2d, curRenderer, leftMeasure, v, ((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0), cury);\n                else\n                    VclefInfoSize = 0;\n                let leftei = curRenderer.getMeasure(curSystem.startMeasure).reventindex[v];\n                let rightei;\n                if (sysNum < ((this.renderedPages.systems.size() - 1) | 0) && curSystem.endMeasure < curRenderer.getLastMeasureNum())\n                    rightei = ((curRenderer.getMeasure(((curSystem.endMeasure + 1) | 0)).reventindex[v] - 1) | 0);\n                else\n                    rightei = ((curRenderer.eventinfo[v].size() - 1) | 0);\n                let re = null;\n                let ligInfo = null;\n                let tieInfo = null;\n                for (let ei = leftei; ei <= rightei; ei++) {\n                    re = curRenderer.eventinfo[v].getEvent(ei);\n                    let xloc = this.calcXLoc(curSystem, VclefInfoSize, re);\n                    if (ei == 0 && sysNum == 0)\n                        xloc = (((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0));\n                    if (re.isdisplayed())\n                        re.draw_1(this.canvasg2d, this.musicGfx, this, xloc, cury);\n                    ligInfo = re.getLigInfo();\n                    if (re.isligend() && this.musicData.getSection(rendererNum).getSectionType() == _DataStruct_MusicSection__WEBPACK_IMPORTED_MODULE_23__.MusicSection.MENSURAL_MUSIC) {\n                        let ligLeftX = ligInfo.firstEventNum < leftei ? ((ScorePageCanvas.XMARGIN - 1) | 0) : (((((((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) + clefInfoSize) | 0) + 4) | 0) + curRenderer.eventinfo[v].getEvent(ligInfo.firstEventNum).getxloc() * curSystem.spacingCoefficient) | 0));\n                        this.drawLigature_2(this.canvasg2d, ligLeftX, xloc, ((cury + this.calcLigY(v, re)) | 0), ((ScorePageCanvas.XMARGIN + clefInfoSize) | 0), ((ScorePageCanvas.XMARGIN + ScorePageCanvas.STAFFXSIZE) | 0));\n                    }\n                    tieInfo = re.getTieInfo();\n                    if (tieInfo.firstEventNum != -1) {\n                        let tre1 = curRenderer.eventinfo[v].getEvent(tieInfo.firstEventNum);\n                        let tieLeftX = tieInfo.firstEventNum < leftei ? ((ScorePageCanvas.XMARGIN - 1) | 0) : (((((((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) + VclefInfoSize) | 0) + 4) | 0) + curRenderer.eventinfo[v].getEvent(tieInfo.firstEventNum).getxloc() * curSystem.spacingCoefficient) | 0));\n                        this.drawTie_2(this.canvasg2d, tre1.getTieType(), tieLeftX, xloc, ((cury + this.calcTieY_3(v, re)) | 0), ((ScorePageCanvas.XMARGIN + VclefInfoSize) | 0), ((ScorePageCanvas.XMARGIN + ScorePageCanvas.STAFFXSIZE) | 0));\n                    }\n                    if (ei == leftMeasure.lastBeginClefIndex[v] && ei < rightei) {\n                        let nextX = ((((this.calcXLoc(curSystem, VclefInfoSize, curRenderer.eventinfo[v].getEvent(((ei + 1) | 0))) - ScorePageCanvas.XMARGIN) | 0) - curSystem.leftX) | 0);\n                        if (clefInfoSize > nextX)\n                            VclefInfoSize = clefInfoSize;\n                    }\n                }\n                ligInfo = re == null ? null : re.getLigInfo();\n                if (ligInfo != null && !re.isligend() && ligInfo.firstEventNum != -1) {\n                    let ligLeftX = ligInfo.firstEventNum < leftei ? ((ScorePageCanvas.XMARGIN - 1) | 0) : (((((((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) + VclefInfoSize) | 0) + 4) | 0) + curRenderer.eventinfo[v].getEvent(ligInfo.firstEventNum).getxloc() * curSystem.spacingCoefficient) | 0));\n                    this.drawLigature_2(this.canvasg2d, ligLeftX, ((ScorePageCanvas.XMARGIN + ScorePageCanvas.STAFFXSIZE) | 0), ((cury + this.calcLigY(v, re)) | 0), ((ScorePageCanvas.XMARGIN + clefInfoSize) | 0), ((ScorePageCanvas.XMARGIN + ScorePageCanvas.STAFFXSIZE) | 0));\n                }\n                tieInfo = re == null ? null : re.getTieInfo();\n                if (tieInfo != null && tieInfo.firstEventNum != -1 && (tieInfo.lastEventNum != rightei || re.doubleTied())) {\n                    let tre1 = re.doubleTied() ? re : curRenderer.eventinfo[v].getEvent(tieInfo.firstEventNum);\n                    let firstEventNum = re.doubleTied() ? rightei : tieInfo.firstEventNum;\n                    let tieLeftX = firstEventNum < leftei ? ((ScorePageCanvas.XMARGIN - 1) | 0) : (((((((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) + VclefInfoSize) | 0) + 4) | 0) + tre1.getxloc() * curSystem.spacingCoefficient) | 0));\n                    this.drawTie_2(this.canvasg2d, tre1.getTieType(), tieLeftX, ((ScorePageCanvas.XMARGIN + ScorePageCanvas.STAFFXSIZE) | 0), ((cury + this.calcTieY_3(v, re)) | 0), ((ScorePageCanvas.XMARGIN + clefInfoSize) | 0), ((ScorePageCanvas.XMARGIN + ScorePageCanvas.STAFFXSIZE) | 0));\n                }\n                cury += ScorePageCanvas.CANVASYSCALE;\n            }\n    }\n    /* calculate which events go on each staff */\n    /* true if NOT the final system in a section */\n    /* now draw events */\n    /* tmp clef BS for very first system */\n    /* draw ligatures */\n    /* tie notes */\n    // && tieInfo.lastEventNum==ei)\n    //            if (tieInfo.firstEventNum!=-1 && tieInfo.lastEventNum==ei)\n    /* some more clef spacing adjustment, for staves beginning with new clefs */\n    //-nextX;\n    /* finish any unclosed ligature */\n    /* finish any unclosed tie */\n    calcXLoc(curSystem, VclefInfoSize, re) {\n        return (((((((ScorePageCanvas.XMARGIN + curSystem.leftX) | 0) + VclefInfoSize) | 0) + re.getxloc() * curSystem.spacingCoefficient) | 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawClefInfo(Graphics2D g,int vnum,int mnum,int xloc,int yloc)\nPurpose: Draw clefs at left side of staff\nParameters:\n  Input:  Graphics2D g  - graphical context\n          int vnum      - voice number\n          int mnum      - measure number\n          int xloc,yloc - starting coordinates for drawing\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawClefInfo(g, renderer, leftMeasure, vnum, xloc, yloc) {\n        let leftEventIndex = leftMeasure.reventindex[vnum];\n        let leftCS = renderer.eventinfo[vnum].getClefEvents(leftEventIndex);\n        if (leftCS != null)\n            xloc += leftCS.draw_1(this.useModernAccSystem, g, this.musicGfx, xloc, yloc, 1);\n        let mk = renderer.eventinfo[vnum].getModernKeySig(leftEventIndex);\n        if (mk.numEls() > 0 && leftCS != null && this.useModernAccSystem)\n            xloc += _ViewCanvas__WEBPACK_IMPORTED_MODULE_1__.ViewCanvas.drawModKeySig_1(g, this.musicGfx, mk, leftCS.getPrincipalClefEvent(), xloc, yloc, 1, false, ScorePageCanvas.STAFFSCALE, ScorePageCanvas.STAFFPOSSCALE);\n    }\n    calcLigY(vnum, e) {\n        let ligInfo = e.getLigInfo();\n        let lige = ligInfo.reventList.getEvent(ligInfo.yMaxEventNum);\n        let ligevclef = lige.getClef();\n        let lignoteev = ligInfo.yMaxEvent;\n        let ligyval = ((((((ScorePageCanvas.STAFFSCALE * 4) | 0) - 12) | 0) - ((ScorePageCanvas.STAFFPOSSCALE * lignoteev.getPitch_1().calcypos(ligevclef)) | 0)) | 0);\n        if (ligyval > ScorePageCanvas.DEFAULT_LIGYVAL)\n            ligyval = ScorePageCanvas.DEFAULT_LIGYVAL;\n        return ligyval;\n    }\n    calcTieY_3(vnum, e) {\n        let tieInfo = e.getTieInfo();\n        let tieRE = tieInfo.reventList.getEvent(tieInfo.yMaxEventNum);\n        let tieREclef = tieRE.getClef();\n        let tieNoteEv = tieInfo.yMaxEvent;\n        return ((((((ScorePageCanvas.STAFFSCALE * 4) | 0) - 12) | 0) - ((ScorePageCanvas.STAFFPOSSCALE * tieNoteEv.getPitch_1().calcypos(tieREclef)) | 0)) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawLigature(Graphics2D g,int x1,int x2,int y,int leftx,int rightx)\nPurpose: Draw ligature bracket for one voice\nParameters:\n  Input:  Graphics2D g     - graphical context\n          int x1,x2        - left and right coordinates of bracket\n          int y            - y level of bracket\n          int leftx,rightx - horizontal bounds of drawing space\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawLigature_2(g, x1, x2, y, leftx, rightx) {\n        if (this.musicOptions.get_displayligbrackets())\n            _ViewCanvas__WEBPACK_IMPORTED_MODULE_1__.ViewCanvas.drawLigOnCanvas_2(g, x1, x2, y, leftx, rightx);\n    }\n    drawTie_2(g, tieType, x1, x2, y, leftx, rightx) {\n        _ViewCanvas__WEBPACK_IMPORTED_MODULE_1__.ViewCanvas.drawTieOnCanvas_2(g, tieType, x1, x2, y, leftx, rightx);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawStaff(Graphics2D g,int yloc,int numlines,int leftX,int rightX)\nPurpose: Draw staff at specified location\nParameters:\n  Input:  Graphics2D g     - graphical context\n          int yloc         - y location for top of staff\n          int numlines     - number of lines for staff\n          int leftX,rightX - horizontal bounds of staff\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawStaff_3(g, yloc, numlines, leftX, rightX) {\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.black);\n        for (let i = 0; i < numlines; i++)\n            g.drawLine(((ScorePageCanvas.XMARGIN + leftX) | 0), ((yloc + ((i * ScorePageCanvas.STAFFSCALE) | 0)) | 0), ((ScorePageCanvas.XMARGIN + rightX) | 0), ((yloc + ((i * ScorePageCanvas.STAFFSCALE) | 0)) | 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawSystemBarlines(Graphics2D g,int xloc,int yloc,\n                                 RenderedStaffSystem curSystem)\nPurpose: Draw barlines across one system\nParameters:\n  Input:  Graphics2D g                  - graphical context\n          int xloc,yloc                 - location for top left of first staff\n          RenderedStaffSystem curSystem - staff system information\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawSystemBarlines(g, xloc, yloc, curSystem) {\n        let curx = 0;\n        let rendererNum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedPages.scoreData, curSystem.startMeasure);\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.black);\n        if (curSystem.startMeasure > 0) {\n            g.setFont(ScorePageCanvas.normalFont);\n            g.drawString(`${curSystem.startMeasure + 1}`, ((xloc - 10) | 0), ((yloc - ((ScorePageCanvas.STAFFSCALE * 3) | 0)) | 0));\n        }\n        for (let i = curSystem.startMeasure; i < curSystem.endMeasure; i++) {\n            curx += this.renderedPages.scoreData[rendererNum].getMeasure(i).xlength;\n            this.drawBarlines_2(g, (((((xloc + curx * curSystem.spacingCoefficient) | 0) + 4) | 0)), yloc, curSystem.numVoices);\n        }\n        if (curSystem.endMeasure < this.renderedPages.scoreData[rendererNum].getLastMeasureNum())\n            this.drawBarlines_2(g, ((ScorePageCanvas.XMARGIN + curSystem.rightX) | 0), yloc, curSystem.numVoices);\n        else\n            g.drawLine(((ScorePageCanvas.XMARGIN + curSystem.rightX) | 0), yloc, ((ScorePageCanvas.XMARGIN + curSystem.rightX) | 0), ((((yloc + (((((curSystem.numVoices - 1) | 0)) * ScorePageCanvas.CANVASYSCALE) | 0)) | 0) + ((4 * ScorePageCanvas.STAFFSCALE) | 0)) | 0));\n    }\n    /* measure number */\n    //STAFFXSIZE-1,yloc);\n    /* final barline */\n    /*------------------------------------------------------------------------\nMethod:  void drawBarlines(Graphics2D g,int xloc,int yloc,int numVoices)\nPurpose: Draw barlines at specified x location\nParameters:\n  Input:  Graphics2D g  - graphical context\n          int xloc,yloc - location for barlines\n          int numVoices - number of voices in system\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawBarlines_2(g, xloc, yloc, numVoices) {\n        switch (this.musicOptions.get_barline_type()) {\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_NONE:\n                {\n                    break;\n                }\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_MENSS:\n                {\n                    for (let i = 0; i < ((numVoices - 1) | 0); i++)\n                        g.drawLine(xloc, ((((yloc + ((ScorePageCanvas.STAFFSCALE * 4) | 0)) | 0) + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0), xloc, ((yloc + (((((i + 1) | 0)) * ScorePageCanvas.CANVASYSCALE) | 0)) | 0));\n                    break;\n                }\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_TICK:\n                {\n                    for (let i = 0; i < numVoices; i++) {\n                        g.drawLine(xloc, ((((yloc - 5) | 0) + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0), xloc, ((yloc + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0));\n                        g.drawLine(xloc, ((((((yloc + 5) | 0) + ((ScorePageCanvas.STAFFSCALE * 4) | 0)) | 0) + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0), xloc, ((((yloc + ((ScorePageCanvas.STAFFSCALE * 4) | 0)) | 0) + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0));\n                    }\n                    break;\n                }\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_MODERN:\n                {\n                    for (let i = 0; i < numVoices; i++)\n                        g.drawLine(xloc, ((yloc + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0), xloc, ((((yloc + ((ScorePageCanvas.STAFFSCALE * 4) | 0)) | 0) + ((i * ScorePageCanvas.CANVASYSCALE) | 0)) | 0));\n                    break;\n                }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw[Centered|Right]String(Graphics2D g,String s,[int xsize|xloc],int yloc)\nPurpose: Draw centered/right-justified string at specified y-location\nParameters:\n  Input:  Graphics2D g  - graphical context\n          String s      - string to draw\n          int xsize     - total horizontal space available\n          int xloc,yloc - string location\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawCenteredString(g, s, xsize, yloc) {\n        let strSize = g.getFontMetrics().stringWidth(s);\n        g.drawString(s, (((((xsize - strSize) | 0)) / 2) | 0), yloc);\n    }\n    drawRightString(g, s, xloc, yloc) {\n        let strSize = g.getFontMetrics().stringWidth(s);\n        g.drawString(s, ((xloc - strSize) | 0), yloc);\n    }\n    /*------------------------------------------------------------------------\nMethod:    void paintComponent(Graphics g)\nOverrides: javax.swing.JComponent.paintComponent\nPurpose:   Repaint area\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    paintComponent(g) {\n        g.drawImage(this.scaledCanvas, 0, 0, this);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* standard page size parameters */\nScorePageCanvas.A4SIZEX = 210;\nScorePageCanvas.A4SIZEY = 297;\nScorePageCanvas.A4SCALEX = ScorePageCanvas.A4SIZEX / ScorePageCanvas.A4SIZEY;\nScorePageCanvas.STAVESPERPAGE = 14;\n/* including space between systems */\nScorePageCanvas.STAFFSCALE = 10;\nScorePageCanvas.STAFFPOSSCALE = ((ScorePageCanvas.STAFFSCALE / 2) | 0);\nScorePageCanvas.CANVASYSCALE = ((ScorePageCanvas.STAFFSCALE * 10) | 0);\n/* amount of vertical space per staff */\nScorePageCanvas.XMARGIN = 134;\nScorePageCanvas.YMARGIN = 100;\n/* margins of drawing space */\nScorePageCanvas.YSTAFFSTART = ((ScorePageCanvas.YMARGIN + ((ScorePageCanvas.STAFFSCALE * 7) | 0)) | 0);\n/* top margin for staff drawing */\nScorePageCanvas.DRAWINGSPACEY = ((ScorePageCanvas.CANVASYSCALE * ScorePageCanvas.STAVESPERPAGE) | 0);\nScorePageCanvas.CANVASYSIZE = ((((ScorePageCanvas.YSTAFFSTART + ScorePageCanvas.YMARGIN) | 0) + ScorePageCanvas.DRAWINGSPACEY) | 0);\nScorePageCanvas.CANVASXSIZE = (ScorePageCanvas.CANVASYSIZE * ScorePageCanvas.A4SCALEX);\nScorePageCanvas.STAFFXSIZE = ((ScorePageCanvas.CANVASXSIZE - ((ScorePageCanvas.XMARGIN * 2) | 0)) | 0);\nScorePageCanvas.MAXDISPLAYPORTION = 0.8;\nScorePageCanvas.normalFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font.PLAIN, 12);\nScorePageCanvas.snameFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font.PLAIN, 15);\nScorePageCanvas.titleFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font(\"Serif\", _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font.PLAIN, 24);\nScorePageCanvas.subTitleFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font(\"Serif\", _java_awt_Font__WEBPACK_IMPORTED_MODULE_17__.Font.PLAIN, 20);\n/* draw clefs */\n/* modern key signature */\n/*------------------------------------------------------------------------\nMethod:  int calcLigY(int vnum,RenderedEvent e)\nPurpose: Calculate y position of a ligature at a given event (relative to\n     staff)\nParameters:\nInput:  int vnum        - voice number\n      RenderedEvent e - event\nOutput: -\nReturn: y position of ligature\n------------------------------------------------------------------------*/\nScorePageCanvas.DEFAULT_LIGYVAL = -7;\n/* copy current offscreen buffer to screen */\n/*----------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nClass:   ScorePagePreviewWin\nExtends: JFrame\nPurpose: Window for displaying scored music in page layout\n------------------------------------------------------------------------*/\nclass ScorePagePreviewWin extends _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_9__.JFrame {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ScorePagePreviewWin(PieceData p,MusicWin mw)\nPurpose:     Initialize and lay out window\nParameters:\n  Input:  PieceData p  - music data\n          MusicWin mw  - parent window\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(p, mw) {\n        super();\n        this.mytype_ActionListener = true;\n        this.mytype_ChangeListener = true;\n        this.parentMusicWin = mw;\n        this.musicData = p;\n        this.renderedPages = new _ScorePageRenderer__WEBPACK_IMPORTED_MODULE_3__.ScorePageRenderer(this.musicData, mw.optSet, new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_16__.Dimension(ScorePagePreviewWin.STAFFXSIZE, ScorePagePreviewWin.DRAWINGSPACEY), ScorePagePreviewWin.STAFFSCALE, ScorePagePreviewWin.CANVASYSCALE);\n        this.setTitle(this.parentMusicWin.getTitle() + \" (print preview: score)\");\n        this.setIconImage(this.parentMusicWin.windowIcon);\n        let contentPane = this.getContentPane();\n        contentPane.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout(contentPane, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_7__.BoxLayout.Y_AXIS));\n        let pageControls = new _javax_swing_JToolBar__WEBPACK_IMPORTED_MODULE_13__.JToolBar();\n        pageControls.setFloatable(false);\n        pageControls.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_19__.GridBagLayout());\n        pageControls.setAlignmentY(_java_awt_Component__WEBPACK_IMPORTED_MODULE_22__.Component.LEFT_ALIGNMENT);\n        pageControls.setAlignmentX(_java_awt_Component__WEBPACK_IMPORTED_MODULE_22__.Component.LEFT_ALIGNMENT);\n        let tbc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_18__.GridBagConstraints();\n        tbc.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_18__.GridBagConstraints.WEST;\n        tbc.weightx = 0;\n        let pageControlsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_6__.JPanel();\n        pageControlsPanel.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_12__.JLabel(\"Page \"));\n        this.pageSpinner = new _javax_swing_JSpinner__WEBPACK_IMPORTED_MODULE_8__.JSpinner(new _javax_swing_SpinnerNumberModel__WEBPACK_IMPORTED_MODULE_14__.SpinnerNumberModel(1, 1, this.renderedPages.pages.size(), 1));\n        pageControlsPanel.add(this.pageSpinner);\n        pageControlsPanel.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_12__.JLabel(\" of \" + this.renderedPages.pages.size()));\n        tbc.gridx = 0;\n        tbc.gridy = 0;\n        tbc.weightx = 1;\n        pageControls.add(pageControlsPanel, tbc);\n        tbc.gridx++;\n        pageControls.addSeparator();\n        this.viewSizeControl = _ZoomControl__WEBPACK_IMPORTED_MODULE_0__.ZoomControl.new0_5((mw.optSet.getVIEWSCALE() * 100), this);\n        pageControls.add(this.viewSizeControl);\n        tbc.gridx++;\n        tbc.gridy = 0;\n        tbc.weightx = 0;\n        pageControls.add(this.viewSizeControl, tbc);\n        contentPane.add(pageControls);\n        this.pageSpinner.addChangeListener(this);\n        this.musicScr = new ScorePageCanvas(this.musicData, this.renderedPages, _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.new1(0.9), mw);\n        let musicPane = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_11__.JScrollPane(this.musicScr);\n        let actualDisplaySize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_20__.Toolkit.getDefaultToolkit().getScreenSize();\n        let canvasSize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_16__.Dimension(this.musicScr.getPreferredSize());\n        if (canvasSize.width > actualDisplaySize.width * ScorePageCanvas.MAXDISPLAYPORTION)\n            canvasSize.width = (actualDisplaySize.width * ScorePageCanvas.MAXDISPLAYPORTION);\n        if (canvasSize.height > actualDisplaySize.height * ScorePageCanvas.MAXDISPLAYPORTION)\n            canvasSize.height = (actualDisplaySize.height * ScorePageCanvas.MAXDISPLAYPORTION);\n        musicPane.setPreferredSize(canvasSize);\n        musicPane.getViewport().setBackground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_15__.Color.WHITE);\n        contentPane.add(musicPane);\n        this.pack();\n        this.setLocationRelativeTo(mw);\n        this.musicScr.requestFocusInWindow();\n        this.addWindowListener({\n            /* initialize window */\n            /* add components */\n            /* tool bar */\n            //    pageControls.setFocusable(false);\n            //    pageControls.setLayout(new BoxLayout(pageControls,BoxLayout.X_AXIS));\n            //    pageControlsPanel.setAlignmentX(java.awt.Component.CENTER_ALIGNMENT);\n            /* canvas (in scroll pane) */\n            /* handle other window events */\n            windowClosing: (event) => {\n                this.closewin_4();\n            }\n        });\n    }\n    /*------------------------------------------------------------------------\nMethod:     void stateChanged(ChangeEvent e)\nImplements: ChangeListener.stateChanged\nPurpose:    Take action when a proportion-spinner value has changed\nParameters:\n  Input:  ChangeEvent e - state-changed event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    stateChanged(e) {\n        let itemChanged = e.getSource();\n        if (itemChanged == this.pageSpinner)\n            this.musicScr.setPage((((this.pageSpinner.getValue()).intValue() - 1) | 0));\n    }\n    /*------------------------------------------------------------------------\nMethod:     void actionPerformed(ActionEvent event)\nImplements: ActionListener.actionPerformed\nPurpose:    Check for action types in menu/tools and take appropriate action\nParameters:\n  Input:  ActionEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (item == this.viewSizeControl.zoomInButton)\n            this.musicScr.setScale(this.viewSizeControl.zoomIn_1());\n        else if (item == this.viewSizeControl.zoomOutButton)\n            this.musicScr.setScale(this.viewSizeControl.zoomOut_1());\n        else if (item == this.viewSizeControl.viewSizeField)\n            this.musicScr.setScale(this.viewSizeControl.viewSizeFieldAction());\n    }\n    /*------------------------------------------------------------------------\nMethod:  void openwin()\nPurpose: Make window appear in front\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openwin_2() {\n        this.setVisible(true);\n        this.toFront();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void closewin()\nPurpose: Hide window\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    closewin_4() {\n        let wl = this.getListeners(\"WindowListener\");\n        for (let i = 0; i < wl.length; i++)\n            this.removeWindowListener(wl[i]);\n        this.pageSpinner.removeChangeListener(this);\n        this.viewSizeControl.removeListeners_2();\n        this.dispose();\n        this.musicScr = null;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nScorePagePreviewWin.STAFFXSIZE = ScorePageCanvas.STAFFXSIZE;\nScorePagePreviewWin.DRAWINGSPACEY = ScorePageCanvas.DRAWINGSPACEY;\nScorePagePreviewWin.STAFFSCALE = ScorePageCanvas.STAFFSCALE;\nScorePagePreviewWin.CANVASYSCALE = ScorePageCanvas.CANVASYSCALE;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/ScorePagePreviewWin.ts?");

/***/ }),

/***/ "./src/Gfx/ScorePageRenderer.ts":
/*!**************************************!*\
  !*** ./src/Gfx/ScorePageRenderer.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScorePageRenderer: () => (/* binding */ ScorePageRenderer)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _ScoreRenderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ScoreRenderer */ \"./src/Gfx/ScoreRenderer.ts\");\n/* harmony import */ var _RenderedStaffSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderedStaffSystem */ \"./src/Gfx/RenderedStaffSystem.ts\");\n/* harmony import */ var _RenderedSectionParams__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RenderedSectionParams */ \"./src/Gfx/RenderedSectionParams.ts\");\n/* harmony import */ var _RenderedScorePage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RenderedScorePage */ \"./src/Gfx/RenderedScorePage.ts\");\n/* harmony import */ var _EventStringImg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EventStringImg */ \"./src/Gfx/EventStringImg.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_awt_Font__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/awt/Font */ \"./src/java/awt/Font.ts\");\n\n\n\n\n\n\n\n\nclass ScorePageRenderer {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ScorePageRenderer(PieceData p,OptionSet o,Dimension d,\n                               int STAFFSCALE,int CANVASYSCALE)\nPurpose:     Initialize renderer\nParameters:\n  Input:  PieceData p                 - music data\n          OptionSet o                 - display options\n          Dimension d                 - size of drawing block\n          int STAFFSCALE,CANVASYSCALE - drawing space parameters\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(p, o, d, STAFFSCALE, CANVASYSCALE) {\n        ScorePageRenderer.STAFFSCALE = STAFFSCALE;\n        ScorePageRenderer.CANVASYSCALE = CANVASYSCALE;\n        this.musicData = p;\n        this.options = o;\n        this.canvasSize = d;\n        this.numVoices = this.musicData.getVoiceData().length;\n        let sectionParams = Array(this.numVoices);\n        for (let i = 0; i < this.numVoices; i++)\n            sectionParams[i] = _RenderedSectionParams__WEBPACK_IMPORTED_MODULE_3__.RenderedSectionParams.new0();\n        let numSections = this.musicData.getNumSections();\n        let numMeasures = 0;\n        let startX = 0;\n        this.scoreData = Array(numSections);\n        for (let i = 0; i < numSections; i++) {\n            this.scoreData[i] = new _ScoreRenderer__WEBPACK_IMPORTED_MODULE_1__.ScoreRenderer(i, this.musicData.getSection(i), this.musicData, sectionParams, this.options, numMeasures, startX);\n            sectionParams = this.scoreData[i].getEndingParams();\n            numMeasures += this.scoreData[i].getNumMeasures();\n            startX += this.scoreData[i].getXsize();\n        }\n        this.renderPages(this.scoreData);\n    }\n    renderPages(scoreData) {\n        this.systems = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_6__.ArrayList();\n        this.pages = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_6__.ArrayList();\n        let numSystems = 0;\n        this.curPage = new _RenderedScorePage__WEBPACK_IMPORTED_MODULE_4__.RenderedScorePage(numSystems, 0);\n        for (let rs of scoreData) {\n            numSystems += this.renderSection(rs, numSystems);\n        }\n        this.pages.add(this.curPage);\n    }\n    /* initialize parameters */\n    //    int spacePerSystem=(int)(((double)numVoices+.5)*CANVASYSCALE);\n    //    systemsPerPage=canvasSize.height/spacePerSystem;\n    calcSystemSpace(numv) {\n        return ((((numv + 0.5) * ScorePageRenderer.CANVASYSCALE) | 0));\n    }\n    /* new page? */\n    checkAndAddPage(spacePerSystem, curSystemNum) {\n        if (((this.curPage.ySpace + spacePerSystem) | 0) > this.canvasSize.height) {\n            this.pages.add(this.curPage);\n            this.curPage = new _RenderedScorePage__WEBPACK_IMPORTED_MODULE_4__.RenderedScorePage(curSystemNum, 0);\n        }\n    }\n    renderSection(curSection, startSystemNum) {\n        let displayVoiceNames = startSystemNum == 0 || curSection.newVoiceArrangement();\n        let curMeasure;\n        let leftInfoSize = this.calcLeftInfoSize(curSection.getFirstMeasureNum());\n        let systemStartx = leftInfoSize + (displayVoiceNames ? this.calcVoiceNamesIndent() : 0);\n        let curx = systemStartx;\n        let leftx = 0;\n        let curSystemNum = startSystemNum;\n        let numSectionVoices = curSection.getSectionData().getNumVoicesUsed();\n        let spacePerSystem = this.calcSystemSpace(numSectionVoices);\n        let curSystem = new _RenderedStaffSystem__WEBPACK_IMPORTED_MODULE_2__.RenderedStaffSystem(curSection.getFirstMeasureNum(), displayVoiceNames ? (systemStartx - leftInfoSize) : 0, ((this.canvasSize.width - 1) | 0), 0, numSectionVoices, displayVoiceNames);\n        this.checkAndAddPage(spacePerSystem, curSystemNum);\n        for (let m = 0; m < curSection.measures.size(); m++) {\n            curMeasure = curSection.measures.get(m);\n            if (m > 0 && curx + curMeasure.xlength > this.canvasSize.width) {\n                curSystem.endMeasure = ((((m - 1) | 0) + curSection.getFirstMeasureNum()) | 0);\n                curSystem.spacingCoefficient = (((((curSystem.rightX - systemStartx - 4) | 0)) / (curx - systemStartx)) | 0);\n                this.systems.add(curSystem);\n                this.curPage.ySpace += spacePerSystem;\n                this.curPage.numStaves += numSectionVoices;\n                this.curPage.numSystems++;\n                curSystemNum++;\n                curSystem = new _RenderedStaffSystem__WEBPACK_IMPORTED_MODULE_2__.RenderedStaffSystem(((m + curSection.getFirstMeasureNum()) | 0), 0, ((this.canvasSize.width - 1) | 0), this.curPage.ySpace, numSectionVoices, false);\n                curx = (systemStartx = this.calcLeftInfoSize(((m + curSection.getFirstMeasureNum()) | 0)));\n                leftx = curMeasure.leftx;\n                this.checkAndAddPage(spacePerSystem, curSystemNum);\n            }\n            curx += curMeasure.xlength;\n            curSection.adjustMeasureEventPositions(m, 0 - leftx);\n        }\n        curSystem.endMeasure = ((((curSection.measures.size() - 1) | 0) + curSection.getFirstMeasureNum()) | 0);\n        curSystem.rightX = curx;\n        this.systems.add(curSystem);\n        this.curPage.ySpace += spacePerSystem;\n        this.curPage.numStaves += numSectionVoices;\n        this.curPage.numSystems++;\n        return ((((curSystemNum - startSystemNum) | 0) + 1) | 0);\n    }\n    /* add measures to page layout one at a time, adding systems and pages\n       when necessary */\n    //curSection.getNumVoices(),\n    /* finish current system */\n    //System.out.println(\"system \"+curSystemNum+\" co=\"+curSystem.spacingCoefficient);\n    //System.out.println(\" startx=\"+systemStartx+\" rightx=\"+curSystem.rightX+\" curx=\"+curx);\n    /* new system */\n    /*------------------------------------------------------------------------\nMethod:  int calcVoiceNamesIndent()\nPurpose: Calculate amount of space taken by voice names before first system\nParameters:\n  Input:  -\n  Output: -\n  Return: x-space required by voice names+space before first system\n------------------------------------------------------------------------*/\n    calcVoiceNamesIndent() {\n        let tmpFont = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_7__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_7__.Font.PLAIN, 15);\n        _EventStringImg__WEBPACK_IMPORTED_MODULE_5__.EventStringImg.genericG.setFont(tmpFont);\n        let metrics = _EventStringImg__WEBPACK_IMPORTED_MODULE_5__.EventStringImg.genericG.getFontMetrics();\n        let maxSize = 0;\n        let curSize;\n        for (let v of this.musicData.getVoiceData()) {\n            curSize = metrics.stringWidth(v.getStaffTitle());\n            if (curSize > maxSize)\n                maxSize = curSize;\n        }\n        return ((maxSize + 10) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcLeftInfoSize(int mnum)\nPurpose: Calculate amount of space taken by clef info (+possibly mensuration\n         info) if the current measure is at a system start\nParameters:\n  Input:  int mnum                - measure number\n  Output: -\n  Return: x-space required by clef/signature for all voices\n------------------------------------------------------------------------*/\n    calcLeftInfoSize(mnum) {\n        if (mnum == 0)\n            return 0;\n        let renderedSection = this.scoreData[_ScoreRenderer__WEBPACK_IMPORTED_MODULE_1__.ScoreRenderer.calcRendererNum(this.scoreData, mnum)];\n        let leftMeasure = renderedSection.measures.getMeasure(((mnum - renderedSection.getFirstMeasureNum()) | 0));\n        let xloc;\n        let maxx = 0;\n        for (let i = 0; i < this.numVoices; i++)\n            if (renderedSection.eventinfo[i] != null) {\n                xloc = 0;\n                if (!leftMeasure.beginsWithClef(i)) {\n                    let leftCS = renderedSection.eventinfo[i].getClefEvents(leftMeasure.reventindex[i]);\n                    if (leftCS != null)\n                        xloc += leftCS.getXSize();\n                }\n                else {\n                    let re = renderedSection.eventinfo[i].getEvent(leftMeasure.lastBeginClefIndex[i]);\n                    xloc = re.getxend() - leftMeasure.leftx;\n                }\n                if (xloc > maxx)\n                    maxx = xloc;\n            }\n        return _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(maxx + 5);\n    }\n    getLastEventInMeasure(sysNum, rendererNum, vnum, mnum) {\n        let renderer = this.scoreData[rendererNum];\n        if (mnum < renderer.getLastMeasureNum())\n            return ((renderer.getMeasure(((mnum + 1) | 0)).reventindex[vnum] - 1) | 0);\n        else\n            return ((renderer.eventinfo[vnum].size() - 1) | 0);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/ScorePageRenderer.ts?");

/***/ }),

/***/ "./src/Gfx/ScoreRenderer.ts":
/*!**********************************!*\
  !*** ./src/Gfx/ScoreRenderer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScoreRenderer: () => (/* binding */ ScoreRenderer),\n/* harmony export */   VoiceGfxInfo: () => (/* binding */ VoiceGfxInfo)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _RenderParams__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RenderParams */ \"./src/Gfx/RenderParams.ts\");\n/* harmony import */ var _RenderList__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RenderList */ \"./src/Gfx/RenderList.ts\");\n/* harmony import */ var _RenderedSonority__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RenderedSonority */ \"./src/Gfx/RenderedSonority.ts\");\n/* harmony import */ var _RenderedSectionParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RenderedSectionParams */ \"./src/Gfx/RenderedSectionParams.ts\");\n/* harmony import */ var _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RenderedLigature */ \"./src/Gfx/RenderedLigature.ts\");\n/* harmony import */ var _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RenderedEventGroup */ \"./src/Gfx/RenderedEventGroup.ts\");\n/* harmony import */ var _RenderedClefSet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./RenderedClefSet */ \"./src/Gfx/RenderedClefSet.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _MeasureList__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./MeasureList */ \"./src/Gfx/MeasureList.ts\");\n/* harmony import */ var _EventStringImg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EventStringImg */ \"./src/Gfx/EventStringImg.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../DataStruct/ClefEvent */ \"./src/DataStruct/ClefEvent.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../DataStruct/DotEvent */ \"./src/DataStruct/DotEvent.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_LineEndEvent__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/LineEndEvent */ \"./src/DataStruct/LineEndEvent.ts\");\n/* harmony import */ var _DataStruct_MusicChantSection__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DataStruct/MusicChantSection */ \"./src/DataStruct/MusicChantSection.ts\");\n/* harmony import */ var _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../DataStruct/MusicMensuralSection */ \"./src/DataStruct/MusicMensuralSection.ts\");\n/* harmony import */ var _DataStruct_MusicTextSection__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../DataStruct/MusicTextSection */ \"./src/DataStruct/MusicTextSection.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _DataStruct_OriginalTextEvent__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../DataStruct/OriginalTextEvent */ \"./src/DataStruct/OriginalTextEvent.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass VoiceGfxInfo {\n    /* whether to respace after variant */\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VoiceGfxInfo(ScoreRenderer renderer,VoiceMensuralData voice)\nPurpose:     Initialize structure\nParameters:\n  Input:  ScoreRenderer renderer  - renderer to which this voice belongs\n          VoiceMensuralData voice - data for this structure's voice\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(renderer, voice) {\n        this.renderer = renderer;\n        this.v = voice;\n    }\n    /*------------------------------------------------------------------------\nMethod:  RenderedEvent getlastvisibleEvent(RenderList rl,int el)\nPurpose: Find previous displayed event at a given index\nParameters:\n  Input:  RenderList rl - rendered event list for this voice\n          int el        - index of event to start search\n  Output: -\n  Return: last displayed event\n------------------------------------------------------------------------*/\n    getlastvisibleEvent(rl, el) {\n        let i;\n        for (i = ((el - 1) | 0); i >= 0 && rl.getEvent(i).getrenderedxsize() == 0; i--)\n            ;\n        return rl.getEvent(i);\n    }\n    /*------------------------------------------------------------------------\nMethod:  double movebackNOSPACEEvents(RenderList rl,int el,double xamount)\nPurpose: Try to push back x-locations of NOSPACE events at a given index\n         (to make room for a new NOSPACE event)\nParameters:\n  Input:  RenderList rl  - rendered event list for this voice\n          int el         - index of event to start\n          double xamount - amount to try to push back events\n  Output: -\n  Return: new x-location after current event\n------------------------------------------------------------------------*/\n    movebackNOSPACEEvents(rl, el, xamount) {\n        if (el < 0)\n            return 0;\n        let re = rl.getEvent(el);\n        if (el > 0 && ScoreRenderer.getxspacing(re.getEvent_1()) == ScoreRenderer.XSPACING_NOSPACE) {\n            let curxl = this.movebackNOSPACEEvents(rl, ((el - 1) | 0), xamount);\n            if (curxl < re.getxloc() - xamount)\n                curxl = re.getxloc() - xamount;\n            if (this.renderer.getXPosType_1(re.getEvent_1()) == ScoreRenderer.XPOS_SIMULTANEOUS)\n                curxl = rl.getEvent(((el - 1) | 0)).getxloc();\n            re.setxloc(curxl);\n        }\n        return re.getxend();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void moveupBEFORENEXTEvents(RenderList rl,double xamount)\nPurpose: Try to push up x-locations of BEFORENEXT events at current location\n         (if the measure has increased in size after the events were already\n         rendered)\nParameters:\n  Input:  RenderList rl  - rendered event list for this voice\n          double xamount - amount to push up events\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    moveupBEFORENEXTevents(rl, xamount) {\n        if (this.musictime.i1 == 0)\n            return;\n        let done = false;\n        for (let el = ((this.revloc - 1) | 0); el >= 0 && !done; el--) {\n            if (el < 0)\n                done = true;\n            else {\n                let re = rl.getEvent(el);\n                if (ScoreRenderer.getXSpacing(re) == ScoreRenderer.XSPACING_NOSPACE && this.renderer.getXPosType_2(re) == ScoreRenderer.XPOS_BEFORENEXT)\n                    re.setxloc(re.getxloc() + xamount);\n                else\n                    done = true;\n            }\n        }\n    }\n    /* hack: don't apply to initial clefs/mensurations */\n    /*------------------------------------------------------------------------\nMethod:  double calcXLoc(RenderList rl,RenderedEvent e)\nPurpose: Calculate x location for a rendered event\nParameters:\n  Input:  RenderedEvent e - event\n          RenderList rl   - rendered event list for this voice\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    calcXLoc(rl, re) {\n        let retval;\n        if (this.revloc > 0 && this.renderer.getXPosType_2(re) == ScoreRenderer.XPOS_SIMULTANEOUS)\n            retval = this.lastx;\n        else if (this.revloc > 0 && (this.renderer.getXPosType_2(re) == ScoreRenderer.XPOS_IMMEDIATE || this.immediatePositioning))\n            retval = this.lastx + this.getlastvisibleEvent(rl, this.revloc).getRenderedXSizeWithoutText();\n        else if (ScoreRenderer.getXSpacing(re) == ScoreRenderer.XSPACING_NOSPACE) {\n            retval = this.movebackNOSPACEEvents(rl, ((this.revloc - 1) | 0), re.getrenderedxsize());\n            if (retval < this.xloc - re.getrenderedxsize())\n                retval = this.xloc - re.getrenderedxsize();\n        }\n        else\n            retval = this.xloc;\n        return retval < 0 ? 0 : retval;\n    }\n}\n/* XPOS_SIMULTANEOUS events (vertically aligned with previous event) */\n/* XPOS_IMMEDIATE events (e.g., dots of addition) */\n/* XSPACING_NOSPACE events (e.g., clefs) */\n/*------------------------------------------------------------------------\nClass:   ScoreRenderer\nExtends: -\nPurpose: Prerenders music\n------------------------------------------------------------------------*/\nclass ScoreRenderer {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  ScoreRenderer[] renderSections(PieceData musicToRender,OptionSet options)\nPurpose: Render a complete set of music sections, creating renderers as\n         necessary\nParameters:\n  Input:  PieceData musicToRender - music data to be rendered\n          OptionSet options       - display options\n  Output: -\n  Return: array of score renderers with rendered music section by section\n------------------------------------------------------------------------*/\n    static renderSections(musicToRender, options) {\n        let startX = 0;\n        let numVoices = musicToRender.getVoiceData().length;\n        let sectionParams = Array(numVoices);\n        for (let i = 0; i < numVoices; i++)\n            sectionParams[i] = _RenderedSectionParams__WEBPACK_IMPORTED_MODULE_4__.RenderedSectionParams.new0();\n        let numSections = musicToRender.getNumSections();\n        let renderedSections = Array(numSections);\n        let nummeasures = 0;\n        for (let i = 0; i < numSections; i++) {\n            renderedSections[i] = new ScoreRenderer(i, musicToRender.getSection(i), musicToRender, sectionParams, options, nummeasures, startX);\n            sectionParams = renderedSections[i].getEndingParams();\n            nummeasures += renderedSections[i].getNumMeasures();\n            startX += renderedSections[i].getXsize() + ScoreRenderer.SECTION_END_SPACING;\n        }\n        return renderedSections;\n    }\n    /* initialize voice parameters */\n    /* initialize sections */\n    /*------------------------------------------------------------------------\nMethod:  int calcRendererNum(ScoreRenderer[] renderedSections,int m)\nPurpose: Calculate index of (rendered) section within an array containing\n         a given measure\nParameters:\n  Input:  ScoreRenderer[] renderedSections - section array\n          int m                            - measure number\n  Output: -\n  Return: section number\n------------------------------------------------------------------------*/\n    static calcRendererNum(renderedSections, m) {\n        for (let si = 0; si < renderedSections.length; si++)\n            if (m <= renderedSections[si].getLastMeasureNum())\n                return si;\n        return -1;\n    }\n    /* error: m>number of measures in piece */\n    /*------------------------------------------------------------------------\nMethod:  int getxspacing(Event e)\nPurpose: Calculate x-spacing type for a given event\nParameters:\n  Input:  -\n  Output: -\n  Return: XSPACING type\n------------------------------------------------------------------------*/\n    static getxspacing(e) {\n        if (e.getmusictime().i1 > 0)\n            return ScoreRenderer.XSPACING_TIMED;\n        else\n            return ScoreRenderer.XSPACING_NOSPACE;\n    }\n    static getXSpacing(re) {\n        return ScoreRenderer.getxspacing(re.getEvent_1());\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ScoreRenderer(int sectionNum,MusicSection ms,PieceData fullPieceData,\n                           RenderedSectionParams[] rsp,\n                           OptionSet o,int fmn,double sx)\nPurpose:     Initialize renderer\nParameters:\n  Input:  int sectionNum              - section number\n          MusicSection ms             - music data\n          PieceData fullPieceData     - music data for all sections\n          RenderedSectionParams[] rsp - starting parameters for voices\n          OptionSet o                 - display options\n          int fmn                     - number of first measure in section\n          double sx                   - left x-coordinate of section in full score\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(sectionNum, ms, fullPieceData, rsp, o, fmn, sx) {\n        /* render event */\n        // make sure replacement event sets post params?\n        /* set voice event parameters\n            if (e.hasSignatureClef())\n              {\n                v.clefEvents=new RenderedClefSet(v.clefEvents,re,useModernAccSystem,v.v.getMetaData().getSuggestedModernClef());\n                v.clefedata=getPrincipalClefData(v);\n              }*/\n        /*------------------------------------------------------------------------\n    Method:  void finishEvent(VoiceGfxInfo v,RenderedEvent re)\n    Purpose: Advance voice info counters after rendering an event\n    Parameters:\n      Input:  VoiceGfxInfo  v  - voice to update\n              RenderedEvent re - event which has just been rendered\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.endlig = false;\n        /* leave lastx alone if this event wasn't */\n        /* displayed */\n        /*------------------------------------------------------------------------\n    Method:  double positionWITHNEXTEvents(VoiceGfxInfo v,double xadd)\n    Purpose: Position events with positioning XPOS_WITHNEXT, i.e., untimed events\n             which are always in the same measure/position as the next event\n    Parameters:\n      Input:  VoiceGfxInfo v    - voice to update\n              double       xadd - positioning adjuster for all voices at the\n                                  end of untimed event positioning\n      Output: -\n      Return: new value for xadd\n    ------------------------------------------------------------------------*/\n        this.positioningWITHNEXTEvents = false;\n        //    Proportion starttime=new Proportion(liststart.musictime);\n        /*------------------------------------------------------------------------\n    Method:  double addWithnextEvents(VoiceGfxInfo v,double xadd)\n    Purpose: Render events with positioning XPOS_WITHNEXT, i.e., untimed events\n             which are always in the same measure/position as the next event\n    Parameters:\n      Input:  VoiceGfxInfo v    - voice to update\n              double       xadd - positioning adjuster for all voices at the\n                                  end of untimed event rendering\n      Output: -\n      Return: new value for xadd\n    ------------------------------------------------------------------------*/\n        this.addingWithnextEvents = false;\n        this.sectionNum = sectionNum;\n        this.musicData = ms;\n        this.fullPieceData = fullPieceData;\n        this.options = o;\n        this.curMeasureNum = fmn;\n        this.startX = sx;\n        this.startingParams = Array(rsp.length);\n        for (let i = 0; i < rsp.length; i++)\n            this.startingParams[i] = _RenderedSectionParams__WEBPACK_IMPORTED_MODULE_4__.RenderedSectionParams.new1(rsp[i]);\n        this.render();\n    }\n    render() {\n        if (this.musicData instanceof _DataStruct_MusicMensuralSection__WEBPACK_IMPORTED_MODULE_21__.MusicMensuralSection)\n            this.renderMensuralData(this.musicData);\n        else if (this.musicData instanceof _DataStruct_MusicChantSection__WEBPACK_IMPORTED_MODULE_20__.MusicChantSection)\n            this.renderChantData(this.musicData);\n        else if (this.musicData instanceof _DataStruct_MusicTextSection__WEBPACK_IMPORTED_MODULE_22__.MusicTextSection)\n            this.renderTextData(this.musicData);\n        else\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error: Trying to render unsupported section type\");\n        this.createEndingParams();\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getEvent(vnum, ei) {\n        return this.eventinfo[vnum].getEvent(ei);\n    }\n    getFirstMeasureNum() {\n        return this.measures.getMeasure(0).getMeasureNum();\n    }\n    getLastMeasureNum() {\n        return ((((this.getFirstMeasureNum() + this.getNumMeasures()) | 0) - 1) | 0);\n    }\n    getNumMeasures() {\n        return this.measures.size();\n    }\n    getMeasure(mnum) {\n        return this.measures.getMeasure(((mnum - this.getFirstMeasureNum()) | 0));\n    }\n    getSectionData() {\n        return this.musicData;\n    }\n    getStartX() {\n        return this.startX;\n    }\n    getXsize() {\n        let mi = this.measures.getMeasure(((this.measures.size() - 1) | 0));\n        return mi.leftx + mi.xlength;\n    }\n    getNumVoices() {\n        return this.numVoices;\n    }\n    getRenderedVoice(i) {\n        return this.eventinfo[i];\n    }\n    getEventXLoc(vnum, evnum) {\n        return this.startX + this.eventinfo[vnum].getEvent(evnum).getxloc();\n    }\n    getEndingParams() {\n        return this.endingParams;\n    }\n    getStartingParams() {\n        return this.startingParams;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getVoicedataPlace(int vnum,int reventnum)\nPurpose: Return place of a rendered event in original voice event list\nParameters:\n  Input:  int vnum      - voice number\n          int reventnum - position of event in rendered event list\n  Output: -\n  Return: list place in original voice data\n------------------------------------------------------------------------*/\n    getVoicedataPlace(vnum, reventnum) {\n        return this.eventinfo[vnum].getEvent(reventnum).getEvent_1().getListPlace(this.voicegfx[vnum].v.isDefaultVersion());\n    }\n    getDefaultVoicedataPlace(vnum, reventnum) {\n        return this.eventinfo[vnum].getEvent(reventnum).getEvent_1().getDefaultListPlace();\n    }\n    /*------------------------------------------------------------------------\nMethod:  NoteEvent getNeighboringNoteEvent(int vnum,int eventnum,int dir)\nPurpose: Return last note event before or after specified location\nParameters:\n  Input:  int vnum      - voice number to check\n          int eventnum  - event index to start search\n          int dir       - direction to search (1=right, -1=left)\n  Output: -\n  Return: last NoteEvent\n------------------------------------------------------------------------*/\n    getNeighboringNoteEvent(vnum, eventnum, dir) {\n        let nenum = this.getNeighboringEventNumOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE, vnum, eventnum, dir);\n        if (nenum == -1)\n            return null;\n        else {\n            let e = this.eventinfo[vnum].getEvent(nenum).getEvent_1();\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT)\n                return e.getLowestNote();\n            else\n                return e;\n        }\n    }\n    getNeighboringEventOfType(eventType, vnum, eventnum, dir) {\n        for (let i = eventnum; i >= 0 && i < this.eventinfo[vnum].size(); i += dir) {\n            let e = this.eventinfo[vnum].getEvent(i).getEvent_1();\n            if (e.hasEventType_1(eventType))\n                return this.eventinfo[vnum].getEvent(i);\n        }\n        return null;\n    }\n    getNeighboringEventNumOfType(eventType, vnum, eventnum, dir) {\n        for (let i = eventnum; i >= 0 && i < this.eventinfo[vnum].size(); i += dir) {\n            let e = this.eventinfo[vnum].getEvent(i).getEvent_1();\n            if (e.hasEventType_1(eventType))\n                return i;\n        }\n        return -1;\n    }\n    /*------------------------------------------------------------------------\nMethod:  RenderedClefSet getClefEvents(int vnum)\nPurpose: Return active clef events at current place in voice\nParameters:\n  Input:  int vnum - voice number\n  Output: -\n  Return: set of rendered clef events\n------------------------------------------------------------------------*/\n    /*  RenderedClefSet getClefEvents(int vnum)\n  {\n    return voicegfx[vnum].clefEvents;\n    VoiceGfxInfo v=voicegfx[vnum];\n    if (v.clefevent!=-1)\n      return eventinfo[vnum].getEvent(v.clefevent);\n    return startingParams[musicData.getVoice(vnum).getMetaData().getNum()-1].getClefSet();\n  }*/\n    getPrincipalClefData(v) {\n        if (v.clefEvents == null)\n            return null;\n        return v.clefEvents.getPrincipalClefEvent().getEvent_1();\n    }\n    /*------------------------------------------------------------------------\nMethod:  RenderedEvent getMensEvent(int vnum)\nPurpose: Return active mensuration event at current place in voice\nParameters:\n  Input:  int vnum - voice number\n  Output: -\n  Return: rendered mensuration event\n------------------------------------------------------------------------*/\n    /*  RenderedEvent getMensEvent(int vnum)\n  {\n    return voicegfx[vnum].mensEvent;\n    VoiceGfxInfo v=voicegfx[vnum];\n    if (v.mensevent!=-1)\n      return eventinfo[vnum].getEvent(v.mensevent);\n    return startingParams[musicData.getVoice(vnum).getMetaData().getNum()-1].getMens();\n  }*/\n    /*------------------------------------------------------------------------\nMethod:  int getXPosType(Event e)\nPurpose: Calculate x-positioning type for a given event\nParameters:\n  Input:  -\n  Output: -\n  Return: XPOS type\n------------------------------------------------------------------------*/\n    getXPosType_1(e) {\n        if (e.alignedWithPrevious())\n            return ScoreRenderer.XPOS_SIMULTANEOUS;\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_DOT:\n                {\n                    return ScoreRenderer.XPOS_IMMEDIATE;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END:\n                {\n                    if (this.options.get_displayedittags())\n                        return ScoreRenderer.XPOS_BEFORENEXT;\n                    else\n                        return ScoreRenderer.XPOS_INVISIBLE;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ORIGINALTEXT:\n                {\n                    if (!this.options.get_displayedittags())\n                        return ScoreRenderer.XPOS_WITHNEXT;\n                }\n            default:\n                {\n                    return ScoreRenderer.XPOS_BEFORENEXT;\n                }\n        }\n    }\n    getXPosType_2(re) {\n        return this.getXPosType_1(re.getEvent_1());\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initEvents(MusicSection musicData)\nPurpose: Initialize voice list for event drawing\nParameters:\n  Input:  MusicSection musicData - music data\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initEvents(musicData) {\n        this.initCurDrawingParams();\n        let curVersion = musicData.getVersion();\n        this.numVoices = musicData.getNumVoices_1();\n        this.voicegfx = Array(this.numVoices);\n        if (this.numVoices > 0) {\n            for (let i = 0; i < this.numVoices; i++) {\n                this.voicegfx[i] = new VoiceGfxInfo(this, musicData.getVoice_1(i));\n                this.voicegfx[i].voicenum = i;\n            }\n            for (let i = 0; i < ((this.numVoices - 1) | 0); i++)\n                this.voicegfx[i].next = this.voicegfx[(((i + 1) | 0))];\n            for (let i = 1; i < this.numVoices; i++)\n                this.voicegfx[i].last = this.voicegfx[(((i - 1) | 0))];\n            this.eventinfo = Array(this.numVoices);\n            for (let i = 0; i < this.numVoices; i++)\n                if (musicData.getVoice_1(i) != null) {\n                    this.eventinfo[i] = _RenderList__WEBPACK_IMPORTED_MODULE_2__.RenderList.new0_2(this.options, musicData.getVoice_1(i).getMetaData(), musicData);\n                    let globalVnum = ((musicData.getVoice_1(i).getMetaData().getNum() - 1) | 0);\n                    this.voicegfx[i].musictime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(0, 1);\n                    this.voicegfx[i].xadd = 0;\n                    this.voicegfx[i].xloc = 0;\n                    this.voicegfx[i].lastx = 0;\n                    this.voicegfx[i].evloc = (this.voicegfx[i].revloc = 0);\n                    this.voicegfx[i].ligInfo = _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.new3(musicData.getVoice_1(i), this.eventinfo[i]);\n                    this.voicegfx[i].tieInfo = _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.new2(musicData.getVoice_1(i), this.eventinfo[i], _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.TIE);\n                    this.voicegfx[i].colorBeginLoc = -1;\n                    this.voicegfx[i].colorEndLoc = -1;\n                    this.voicegfx[i].varReadingInfo = null;\n                    this.voicegfx[i].clefEvents = this.startingParams[globalVnum].getClefSet();\n                    this.voicegfx[i].clefedata = this.getPrincipalClefData(this.voicegfx[i]);\n                    this.voicegfx[i].mensEvent = this.startingParams[globalVnum].getMens();\n                    this.voicegfx[i].curProportion = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.EQUALITY;\n                    this.voicegfx[i].tempoProportion = this.measureProportion;\n                    this.voicegfx[i].numMinimsInBreve = this.numMinimsInBreve;\n                    this.voicegfx[i].curColoration = musicData.getBaseColoration();\n                    this.voicegfx[i].inEditorialSection = false;\n                    this.voicegfx[i].lastNoteEvent = null;\n                    this.voicegfx[i].curSoundingEvent = null;\n                    this.voicegfx[i].replacementEvents = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n                    this.voicegfx[i].withnextEvents = 0;\n                    this.voicegfx[i].lastTimedEventNum = -1;\n                    this.voicegfx[i].immediatePositioning = false;\n                    this.voicegfx[i].varDefaultTimeAdd = null;\n                    this.voicegfx[i].respaceAfterVar = false;\n                    this.voicegfx[i].missingInVersion = curVersion == null ? false : curVersion.isVoiceMissing(musicData.getVoice_1(globalVnum).getMetaData()) || musicData.getVoice_1(i).getMissingVersions().contains(curVersion);\n                }\n                else\n                    this.eventinfo[i] = null;\n            for (let i = 0; i < ((this.numVoices - 1) | 0); i++)\n                this.voicegfx[i].next = this.voicegfx[(((i + 1) | 0))];\n            this.voicegfx[(((this.numVoices - 1) | 0))].next = null;\n            this.voicegfx[0].last = null;\n            for (let i = 1; i < this.numVoices; i++)\n                this.voicegfx[i].last = this.voicegfx[(((i - 1) | 0))];\n            for (let i = 0; i < this.numVoices; i++)\n                if (musicData.getVoice_1(i) == null) {\n                    if (this.voicegfx[i].last != null)\n                        this.voicegfx[i].last.next = this.voicegfx[i].next;\n                    if (this.voicegfx[i].next != null)\n                        this.voicegfx[i].next.last = this.voicegfx[i].last;\n                }\n        }\n        this.barline_type = this.options.get_barline_type();\n        this.useModernClefs = this.options.get_usemodernclefs();\n        this.noteShapeType = this.options.get_noteShapeType();\n        this.useModernAccSystem = this.options.getUseModernAccidentalSystem();\n        this.displayallnewlineclefs = this.options.get_displayallnewlineclefs();\n        this.displayVarTexts = this.options.markVariant(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_26__.VariantReading.VAR_ORIGTEXT) && !this.options.get_displayedittags();\n        if (this.numVoices > 0)\n            this.liststart = this.voicegfx[musicData.getValidVoicenum(0)];\n        this.finalisList = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_13__.LinkedList();\n        this.measures = new _MeasureList__WEBPACK_IMPORTED_MODULE_10__.MeasureList(this.numVoices);\n        this.curmeasure = this.measures.newMeasure(this.curMeasureNum, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(0, 1), this.numMinimsInBreve, this.measureProportion, this.BREVESCALE, this.barxstart);\n        for (let i = 0; i < this.numVoices; i++)\n            if (musicData.getVoice_1(i) != null) {\n                this.curmeasure.reventindex[i] = this.voicegfx[i].revloc;\n                this.curmeasure.startClefEvents[i] = this.voicegfx[i].clefEvents;\n                this.curmeasure.startMensEvent[i] = this.voicegfx[i].mensEvent;\n            }\n        this.curSonority = _RenderedSonority__WEBPACK_IMPORTED_MODULE_3__.RenderedSonority.new0();\n        this.sonorityList = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        this.sonorityList.add(this.curSonority);\n    }\n    /* create and initialize voice graphics info array */\n    /* initialize voices */\n    /* remove unused voices from rendering list */\n    /* get drawing options */\n    /* set initial drawing parameters */\n    /* initialize measure list */\n    initCurDrawingParams() {\n        this.barxstart = 0;\n        this.skipevents = 0;\n        this.errorRespacingTime = null;\n        this.variantVoice = null;\n        this.baseMensuration = null;\n        this.numMinimsInBreve = 4;\n        this.measureProportion = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.EQUALITY;\n        this.MINIMSCALE = 25;\n        this.BREVESCALE = this.MINIMSCALE * this.numMinimsInBreve;\n        this.lastMens = null;\n        this.lastMensTime = null;\n    }\n    /* default to C */\n    /*------------------------------------------------------------------------\nMethod:  void createEndingParams()\nPurpose: Store voice parameters at the end of rendering (end of section)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createEndingParams() {\n        this.endingParams = Array(this.startingParams.length);\n        for (let i = 0; i < this.startingParams.length; i++)\n            this.endingParams[i] = _RenderedSectionParams__WEBPACK_IMPORTED_MODULE_4__.RenderedSectionParams.new1(this.startingParams[i]);\n        for (let i = 0; i < this.numVoices; i++)\n            if (this.musicData.getVoice_1(i) != null) {\n                let vnum = ((this.musicData.getVoiceMetaData_1(i).getNum() - 1) | 0);\n                this.endingParams[vnum].setClefSet(this.voicegfx[i].clefEvents);\n                this.endingParams[vnum].setMens(this.voicegfx[i].mensEvent);\n                this.endingParams[vnum].usedInSection = true;\n            }\n            else\n                this.endingParams[i].usedInSection = false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean newVoiceArrangement()\nPurpose: Check whether a different set of voices is used in this section\n         than in the last\nParameters:\n  Input:  -\n  Output: -\n  Return: true if voice sets are different\n------------------------------------------------------------------------*/\n    newVoiceArrangement() {\n        for (let i = 0; i < this.startingParams.length; i++)\n            if (this.startingParams[i].usedInSection != this.endingParams[i].usedInSection)\n                return true;\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void render(MusicSection ms)\nPurpose: Render music into measure structure\nParameters:\n  Input:  MusicSection ms - music data to render\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    renderMensuralData(ms) {\n        this.initEvents(ms);\n        this.createRenderLists();\n        this.positionMensuralEvents();\n    }\n    renderChantData(ms) {\n        this.initEvents(ms);\n        this.positionChantEvents(ms);\n    }\n    renderTextData(ms) {\n        this.initEvents(ms);\n        this.positionTextSection(ms);\n    }\n    createRenderLists() {\n        for (let v of this.voicegfx)\n            if (v != null && v.v != null) {\n                let rl = this.eventinfo[v.voicenum];\n                this.curMeasureNum = this.getFirstMeasureNum();\n                this.curmeasure = this.measures.get(((this.curMeasureNum - this.getFirstMeasureNum()) | 0));\n                this.skipevents = 0;\n                let withnextStart = -1;\n                let newEventsInserted = 0;\n                for (v.evloc = 0; v.evloc < v.v.getNumEvents(); v.evloc++) {\n                    let e = v.v.getEvent(v.evloc);\n                    while (v.musictime.greaterThan(this.curmeasure.getEndMusicTime_1()))\n                        this.advanceOneMeasure(v);\n                    if (this.positionInNewMeasure(e, v))\n                        this.advanceOneMeasure(v);\n                    if (newEventsInserted > 0) {\n                        this.adjustNewEventMeasureNums(v, newEventsInserted);\n                        newEventsInserted = 0;\n                    }\n                    let re = this.addOneEvent(e, rl, v, this.skipevents == 0);\n                    if (this.skipevents > 0) {\n                        if (--this.skipevents == 0)\n                            newEventsInserted = this.insertReplacementEvents_1(v);\n                    }\n                    else if (v.replacementEvents.size() > 0)\n                        newEventsInserted = this.insertReplacementEvents_1(v);\n                }\n                this.initCurDrawingParams();\n            }\n        for (let v of this.voicegfx)\n            if (v != null) {\n                for (let mi = ((this.measures.size() - 1) | 0); mi >= 0 && this.measures.get(mi).reventindex[v.voicenum] == -1; mi--) {\n                    let m = this.measures.get(mi);\n                    m.reventindex[v.voicenum] = v.revloc;\n                    m.startClefEvents[v.voicenum] = v.clefEvents;\n                    m.startMensEvent[v.voicenum] = v.mensEvent;\n                    m.tempoProportion[v.voicenum] = v.tempoProportion;\n                }\n            }\n    }\n    /* reset parameters */\n    /* fill out info for \"empty\" measures beyond the end of voice parts */\n    addOneEvent(e, rl, v, display) {\n        e = this.setPrerenderParameters(v, e);\n        if (this.skipevents > 0)\n            display = false;\n        let re = this.createRenderedEvent(e, rl, v, display);\n        this.finishEvent(v, re);\n        return re;\n    }\n    createRenderedEvent(e, rl, v, display) {\n        let re = rl.addevent_1(display, e, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, v.clefEvents, v.lastNoteEvent, v.mensEvent, v.curProportion, v.curColoration, v.inEditorialSection, v.missingInVersion, v.ligInfo, this.endlig, v.tieInfo, v.v.getMetaData().getSuggestedModernClef(), v.varReadingInfo));\n        re.setmusictime(v.musictime);\n        return re;\n    }\n    pushEventsIntoCurMeasure(v, withnextStart, curMeasure) {\n        if (withnextStart < curMeasure.reventindex[v.voicenum])\n            curMeasure.reventindex[v.voicenum] = withnextStart;\n        for (let ei = withnextStart; ei < v.revloc; ei++)\n            this.eventinfo[v.voicenum].getEvent(ei).setMeasureNum(curMeasure.getMeasureNum());\n    }\n    adjustNewEventMeasureNums(v, numNewEvents) {\n        for (let ei = ((v.revloc - numNewEvents) | 0); ei < v.revloc; ei++) {\n            let re = this.eventinfo[v.voicenum].getEvent(ei);\n            let mnum = ((re.getmeasurenum() + 1) | 0);\n            let m = this.getMeasure(mnum);\n            while (m != null && re.getmusictime().greaterThanOrEqualTo(m.startMusicTime)) {\n                this.pushEventsIntoCurMeasure(v, ei, m);\n                m = this.getMeasure(++mnum);\n            }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  int insertReplacementEvents(VoiceGfxInfo v)\nPurpose: Insert newly-created events into render list\nParameters:\n  Input:  -\n  Output: VoiceGfxInfo v - voice to update\n  Return: number of events inserted\n------------------------------------------------------------------------*/\n    insertReplacementEvents_1(v) {\n        let re;\n        let lastevent = null;\n        let rl = this.eventinfo[v.voicenum];\n        let numEvents = v.replacementEvents.size();\n        for (let e of v.replacementEvents) {\n            re = this.createRenderedEvent(e, rl, v, true);\n            if (this.skipevents != 0)\n                this.setPostrenderParameters_1(v, re);\n            this.finishEvent(v, re);\n        }\n        v.replacementEvents = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        return numEvents;\n    }\n    finishEvent(v, re) {\n        if (this.skipevents == 0)\n            this.setPostrenderParameters_1(v, re);\n        let vl = this.eventinfo[v.voicenum];\n        let XPosType = this.getXPosType_2(re);\n        if ((XPosType == ScoreRenderer.XPOS_IMMEDIATE || XPosType == ScoreRenderer.XPOS_SIMULTANEOUS) && v.lastTimedEventNum > -1) {\n            let lastTimedEvent = vl.getEvent(v.lastTimedEventNum);\n            let newMeasureNum = lastTimedEvent.getmeasurenum();\n            if (newMeasureNum != this.curMeasureNum)\n                for (let ei = ((v.lastTimedEventNum + 1) | 0); ei <= v.revloc; ei++) {\n                    vl.getEvent(ei).setMeasureNum(newMeasureNum);\n                    for (let mi = ((((newMeasureNum - this.getFirstMeasureNum()) | 0) + 1) | 0); mi < this.measures.size() && this.measures.get(mi).reventindex[v.voicenum] != -1; mi++)\n                        this.measures.get(mi).reventindex[v.voicenum]++;\n                }\n            lastTimedEvent.setAttachedEventIndex(v.revloc);\n        }\n        if (this.withnextStart == -1) {\n            if (XPosType == ScoreRenderer.XPOS_WITHNEXT)\n                this.withnextStart = v.revloc;\n        }\n        else if (XPosType != ScoreRenderer.XPOS_WITHNEXT && XPosType != ScoreRenderer.XPOS_INVISIBLE) {\n            this.pushEventsIntoCurMeasure(v, this.withnextStart, this.curmeasure);\n            this.withnextStart = -1;\n        }\n        if (re.getMusicLength().i1 > 0)\n            v.lastTimedEventNum = v.revloc;\n        v.revloc++;\n        if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END) {\n            v.varReadingInfo = null;\n        }\n        if (this.endlig) {\n            v.ligInfo = _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.new3(v.v, vl);\n            this.endlig = false;\n        }\n        if (this.noteShapeType == _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_NOTESHAPE_ORIG)\n            re.setMusicLength(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.quotient(re.getEvent_1().getmusictime(), _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.product(v.curProportion, v.tempoProportion)));\n        else\n            re.setMusicLength(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.quotient(re.getEvent_1().getmusictime(), v.tempoProportion));\n        if (v.respaceAfterVar) {\n            re.getMusicLength().add(v.varDefaultTimeAdd);\n            v.varDefaultTimeAdd = null;\n            v.respaceAfterVar = false;\n        }\n        if (this.errorRespacingTime != null && _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.sum(v.musictime, re.getMusicLength()).greaterThan(this.errorRespacingTime))\n            re.setMusicLength(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.difference(this.errorRespacingTime, v.musictime));\n        v.musictime.add(re.getMusicLength());\n    }\n    /* position events in same measure as last */\n    /* check whether to push up previous events into this measure */\n    /*        if (skipevents==0)\n          v.varReadingInfo.lastEventNum++;*/\n    //        v.inEditorialSection=false;\n    //    if (v.tieInfo.numNotes>1)\n    //      v.tieInfo=new RenderedLigature(v.v,vl,RenderedLigature.TIE);\n    /* advance music time after timed event */\n    //Proportion.product(re.getMusicLength(),v.tempoProportion));\n    /*------------------------------------------------------------------------\nMethod:  Event setPrerenderParameters(VoiceGfxInfo v,Event e)\nPurpose: Set voice parameters if modified by an event about to be rendered\nParameters:\n  Input:  VoiceGfxInfo  v - voice to update\n          Event         e - event to be rendered\n  Output: -\n  Return: event to be rendered, replaced if necessary\n------------------------------------------------------------------------*/\n    setPrerenderParameters(v, e) {\n        if (this.skipevents > 0)\n            return e;\n        if (this.noteShapeType != _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_NOTESHAPE_ORIG) {\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE)\n                if (this.options.displayColorationBracket(e)) {\n                    v.colorEndLoc = v.revloc;\n                    if (v.colorBeginLoc == -1)\n                        v.colorBeginLoc = v.revloc;\n                }\n                else\n                    v.colorBeginLoc = -1;\n            else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_SECTIONEND)\n                v.colorBeginLoc = -1;\n            e = this.makeModernNoteShapes(e, v);\n        }\n        if (e.hasSignatureClef_1()) {\n            let skippedClefEvents = this.calcNumSkippedClefEvents(v, v.evloc);\n            if (skippedClefEvents > 0)\n                this.skipevents += skippedClefEvents;\n            if (this.useModernClefs && e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT && e.hasPrincipalClef_1()) {\n                for (let ei = e.iterator_2(); ei.hasNext();) {\n                    let ee = ei.next();\n                    if (ee.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF && !ee.hasPrincipalClef_1())\n                        v.replacementEvents.add(ee);\n                }\n                e = e.noSigClefEvent();\n            }\n        }\n        let mensInfo = e.getMensInfo_1();\n        if (mensInfo != null) {\n            let me = (e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MENS));\n            this.baseMensuration = mensInfo;\n            v.numMinimsInBreve = ((this.baseMensuration.prolatio * this.baseMensuration.tempus) | 0);\n            v.tempoProportion = this.baseMensuration.tempoChange;\n            if (!me.noScoreSig()) {\n                this.numMinimsInBreve = v.numMinimsInBreve;\n                this.measureProportion = v.tempoProportion;\n            }\n            let oldBS = this.BREVESCALE;\n            this.BREVESCALE = this.MINIMSCALE * this.numMinimsInBreve / this.measureProportion.toDouble();\n            if (!me.noScoreSig() && v.musictime.lessThan(this.curmeasure.getEndMusicTime_1())) {\n                if (this.curmeasure.numMinims != this.numMinimsInBreve || !this.curmeasure.scaleSet) {\n                    this.curmeasure.numMinims = this.numMinimsInBreve;\n                    this.curmeasure.xlength += this.BREVESCALE - oldBS;\n                    this.curmeasure.defaultTempoProportion = this.measureProportion;\n                    this.curmeasure.scaleSet = true;\n                }\n                this.curmeasure.tempoProportion[v.voicenum] = v.tempoProportion;\n            }\n            this.lastMens = mensInfo;\n            this.lastMensTime = v.musictime;\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_DOT) {\n            if ((e.getdottype() & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_17__.DotEvent.DT_Addition) != 0)\n                v.lastNoteEvent = this.getLastNoteEvent(v, ((v.revloc - 1) | 0));\n            if (this.noteShapeType != _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_NOTESHAPE_ORIG)\n                this.skipevents++;\n        }\n        if (!this.displayallnewlineclefs && e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CUSTOS) {\n            let nexte = v.v.getEvent(((v.evloc + 1) | 0));\n            if (nexte != null && nexte.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LINEEND)\n                this.skipevents++;\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LINEEND && !this.displayallnewlineclefs) {\n            let nexte = v.v.getEvent(((v.evloc + 1) | 0));\n            this.skipevents++;\n            if (nexte != null && nexte.hasSignatureClef_1() && nexte.principalClefEquals(v.clefedata, this.useModernClefs)) {\n                if (this.useModernAccSystem || nexte.getModernKeySig().equals(e.getModernKeySig()))\n                    this.skipevents += this.calcNumClefEvents(v, ((v.evloc + 1) | 0));\n                if (this.useModernAccSystem && !nexte.getModernKeySig().equals(e.getModernKeySig()))\n                    v.replacementEvents.addAll(this.constructDisplayClefSet(v.clefEvents, nexte));\n            }\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_PROPORTION) {\n            let newp = e.getproportion();\n            v.curProportion = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new1(v.curProportion);\n            v.curProportion.multiply_2(newp);\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_COLORCHANGE)\n            v.curColoration = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_16__.Coloration.new1(v.curColoration, e.getcolorscheme());\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_START) {\n            let nextEvent = v.v.getEvent(((v.evloc + 1) | 0));\n            let skippedClefEvents = this.calcNumSkippedClefEvents(v, ((v.evloc + 1) | 0));\n            let nextDisplayedEvent = v.v.getEvent(((((v.evloc + skippedClefEvents) | 0) + 1) | 0));\n            if (skippedClefEvents > 0 && nextDisplayedEvent.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END)\n                this.skipevents += ((skippedClefEvents + 2) | 0);\n            else {\n                v.varReadingInfo = _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_6__.RenderedEventGroup.new0(v.revloc);\n                v.varReadingInfo.grouptype = _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_6__.RenderedEventGroup.EVENTGROUP_VARIANTREADING;\n                v.varReadingInfo.varReading = e.getVariantReading_1(this.musicData.getVersion());\n                v.varReadingInfo.varMarker = e;\n                if (v.varReadingInfo.varReading != null && v.varReadingInfo.varReading.isError()) {\n                    let defaultReadingLength = e.getDefaultLength();\n                    let varReadingLength = v.varReadingInfo.varReading.getLength();\n                    if (varReadingLength.greaterThan(defaultReadingLength)) {\n                        defaultReadingLength.divide(v.curProportion);\n                        defaultReadingLength.divide(v.tempoProportion);\n                        this.errorRespacingTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.sum(v.musictime, defaultReadingLength);\n                        this.variantVoice = v;\n                    }\n                    else if (defaultReadingLength.greaterThan(varReadingLength)) {\n                        v.varDefaultTimeAdd = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.difference(defaultReadingLength, varReadingLength);\n                        v.varDefaultTimeAdd.divide(v.curProportion);\n                        v.varDefaultTimeAdd.divide(v.tempoProportion);\n                    }\n                }\n                if (this.displayVarTexts && v.varReadingInfo.varMarker.includesVarType(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_26__.VariantReading.VAR_ORIGTEXT))\n                    v.replacementEvents.addAll(this.constructVarTextEvents_2(v));\n            }\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END) {\n            if (v.varDefaultTimeAdd != null)\n                v.respaceAfterVar = true;\n            if (v.varReadingInfo == null) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error! VARIANTDATA_END without START; V\" + v.voicenum + \", evloc=\" + v.evloc);\n                for (let ei = 0; ei < v.evloc; ei++)\n                    v.v.getEvent(ei).prettyprint_1();\n            }\n            v.varReadingInfo.lastEventNum = ((v.revloc - 1) | 0);\n            v.varReadingInfo.calculateYMinMax(this.eventinfo[v.voicenum]);\n            if (v.varReadingInfo.firstEventNum == v.varReadingInfo.lastEventNum)\n                this.eventinfo[v.voicenum].getEvent(v.varReadingInfo.firstEventNum).setDisplay(true);\n            if (this.skipevents == 0)\n                v.varReadingInfo.lastEventNum++;\n            this.errorRespacingTime = null;\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ORIGINALTEXT) {\n            if (this.displayVarTexts) {\n                this.skipevents++;\n                v.replacementEvents.addAll(this.constructVarTextEvents_1(v, e));\n            }\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LACUNA) {\n            v.inEditorialSection = true;\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LACUNA_END) {\n            v.inEditorialSection = false;\n        }\n        return e;\n    }\n    /* separate modern clefs from accidentals */\n    //&& !useModernAccSystem)\n    /*        else\n          if (v.clefevent==-1 ||\n              e.getClefSet(useModernAccSystem)!=v.clefedata.getClefSet(useModernAccSystem))\n            {\n              v.clefevent=v.revloc;\n              v.clefedata=e;\n            }*/\n    /*        if (baseMensuration==null ||\n             if at least two voices change to the same mensuration\n               simultaneously, use as main mensuration\n            (v.musictime.equals(lastMensTime) && lastMens.equals(mensInfo)))*/\n    /* set base mensuration info for score measure structure */\n    /* change current bar if mensuration takes effect here */\n    /* don't show any original dot events in modern notation\n           (notes receive their own new attached dots) */\n    /* skip lineend custodes unless displaying newline clefs */\n    /* at line end, construct display for next clef set */\n    //                !nexte.getClefSet(useModernAccSystem).contradicts(v.clefEvents.getLastClefSet(useModernAccSystem),useModernClefs,v.v.getMetaData().getSuggestedModernClef()))\n    //                nexte.getClefSet(useModernAccSystem).contradicts(v.clefEvents.getLastClefSet(useModernAccSystem),useModernClefs,v.v.getMetaData().getSuggestedModernClef()))\n    //System.out.println(\"startvar: V\"+v.voicenum+\", evloc=\"+v.evloc);\n    /* nothing displayed in editorial section: don't display brackets */\n    //System.out.println(\"startvar: V\"+v.voicenum+\", evloc=\"+v.evloc);\n    //            v.inEditorialSection=true;\n    /* show multiple texts? */\n    //else\n    //System.out.println(\"endvar: V\"+v.voicenum+\", evloc=\"+v.evloc);\n    /*        v.varReadingInfo.lastEventNum++;\n        v.varReadingInfo=null;\n        v.inEditorialSection=false;*/\n    setPostrenderParameters_1(v, re) {\n        this.setPostrenderParameters_2(v, re, true);\n    }\n    setPostrenderParameters_2(v, re, doLigs) {\n        let e = re.getEvent_1();\n        if (doLigs) {\n            this.endlig = this.doLigInfo(v, e);\n            re.setLigInfo(v.ligInfo);\n            re.setLigEnd(this.endlig);\n        }\n        let endTie = v.tieInfo.firstEventNum != -1;\n        this.doTieEndInfo(v, e);\n        re.setTieInfo(v.tieInfo);\n        this.doTieStartInfo(v, e);\n        if (!endTie)\n            re.setTieInfo(v.tieInfo);\n        else\n            re.setDoubleTied(v.tieInfo.firstEventNum != -1);\n        v.lastNoteEvent = null;\n        if (e.hasSignatureClef_1()) {\n            v.clefEvents = re.getClefEvents();\n            v.clefedata = e;\n            if (e.hasPrincipalClef_1() && v.musictime.equals(this.curmeasure.startMusicTime))\n                this.curmeasure.lastBeginClefIndex[v.voicenum] = v.revloc;\n        }\n        if (e.getMensInfo_1() != null)\n            v.mensEvent = re;\n        if (v.colorBeginLoc == v.revloc)\n            re.addcolorbracket(0);\n        else if (v.colorBeginLoc == -1 && v.colorEndLoc != -1) {\n            this.eventinfo[v.voicenum].getEvent(v.colorEndLoc).addcolorbracket(1);\n            v.colorEndLoc = -1;\n        }\n    }\n    /* this is gonna mess up if e is a multi-event with more than a clef */\n    //getPrincipalClefData(v);\n    /*------------------------------------------------------------------------\nMethod:  Event makeModernNoteShape(Event e,ArrayList<Event> el)\nPurpose: Replace note/rest with modern notational element(s)\nParameters:\n  Input:  Event e - event to check/replace\n  Output: ArrayList<Event> el - list of events to be inserted in current voice\n  Return: e if no change, otherwise modern notation version of e\n------------------------------------------------------------------------*/\n    makeModernNoteShapes(e, v) {\n        let newEvents = e.makeModernNoteShapes_1(v.musictime, this.curmeasure.startMusicTime, this.curmeasure.numMinims, this.curmeasure.defaultTempoProportion, v.curProportion, true);\n        if (newEvents.size() > 1)\n            v.replacementEvents.addAll(newEvents.subList(1, newEvents.size()));\n        return newEvents.get(0);\n    }\n    /* ties */\n    /*------------------------------------------------------------------------\nMethod:  void advanceOneMeasure(VoiceGfxInfo v)\nPurpose: Advance measure counter and create one new measure structure if\n         necessary\nParameters:\n  Input:  VoiceGfxInfo v - voice currently being rendered\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    advanceOneMeasure(v) {\n        this.curMeasureNum++;\n        if (((this.curMeasureNum - this.getFirstMeasureNum()) | 0) >= this.measures.size())\n            this.curmeasure = this.measures.newMeasure(this.curMeasureNum, this.curmeasure.getEndMusicTime_1(), this.numMinimsInBreve, this.measureProportion, this.BREVESCALE, 0);\n        else\n            this.curmeasure = this.measures.get(((this.curMeasureNum - this.getFirstMeasureNum()) | 0));\n        this.curmeasure.reventindex[v.voicenum] = v.revloc;\n        this.curmeasure.startClefEvents[v.voicenum] = v.clefEvents;\n        this.curmeasure.startMensEvent[v.voicenum] = v.mensEvent;\n        this.curmeasure.tempoProportion[v.voicenum] = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new1(v.tempoProportion);\n    }\n    /* deal with end of bar issues */\n    positionInNewMeasure(e, v) {\n        if (this.skipevents > 0)\n            return false;\n        if (e.getmusictime().i1 <= 0)\n            return false;\n        return v.musictime.greaterThanOrEqualTo(this.curmeasure.getEndMusicTime_1());\n    }\n    /* POSITIONING CODE */\n    /*------------------------------------------------------------------------\nMethod:  void positionMensuralEvents()\nPurpose: After lists have been rendered for individual voices, assign\n         x-positions to all events/measures\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    positionMensuralEvents() {\n        this.initVoiceCounters();\n        do {\n            this.advanceVoices(this.positionUntimedEvents());\n            while (this.liststart != null && this.liststart.musictime.greaterThan(this.curmeasure.getEndMusicTime_1()))\n                this.advanceOneMeasureSpacing();\n            if (this.liststart != null && this.positionInNewMeasure(this.eventinfo[this.liststart.voicenum].getEvent(this.liststart.revloc).getEvent_1(), this.liststart))\n                this.advanceOneMeasureSpacing();\n            this.advanceVoices(this.positionTimedAndImmediateEvents());\n            while (this.liststart != null && this.liststart.musictime.greaterThan(this.curmeasure.getEndMusicTime_1()))\n                this.advanceOneMeasureSpacing();\n        } while (this.liststart != null);\n    }\n    /* advance one measure if leftmost voice is past current measure limit */\n    initVoiceCounters() {\n        this.curMeasureNum = 0;\n        this.curmeasure = this.measures.get(this.curMeasureNum);\n        for (let v of this.voicegfx)\n            if (v != null) {\n                v.musictime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(0, 1);\n                v.revloc = 0;\n            }\n    }\n    /*------------------------------------------------------------------------\nMethod:  double positionUntimedEvents()\nPurpose: Position untimed events for all voices in the leftmost place (i.e. those\n         at the front of the voice list)\nParameters:\n  Input:  -\n  Output: -\n  Return: Total amount of horizontal space needed by the events\n------------------------------------------------------------------------*/\n    positionUntimedEvents() {\n        let xadd = 0;\n        let v;\n        let nextv;\n        let re;\n        if (this.liststart == null)\n            return xadd;\n        this.starttime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new1(this.liststart.musictime);\n        nextv = this.liststart.next;\n        for (v = this.liststart; v != null && v.musictime.equals(this.starttime); v = nextv) {\n            nextv = v.next;\n            for (re = this.eventinfo[v.voicenum].getEvent(v.revloc); re != null && re.getMusicLength().i1 == 0; re = this.eventinfo[v.voicenum].getEvent(this.incrementVoicePosition(v))) {\n                let xpos = this.getXPosType_2(re);\n                if (xpos == ScoreRenderer.XPOS_WITHNEXT || (xpos == ScoreRenderer.XPOS_INVISIBLE && v.withnextEvents > 0))\n                    v.withnextEvents++;\n                else\n                    xadd = this.positionUntimedEvent(v, re, xadd);\n            }\n        }\n        return xadd;\n    }\n    /*------------------------------------------------------------------------\nMethod:  double positionTimedandImmediateEvents()\nPurpose: Position one timed event for each voice in last place along with\n         XPOS_IMMEDIATE untimed events following it (e.g., dots)\nParameters:\n  Input:  -\n  Output: -\n  Return: Total amount of horizontal space needed by the events\n------------------------------------------------------------------------*/\n    positionTimedAndImmediateEvents() {\n        let v;\n        let nextv;\n        let re;\n        let xadd = 0;\n        if (this.liststart == null)\n            return xadd;\n        nextv = this.liststart.next;\n        for (v = this.liststart; v != null && this.starttime.greaterThanOrEqualTo(v.musictime); v = nextv) {\n            nextv = v.next;\n            re = this.eventinfo[v.voicenum].getEvent(v.revloc);\n            if (re == null)\n                this.removeVoice(v);\n            else {\n                xadd = this.positionTimedEvent(v, re, xadd);\n                this.recalcVoiceList(v);\n            }\n        }\n        return xadd;\n    }\n    /*------------------------------------------------------------------------\nMethod:  double positionUntimedEvent(VoiceGfxInfo v,RenderedEvent e,double xadd)\nPurpose: Assign position to one untimed event\nParameters:\n  Input:  VoiceGfxInfo v    - voice to update\n          RenderedEvent e   - event to position\n          double       xadd - positioning adjuster for all voices at the\n                              end of untimed event rendering\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    positionUntimedEvent(v, re, xadd) {\n        let rl = this.eventinfo[v.voicenum];\n        let curx;\n        xadd = this.positionWITHNEXTEvents(v, xadd);\n        re.setxloc(curx = v.calcXLoc(rl, re));\n        xadd = this.finishPositioningUntimedEvent(v, re, curx, xadd);\n        return xadd;\n    }\n    /*------------------------------------------------------------------------\nMethod:  double positionTimedEvent(VoiceGfxInfo v,RenderedEvent re,double xadd)\nPurpose: Position one timed event along with XPOS_IMMEDIATE untimed events\n         following it (e.g., dots)\nParameters:\n  Input:  VoiceGfxInfo v   - voice of event\n          RenderedEvent re - event to position\n          double xadd      - total amount of horizontal space needed\n                             for adjusting all voices after this phase\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    positionTimedEvent(v, re, xadd) {\n        let rl = this.eventinfo[v.voicenum];\n        xadd = this.positionWITHNEXTEvents(v, xadd);\n        re.setxloc(v.xloc);\n        v.revloc++;\n        this.updateSonority(re, v);\n        v.lastx = v.xloc;\n        let XLocAdd = this.MINIMSCALE * re.getMusicLength().toDouble();\n        if (XLocAdd < re.getrenderedxsize()) {\n            v.xadd += re.getrenderedxsize() - XLocAdd;\n            if (xadd < v.xadd)\n                xadd = v.xadd;\n            XLocAdd = re.getrenderedxsize();\n        }\n        v.xloc += XLocAdd;\n        let nextre = rl.getEvent(v.revloc);\n        let immedEventNum = re.getAttachedEventIndex();\n        if (immedEventNum > -1) {\n            v.withnextEvents = 0;\n            v.immediatePositioning = true;\n            while (v.revloc <= immedEventNum) {\n                xadd = this.positionUntimedEvent(v, nextre, xadd);\n                nextre = rl.getEvent(this.incrementVoicePosition(v));\n            }\n            v.immediatePositioning = false;\n        }\n        v.musictime = nextre.getmusictime();\n        return xadd;\n    }\n    //(rl.getEvent(v.revloc).getmusictime().toDouble()-re.getmusictime().toDouble());\n    /* position untimed XPOS_IMMEDIATE events (e.g., dots)\n       and XPOS_SIMULTANEOUS events (vertically aligned with current event) */\n    /*------------------------------------------------------------------------\nMethod:  void recalcVoiceList(VoiceGfxInfo v)\nPurpose: Adjust pointers within voice list to maintain sorting order after one\n         voice has moved forward\nParameters:\n  Input:  VoiceGfxInfo v - voice which has just been advanced (i.e. in\n                           which timed events have just been positioned)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcVoiceList(v) {\n        let moveplace = v;\n        while (!((moveplace.next == null) || (moveplace.next.musictime.greaterThan(v.musictime))))\n            moveplace = moveplace.next;\n        if (moveplace != v) {\n            this.removeVoice(v);\n            if (moveplace.next != null)\n                moveplace.next.last = v;\n            v.next = moveplace.next;\n            v.last = moveplace;\n            moveplace.next = v;\n        }\n    }\n    /* re-insert */\n    /* update sonority info for analysis */\n    updateSonority(re, v) {\n        let e = re.getEvent_1();\n        if (e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_REST) != null) {\n            if (re.getmusictime().equals(this.curSonority.getMusicTime()))\n                this.curSonority.remove(v.curSoundingEvent);\n            else {\n                this.curSonority = this.curSonority.copyWithout(v.curSoundingEvent);\n                this.curSonority.setMusicTime(re.getmusictime());\n                this.sonorityList.add(this.curSonority);\n            }\n            v.curSoundingEvent = null;\n        }\n        if (e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE) != null) {\n            if (re.getmusictime().equals(this.curSonority.getMusicTime())) {\n                this.curSonority.remove(v.curSoundingEvent);\n                this.curSonority.add(re);\n            }\n            else {\n                this.curSonority = this.curSonority.copyWithout(v.curSoundingEvent);\n                this.curSonority.add(re);\n                this.curSonority.setMusicTime(re.getmusictime());\n                this.sonorityList.add(this.curSonority);\n            }\n            v.curSoundingEvent = re;\n            re.setSonority(this.curSonority);\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  double finishPositioningUntimedEvent(VoiceGfxInfo v,RenderedEvent re,\n                                              double curx,double xadd)\nPurpose: Advance voice info counters and x positioning information after\n         positioning an untimed event\nParameters:\n  Input:  VoiceGfxInfo  v    - voice to update\n          RenderedEvent re   - event which has just been positioned\n          double        curx - current renderer x position\n          double        xadd - positioning adjuster for all voices at the\n                               end of untimed event rendering\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    finishPositioningUntimedEvent(v, re, curx, xadd) {\n        let eventxlen = re.getrenderedxsize();\n        if (ScoreRenderer.getxspacing(re.getEvent_1()) == ScoreRenderer.XSPACING_NOSPACE) {\n            if (curx + eventxlen > v.xloc)\n                eventxlen = curx + eventxlen - v.xloc;\n            else\n                eventxlen = 0;\n        }\n        if (this.getXPosType_1(re.getEvent_1()) == ScoreRenderer.XPOS_SIMULTANEOUS)\n            eventxlen = 0;\n        if (re.isdisplayed())\n            v.lastx = curx;\n        v.xloc += eventxlen;\n        v.xadd += eventxlen;\n        if (v.xadd > xadd)\n            xadd = v.xadd;\n        return xadd;\n    }\n    positionWITHNEXTEvents(v, xadd) {\n        if (this.positioningWITHNEXTEvents)\n            return xadd;\n        this.positioningWITHNEXTEvents = true;\n        for (; v.withnextEvents > 0; v.withnextEvents--)\n            xadd = this.positionUntimedEvent(v, this.eventinfo[v.voicenum].getEvent(((v.revloc - v.withnextEvents) | 0)), xadd);\n        this.positioningWITHNEXTEvents = false;\n        return xadd;\n    }\n    /* avoid re-entry */\n    /*------------------------------------------------------------------------\nMethod:  int incrementVoicePosition(VoiceGfxInfo v)\nPurpose: Advance event index within one voice list, remove if done\nParameters:\n  Input:  VoiceGfxInfo  v - voice to update\n  Output: -\n  Return: new event index\n------------------------------------------------------------------------*/\n    incrementVoicePosition(v) {\n        v.revloc++;\n        this.removeVoiceIfFinished(v);\n        return v.revloc;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeVoice[IfFinished](VoiceGfxInfo v)\nPurpose: Remove voice from rendering to-do list [if all its events have\n         been rendered]\nParameters:\n  Input:  VoiceGfxInfo  v - voice to update\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeVoiceIfFinished(v) {\n        if (this.eventinfo[v.voicenum].getEvent(v.revloc) == null)\n            this.removeVoice(v);\n    }\n    removeVoice(v) {\n        if (v.next != null)\n            v.next.last = v.last;\n        if (v.last != null)\n            v.last.next = v.next;\n        else\n            this.liststart = v.next;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void advanceVoices(double xadd)\nPurpose: Move all voices forward (horizontally) after events\nParameters:\n  Input:  double xadd - total amount for voices to shift\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    advanceVoices(xadd) {\n        if (xadd > 0) {\n            this.curmeasure.xlength += xadd;\n            for (let i = 0; i < this.numVoices; i++)\n                if (this.musicData.getVoice_1(i) != null) {\n                    if (this.voicegfx[i].xadd < xadd) {\n                        let vxadd = xadd - this.voicegfx[i].xadd;\n                        this.voicegfx[i].xloc += vxadd;\n                        if (this.liststart != null && this.voicegfx[i].musictime.greaterThanOrEqualTo(this.liststart.musictime))\n                            this.voicegfx[i].moveupBEFORENEXTevents(this.eventinfo[i], vxadd);\n                    }\n                    this.voicegfx[i].xadd = 0;\n                }\n        }\n    }\n    advanceOneMeasureSpacing() {\n        this.barxstart += this.curmeasure.xlength;\n        this.curMeasureNum++;\n        this.curmeasure = this.measures.get(this.curMeasureNum);\n        this.curmeasure.leftx = this.barxstart;\n        if (this.options.get_barline_type() != _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_BARLINE_NONE) {\n            let bxadd = ScoreRenderer.BARLINE_XADD;\n            switch (this.options.get_barline_type()) {\n                case _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_BARLINE_MENSS:\n                    {\n                    }\n                case _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_BARLINE_MODERN:\n                    {\n                        bxadd *= 2;\n                        break;\n                    }\n            }\n            this.curmeasure.xlength += bxadd;\n            for (let i = 0; i < this.numVoices; i++)\n                this.voicegfx[i].xloc += bxadd;\n        }\n    }\n    /* load new measure */\n    /* space for barlines */\n    /* OLD RENDERING CODE */\n    /*------------------------------------------------------------------------\nMethod:  void renderAllMensuralEvents()\nPurpose: Normal rendering cycle, beginning wherever individual voices in\n         the voice list are currently positioned\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    positionMensuralEventsOld() {\n        do {\n            let varRespaced;\n            do {\n                this.advanceVoices(this.renderUntimedEvents());\n                varRespaced = false;\n                if (this.addSpaceAfterVar()) {\n                    varRespaced = true;\n                }\n                else if (this.errorRespacingTime != null && this.liststart != null && this.liststart.musictime.greaterThanOrEqualTo(this.errorRespacingTime)) {\n                    this.renderUnspacedVariantRemainder();\n                    varRespaced = true;\n                    while (this.liststart != null && this.liststart.musictime.toDouble() > this.curmeasure.startMusicTime.toDouble() + this.curmeasure.numMinims)\n                        this.advanceOneMeasureSpacing();\n                }\n            } while (varRespaced && this.untimedEventsWaiting());\n            if (this.liststart != null && this.liststart.v.getEvent(this.liststart.evloc) == null) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"event==null v=\" + this.liststart.voicenum + \" evloc=\" + this.liststart.evloc);\n                for (let ei = 0; ei < this.liststart.evloc; ei++)\n                    this.liststart.v.getEvent(ei).prettyprint_1();\n            }\n            if (this.liststart != null && this.liststart.musictime.toDouble() >= this.curmeasure.startMusicTime.toDouble() + this.curmeasure.numMinims && !(ScoreRenderer.getxspacing(this.liststart.v.getEvent(this.liststart.evloc)) == ScoreRenderer.XSPACING_NOSPACE && this.getXPosType_1(this.liststart.v.getEvent(this.liststart.evloc)) == ScoreRenderer.XPOS_BEFORENEXT))\n                this.advanceOneMeasureSpacing();\n            this.advanceVoices(this.renderTimedAndImmediateEvents());\n            while (this.liststart != null && this.liststart.musictime.toDouble() > this.curmeasure.startMusicTime.toDouble() + this.curmeasure.numMinims)\n                this.advanceOneMeasureSpacing();\n            if (this.errorRespacingTime != null && this.liststart != null && this.liststart.musictime.greaterThanOrEqualTo(this.errorRespacingTime))\n                this.renderUnspacedVariantRemainder();\n            while (this.liststart != null && this.liststart.musictime.toDouble() > this.curmeasure.startMusicTime.toDouble() + this.curmeasure.numMinims)\n                this.advanceOneMeasureSpacing();\n        } while (this.liststart != null);\n    }\n    /* render untimed events and advance voice x-positions\n           do multiple untimed-event renders if variants requiring respacing\n           have been inserted */\n    /* advance one measure if all untimed events at the right border of the current\n           measure have been rendered */\n    /* render timed events and advance voice x-positions */\n    /* advance one measure if leftmost voice is past current measure limit */\n    /* respace for variant if necessary */\n    /* advance one measure if leftmost voice is past current measure limit */\n    addSpaceAfterVar() {\n        let spaceAdded = false;\n        for (let v of this.voicegfx)\n            if (v.respaceAfterVar) {\n                v.lastx = v.xloc;\n                let xlocadd = this.MINIMSCALE * v.varDefaultTimeAdd.toDouble();\n                v.xloc += xlocadd;\n                v.musictime.add(v.varDefaultTimeAdd);\n                v.varDefaultTimeAdd = null;\n                v.respaceAfterVar = false;\n                spaceAdded = true;\n                this.recalcVoiceList(v);\n            }\n        return spaceAdded;\n    }\n    //            xadd+=xlocadd;\n    //System.out.println(\"space added\");\n    /*------------------------------------------------------------------------\nMethod:  double renderUntimedEvents()\nPurpose: Render untimed events for all voices in the leftmost place (i.e. those\n         at the front of the voice list)\nParameters:\n  Input:  -\n  Output: -\n  Return: Total amount of horizontal space needed by the events\n------------------------------------------------------------------------*/\n    renderUntimedEvents() {\n        let xadd = 0;\n        let curvoice;\n        let nextvoice;\n        let e;\n        if (this.liststart == null)\n            return xadd;\n        this.starttime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new1(this.liststart.musictime);\n        nextvoice = this.liststart.next;\n        for (curvoice = this.liststart; curvoice != null && curvoice.musictime.equals(this.starttime); curvoice = nextvoice) {\n            nextvoice = curvoice.next;\n            if (curvoice.replacementEvents.size() > 0)\n                xadd = this.insertReplacementEvents_2(curvoice, xadd);\n            for (e = curvoice.v.getEvent(curvoice.evloc); e != null && e.getmusictime().i1 == 0; e = curvoice.v.getEvent(this.incrementVoicePosition(curvoice)))\n                if (this.getXPosType_1(e) == ScoreRenderer.XPOS_WITHNEXT)\n                    curvoice.withnextEvents++;\n                else\n                    xadd = this.renderUntimedEvent(curvoice, e, xadd);\n        }\n        return xadd;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean untimedEventsWaiting()\nPurpose: Check whether any untimed events are waiting at the head of the\n         rendering queue\nParameters:\n  Input:  -\n  Output: -\n  Return: true if any untimed events are at the heading of the rendering\n          queue\n------------------------------------------------------------------------*/\n    untimedEventsWaiting() {\n        if (this.liststart == null)\n            return false;\n        for (let curvoice = this.liststart; curvoice != null && curvoice.musictime.equals(this.starttime); curvoice = curvoice.next) {\n            let e = curvoice.v.getEvent(curvoice.evloc);\n            if (e != null && e.getmusictime().i1 == 0)\n                return true;\n        }\n        return false;\n    }\n    addWithnextEvents(v, xadd) {\n        if (this.addingWithnextEvents)\n            return xadd;\n        this.addingWithnextEvents = true;\n        for (let i = 0; i < v.withnextEvents; i++)\n            xadd = this.renderUntimedEvent(v, v.v.getEvent(((((v.evloc - v.withnextEvents) | 0) + i) | 0)), xadd);\n        v.withnextEvents = 0;\n        this.addingWithnextEvents = false;\n        return xadd;\n    }\n    /* avoid re-entry */\n    /*------------------------------------------------------------------------\nMethod:  double renderUntimedEvent(VoiceGfxInfo v,Event e,double xadd)\nPurpose: Render and finish one untimed event\nParameters:\n  Input:  VoiceGfxInfo v    - voice to update\n          Event        e    - event to render\n          double       xadd - positioning adjuster for all voices at the\n                              end of untimed event rendering\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    renderUntimedEvent(v, e, xadd) {\n        let re;\n        let rl = this.eventinfo[v.voicenum];\n        let curx;\n        xadd = this.addWithnextEvents(v, xadd);\n        e = this.setVoiceParameters(v, e);\n        if (this.skipevents == 0) {\n            re = rl.addevent_1(true, e, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, v.clefEvents, v.lastNoteEvent, v.mensEvent, v.curProportion, v.curColoration, v.inEditorialSection, v.missingInVersion, v.ligInfo, false, v.tieInfo, v.v.getMetaData().getSuggestedModernClef(), v.varReadingInfo));\n            re.setxloc(curx = v.calcXLoc(rl, re));\n            re.setmusictime(v.musictime);\n            this.setVoiceEventParameters(v, re);\n        }\n        else {\n            re = rl.addevent_1(false, e, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, v.clefEvents, v.lastNoteEvent, v.mensEvent, v.curProportion, v.curColoration, v.inEditorialSection, v.missingInVersion, v.ligInfo, false, v.tieInfo, v.v.getMetaData().getSuggestedModernClef(), v.varReadingInfo));\n            re.setxloc(curx = v.xloc);\n            re.setmusictime(v.musictime);\n        }\n        xadd = this.finishUntimedEvent(v, re, curx, xadd);\n        if (this.skipevents > 0)\n            this.skipevents--;\n        if (this.skipevents == 0)\n            xadd = this.insertReplacementEvents_2(v, xadd);\n        return xadd;\n    }\n    /* render event and advance this voice */\n    setVoiceEventParameters(v, re) {\n        let e = re.getEvent_1();\n        if (e.hasSignatureClef_1()) {\n            v.clefEvents = re.getClefEvents();\n            v.clefedata = this.getPrincipalClefData(v);\n        }\n        if (e.getMensInfo_1() != null)\n            v.mensEvent = re;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Event setVoiceParameters(VoiceGfxInfo v,Event e)\nPurpose: Set voice parameters if modified by an event about to be rendered\nParameters:\n  Input:  VoiceGfxInfo  v - voice to update\n          Event         e - event to be rendered\n  Output: -\n  Return: event to be rendered, replaced if necessary\n------------------------------------------------------------------------*/\n    setVoiceParameters(v, e) {\n        if (this.skipevents > 0)\n            return e;\n        v.lastNoteEvent = null;\n        if (e.hasSignatureClef_1()) {\n            let skippedClefEvents = this.calcNumSkippedClefEvents(v, v.evloc);\n            if (skippedClefEvents > 0)\n                this.skipevents += skippedClefEvents;\n            if (this.useModernClefs && e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT && e.hasPrincipalClef_1()) {\n                for (let ei = e.iterator_2(); ei.hasNext();) {\n                    let ee = ei.next();\n                    if (ee.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF && !ee.hasPrincipalClef_1())\n                        v.replacementEvents.add(ee);\n                }\n                e = e.noSigClefEvent();\n            }\n        }\n        let mensInfo = e.getMensInfo_1();\n        if (mensInfo != null) {\n            if (this.baseMensuration == null || (v.musictime.equals(this.lastMensTime) && this.lastMens.equals(mensInfo))) {\n                this.baseMensuration = mensInfo;\n                this.numMinimsInBreve = ((this.baseMensuration.prolatio * this.baseMensuration.tempus) | 0);\n                let oldBS = this.BREVESCALE;\n                this.BREVESCALE = this.MINIMSCALE * this.numMinimsInBreve;\n                if (v.musictime.lessThan(this.curmeasure.getEndMusicTime_1())) {\n                    this.curmeasure.numMinims = this.numMinimsInBreve;\n                    this.curmeasure.xlength += this.BREVESCALE - oldBS;\n                }\n            }\n            this.lastMens = mensInfo;\n            this.lastMensTime = v.musictime;\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_DOT && (e.getdottype() & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_17__.DotEvent.DT_Addition) != 0)\n            v.lastNoteEvent = this.getLastNoteEvent(v, ((v.revloc - 1) | 0));\n        if (!this.displayallnewlineclefs && e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CUSTOS) {\n            let nexte = v.v.getEvent(((v.evloc + 1) | 0));\n            if (nexte != null && nexte.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LINEEND)\n                this.skipevents++;\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_LINEEND && !this.displayallnewlineclefs) {\n            let nexte = v.v.getEvent(((v.evloc + 1) | 0));\n            this.skipevents++;\n            if (nexte != null && nexte.hasSignatureClef_1() && nexte.principalClefEquals(v.clefedata, this.useModernClefs)) {\n                if (this.useModernAccSystem || nexte.getModernKeySig().equals(e.getModernKeySig()))\n                    this.skipevents += this.calcNumClefEvents(v, ((v.evloc + 1) | 0));\n                if (this.useModernAccSystem && !nexte.getModernKeySig().equals(e.getModernKeySig()))\n                    v.replacementEvents.addAll(this.constructDisplayClefSet(v.clefEvents, nexte));\n            }\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_PROPORTION) {\n            let newp = e.getproportion();\n            v.curProportion = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new1(v.curProportion);\n            v.curProportion.multiply_2(newp);\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_COLORCHANGE)\n            v.curColoration = _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_16__.Coloration.new1(v.curColoration, e.getcolorscheme());\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_START) {\n            let nextEvent = v.v.getEvent(((v.evloc + 1) | 0));\n            let skippedClefEvents = this.calcNumSkippedClefEvents(v, ((v.evloc + 1) | 0));\n            let nextDisplayedEvent = v.v.getEvent(((((v.evloc + skippedClefEvents) | 0) + 1) | 0));\n            if (skippedClefEvents > 0 && nextDisplayedEvent.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END)\n                this.skipevents += ((skippedClefEvents + 2) | 0);\n            else {\n                v.varReadingInfo = _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_6__.RenderedEventGroup.new0(v.revloc);\n                v.varReadingInfo.grouptype = _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_6__.RenderedEventGroup.EVENTGROUP_VARIANTREADING;\n                v.varReadingInfo.varReading = e.getVariantReading_1(this.musicData.getVersion());\n                v.varReadingInfo.varMarker = e;\n                if (v.varReadingInfo.varReading != null && v.varReadingInfo.varReading.isError()) {\n                    let defaultReadingLength = e.getDefaultLength();\n                    let varReadingLength = v.varReadingInfo.varReading.getLength();\n                    if (varReadingLength.greaterThan(defaultReadingLength)) {\n                        this.errorRespacingTime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.sum(v.musictime, defaultReadingLength);\n                        this.variantVoice = v;\n                    }\n                    else if (defaultReadingLength.greaterThan(varReadingLength)) {\n                        v.varDefaultTimeAdd = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.difference(defaultReadingLength, varReadingLength);\n                    }\n                }\n            }\n        }\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END) {\n            if (v.varDefaultTimeAdd != null)\n                v.respaceAfterVar = true;\n            if (v.varReadingInfo == null) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.err.println(\"Error! VARIANTDATA_END without START; V\" + v.voicenum + \", evloc=\" + v.evloc);\n                for (let ei = 0; ei < v.evloc; ei++)\n                    v.v.getEvent(ei).prettyprint_1();\n            }\n            v.varReadingInfo.lastEventNum = ((v.revloc - 1) | 0);\n            v.varReadingInfo.calculateYMinMax(this.eventinfo[v.voicenum]);\n            if (v.varReadingInfo.firstEventNum == v.varReadingInfo.lastEventNum)\n                this.eventinfo[v.voicenum].getEvent(v.varReadingInfo.firstEventNum).setDisplay(true);\n        }\n        return e;\n    }\n    /* separate modern clefs from accidentals */\n    //&& !useModernAccSystem)\n    /*        else\n          if (v.clefevent==-1 ||\n              e.getClefSet(useModernAccSystem)!=v.clefedata.getClefSet(useModernAccSystem))\n            {\n              v.clefevent=v.revloc;\n              v.clefedata=e;\n            }*/\n    /* if at least two voices change to the same mensuration\n               simultaneously, use as main mensuration */\n    /* set base mensuration info for score measure structure */\n    /* change current bar if mensuration takes effect here */\n    /* skip lineend custodes unless displaying newline clefs */\n    /* at line end, construct display for next clef set */\n    //                !nexte.getClefSet(useModernAccSystem).contradicts(v.clefEvents.getLastClefSet(useModernAccSystem),useModernClefs,v.v.getMetaData().getSuggestedModernClef()))\n    //                nexte.getClefSet(useModernAccSystem).contradicts(v.clefEvents.getLastClefSet(useModernAccSystem),useModernClefs,v.v.getMetaData().getSuggestedModernClef()))\n    //System.out.println(\"startvar: V\"+v.voicenum+\", evloc=\"+v.evloc);\n    /* nothing displayed in editorial section: don't display brackets */\n    //System.out.println(\"startvar: V\"+v.voicenum+\", evloc=\"+v.evloc);\n    //            v.inEditorialSection=true;\n    //System.out.println(\"var > default: new respacing time: \"+errorRespacingTime);\n    //else\n    //System.out.println(\"endvar: V\"+v.voicenum+\", evloc=\"+v.evloc);\n    /*        v.varReadingInfo.lastEventNum++;\n        v.varReadingInfo=null;\n        v.inEditorialSection=false;*/\n    getLastNoteEvent(v, ei) {\n        for (; ei >= 0; ei--) {\n            let curre = this.eventinfo[v.voicenum].getEvent(ei);\n            if (curre.getEvent_1().hasEventType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE))\n                return curre;\n        }\n        return null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  double insertReplacementEvents(VoiceGfxInfo v,double xadd)\nPurpose: Insert newly-created events into render list\nParameters:\n  Input:  VoiceGfxInfo v    - voice to update\n          double       xadd - positioning adjuster\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    insertReplacementEvents_2(v, xadd) {\n        let re;\n        let lastevent = null;\n        let rl = this.eventinfo[v.voicenum];\n        let curx;\n        for (let e of v.replacementEvents) {\n            re = rl.addevent_1(true, e, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, v.clefEvents, lastevent, v.mensEvent, v.curProportion, v.curColoration, v.inEditorialSection, v.missingInVersion, v.ligInfo, false, v.tieInfo, v.v.getMetaData().getSuggestedModernClef(), v.varReadingInfo));\n            re.setxloc(curx = v.calcXLoc(rl, re));\n            xadd = this.finishUntimedEvent(v, re, curx, xadd);\n            if (e.hasSignatureClef_1()) {\n                v.clefEvents = new _RenderedClefSet__WEBPACK_IMPORTED_MODULE_7__.RenderedClefSet(v.clefEvents, re, this.useModernAccSystem, v.v.getMetaData().getSuggestedModernClef());\n                v.clefedata = this.getPrincipalClefData(v);\n            }\n        }\n        v.replacementEvents = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        return xadd;\n    }\n    /* render event */\n    /* set voice event parameters */\n    /*------------------------------------------------------------------------\nMethod:  int calcNumSkippedClefEvents(VoiceGfxInfo v,int ei)\nPurpose: Calculate number of clef events which go undisplayed if clef-display\n         customization is used (useModernClefs, !displayallnewlineclefs, etc)\nParameters:\n  Input:  VoiceGfxInfo v - voice being checked\n          int ei         - index of event to check\n  Output: -\n  Return: number of events to be skipped\n------------------------------------------------------------------------*/\n    calcNumSkippedClefEvents(v, ei) {\n        let e = v.v.getEvent(ei);\n        if (!e.hasSignatureClef_1())\n            return 0;\n        if (v.clefEvents != null && e.hasPrincipalClef_1() && ((this.useModernClefs && e.getClefSet_2(this.useModernAccSystem) != v.clefedata.getClefSet_2(this.useModernAccSystem) && !e.getClefSet_2(this.useModernAccSystem).contradicts_2(v.clefEvents.getLastClefSet(this.useModernAccSystem), this.useModernClefs, v.v.getMetaData().getSuggestedModernClef())) || (!this.displayallnewlineclefs && e.hasPrincipalClef_1() && !e.getClefSet_2(this.useModernAccSystem).contradicts_2(v.clefEvents.getLastClefSet(this.useModernAccSystem), this.useModernClefs, v.v.getMetaData().getSuggestedModernClef()))))\n            return this.calcNumClefEvents(v, ei);\n        return 0;\n    }\n    /* calculate number of events in a clef set at a specified location */\n    calcNumClefEvents(v, ei) {\n        let clefe = v.v.getEvent(ei);\n        let origcs = clefe != null ? clefe.getClefSet_2(this.useModernAccSystem) : null;\n        let numEvents = 0;\n        while (clefe != null) {\n            let cs = clefe.getClefSet_2(this.useModernAccSystem);\n            if (cs == null || cs != origcs)\n                return numEvents;\n            else\n                numEvents++;\n            clefe = v.v.getEvent(++ei);\n        }\n        return numEvents;\n    }\n    /*------------------------------------------------------------------------\nMethod:  ArrayList<Event> constructDisplayClefSet(Event curc,Event newc)\nPurpose: Prepare new clef display for insertion into rendering (display\n         depends upon modern/original clefs etc)\n         Entry condition: newc contradicts curc, but the principal clefs are\n                          equal (i.e., only signature clefs differ)\nParameters:\n  Input:  Event curc - current clef information\n          Event newc - new clef information\n  Output: -\n  Return: list of new events for clef set display\n------------------------------------------------------------------------*/\n    constructDisplayClefSet(curRCS, newc) {\n        let curcs = curRCS.getLastClefSet(this.useModernAccSystem);\n        let newcs = newc.getClefSet_2(this.useModernAccSystem);\n        let le = null;\n        let curc = curRCS.getPrincipalClefEvent().getEvent_1();\n        let elist = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        if (!(this.useModernClefs || this.useModernAccSystem))\n            elist.add(_DataStruct_LineEndEvent__WEBPACK_IMPORTED_MODULE_19__.LineEndEvent.new15());\n        if (newcs.numflats() < curcs.numflats())\n            if (!this.useModernAccSystem) {\n                elist.add(le = _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_15__.ClefEvent.new7(newcs.getprincipalclef(), null, null));\n                curc = le;\n                curcs = curc.getClefSet_2(this.useModernAccSystem);\n            }\n            else\n                for (let i = curcs.acciterator(); i.hasNext();) {\n                    let c = i.next();\n                    if (!newcs.containsClef(c))\n                        elist.add(le = _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_15__.ClefEvent.new7(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_14__.Clef.new0(_DataStruct_Clef__WEBPACK_IMPORTED_MODULE_14__.Clef.CLEF_MODERNNatural, c.linespacenum, c.pitch, true, true, newcs.getprincipalclef()), le, null));\n                }\n        if (newcs.numflats() > curcs.numflats())\n            for (let i = newcs.acciterator(); i.hasNext();) {\n                let c = i.next();\n                if (!curcs.containsClef(c))\n                    elist.add(le = _DataStruct_ClefEvent__WEBPACK_IMPORTED_MODULE_15__.ClefEvent.new7(c, le, curc));\n            }\n        return elist;\n    }\n    /* if orig clefs, show line end */\n    /* need to remove flats? */\n    /* add principal clef */\n    /* add naturals */\n    /* need to add flats? */\n    /*------------------------------------------------------------------------\nMethod:  ArrayList<Event> constructVarTextEvents(VoiceGfxInfo v,[OriginalTextEvent te])\nPurpose: Create text events to display variant texting at current variant location\nParameters:\n  Input:  VoiceGfxInfo v       - voice in which to render\n          OriginalTextEvent te - text in default version to copy\n  Output: -\n  Return: list of new events for variant text display\n------------------------------------------------------------------------*/\n    /* calculate what the \"default\" versions are at one set of readings */\n    getDefaultVersions(v) {\n        if (v.varReadingInfo == null)\n            return new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        let defaultVersions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList(this.fullPieceData.getVariantVersions());\n        let varEvent = v.varReadingInfo.varMarker;\n        for (let vr of varEvent.getReadings())\n            for (let vvd of vr.getVersions())\n                defaultVersions.remove(vvd);\n        for (let vvd of this.fullPieceData.getVariantVersions())\n            if (vvd.isVoiceMissing(this.musicData.getVoice_1(v.voicenum).getMetaData()) || this.musicData.getVoice_1(v.voicenum).getMissingVersions().contains(vvd))\n                defaultVersions.remove(vvd);\n        return defaultVersions;\n    }\n    /* remove anything with a variant reading */\n    /* remove versions which are missing this voice */\n    constructVarTextEvents_1(v, te) {\n        let textEvents = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        if (!this.musicData.isDefaultVersion())\n            return textEvents;\n        let displayVersions = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList(this.fullPieceData.getVariantVersions());\n        if (v.varReadingInfo != null)\n            if (this.musicData.isDefaultVersion()) {\n                let varEvent = v.varReadingInfo.varMarker;\n                for (let vr of varEvent.getReadings())\n                    for (let vvd of vr.getVersions())\n                        displayVersions.remove(vvd);\n            }\n            else {\n                let varEvent = v.varReadingInfo.varMarker;\n                for (let vr of varEvent.getReadings())\n                    if (vr != v.varReadingInfo.varReading)\n                        for (let vvd of vr.getVersions())\n                            displayVersions.remove(vvd);\n                displayVersions.remove(this.fullPieceData.getDefaultVariantVersion());\n            }\n        for (let vvd of this.fullPieceData.getVariantVersions())\n            if (vvd.isVoiceMissing(this.musicData.getVoice_1(v.voicenum).getMetaData()) || this.musicData.getVoice_1(v.voicenum).getMissingVersions().contains(vvd))\n                displayVersions.remove(vvd);\n        for (let vvd of displayVersions)\n            textEvents.add(_DataStruct_OriginalTextEvent__WEBPACK_IMPORTED_MODULE_24__.OriginalTextEvent.new27(te.getText(), vvd));\n        return textEvents;\n    }\n    /* construct list of versions using this reading */\n    constructVarTextEvents_2(v) {\n        let textEvents = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_12__.ArrayList();\n        let varEvent = v.varReadingInfo.varMarker;\n        if (!this.musicData.isDefaultVersion()) {\n            let ei = ((varEvent.getDefaultListPlace() + 1) | 0);\n            let eType = -1;\n            let defaultVL = this.fullPieceData.getDefaultMusicData().getSection(this.sectionNum).getVoice_1(v.voicenum);\n            let defaultVersions = this.getDefaultVersions(v);\n            do {\n                let e = defaultVL.getEvent(ei);\n                eType = e.geteventtype();\n                if (eType == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ORIGINALTEXT)\n                    for (let dv of defaultVersions)\n                        textEvents.add(_DataStruct_OriginalTextEvent__WEBPACK_IMPORTED_MODULE_24__.OriginalTextEvent.new27(e.getText(), dv));\n                ei++;\n            } while (eType != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END);\n        }\n        for (let vr of varEvent.getReadings()) {\n            let numEvents = vr.getNumEvents();\n            for (let ei = 0; ei < numEvents; ei++) {\n                let e = vr.getEvent(ei);\n                if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ORIGINALTEXT)\n                    for (let vvd of vr.getVersions())\n                        textEvents.add(_DataStruct_OriginalTextEvent__WEBPACK_IMPORTED_MODULE_24__.OriginalTextEvent.new27(e.getText(), vvd));\n            }\n        }\n        return textEvents;\n    }\n    /* if displaying variant version, add text from default reading */\n    /* do variant readings */\n    /*------------------------------------------------------------------------\nMethod:  double finishUntimedEvent(VoiceGfxInfo v,RenderedEvent re,\n                                   double curx,double xadd)\nPurpose: Advance voice info counters and x positioning information after\n         rendering an untimed event\nParameters:\n  Input:  VoiceGfxInfo  v    - voice to update\n          RenderedEvent re   - event which has just been rendered\n          double        curx - current renderer x position\n          double        xadd - positioning adjuster for all voices at the\n                              end of untimed event rendering\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    finishUntimedEvent(v, re, curx, xadd) {\n        v.revloc++;\n        let eventxlen = re.getrenderedxsize();\n        if (ScoreRenderer.getxspacing(re.getEvent_1()) == ScoreRenderer.XSPACING_NOSPACE) {\n            if (curx + eventxlen > v.xloc)\n                eventxlen = curx + eventxlen - v.xloc;\n            else\n                eventxlen = 0;\n        }\n        if (this.getXPosType_1(re.getEvent_1()) == ScoreRenderer.XPOS_SIMULTANEOUS)\n            eventxlen = 0;\n        if (re.isdisplayed())\n            v.lastx = curx;\n        v.xloc += eventxlen;\n        v.xadd += eventxlen;\n        if (v.xadd > xadd)\n            xadd = v.xadd;\n        if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END) {\n            if (this.skipevents == 0)\n                v.varReadingInfo.lastEventNum++;\n            v.varReadingInfo = null;\n        }\n        return xadd;\n    }\n    /* leave lastx alone if this event wasn't */\n    /* displayed */\n    //        v.inEditorialSection=false;\n    /*------------------------------------------------------------------------\nMethod:  void renderUnspacedVariantRemainder()\nPurpose: When a variant error is longer than the default reading, finish\n         rendering it with non-score spacing, then apply extra spacing to\n         the non-variant voices so that the parts re-align properly after\n         the error\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    renderUnspacedVariantRemainder() {\n        let xadd = 0;\n        let e;\n        for (e = this.variantVoice.v.getEvent(this.variantVoice.evloc); e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_VARIANTDATA_END; e = this.variantVoice.v.getEvent(this.incrementVoicePosition(this.variantVoice)))\n            xadd = this.renderUntimedEvent(this.variantVoice, e, xadd);\n        xadd = this.renderUntimedEvent(this.variantVoice, e, xadd);\n        this.incrementVoicePosition(this.variantVoice);\n        this.advanceVoices(xadd);\n        this.errorRespacingTime = null;\n        this.variantVoice = null;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int incrementVoicePosition(VoiceGfxInfo v)\nPurpose: Advance event index within one voice list, remove if done\nParameters:\n  Input:  VoiceGfxInfo  v - voice to update\n  Output: -\n  Return: new event index\n------------------------------------------------------------------------*/\n    incrementVoicePositionOld(v) {\n        v.evloc++;\n        this.removeVoiceIfFinished(v);\n        return v.evloc;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeVoice[IfFinished](VoiceGfxInfo v)\nPurpose: Remove voice from rendering to-do list [if all its events have\n         been rendered]\nParameters:\n  Input:  VoiceGfxInfo  v - voice to update\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeVoiceIfFinishedOld(v) {\n        if (v.v.getEvent(v.evloc) == null)\n            this.removeVoice(v);\n    }\n    removeVoiceOld(v) {\n        if (v.next != null)\n            v.next.last = v.last;\n        if (v.last != null)\n            v.last.next = v.next;\n        else\n            this.liststart = v.next;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void advanceVoices(double xadd)\nPurpose: Move all voices forward (horizontally) after events\nParameters:\n  Input:  double xadd - total amount for voices to shift\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    advanceVoicesOld(xadd) {\n        if (xadd > 0) {\n            this.curmeasure.xlength += xadd;\n            for (let i = 0; i < this.numVoices; i++)\n                if (this.musicData.getVoice_1(i) != null) {\n                    if (this.voicegfx[i].xadd < xadd) {\n                        let vxadd = xadd - this.voicegfx[i].xadd;\n                        this.voicegfx[i].xloc += vxadd;\n                        if (this.liststart != null && this.voicegfx[i].musictime.toDouble() >= this.liststart.musictime.toDouble())\n                            this.voicegfx[i].moveupBEFORENEXTevents(this.eventinfo[i], vxadd);\n                    }\n                    this.voicegfx[i].xadd = 0;\n                }\n        }\n    }\n    advanceOneMeasureSpacingOld() {\n        this.barxstart += this.curmeasure.xlength;\n        this.curMeasureNum++;\n        for (let i = 0; i < this.numVoices; i++) {\n            this.curmeasure.reventindex[i] = this.voicegfx[i].revloc;\n            this.curmeasure.startClefEvents[i] = this.voicegfx[i].clefEvents;\n            this.curmeasure.startMensEvent[i] = this.voicegfx[i].mensEvent;\n        }\n        if (this.options.get_barline_type() != _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_BARLINE_NONE) {\n            let bxadd = ScoreRenderer.BARLINE_XADD;\n            switch (this.options.get_barline_type()) {\n                case _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_BARLINE_MENSS:\n                    {\n                    }\n                case _OptionSet__WEBPACK_IMPORTED_MODULE_8__.OptionSet.OPT_BARLINE_MODERN:\n                    {\n                        bxadd *= 2;\n                        break;\n                    }\n            }\n            this.curmeasure.xlength += bxadd;\n            for (let i = 0; i < this.numVoices; i++)\n                this.voicegfx[i].xloc += bxadd;\n        }\n    }\n    /* deal with end of bar issues */\n    //    curmeasure=measures.newMeasure(curMeasureNum,curmeasure.startMusicTime+curmeasure.numMinims,numMinimsInBreve,\n    //                                   BREVESCALE,barxstart);\n    /* space for barlines */\n    /*------------------------------------------------------------------------\nMethod:  double renderTimedandImmediateEvents()\nPurpose: Render one timed event for each voice in last place along with\n         XPOS_IMMEDIATE untimed events following it (e.g., dots)\nParameters:\n  Input:  -\n  Output: -\n  Return: Total amount of horizontal space needed by the events\n------------------------------------------------------------------------*/\n    renderTimedAndImmediateEvents() {\n        let curvoice;\n        let nextvoice;\n        let moveplace;\n        let e;\n        let xadd = 0;\n        let curevmusictime;\n        if (this.liststart == null)\n            return xadd;\n        nextvoice = this.liststart.next;\n        for (curvoice = this.liststart; curvoice != null && curvoice.musictime.toDouble() <= this.starttime.toDouble(); curvoice = nextvoice) {\n            nextvoice = curvoice.next;\n            e = curvoice.v.getEvent(curvoice.evloc);\n            if (e == null)\n                this.removeVoice(curvoice);\n            else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ELLIPSIS) {\n                this.removeVoice(curvoice);\n                this.finalisList.add(curvoice);\n            }\n            else {\n                xadd = this.renderTimedEvent(curvoice, e, xadd);\n                this.recalcVoiceList(curvoice);\n            }\n        }\n        return xadd;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void recalcVoiceList(VoiceGfxInfo curvoice)\nPurpose: Adjust pointers within voice list to maintain sorting order after one\n         voice has moved forward\nParameters:\n  Input:  VoiceGfxInfo curvoice - voice which has just been advanced (i.e. in\n                                  which timed events have just been rendered)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    recalcVoiceListOld(curvoice) {\n        let moveplace = curvoice;\n        while (!((moveplace.next == null) || (moveplace.next.musictime.greaterThan(curvoice.musictime))))\n            moveplace = moveplace.next;\n        if (moveplace != curvoice) {\n            this.removeVoice(curvoice);\n            if (moveplace.next != null)\n                moveplace.next.last = curvoice;\n            curvoice.next = moveplace.next;\n            curvoice.last = moveplace;\n            moveplace.next = curvoice;\n        }\n    }\n    /* re-insert */\n    doNoteEventLigInfo(curvoice, ne) {\n        if (curvoice.ligInfo.firstEventNum == -1 && ne.isligated())\n            curvoice.ligInfo = _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.new3(curvoice.v, this.eventinfo[curvoice.voicenum]);\n        return curvoice.ligInfo.update(curvoice.revloc, ne);\n    }\n    /* start new ligature */\n    doMultiEventLigInfo(curvoice, me) {\n        let endlig = false;\n        let ligEv = me.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE);\n        if (ligEv != null)\n            endlig = this.doLigInfo(curvoice, ligEv);\n        return endlig;\n    }\n    /* TMP: choose one NoteEvent to be in lig */\n    doLigInfo(curvoice, e) {\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE:\n                {\n                    return this.doNoteEventLigInfo(curvoice, e);\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT:\n                {\n                    return this.doMultiEventLigInfo(curvoice, e);\n                }\n        }\n        return false;\n    }\n    doNoteEventTieEndInfo(curvoice, ne) {\n        if (curvoice.tieInfo.firstEventNum != -1)\n            curvoice.tieInfo.update(curvoice.revloc, ne);\n    }\n    /* end of a tie? */\n    doNoteEventTieStartInfo(curvoice, ne) {\n        curvoice.tieInfo = _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.new2(curvoice.v, this.eventinfo[curvoice.voicenum], _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.TIE);\n        if (ne.getTieType() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_23__.NoteEvent.TIE_NONE)\n            curvoice.tieInfo.update(curvoice.revloc, ne);\n    }\n    /* start new tie */\n    /* start of a new tie? */\n    doMultiEventTieEndInfo(curvoice, me) {\n        let tieEv = me.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE);\n        if (tieEv != null)\n            this.doTieEndInfo(curvoice, tieEv);\n    }\n    /* TMP: choose one NoteEvent to be in lig */\n    doMultiEventTieStartInfo(curvoice, me) {\n        let tieEv = me.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE);\n        if (tieEv != null)\n            this.doTieStartInfo(curvoice, tieEv);\n    }\n    /* TMP: choose one NoteEvent to be in lig */\n    doTieEndInfo(curvoice, e) {\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE:\n                {\n                    this.doNoteEventTieEndInfo(curvoice, e);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT:\n                {\n                    this.doMultiEventTieEndInfo(curvoice, e);\n                    break;\n                }\n        }\n    }\n    doTieStartInfo(curvoice, e) {\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE:\n                {\n                    this.doNoteEventTieStartInfo(curvoice, e);\n                    break;\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT:\n                {\n                    this.doMultiEventTieStartInfo(curvoice, e);\n                    break;\n                }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  double renderTimedEvent(VoiceGfxInfo curvoice,Event e,double xadd)\nPurpose: Render one timed event along with XPOS_IMMEDIATE untimed events\n         following it (e.g., dots)\nParameters:\n  Input:  VoiceGfxInfo curvoice - voice of event\n          Event e               - event to render\n          double xadd           - total amount of horizontal space needed\n                                  for adjusting all voices after this render\n                                  phase\n  Output: -\n  Return: new value for xadd\n------------------------------------------------------------------------*/\n    renderTimedEvent(curvoice, e, xadd) {\n        let rl = this.eventinfo[curvoice.voicenum];\n        xadd = this.addWithnextEvents(curvoice, xadd);\n        let endlig = this.doLigInfo(curvoice, e);\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT) {\n            if (this.useModernClefs && e.hasEventType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF)) {\n                for (let i = e.iterator_2(); i.hasNext();) {\n                    let ne = i.next();\n                    if (ne.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_CLEF)\n                        curvoice.replacementEvents.add(ne);\n                }\n                e = e.noClefEvent();\n            }\n            this.setVoiceParameters(curvoice, e);\n        }\n        let re = rl.addevent_1(true, e, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, curvoice.clefEvents, null, curvoice.mensEvent, curvoice.curProportion, curvoice.curColoration, curvoice.inEditorialSection, curvoice.missingInVersion, curvoice.ligInfo, endlig, curvoice.tieInfo, curvoice.v.getMetaData().getSuggestedModernClef(), curvoice.varReadingInfo));\n        re.setxloc(curvoice.xloc);\n        re.setmusictime(curvoice.musictime);\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_MULTIEVENT)\n            this.setVoiceEventParameters(curvoice, re);\n        if (endlig)\n            curvoice.ligInfo = _RenderedLigature__WEBPACK_IMPORTED_MODULE_5__.RenderedLigature.new3(curvoice.v, rl);\n        curvoice.revloc++;\n        let curevmusictime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(((e.getmusictime().i1 * curvoice.curProportion.i2) | 0), ((e.getmusictime().i2 * curvoice.curProportion.i1) | 0));\n        if (e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_REST) != null) {\n            if (re.getmusictime().equals(this.curSonority.getMusicTime()))\n                this.curSonority.remove(curvoice.curSoundingEvent);\n            else {\n                this.curSonority = this.curSonority.copyWithout(curvoice.curSoundingEvent);\n                this.curSonority.setMusicTime(re.getmusictime());\n                this.sonorityList.add(this.curSonority);\n            }\n            curvoice.curSoundingEvent = null;\n        }\n        if (e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE) != null) {\n            if (re.getmusictime().equals(this.curSonority.getMusicTime())) {\n                this.curSonority.remove(curvoice.curSoundingEvent);\n                this.curSonority.add(re);\n            }\n            else {\n                this.curSonority = this.curSonority.copyWithout(curvoice.curSoundingEvent);\n                this.curSonority.add(re);\n                this.curSonority.setMusicTime(re.getmusictime());\n                this.sonorityList.add(this.curSonority);\n            }\n            curvoice.curSoundingEvent = re;\n            re.setSonority(this.curSonority);\n        }\n        curvoice.evloc++;\n        curvoice.lastx = curvoice.xloc;\n        if (this.errorRespacingTime != null && curvoice == this.variantVoice && _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.sum(curvoice.musictime, curevmusictime).greaterThan(this.errorRespacingTime))\n            curevmusictime = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.difference(this.errorRespacingTime, curvoice.musictime);\n        let xlocadd = this.MINIMSCALE * curevmusictime.toDouble();\n        if (xlocadd < re.getrenderedxsize()) {\n            curvoice.xadd += re.getrenderedxsize() - xlocadd;\n            if (xadd < curvoice.xadd)\n                xadd = curvoice.xadd;\n            xlocadd = re.getrenderedxsize();\n        }\n        curvoice.xloc += xlocadd;\n        let ute = curvoice.v.getEvent(curvoice.evloc);\n        let xpostype = this.getXPosType_1(ute);\n        while (ute != null && (xpostype == ScoreRenderer.XPOS_IMMEDIATE || xpostype == ScoreRenderer.XPOS_SIMULTANEOUS)) {\n            xadd = this.renderUntimedEvent(curvoice, ute, xadd);\n            ute = curvoice.v.getEvent(this.incrementVoicePosition(curvoice));\n            xpostype = this.getXPosType_1(ute);\n        }\n        curvoice.musictime.add(curevmusictime);\n        return xadd;\n    }\n    /* handle multi-event special cases */\n    /* when switching to modern cleffing, do not allow clefs/accidentals\n               to co-exist with timed events (e.g., flat above a rest) */\n    /* queue clef events for later rendering */\n    /* render event */\n    /* if we've just finished a ligature, reset ligInfo */\n    /* update sonority info */\n    /* render untimed XPOS_IMMEDIATE events (e.g., dots)\n       and XPOS_SIMULTANEOUS events (vertically aligned with current event) */\n    /*------------------------------------------------------------------------\nMethod:  void renderEllipses()\nPurpose: For incipit-scores: render blank space between incipits and\n         explicits\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    renderEllipses() {\n        if (this.finalisList.size() <= 0)\n            return;\n        let newx = 0;\n        for (let i = 0; i < this.voicegfx.length; i++)\n            if (this.voicegfx[i].xloc > newx)\n                newx = this.voicegfx[i].xloc;\n        newx += 20;\n        let newmt = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(((this.curmeasure.startMusicTime.toDouble() + this.curmeasure.numMinims) | 0), 1);\n        let lastv = null;\n        let firstv = null;\n        let curv = null;\n        for (let i = this.finalisList.iterator(); i.hasNext();) {\n            curv = i.next();\n            let rl = this.eventinfo[curv.voicenum];\n            let re = rl.addevent_1(true, curv.v.getEvent(curv.evloc), _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, curv.clefEvents, null, curv.mensEvent, curv.curProportion, curv.curColoration, curv.inEditorialSection, curv.missingInVersion, curv.ligInfo, false, curv.tieInfo, curv.v.getMetaData().getSuggestedModernClef(), curv.varReadingInfo));\n            re.setxloc(curv.xloc);\n            re.setmusictime(curv.musictime);\n            curv.revloc++;\n            curv.evloc++;\n            curv.xloc = newx;\n            curv.musictime.setVal_1(newmt);\n            if (lastv != null) {\n                curv.last = lastv;\n                lastv.next = curv;\n            }\n            else\n                firstv = curv;\n            lastv = curv;\n        }\n        this.liststart = firstv;\n        this.curmeasure.xlength = newx - this.barxstart;\n        this.advanceOneMeasureSpacing();\n    }\n    positionChantEvents(musicData) {\n        for (let vi = 0; vi < this.numVoices; vi++)\n            if (musicData.getVoice_1(vi) != null) {\n                let vd = musicData.getVoice_1(vi);\n                let vg = this.voicegfx[vi];\n                let numEvents = vd.getNumEvents();\n                let numRendered;\n                let lastre = null;\n                let lastNoteEvent = null;\n                let xpadding = 0;\n                let newXloc;\n                let lastIsOrigText = false;\n                let curEventLength;\n                let ei = 0;\n                let done = ei >= numEvents;\n                while (!done) {\n                    let e = vd.getEvent(ei);\n                    curEventLength = ScoreRenderer.CHANT_TIME_UNIT_NONE;\n                    e = this.setPrerenderParameters(vg, e);\n                    if (ei > 0)\n                        switch (e.geteventtype()) {\n                            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE:\n                                {\n                                    let nt = e.getnotetype_1();\n                                    if (nt > _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_23__.NoteEvent.NT_Brevis) {\n                                        xpadding = ScoreRenderer.CHANT_XPADDING_B;\n                                        curEventLength = ScoreRenderer.CHANT_TIME_UNIT_LONG;\n                                    }\n                                    else if (nt >= _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_23__.NoteEvent.NT_Brevis) {\n                                        xpadding = ScoreRenderer.CHANT_XPADDING_B;\n                                        curEventLength = ScoreRenderer.CHANT_TIME_UNIT;\n                                    }\n                                    else {\n                                        xpadding = ScoreRenderer.CHANT_XPADDING_SB;\n                                        curEventLength = ScoreRenderer.CHANT_TIME_UNIT_SHORT;\n                                    }\n                                    break;\n                                }\n                            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_DOT:\n                                {\n                                    xpadding = ScoreRenderer.CHANT_XPADDING_DOT;\n                                    break;\n                                }\n                            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_BARLINE:\n                                {\n                                    xpadding = ScoreRenderer.CHANT_XPADDING_B;\n                                    break;\n                                }\n                            default:\n                                {\n                                    xpadding = ScoreRenderer.CHANT_XPADDING_DEFAULT;\n                                    break;\n                                }\n                        }\n                    if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE && e.isligated()) {\n                        let firstNotePos = this.eventinfo[vi].size();\n                        numRendered = this.eventinfo[vi].addlig_1(vd, ei, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, vg.clefEvents, lastre, vg.mensEvent, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.EQUALITY, vg.curColoration, vg.inEditorialSection, vg.missingInVersion, vg.ligInfo, false, vg.tieInfo, vd.getMetaData().getSuggestedModernClef(), vg.varReadingInfo));\n                        newXloc = vg.xloc + xpadding;\n                        if (lastIsOrigText)\n                            lastre.setxloc(newXloc);\n                        for (let ni = firstNotePos; ni < ((firstNotePos + numRendered) | 0); ni++) {\n                            let re = this.eventinfo[vi].getEvent(ni);\n                            re.setxloc(newXloc);\n                            re.setmusictime(vg.musictime);\n                            lastre = re;\n                            newXloc += re.getRenderedXSizeWithoutText();\n                            re.setLigEnd(ni == ((((firstNotePos + numRendered) | 0) - 1) | 0));\n                            re.setMusicLength(curEventLength);\n                            vg.musictime.add(re.getMusicLength());\n                            if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE)\n                                lastNoteEvent = re;\n                        }\n                    }\n                    else {\n                        let re = this.eventinfo[vi].addevent_1(true, e, _RenderParams__WEBPACK_IMPORTED_MODULE_1__.RenderParams.new0(this.curMeasureNum, vg.clefEvents, lastre, vg.mensEvent, _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.EQUALITY, vg.curColoration, vg.inEditorialSection, vg.missingInVersion, vg.ligInfo, false, vg.tieInfo, vd.getMetaData().getSuggestedModernClef(), vg.varReadingInfo));\n                        numRendered = 1;\n                        re.setxloc(vg.xloc + xpadding);\n                        re.setmusictime(vg.musictime);\n                        if (lastIsOrigText)\n                            lastre.setxloc(re.getxloc());\n                        lastre = re;\n                        this.setPostrenderParameters_2(vg, re, false);\n                        newXloc = re.getxloc() + re.getRenderedXSizeWithoutText();\n                        re.setMusicLength(curEventLength);\n                        vg.musictime.add(re.getMusicLength());\n                        if (re.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_NOTE)\n                            lastNoteEvent = re;\n                    }\n                    vg.revloc += numRendered;\n                    vg.evloc += numRendered;\n                    if (e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_18__.Event.EVENT_ORIGINALTEXT) {\n                        vg.lastx = vg.xloc;\n                        vg.xloc = newXloc;\n                        lastIsOrigText = false;\n                    }\n                    else\n                        lastIsOrigText = true;\n                    ei += numRendered;\n                    done = ei >= numEvents;\n                    if (done && lastNoteEvent != null)\n                        lastNoteEvent.setMusicLength(ScoreRenderer.CHANT_TIME_UNIT_LONG);\n                }\n                if (this.curmeasure.xlength < vg.xloc)\n                    this.curmeasure.xlength = vg.xloc;\n                if (this.curmeasure.numMinims < vg.musictime.toDouble())\n                    this.curmeasure.numMinims = (vg.musictime.toDouble());\n            }\n    }\n    /* render as ligature */\n    /* align original texting properly */\n    /* align original texting properly */\n    /* make final chant note long */\n    /*        vg.xloc-=CHANTSYMBOL_XPADDING;  only pad between events */\n    positionTextSection(musicData) {\n        _EventStringImg__WEBPACK_IMPORTED_MODULE_11__.EventStringImg.genericG.setFont(_MusicFont__WEBPACK_IMPORTED_MODULE_9__.MusicFont.defaultTextFont);\n        let m = _EventStringImg__WEBPACK_IMPORTED_MODULE_11__.EventStringImg.genericG.getFontMetrics();\n        this.curmeasure.xlength = ScoreRenderer.SECTION_END_SPACING + m.stringWidth(musicData.getSectionText());\n    }\n    /*---------------------- POST-RENDERING UTILITIES ----------------------*/\n    /*------------------------------------------------------------------------\nMethod:  void adjustMeasureEventPositions(int mnum,double Xadjust)\nPurpose: Change x-position of all rendered events within a measure\nParameters:\n  Input:  int mnum       - index of measure to adjust\n          double Xadjust - x-value to add to each event\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    adjustMeasureEventPositions(mnum, Xadjust) {\n        let starte;\n        let ende;\n        let re;\n        for (let v = 0; v < this.numVoices; v++)\n            if (this.eventinfo[v] != null) {\n                starte = this.measures.get(mnum).reventindex[v];\n                if (((mnum + 1) | 0) >= this.measures.size())\n                    ende = ((this.eventinfo[v].size() - 1) | 0);\n                else\n                    ende = ((this.measures.get(((mnum + 1) | 0)).reventindex[v] - 1) | 0);\n                for (let ei = starte; ei <= ende; ei++) {\n                    re = this.eventinfo[v].get(ei);\n                    re.setxloc(re.getxloc() + Xadjust);\n                }\n            }\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nScoreRenderer.BARLINE_XADD = 4;\n/* amount of blank space at measure beginning\n                               to accommodate barlines */\nScoreRenderer.CHANT_XPADDING_B = 13;\n/* space between symbols in chant sections */\nScoreRenderer.CHANT_XPADDING_SB = 3;\nScoreRenderer.CHANT_XPADDING_DOT = 3;\nScoreRenderer.CHANT_XPADDING_DEFAULT = 3;\nScoreRenderer.SECTION_END_SPACING = 10;\n/* event x positioning relative to previous events */\nScoreRenderer.XPOS_BEFORENEXT = 0;\n/* immediately before next event */\nScoreRenderer.XPOS_IMMEDIATE = 1;\n/* immediately after previous event */\nScoreRenderer.XPOS_HALF = 2;\n/* halfway between events */\nScoreRenderer.XPOS_SIMULTANEOUS = 3;\n/* aligned vertically with previous event */\nScoreRenderer.XPOS_WITHNEXT = 4;\n/* aligned vertically with next event */\nScoreRenderer.XPOS_INVISIBLE = 5;\n/* not displayed, can be pushed around */\n/* x space taken by an event */\nScoreRenderer.XSPACING_TIMED = 0;\n/* x space relative to musical time */\nScoreRenderer.XSPACING_UNTIMED = 1;\n/* x space based only on image size */\nScoreRenderer.XSPACING_NOSPACE = 2;\n/* find starting x-coord and musictime for explicits */\n/* render ELLIPSIS event */\n/* re-construct voice list for rendering (finales only) */\n/* new measure for explicit */\n/*--------------------------- CHANT-RENDERING ---------------------------*/\n/*------------------------------------------------------------------------\nMethod:  void renderAllChantEvents(MusicChantSection musicData)\nPurpose: Render plainchant section\nParameters:\nInput:  MusicChantSection musicData - music data for this section\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\nScoreRenderer.CHANT_TIME_UNIT_SHORT = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(1, 1);\nScoreRenderer.CHANT_TIME_UNIT = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(1, 1);\nScoreRenderer.CHANT_TIME_UNIT_LONG = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(2, 1);\nScoreRenderer.CHANT_TIME_UNIT_NONE = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_25__.Proportion.new0(0, 1);\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/ScoreRenderer.ts?");

/***/ }),

/***/ "./src/Gfx/SelectionPanel.ts":
/*!***********************************!*\
  !*** ./src/Gfx/SelectionPanel.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SelectionPanel: () => (/* binding */ SelectionPanel)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JRadioButton */ \"./src/javax/swing/JRadioButton.ts\");\n/* harmony import */ var _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/ButtonGroup */ \"./src/javax/swing/ButtonGroup.ts\");\n/* harmony import */ var _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JCheckBox */ \"./src/javax/swing/JCheckBox.ts\");\n\n\n\n\n\n\n\n\n\nclass SelectionPanel extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__.JPanel {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: SelectionPanel(String title,List<String> itemNames,\n                            int selectionType,int numItemsPerRow)\nPurpose:     Init panel\nParameters:\n  Input:  String title           - panel title\n          List<String> itemNames - names of buttons/boxes to add\n          int selectionType      - type of selection element\n          int numItemsPerRow     - number of elements in each row of panel\n  Output: -\n------------------------------------------------------------------------*/\n    static ArraysasList(itemNames) {\n        let out = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_1__.ArrayList();\n        for (let i = 0; i < itemNames.length; i++)\n            out.add(itemNames[i]);\n        return out;\n    }\n    static new0_3(title, itemNames, selectionType, numItemsPerRow) {\n        let _new0 = new SelectionPanel;\n        SelectionPanel.set0_3(_new0, title, itemNames, selectionType, numItemsPerRow);\n        return _new0;\n    }\n    static set0_3(new0, title, itemNames, selectionType, numItemsPerRow) {\n        SelectionPanel.set1_3(new0, title, SelectionPanel.ArraysasList(itemNames), selectionType, numItemsPerRow);\n    }\n    static new1_3(title, itemNames, selectionType, numItemsPerRow) {\n        let _new1 = new SelectionPanel;\n        SelectionPanel.set1_3(_new1, title, itemNames, selectionType, numItemsPerRow);\n        return _new1;\n    }\n    static set1_3(new1, title, itemNames, selectionType, numItemsPerRow) {\n        new1.selectionType = selectionType;\n        new1.numItems = itemNames.size();\n        let numItemLevels = _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.floor(((new1.numItems / numItemsPerRow) | 0));\n        if (new1.numItems % numItemsPerRow != 0)\n            numItemLevels++;\n        let itemGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_7__.ButtonGroup();\n        switch (selectionType) {\n            case SelectionPanel.CHECKBOX:\n                {\n                    new1.checkBoxes = Array(new1.numItems);\n                    new1.radioButtons = Array(0);\n                    break;\n                }\n            case SelectionPanel.RADIOBUTTON:\n                {\n                    new1.checkBoxes = Array(0);\n                    new1.radioButtons = Array(new1.numItems);\n                    break;\n                }\n        }\n        let itemRowPanes = Array(numItemLevels);\n        let curBox = -1;\n        for (let i = 0; i < new1.numItems; i++) {\n            if (i % numItemsPerRow == 0)\n                itemRowPanes[(++curBox)] = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalBox();\n            switch (selectionType) {\n                case SelectionPanel.CHECKBOX:\n                    {\n                        new1.checkBoxes[i] = new _javax_swing_JCheckBox__WEBPACK_IMPORTED_MODULE_8__.JCheckBox(itemNames.get(i));\n                        new1.checkBoxes[i].setSelected(true);\n                        itemRowPanes[curBox].add(new1.checkBoxes[i]);\n                        break;\n                    }\n                case SelectionPanel.RADIOBUTTON:\n                    {\n                        new1.radioButtons[i] = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_6__.JRadioButton(itemNames.get(i));\n                        if (i == 0)\n                            new1.radioButtons[i].setSelected(true);\n                        itemGroup.add(new1.radioButtons[i]);\n                        itemRowPanes[curBox].add(new1.radioButtons[i]);\n                        break;\n                    }\n            }\n            itemRowPanes[curBox].add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalStrut(5));\n        }\n        new1.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout(new1, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_5__.BoxLayout.Y_AXIS));\n        for (let b of itemRowPanes) {\n            b.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalGlue());\n            b.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(0, 5, 0, 5));\n            new1.add(b);\n        }\n        if (title != null)\n            new1.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createTitledBorder(title), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_4__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [un]registerListeners()\nPurpose: Add and remove event listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    registerListeners_1(listener) {\n        for (let cb of this.checkBoxes)\n            cb.addItemListener(listener);\n        for (let rb of this.radioButtons)\n            rb.addItemListener(listener);\n    }\n    unregisterListeners_2(listener) {\n        for (let cb of this.checkBoxes)\n            cb.removeItemListener(listener);\n        for (let rb of this.radioButtons)\n            rb.removeItemListener(listener);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nSelectionPanel.CHECKBOX = 0;\nSelectionPanel.RADIOBUTTON = 1;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/SelectionPanel.ts?");

/***/ }),

/***/ "./src/Gfx/StaffEventData.ts":
/*!***********************************!*\
  !*** ./src/Gfx/StaffEventData.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StaffEventData: () => (/* binding */ StaffEventData)\n/* harmony export */ });\n/* harmony import */ var _RenderList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RenderList */ \"./src/Gfx/RenderList.ts\");\n/* harmony import */ var _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RenderedEventGroup */ \"./src/Gfx/RenderedEventGroup.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DataStruct/DotEvent */ \"./src/DataStruct/DotEvent.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_EventListData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DataStruct/EventListData */ \"./src/DataStruct/EventListData.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n\n\n\n\n\n\n\n\n\nclass StaffEventData extends _RenderList__WEBPACK_IMPORTED_MODULE_0__.RenderList {\n    static new2(o, v, section) {\n        let _new2 = new StaffEventData;\n        StaffEventData.set2(_new2, o, v, section);\n        return _new2;\n    }\n    static set2(new2, o, v, section) {\n        _RenderList__WEBPACK_IMPORTED_MODULE_0__.RenderList.set0_2(new2, o, v, section);\n        new2.eventgroups = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_4__.ArrayList();\n        new2.incipitEndGroupIndex = -1;\n    }\n    static new3(v, section) {\n        let _new3 = new StaffEventData;\n        StaffEventData.set3(_new3, v, section);\n        return _new3;\n    }\n    static set3(new3, v, section) {\n        StaffEventData.set2(new3, _OptionSet__WEBPACK_IMPORTED_MODULE_2__.OptionSet.makeDEFAULT_ORIGINAL(null), v, section);\n    }\n    static new4() {\n        let _new4 = new StaffEventData;\n        StaffEventData.set4(_new4);\n        return _new4;\n    }\n    static set4(new4) {\n        StaffEventData.set3(new4, null, null);\n    }\n    getEventgroup(i) {\n        return (this.eventgroups.get(i));\n    }\n    /*------------------------------------------------------------------------\nMethod:  int calcEventSpace([,int starti,int endi])\nPurpose: Calculate x-space taken up by rendered events on staff\nParameters:\n  Input:  int starti,endi       - start and end group indices for summation\n  Output: -\n  Return: total x-space\n------------------------------------------------------------------------*/\n    calcEventSpace_1(starti, endi) {\n        let eg;\n        let totaleventspace = 0;\n        for (let i = starti; i <= endi; i++) {\n            eg = this.getEventgroup(i);\n            totaleventspace += this.getgrouprenderedxsize(eg);\n        }\n        return totaleventspace;\n    }\n    calcEventSpace_2() {\n        return this.calcEventSpace_1(0, ((this.eventgroups.size() - 1) | 0));\n    }\n    getgrouprenderedxsize(eg) {\n        let totalsize = 0;\n        let lastx = 0;\n        let cure;\n        for (let i = eg.firstEventNum; i <= eg.lastEventNum; i++) {\n            cure = this.getEvent(i);\n            if (eg.grouptype != _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.EVENTGROUP_LIG || cure.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE) {\n                lastx = totalsize;\n                totalsize += cure.getrenderedxsize();\n            }\n        }\n        return totalsize;\n    }\n    /* within a ligature, */\n    /* only notes take up space */\n    setgroupxlocs(eg, x) {\n        let lastx = x;\n        for (let i = eg.firstEventNum; i <= eg.lastEventNum; i++) {\n            let re = this.getEvent(i);\n            if (eg.grouptype != _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.EVENTGROUP_LIG || re.getEvent_1().hasEventType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE)) {\n                lastx = x;\n                re.setxloc(x);\n                x += re.getrenderedxsize();\n            }\n            else\n                re.setxloc(lastx + _MusicFont__WEBPACK_IMPORTED_MODULE_3__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_3__.MusicFont.PIC_NOTESTART + _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_8__.NoteEvent.NOTEHEADSTYLE_BREVE) | 0)));\n        }\n    }\n    /* within a ligature, */\n    /* only notes take up space */\n    /*------------------------------------------------------------------------\nMethod:  double padEvents(double paddingspace[,int starti,int endi,double curx])\nPurpose: Set event group x-locations, given a padding value (space between\n         groups)\nParameters:\n  Input:  double paddingspace   - x-space to place between groups\n          int starti,endi       - start and end group indices for operation\n          double curx           - starting x-value\n  Output: events\n  Return: total x-space\n------------------------------------------------------------------------*/\n    padEvents_1(paddingspace, starti, endi, curx) {\n        let eg;\n        for (let i = starti; i <= endi; i++) {\n            eg = this.getEventgroup(i);\n            this.setgroupxlocs(eg, curx);\n            curx += this.getgrouprenderedxsize(eg) + paddingspace;\n        }\n        return curx;\n    }\n    padEvents_2(paddingspace) {\n        return this.padEvents_1(paddingspace, 0, ((this.eventgroups.size() - 1) | 0), 0);\n    }\n    /* should this event be grouped with the last one? e.g., dot + note */\n    groupwithprevious(e) {\n        if (this.eventgroups.size() <= 0)\n            return false;\n        if (e.alignedWithPrevious())\n            return true;\n        let laste = this.getEvent(((this.size() - 1) | 0)).getEvent_1();\n        switch (e.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_DOT:\n                {\n                    if ((e.getdottype() & _DataStruct_DotEvent__WEBPACK_IMPORTED_MODULE_5__.DotEvent.DT_Addition) != 0)\n                        return true;\n                    break;\n                }\n        }\n        if (e.hasEventType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_CLEF) && e.getClefSet_1() != null && laste.getClefSet_1() != null && e.getClefSet_1().containsClef(laste.getClefSet_1().getprincipalclef()))\n            return true;\n        switch (laste.geteventtype()) {\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ANNOTATIONTEXT:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_COLORCHANGE:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_MODERNKEYSIGNATURE:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ORIGINALTEXT:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_PROPORTION:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_START:\n                {\n                }\n            case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_VARIANTDATA_END:\n                {\n                    return true;\n                }\n        }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  boolean isEllipsis(RenderedEventGroup eg)\nPurpose: Is this event group an Ellipsis event (end of incipit)?\nParameters:\n  Input:  RenderedEventGroup eg - event group to check\n  Output: -\n  Return: whether this is an Ellipsis event\n------------------------------------------------------------------------*/\n    isEllipsis(eg) {\n        return this.getEvent(eg.firstEventNum).getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ELLIPSIS;\n    }\n    /* override RenderList functions to incorporate groups */\n    addevent_1(display, e, rp) {\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_ELLIPSIS)\n            this.incipitEndGroupIndex = this.eventgroups.size();\n        if (this.groupwithprevious(e))\n            this.getEventgroup(((this.eventgroups.size() - 1) | 0)).lastEventNum = this.size();\n        else\n            this.eventgroups.add(_RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.new0(this.size()));\n        return super.addevent_1(display, e, rp);\n    }\n    /* add to end of last group */\n    addlig_1(v, evnum, rp) {\n        return this.addlig_2(v, evnum, rp, false);\n    }\n    addlig_2(v, evnum, rp, varDisplay) {\n        let gwp = this.groupwithprevious(v.getEvent(evnum));\n        let ligsize = super.addlig_2(v, evnum, rp, varDisplay);\n        if (gwp) {\n            let lastGroup = this.getEventgroup(((this.eventgroups.size() - 1) | 0));\n            lastGroup.lastEventNum = ((this.size() - 1) | 0);\n            lastGroup.grouptype = _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.EVENTGROUP_LIG;\n        }\n        else\n            this.eventgroups.add(_RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.new1(((this.size() - ligsize) | 0), ((this.size() - 1) | 0)));\n        return ligsize;\n    }\n    addlig_3(rl, revnum, rp) {\n        return this.addlig_4(rl, revnum, rp, false);\n    }\n    createLigList(rl, revnum) {\n        let ligList = _DataStruct_EventListData__WEBPACK_IMPORTED_MODULE_7__.EventListData.new0();\n        let e = rl.getEvent(revnum).getEvent_1();\n        let done = false;\n        while (!done) {\n            ligList.addEvent_1(e);\n            let ne = e.getFirstEventOfType_1(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_6__.Event.EVENT_NOTE);\n            if (ne != null && !ne.isligated())\n                done = true;\n            else\n                e = rl.getEvent(++revnum).getEvent_1();\n        }\n        return ligList;\n    }\n    addlig_4(rl, revnum, rp, varDisplay) {\n        let gwp = this.groupwithprevious(rl.getEvent(revnum).getEvent_1());\n        let ligList = this.createLigList(rl, revnum);\n        let ligsize = super.addlig_2(ligList, 0, rp, varDisplay);\n        if (gwp) {\n            let lastGroup = this.getEventgroup(((this.eventgroups.size() - 1) | 0));\n            lastGroup.lastEventNum = ((this.size() - 1) | 0);\n            lastGroup.grouptype = _RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.EVENTGROUP_LIG;\n        }\n        else\n            this.eventgroups.add(_RenderedEventGroup__WEBPACK_IMPORTED_MODULE_1__.RenderedEventGroup.new1(((this.size() - ligsize) | 0), ((this.size() - 1) | 0)));\n        return ligsize;\n    }\n    addclefgroup(v, cenum, rp) {\n        if (cenum == -1)\n            return 0;\n        let i = cenum;\n        let e = v.getEvent(i);\n        let origcs = null;\n        let origClef = null;\n        if (e == null || !e.hasSignatureClef_1())\n            return 0;\n        origcs = e.getClefSet_2(this.options.get_usemodernclefs());\n        origClef = origcs.getprincipalclef();\n        let done = false;\n        while (!done) {\n            this.addevent_1(true, e, rp);\n            e = v.getEvent(++i);\n            if (e == null || !e.hasSignatureClef_1() || !e.getClefSet_2(this.options.get_usemodernclefs()).containsClef(origClef))\n                done = true;\n        }\n        return ((i - cenum) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getIncipitEndGroupIndex() {\n        if (this.incipitEndGroupIndex == -1)\n            return this.eventgroups.size();\n        else\n            return this.incipitEndGroupIndex;\n    }\n    getNextEventWithType(eventType, i, dir) {\n        for (; i >= 0 && i < this.size(); i += dir)\n            if (this.getEvent(i).getEvent_1().hasEventType_1(eventType))\n                return i;\n        return -1;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/StaffEventData.ts?");

/***/ }),

/***/ "./src/Gfx/VariantAnalysisList.ts":
/*!****************************************!*\
  !*** ./src/Gfx/VariantAnalysisList.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantAnalysisList: () => (/* binding */ VariantAnalysisList)\n/* harmony export */ });\n/* harmony import */ var _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/RuntimeException */ \"./src/java/lang/RuntimeException.ts\");\n/* harmony import */ var _VariantReport__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VariantReport */ \"./src/Gfx/VariantReport.ts\");\n/* harmony import */ var _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ScoreRenderer */ \"./src/Gfx/ScoreRenderer.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n\n\nclass VariantAnalysisList extends _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_3__.ArrayList {\n    static new0_3(musicData, parentWin) {\n        let _new0 = new VariantAnalysisList;\n        VariantAnalysisList.set0_3(_new0, musicData, parentWin);\n        return _new0;\n    }\n    static set0_3(new0, musicData, parentWin) {\n        VariantAnalysisList.set1_3(new0, musicData, _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.renderSections(musicData, parentWin.optSet));\n    }\n    static new1_3(musicData, renderedSections) {\n        let _new1 = new VariantAnalysisList;\n        VariantAnalysisList.set1_3(_new1, musicData, renderedSections);\n        return _new1;\n    }\n    static set1_3(new1, musicData, renderedSections) {\n        new1.renderedSections = renderedSections;\n        new1.musicData = musicData;\n        new1.parentWin = new1.parentWin;\n        new1.createVariantList();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void createVariantList()\nPurpose: Initialize list (this) with variants in all sections\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    Collectionssort(arr, comparator) {\n        throw new _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_0__.RuntimeException();\n    }\n    //CHANGE\n    createVariantList() {\n        for (let rs of this.renderedSections)\n            this.addVariantList(rs, this);\n        this.Collectionssort(this, {\n            //CHANGE\n            compare: (v1, v2) => {\n                if (v1.measureNum < v2.measureNum)\n                    return -1;\n                else if (v1.measureNum > v2.measureNum)\n                    return 1;\n                else if (v1.betweenMeasures == v2.betweenMeasures)\n                    return 0;\n                else if (v1.betweenMeasures && !v2.betweenMeasures)\n                    return 1;\n                else\n                    return -1;\n            }\n        });\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addVariantList(ScoreRenderer rs,ArrayList<VariantReport> varReports)\nPurpose: Add variants in one section to list\nParameters:\n  Input:  ScoreRenderer rs                    - rendered music for one section\n  Output: ArrayList<VariantReport> varReports - list to expand\n  Return: -\n------------------------------------------------------------------------*/\n    addVariantList(rs, varReports) {\n        let numVoices = rs.getNumVoices();\n        for (let mi = rs.getFirstMeasureNum(); mi <= rs.getLastMeasureNum(); mi++) {\n            let m = rs.getMeasure(mi);\n            let rv;\n            for (let vi = 0; vi < numVoices; vi++)\n                if ((rv = rs.getRenderedVoice(vi)) != null) {\n                    let starti = m.reventindex[vi];\n                    let endi = mi == rs.getLastMeasureNum() ? ((rv.size() - 1) | 0) : ((rs.getMeasure(((mi + 1) | 0)).reventindex[vi] - 1) | 0);\n                    for (let ei = starti; ei <= endi; ei++)\n                        if (rv.getEvent(ei).getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_VARIANTDATA_START)\n                            varReports.add(new _VariantReport__WEBPACK_IMPORTED_MODULE_1__.VariantReport(m, vi, rv, ei));\n                }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getRenderedSections() {\n        return this.renderedSections;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/VariantAnalysisList.ts?");

/***/ }),

/***/ "./src/Gfx/VariantDisplayFrame.ts":
/*!****************************************!*\
  !*** ./src/Gfx/VariantDisplayFrame.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantDisplayFrame: () => (/* binding */ VariantDisplayFrame)\n/* harmony export */ });\n/* harmony import */ var _VariantReadingPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VariantReadingPanel */ \"./src/Gfx/VariantReadingPanel.ts\");\n/* harmony import */ var _CriticalNotesWindow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CriticalNotesWindow */ \"./src/Gfx/CriticalNotesWindow.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../java/util/LinkedList */ \"./src/java/util/LinkedList.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : VariantDisplayFrame.java\n\n        Package         : Gfx\n\n        Classes Included: VariantDisplayFrame\n\n        Purpose         : Frame displaying all variant readings (and default\n                          reading) at one location\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 1/21/2008 (moved out of functions in ViewCanvas)\n\n        Updates         :\n7/19/08: moved individual reading display to public class VariantReadingPanel\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*----------------------------------------------------------------------*/\n/* Imported packages */\n\n\n\n\n\n\n\n\n\n\n\nclass VariantDisplayFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_6__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VariantDisplayFrame(RenderedEventGroup renderedVar,\n                                 VoiceEventListData v,ScoreRenderer rs,int vnum,\n                                 int fx,int fy,ViewCanvas canvas,MusicFont MusicGfx,\n                                 float STAFFSCALE,float VIEWSCALE)\nParameters:\n  Input:\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(renderedVar, v, rs, vnum, fx, fy, canvas, MusicGfx, STAFFSCALE, VIEWSCALE) {\n        super(canvas.parentwin, false);\n        this.canvas = canvas;\n        let mnum = rs.eventinfo[vnum].getEvent(renderedVar.firstEventNum).getmeasurenum();\n        let rv = rs.eventinfo[vnum];\n        this.setTitle(\"V\" + (((vnum + 1) | 0)) + \", m. \" + _CriticalNotesWindow__WEBPACK_IMPORTED_MODULE_1__.CriticalNotesWindow.createMeasureString(rv, rs.getMeasure(rv.getEvent(renderedVar.firstEventNum).getmeasurenum()), renderedVar.firstEventNum));\n        this.setBackground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_2__.Color.white);\n        this.vStartEvent = rv.getEvent(renderedVar.firstEventNum).getEvent_1();\n        this.vStartEvent.calcVariantTypes(v);\n        let vEndEvent = rv.getEvent(renderedVar.lastEventNum).getEvent_1();\n        vEndEvent.setVarTypeFlags(this.vStartEvent.getVarTypeFlags());\n        let numReadings = this.vStartEvent.getNumReadings();\n        let variantStaves = new _java_util_LinkedList__WEBPACK_IMPORTED_MODULE_11__.LinkedList();\n        let vrcp = this.getContentPane();\n        vrcp.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_4__.GridBagLayout());\n        let vrc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints();\n        vrc.gridy = 0;\n        let infoPanel = this.createInfoPanel();\n        vrc.gridx = 0;\n        vrc.gridwidth = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_3__.GridBagConstraints.REMAINDER;\n        vrcp.add(infoPanel, vrc);\n        vrc.gridwidth = 1;\n        vrc.gridy++;\n        let musicData = canvas.getMusicData_1();\n        let defaultVersions = this.vStartEvent.getDefaultVersions(musicData.getVariantVersions(), musicData.getVoice(vnum), v);\n        let defaultVersionsPanel = this.createVersionsPanel_2(defaultVersions, true);\n        let defaultVariantPanel = _VariantReadingPanel__WEBPACK_IMPORTED_MODULE_0__.VariantReadingPanel.new0_4(v, this.vStartEvent.getDefaultListPlace(), rs.eventinfo[vnum].getClefEvents(renderedVar.firstEventNum), false, MusicGfx, STAFFSCALE, VIEWSCALE);\n        vrc.gridx = 0;\n        vrcp.add(defaultVersionsPanel, vrc);\n        vrc.gridx = 1;\n        vrcp.add(defaultVariantPanel, vrc);\n        vrc.gridy++;\n        for (let vr of this.vStartEvent.getReadings()) {\n            let versionsPanel = this.createVersionsPanel_2(vr.getVersions(), false);\n            let variantPanel = _VariantReadingPanel__WEBPACK_IMPORTED_MODULE_0__.VariantReadingPanel.new1_4(vr, rs.eventinfo[vnum].getClefEvents(renderedVar.firstEventNum), vr.isError(), MusicGfx, STAFFSCALE, VIEWSCALE);\n            vrc.gridx = 0;\n            vrcp.add(versionsPanel, vrc);\n            vrc.gridx = 1;\n            vrcp.add(variantPanel, vrc);\n            vrc.gridy++;\n        }\n        this.createAdditionalControls_1(vrcp, vrc);\n        this.registerListeners_5();\n        this.pack();\n        let screenSize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_10__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (((fx + this.getSize().width) | 0) > screenSize.width)\n            fx = ((screenSize.width - this.getSize().width) | 0);\n        if (((fy + this.getSize().height) | 0) > screenSize.height)\n            fy = ((screenSize.height - this.getSize().height) | 0);\n        this.setLocation(fx, fy);\n    }\n    /* get list of \"unused\" versions to be listed with default reading */\n    /* ensure that the frame is on-screen */\n    createInfoPanel() {\n        let infoLabel = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_9__.JLabel(\"Variant type: \" + _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_12__.VariantReading.varTypesToStr(this.vStartEvent.getVarTypeFlags()));\n        let infoPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__.JPanel();\n        infoPanel.add(infoLabel);\n        return infoPanel;\n    }\n    createVersionsPanel_2(versions, defaultVersion) {\n        let versionsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_5__.JPanel();\n        versionsPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__.BoxLayout(versionsPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_8__.BoxLayout.Y_AXIS));\n        for (let i = 0; i < versions.size(); i++)\n            versionsPanel.add(new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_9__.JLabel(versions.get(i).getID()));\n        versionsPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_7__.BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        return versionsPanel;\n    }\n    //    JTable versionsTable=new JTable(versions.size(),1);\n    //      versionsTable.setValueAt(\" \"+versions.get(i).getID(),i,0);\n    /* deprecated\n  protected JPanel createVersionsPanel(VariantVersionData version)\n  {\n    JPanel versionsPanel=new JPanel();\n    JTable versionsTable=new JTable(1,1);\n    versionsTable.setValueAt(version.getID(),0,0);\n    versionsPanel.add(versionsTable);\n    return versionsPanel;\n  }*/\n    createAdditionalControls_1(vrcp, vrc) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void closeFrame()\nPurpose: Close frame and clean up\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    closeFrame_1() {\n        this.setVisible(false);\n        this.unregisterListeners_8();\n        this.dispose();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void [un]registerListeners()\nPurpose: Add and remove event listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    registerListeners_5() {\n        this.addWindowListener({\n            windowClosing: (event) => {\n                this.closeFrame_1();\n            }\n        });\n    }\n    unregisterListeners_8() {\n        for (let w of this.getListeners(\"WindowListener\"))\n            this.removeWindowListener(w);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/VariantDisplayFrame.ts?");

/***/ }),

/***/ "./src/Gfx/VariantDisplayOptionsFrame.ts":
/*!***********************************************!*\
  !*** ./src/Gfx/VariantDisplayOptionsFrame.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantDisplayOptionsFrame: () => (/* binding */ VariantDisplayOptionsFrame)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _SelectionPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SelectionPanel */ \"./src/Gfx/SelectionPanel.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/JDialog */ \"./src/javax/swing/JDialog.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/BoxLayout */ \"./src/javax/swing/BoxLayout.ts\");\n/* harmony import */ var _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/JRadioButton */ \"./src/javax/swing/JRadioButton.ts\");\n/* harmony import */ var _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/ButtonGroup */ \"./src/javax/swing/ButtonGroup.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n\n\n\n\n\n\n\n\n\n\nclass VariantDisplayOptionsFrame extends _javax_swing_JDialog__WEBPACK_IMPORTED_MODULE_4__.JDialog {\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  long calcVarFlags(JCheckBox[] variantTypeCheckBoxes)\nPurpose: Calculate flag set for filtering variant types based on user selection\nParameters:\n  Input:  JCheckBox[] variantTypeCheckBoxes - array of check boxes for all\n                                              variant types\n  Output: -\n  Return: flag set representing user-selected variant types\n------------------------------------------------------------------------*/\n    static calcVarFlags(variantTypeCheckBoxes) {\n        let newFlags = _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_NONE;\n        let curFlagVal = _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_NONSUBSTANTIVE;\n        for (let i = 0; i < variantTypeCheckBoxes.length; i++) {\n            if (variantTypeCheckBoxes[i].isSelected())\n                newFlags |= curFlagVal;\n            curFlagVal <<= 1;\n        }\n        return newFlags;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: VariantDisplayOptionsFrame(MusicWin ownerWin)\nPurpose:     Lay out frame\nParameters:\n  Input:  MusicWin ownerWin - music window to which this frame is connected\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(ownerWin) {\n        super(ownerWin, \"Variant display options\", false);\n        this.mytype_ItemListener = true;\n        this.ownerWin = ownerWin;\n        this.versionsPanel = this.createVersionsPanel_3(ownerWin.getMusicData_2().getVariantVersionNames());\n        let variantsPanel = this.createVariantsPanel();\n        let cp = this.getContentPane();\n        cp.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_6__.BoxLayout(cp, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_6__.BoxLayout.Y_AXIS));\n        cp.add(this.versionsPanel);\n        cp.add(variantsPanel);\n        this.pack();\n        this.registerListeners_6();\n    }\n    /*------------------------------------------------------------------------\nMethod:  JPanel create*Panel()\nPurpose: Initialize individual panes within frame\nParameters:\n  Input:  -\n  Output: -\n  Return: one frame section as JPanel\n------------------------------------------------------------------------*/\n    /* versions panel */\n    createVersionsPanel_3(versionNames) {\n        let versionsPanel = _SelectionPanel__WEBPACK_IMPORTED_MODULE_1__.SelectionPanel.new1_3(\"Display version\", versionNames, _SelectionPanel__WEBPACK_IMPORTED_MODULE_1__.SelectionPanel.RADIOBUTTON, 4);\n        return versionsPanel;\n    }\n    /* variants panel */\n    createVariantsPanel() {\n        this.buttonAllVariants = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_7__.JRadioButton(\"All variants\");\n        this.buttonNoVariants = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_7__.JRadioButton(\"No variants\");\n        this.buttonSelectedVariants = new _javax_swing_JRadioButton__WEBPACK_IMPORTED_MODULE_7__.JRadioButton(\"Selected variant types:\");\n        this.buttonNoVariants.setSelected(true);\n        let categoryButtonGroup = new _javax_swing_ButtonGroup__WEBPACK_IMPORTED_MODULE_8__.ButtonGroup();\n        categoryButtonGroup.add(this.buttonAllVariants);\n        categoryButtonGroup.add(this.buttonNoVariants);\n        categoryButtonGroup.add(this.buttonSelectedVariants);\n        let buttonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalBox();\n        buttonPane.add(this.buttonAllVariants);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.buttonNoVariants);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalStrut(10));\n        buttonPane.add(this.buttonSelectedVariants);\n        buttonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_3__.Box.createHorizontalGlue());\n        buttonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        this.variantTypesPanel = _SelectionPanel__WEBPACK_IMPORTED_MODULE_1__.SelectionPanel.new0_3(null, _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.typeNames, _SelectionPanel__WEBPACK_IMPORTED_MODULE_1__.SelectionPanel.CHECKBOX, 5);\n        for (let cb of this.variantTypesPanel.checkBoxes) {\n            cb.setSelected(false);\n            if (!this.buttonSelectedVariants.isSelected())\n                cb.setEnabled(false);\n        }\n        this.variantTypesPanel.checkBoxes[_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.varIndex(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_RHYTHM)].setSelected(true);\n        this.variantTypesPanel.checkBoxes[_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.varIndex(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_PITCH)].setSelected(true);\n        this.variantTypesPanel.checkBoxes[_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.varIndex(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_ACCIDENTAL)].setSelected(true);\n        this.variantTypesPanel.checkBoxes[_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.varIndex(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_COLORATION)].setSelected(true);\n        this.variantTypesPanel.checkBoxes[_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.varIndex(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_LIGATURE)].setSelected(true);\n        this.variantTypesPanel.checkBoxes[_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.varIndex(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_9__.VariantReading.VAR_MENSSIGN)].setSelected(true);\n        let variantsPanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_2__.JPanel();\n        variantsPanel.setLayout(new _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_6__.BoxLayout(variantsPanel, _javax_swing_BoxLayout__WEBPACK_IMPORTED_MODULE_6__.BoxLayout.Y_AXIS));\n        variantsPanel.add(buttonPane);\n        variantsPanel.add(this.variantTypesPanel);\n        variantsPanel.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__.BorderFactory.createCompoundBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__.BorderFactory.createTitledBorder(\"Mark on score\"), _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__.BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        return variantsPanel;\n    }\n    /* variant category controls */\n    /* variant types */\n    /*------------------------------------------------------------------------\nMethod:     void itemStateChanged(ItemEvent event)\nImplements: ItemListener.itemStateChanged\nPurpose:    Check for item state changes in menu and take appropriate action\nParameters:\n  Input:  ItemEvent event - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    itemStateChanged(event) {\n        try {\n            let item = event.getItemSelectable();\n            for (let i = 0; i < this.versionsPanel.radioButtons.length; i++)\n                if (item == this.versionsPanel.radioButtons[i])\n                    this.ownerWin.setCurrentVariantVersion_2(i);\n            if (item == this.buttonAllVariants) {\n                this.ownerWin.setVariantMarkingOption_2(VariantDisplayOptionsFrame.OptionSet_OPT_VAR_ALL);\n                this.ownerWin.rerender_3();\n            }\n            else if (item == this.buttonNoVariants) {\n                this.ownerWin.setVariantMarkingOption_2(VariantDisplayOptionsFrame.OptionSet_OPT_VAR_NONE);\n                this.ownerWin.rerender_3();\n            }\n            else if (item == this.buttonSelectedVariants)\n                if (this.buttonSelectedVariants.isSelected()) {\n                    for (let cb of this.variantTypesPanel.checkBoxes)\n                        cb.setEnabled(true);\n                    this.ownerWin.setVariantMarkingOption_1(VariantDisplayOptionsFrame.OptionSet_OPT_VAR_CUSTOM, VariantDisplayOptionsFrame.calcVarFlags(this.variantTypesPanel.checkBoxes));\n                    this.ownerWin.rerender_3();\n                }\n                else {\n                    for (let cb of this.variantTypesPanel.checkBoxes)\n                        cb.setEnabled(false);\n                }\n            for (let cb of this.variantTypesPanel.checkBoxes)\n                if (item == cb) {\n                    this.ownerWin.setVariantMarkingOption_1(VariantDisplayOptionsFrame.OptionSet_OPT_VAR_CUSTOM, VariantDisplayOptionsFrame.calcVarFlags(this.variantTypesPanel.checkBoxes));\n                    this.ownerWin.rerender_3();\n                }\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.ownerWin.handleRuntimeError(e);\n            }\n            else\n                throw e;\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void (un)registerListeners()\nPurpose: Register/unregister GUI listeners (register and unregister should match)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    ownerSetVersionsMenuDisplayVariantOptions(newval) {\n        this.ownerWin.setVersionsMenuDisplayVariantOptions(newval);\n    }\n    registerListeners_6() {\n        this.versionsPanel.registerListeners_1(this);\n        this.variantTypesPanel.registerListeners_1(this);\n        this.buttonAllVariants.addItemListener(this);\n        this.buttonNoVariants.addItemListener(this);\n        this.buttonSelectedVariants.addItemListener(this);\n        this.addWindowListener({\n            windowClosing: (event) => {\n                this.ownerSetVersionsMenuDisplayVariantOptions(false);\n            }\n        });\n    }\n    unregisterListeners_9() {\n        this.versionsPanel.unregisterListeners_2(this);\n        this.variantTypesPanel.unregisterListeners_2(this);\n        this.buttonAllVariants.removeItemListener(this);\n        this.buttonNoVariants.removeItemListener(this);\n        this.buttonSelectedVariants.removeItemListener(this);\n        for (let w of this.getListeners(\"WindowListener\"))\n            this.removeWindowListener(w);\n    }\n}\nVariantDisplayOptionsFrame.OptionSet_OPT_VAR_ALL = 0;\n//CHANGE circular\nVariantDisplayOptionsFrame.OptionSet_OPT_VAR_NONE = 2;\nVariantDisplayOptionsFrame.OptionSet_OPT_VAR_CUSTOM = 3;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/VariantDisplayOptionsFrame.ts?");

/***/ }),

/***/ "./src/Gfx/VariantReadingPanel.ts":
/*!****************************************!*\
  !*** ./src/Gfx/VariantReadingPanel.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantReadingPanel: () => (/* binding */ VariantReadingPanel)\n/* harmony export */ });\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _ViewCanvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ViewCanvas */ \"./src/Gfx/ViewCanvas.ts\");\n/* harmony import */ var _StaffEventData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StaffEventData */ \"./src/Gfx/StaffEventData.ts\");\n/* harmony import */ var _RenderParams__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RenderParams */ \"./src/Gfx/RenderParams.ts\");\n/* harmony import */ var _PartRenderer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PartRenderer */ \"./src/Gfx/PartRenderer.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/imageio/ImageIO */ \"./src/javax/imageio/ImageIO.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n\n\n\n\n\n\n\n\n/*----------------------------------------------------------------------*/\n/*\n\n        Module          : VariantReadingPanel.java\n\n        Package         : Gfx\n\n        Classes Included: VariantReadingPanel\n\n        Purpose         : Panel displaying one reading in musical notation\n\n        Programmer      : Ted Dumitrescu\n\n        Date Started    : 7/19/08 (moved out of functions in VariantDisplayFrame)\n\n        Updates         :\n8/4/08: Converted drawing system to on-the-fly painting instead of pre-drawing\n        into BufferedImage (to save memory when large numbers of\n        VariantReadingPanels are kept in memory simultaneously for a\n        critical notes window)\n\n                                                                        */\n/*----------------------------------------------------------------------*/\n/*----------------------------------------------------------------------*/\n/* Imported packages */\n\n\n\n\n\n\n\nclass VariantReadingPanel extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_13__.JPanel {\n    constructor() {\n        super(...arguments);\n        /*------------------------------------------------------------------------\n    Method:  void paintComponent(Graphics g)\n    Purpose: Repaint area\n    Parameters:\n      Input:  Graphics g - graphical context\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.redisplaying = 0;\n    }\n    static new0_4(v, starti, rcs, error, MusicGfx, STAFFSCALE, VIEWSCALE) {\n        let _new0 = new VariantReadingPanel;\n        VariantReadingPanel.set0_4(_new0, v, starti, rcs, error, MusicGfx, STAFFSCALE, VIEWSCALE);\n        return _new0;\n    }\n    static set0_4(new0, v, starti, rcs, error, MusicGfx, STAFFSCALE, VIEWSCALE) {\n        if (v.getEvent(starti).geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_14__.Event.EVENT_VARIANTDATA_START) {\n            _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"Error: attempting to initialize variant panel with non-variant data\");\n            v.getEvent(starti).prettyprint_1();\n        }\n        new0.renderedStaff = new0.createVariantStaff();\n        new0.initRenderingParams(MusicGfx, STAFFSCALE, VIEWSCALE);\n        new0.error = error;\n        let i = ((starti + 1) | 0);\n        let iadd;\n        let e = v.getEvent(i);\n        while (e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_14__.Event.EVENT_VARIANTDATA_END) {\n            iadd = 1;\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_14__.Event.EVENT_NOTE && e.isligated())\n                iadd = new0.renderedStaff.addlig_2(v, i, _RenderParams__WEBPACK_IMPORTED_MODULE_4__.RenderParams.new1(rcs), true);\n            else\n                new0.renderedStaff.addevent_1(true, e, _RenderParams__WEBPACK_IMPORTED_MODULE_4__.RenderParams.new1(rcs));\n            i += iadd;\n            e = v.getEvent(i);\n            if (e == null) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_0__.System.out.println(\"no varend starti=\" + starti + \" i=\" + i);\n                for (let tmpi = starti; tmpi < i; tmpi++)\n                    v.getEvent(tmpi).prettyprint_1();\n            }\n        }\n        new0.initPaintingParams();\n    }\n    static new1_4(vr, rcs, error, MusicGfx, STAFFSCALE, VIEWSCALE) {\n        let _new1 = new VariantReadingPanel;\n        VariantReadingPanel.set1_4(_new1, vr, rcs, error, MusicGfx, STAFFSCALE, VIEWSCALE);\n        return _new1;\n    }\n    static set1_4(new1, vr, rcs, error, MusicGfx, STAFFSCALE, VIEWSCALE) {\n        new1.renderedStaff = new1.createVariantStaff();\n        new1.initRenderingParams(MusicGfx, STAFFSCALE, VIEWSCALE);\n        new1.error = error;\n        let i = 0;\n        let iadd;\n        let numEvents = vr.getNumEvents();\n        let e = vr.getEvent(i);\n        while (i < numEvents) {\n            iadd = 1;\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_14__.Event.EVENT_NOTE && e.isligated())\n                iadd = new1.renderedStaff.addlig_1(vr.getEvents(), i, _RenderParams__WEBPACK_IMPORTED_MODULE_4__.RenderParams.new1(rcs));\n            else\n                new1.renderedStaff.addevent_1(true, e, _RenderParams__WEBPACK_IMPORTED_MODULE_4__.RenderParams.new1(rcs));\n            i += iadd;\n            e = vr.getEvent(i);\n        }\n        new1.initPaintingParams();\n    }\n    /* render into staff */\n    initRenderingParams(MusicGfx, STAFFSCALE, VIEWSCALE) {\n        this.MusicGfx = MusicGfx;\n        this.STAFFSCALE = STAFFSCALE;\n        this.VIEWSCALE = VIEWSCALE;\n    }\n    initPaintingParams() {\n        this.evXSpace = this.renderedStaff.size() > 0 ? this.renderedStaff.padEvents_2(_PartRenderer__WEBPACK_IMPORTED_MODULE_5__.PartRenderer.MAX_PADDING) : VariantReadingPanel.IMGXBUFFER;\n        this.IMGXSPACE = ((this.evXSpace + ((2 * VariantReadingPanel.IMGXBUFFER) | 0)) | 0);\n        this.imgSize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_8__.Dimension(_java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(this.IMGXSPACE * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_1__.Math.round(VariantReadingPanel.IMGYSPACE * this.VIEWSCALE));\n        this.setBackground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_9__.Color.white);\n    }\n    /* create and initialize one staff renderer for variant display */\n    createVariantStaff() {\n        let renStaff = _StaffEventData__WEBPACK_IMPORTED_MODULE_3__.StaffEventData.new4();\n        renStaff.options.set_displayedittags(false);\n        renStaff.options.set_usemodernclefs(false);\n        renStaff.options.set_displayorigligatures(true);\n        renStaff.options.set_modacc_type(_OptionSet__WEBPACK_IMPORTED_MODULE_6__.OptionSet.OPT_MODACC_NONE);\n        renStaff.options.setViewEdCommentary(true);\n        renStaff.options.set_unscoredDisplay(true);\n        return renStaff;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void saveImgFile(String fn)\nPurpose: Save img of this reading to file\nParameters:\n  Input:  String fn - filename\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    saveImgFile(fn) {\n        let img = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_10__.BufferedImage(this.imgSize.width, this.imgSize.height, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_10__.BufferedImage.TYPE_INT_RGB);\n        let g = img.createGraphics();\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_9__.Color.white);\n        g.fillRect(0, 0, ((this.imgSize.width + 1) | 0), ((this.imgSize.height + 1) | 0));\n        this.paintComponent(g);\n        _javax_imageio_ImageIO__WEBPACK_IMPORTED_MODULE_12__.ImageIO.write(img, \"jpg\", new _java_io_File__WEBPACK_IMPORTED_MODULE_11__.File(fn));\n    }\n    /*------------------------------------------------------------------------\nMethod:  Dimension getPreferredSize()\nPurpose: Return canvas size preference\nParameters:\n  Input:  -\n  Output: -\n  Return: size preference\n------------------------------------------------------------------------*/\n    getPreferredSize() {\n        return this.imgSize;\n    }\n    paintComponent(g) {\n        this.redisplaying++;\n        super.paintComponent(g);\n        let varG = g;\n        varG.setBackground(_java_awt_Color__WEBPACK_IMPORTED_MODULE_9__.Color.white);\n        varG.clearRect(0, 0, this.IMGXSPACE, VariantReadingPanel.IMGYSPACE);\n        varG.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_9__.Color.black);\n        if (this.renderedStaff.size() > 0) {\n            _ViewCanvas__WEBPACK_IMPORTED_MODULE_2__.ViewCanvas.drawStaff_2(varG, (VariantReadingPanel.IMGXBUFFER * this.VIEWSCALE), ((VariantReadingPanel.IMGXBUFFER + this.evXSpace) * this.VIEWSCALE), (VariantReadingPanel.YINDENT * this.VIEWSCALE), 5, this.STAFFSCALE, this.VIEWSCALE);\n            for (let ei = 0; ei < this.renderedStaff.size(); ei++) {\n                let re = this.renderedStaff.getEvent(ei);\n                re.draw_2(varG, this.MusicGfx, this, (VariantReadingPanel.IMGXBUFFER + re.getxloc()) * this.VIEWSCALE, VariantReadingPanel.YINDENT * this.VIEWSCALE, this.VIEWSCALE);\n            }\n        }\n        if (this.error) {\n            varG.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_9__.Color.red);\n            varG.setFont(_MusicFont__WEBPACK_IMPORTED_MODULE_7__.MusicFont.defaultTextFont);\n            varG.drawString(\"x\", 10 * this.VIEWSCALE, 15 * this.VIEWSCALE);\n        }\n        this.redisplaying--;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nVariantReadingPanel.IMGYSPACE = 100;\nVariantReadingPanel.IMGXBUFFER = 25;\nVariantReadingPanel.YINDENT = 30;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/VariantReadingPanel.ts?");

/***/ }),

/***/ "./src/Gfx/VariantReport.ts":
/*!**********************************!*\
  !*** ./src/Gfx/VariantReport.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VariantReport: () => (/* binding */ VariantReport)\n/* harmony export */ });\n/* harmony import */ var _CriticalNotesWindow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CriticalNotesWindow */ \"./src/Gfx/CriticalNotesWindow.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n\n\nclass VariantReport {\n    /*------------------------------------------------------------------------\nConstructor: VariantReport(MeasureInfo m,RenderList rv,int vmi)\nPurpose:     Initialize structure with display info based on variant/event list\nParameters:\n  Input:\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(m, vnum, rv, vmi) {\n        this.voiceNum = ((vnum + 1) | 0);\n        this.revNum = vmi;\n        this.renderedVoice = rv;\n        this.voiceEvents = rv.getVoiceEventData();\n        this.varMarker = (rv.getEvent(this.revNum).getEvent_1());\n        this.varFlags = this.varMarker.calcVariantTypes(this.voiceEvents);\n        this.measureNum = ((m.getMeasureNum() + 1) | 0);\n        this.measureLabel = _CriticalNotesWindow__WEBPACK_IMPORTED_MODULE_0__.CriticalNotesWindow.createMeasureString(rv, m, vmi);\n        this.measureButton = null;\n        this.betweenMeasures = this.measureLabel.indexOf(\"/\") >= 0;\n        let nextre = rv.getEvent(((this.revNum + 1) | 0));\n        if (((nextre.getmeasurenum() + 1) | 0) > this.measureNum)\n            this.measureNum++;\n    }\n    //.getVarTypeFlags();\n    initMeasureButton(listener) {\n        this.measureButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_1__.JButton(this.measureLabel);\n        this.measureButton.addActionListener(listener);\n    }\n    unregisterListeners(listener) {\n        if (this.measureButton != null)\n            this.measureButton.removeActionListener(listener);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/VariantReport.ts?");

/***/ }),

/***/ "./src/Gfx/ViewCanvas.ts":
/*!*******************************!*\
  !*** ./src/Gfx/ViewCanvas.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ViewCanvas: () => (/* binding */ ViewCanvas)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _VariantDisplayFrame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VariantDisplayFrame */ \"./src/Gfx/VariantDisplayFrame.ts\");\n/* harmony import */ var _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ScoreRenderer */ \"./src/Gfx/ScoreRenderer.ts\");\n/* harmony import */ var _PDFCreator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PDFCreator */ \"./src/Gfx/PDFCreator.ts\");\n/* harmony import */ var _OptionSet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./OptionSet */ \"./src/Gfx/OptionSet.ts\");\n/* harmony import */ var _MusicFont__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _java_awt_Color__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/awt/Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Font__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../java/awt/Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../java/awt/event/MouseEvent */ \"./src/java/awt/event/MouseEvent.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../java/awt/Toolkit */ \"./src/java/awt/Toolkit.ts\");\n/* harmony import */ var _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../DataStruct/Clef */ \"./src/DataStruct/Clef.ts\");\n/* harmony import */ var _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../DataStruct/Coloration */ \"./src/DataStruct/Coloration.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_MusicTextSection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../DataStruct/MusicTextSection */ \"./src/DataStruct/MusicTextSection.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../DataStruct/VariantReading */ \"./src/DataStruct/VariantReading.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ViewCanvas extends _javax_swing_JComponent__WEBPACK_IMPORTED_MODULE_12__.JComponent {\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: ViewCanvas(PieceData p,MusicFont mf,MusicWin mw,OptionSet os)\nPurpose:     Initialize canvas\nParameters:\n  Input:  PieceData p  - music data to display\n          MusicFont mf - music symbols for drawing\n          MusicWin mw  - parent window\n          OptionSet os - display options\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(p, mf, mw, os) {\n        super();\n        this.mytype_MouseListener = true;\n        this.redisplaying = 0;\n        /* number of paintComponent calls currently running */\n        this.num_redisplays = 0;\n        this.nummeasuresdisplayed = 0;\n        this.MIDIMeasurePlaying = -1;\n        /* no variants here */\n        /*------------------------------------------------------------------------\n    Method:  void paintbuffer(Graphics2D g)\n    Purpose: Repaint area into offscreen buffer\n    Parameters:\n      Input:  Graphics2D g - offscreen graphical context\n      Output: -\n      Return: -\n    ------------------------------------------------------------------------*/\n        this.repaintingbuffer = 0;\n        this.MusicGfx = mf;\n        this.musicData = p;\n        this.parentwin = mw;\n        this.options = os;\n        this.curVariantVersion = this.musicData.getDefaultVariantVersion();\n        this.curVersionMusicData = this.musicData;\n        this.addMouseListener(this);\n        this.initdrawingparams();\n    }\n    /* real initialization */\n    initdrawingparams() {\n        this.numvoices = this.curVersionMusicData.getVoiceData().length;\n        this.curmeasure = 0;\n        this.selectedVoicenum = (this.selectedEventnum = -1);\n        this.renderSections_1();\n        this.loadoptions();\n        this.viewsize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__.Dimension(0, 0);\n        this.screensize = new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_7__.Dimension(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(1200 * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.SCREEN_MINHEIGHT * this.VIEWSCALE));\n        let actualDisplaySize = _java_awt_Toolkit__WEBPACK_IMPORTED_MODULE_11__.Toolkit.getDefaultToolkit().getScreenSize();\n        if (this.screensize.width > actualDisplaySize.width * 0.9)\n            this.screensize.width = (actualDisplaySize.width * 0.9);\n        if (this.screensize.height > actualDisplaySize.height * 0.9)\n            this.screensize.height = (actualDisplaySize.height * 0.9);\n        this.VIEWYSTART = 0;\n        this.FontPLAIN12 = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_8__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_8__.Font.PLAIN, 12);\n        this.FontBOLD18 = new _java_awt_Font__WEBPACK_IMPORTED_MODULE_8__.Font(null, _java_awt_Font__WEBPACK_IMPORTED_MODULE_8__.Font.BOLD, 18);\n        this.initVoiceLabels();\n        this.initbuffers();\n    }\n    //System.out.println(\"SCREEN_MINHEIGHT=\"+SCREEN_MINHEIGHT);\n    /*------------------------------------------------------------------------\nMethod:  void renderSections()\nPurpose: Pre-render all sections for display\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    renderSections_1() {\n        this.numSections = this.curVersionMusicData.getNumSections();\n        this.renderedSections = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.renderSections(this.curVersionMusicData, this.options);\n        this.leftRendererNum = 0;\n        this.nummeasures = 0;\n        for (let i = 0; i < this.numSections; i++)\n            this.nummeasures += this.renderedSections[i].getNumMeasures();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void loadoptions()\nPurpose: Get low-level drawing options from OptionSet (for quick access\n         during drawing routines)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    loadoptions() {\n        this.STAFFSCALE = this.options.getSTAFFSCALE();\n        this.STAFFPOSSCALE = ((this.STAFFSCALE / 2) | 0);\n        this.STAFFSPACING = this.options.getSTAFFSPACING();\n        this.BREVESCALE = this.options.getBREVESCALE();\n        this.VIEWSCALE = this.options.getVIEWSCALE();\n        this.SCREEN_MINHEIGHT = ((((((this.curVersionMusicData.getVoiceData().length * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) + 80) | 0);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void initVoiceLabels()\nPurpose: Initialize text labels for voice names\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initVoiceLabels() {\n        let vn;\n        let avn;\n        this.voicelabels = Array(this.numvoices);\n        for (let i = 0; i < this.numvoices; i++) {\n            vn = this.curVersionMusicData.getVoiceData()[i].getName();\n            if (vn.length == 0)\n                avn = \"\";\n            else if (vn.length > 1 && vn.charAt(0) == \"[\")\n                avn = \"[\" + vn.charAt(1) + \"]\";\n            else\n                avn = `${vn.charAt(0)}`;\n            this.voicelabels[i] = avn;\n        }\n    }\n    /* abbrev voice name */\n    /*------------------------------------------------------------------------\nMethod:  void initbuffers()\nPurpose: Initialize offscreen buffers and drawing parameters\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    initbuffers() {\n        this.loadoptions();\n        let vssy = this.screensize.height > this.SCREEN_MINHEIGHT ? this.screensize.height : this.SCREEN_MINHEIGHT;\n        let pbsx = this.screensize.width;\n        let pbsy = vssy;\n        if (this.VIEWSCALE > 1)\n            pbsy *= this.VIEWSCALE;\n        this.viewsize.setSize(pbsx, pbsy);\n        this.curbuffer = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_10__.BufferedImage(pbsx, pbsy, _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_10__.BufferedImage.TYPE_INT_ARGB);\n        this.curbufferg2d = this.curbuffer.createGraphics();\n        this.defaultTextFontSMALL = this.FontPLAIN12.deriveFont(ViewCanvas.DEFAULT_TEXTFONTSMALL_SIZE * this.VIEWSCALE);\n        this.defaultTextFontLARGE = this.FontPLAIN12.deriveFont(ViewCanvas.DEFAULT_TEXTFONTLARGE_SIZE * this.VIEWSCALE);\n        this.curbufferg2d.setFont(this.defaultTextFontSMALL);\n        this.ORIGXLEFT = this.calcstaffleft(this.curbufferg2d);\n        this.TEXT_NAMES_SIZE = this.calcTextNamesSize(this.curbufferg2d);\n        this.YTOP = 80 * this.VIEWSCALE;\n    }\n    /* calculate buffer sizes */\n    /* buffer size */\n    /* viewsize == size in virtual (scaled) coordinates */\n    /* create buffer */\n    /*    curbufferg2d.scale(VIEWSCALE,VIEWSCALE);\n    if (VIEWSCALE<1)\n      curbufferg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BICUBIC);*/\n    /* make text fonts */\n    /*------------------------------------------------------------------------\nMethod:  float calcstaffleft(Graphics2D g)\nPurpose: Calculate left x location for staves\nParameters:\n  Input:  -\n  Output: -\n  Return: left x location for staves\n------------------------------------------------------------------------*/\n    calcstaffleft(g) {\n        let longestnamelen = 0;\n        let metrics = g.getFontMetrics();\n        for (let i = 0; i < this.numvoices; i++) {\n            let vn = this.voicelabels[i];\n            if (metrics.stringWidth(vn) > longestnamelen)\n                longestnamelen = metrics.stringWidth(vn);\n        }\n        return longestnamelen + ViewCanvas.LEFT_BLANK_BORDER * 2 * this.VIEWSCALE;\n    }\n    calcTextNamesSize(g) {\n        let longestNameWidth = 0;\n        let metrics = g.getFontMetrics();\n        for (let vvd of this.musicData.getVariantVersions()) {\n            let nameWidth = metrics.stringWidth(vvd.getID());\n            if (nameWidth > longestNameWidth)\n                longestNameWidth = nameWidth;\n        }\n        return longestNameWidth;\n    }\n    /*------------------------------------------------------------------------\nMethod:  MeasureInfo getLeftMeasure()\nPurpose: Return leftmost measure in score window\nParameters:\n  Input:  -\n  Output: -\n  Return: measure info object\n------------------------------------------------------------------------*/\n    getLeftMeasure() {\n        return this.renderedSections[this.leftRendererNum].getMeasure(this.curmeasure);\n    }\n    /*------------------------------------------------------------------------\nMethod:  MeasureInfo getMeasure(int m)\nPurpose: Retrieve measure from correct section\nParameters:\n  Input:  int m - measure number\n  Output: -\n  Return: measure info object\n------------------------------------------------------------------------*/\n    getMeasure(m) {\n        return this.renderedSections[_ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedSections, m)].getMeasure(m);\n    }\n    /*------------------------------------------------------------------------\nMethod:  double getMeasureX(int m)\nPurpose: Calculate global x-location of any measure\nParameters:\n  Input:  int m - measure number\n  Output: -\n  Return: x-coordinate at left of measure\n------------------------------------------------------------------------*/\n    getMeasureX(m) {\n        let snum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedSections, m);\n        return this.renderedSections[snum].getStartX() + this.renderedSections[snum].getMeasure(m).leftx;\n    }\n    /*------------------------------------------------------------------------\nMethod:  float calcXLEFT(int mnum)\nPurpose: Calculate value for XLEFT at a given measure\nParameters:\n  Input:  int mnum - measure number\n  Output: -\n  Return: XLEFT value (x position at beginning of first displayed measure)\n------------------------------------------------------------------------*/\n    calcXLEFT(mnum) {\n        if (mnum == 0)\n            return this.ORIGXLEFT;\n        let snum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedSections, mnum);\n        let leftMeasure = this.renderedSections[snum].getMeasure(mnum);\n        let me;\n        let curXLEFT = this.ORIGXLEFT;\n        let xloc = 0;\n        let maxx = 0;\n        if (this.leftRendererNum > 0 && this.curmeasure == this.renderedSections[this.leftRendererNum].getFirstMeasureNum()) {\n            let lastSectionParams = this.renderedSections[(((this.leftRendererNum - 1) | 0))].getEndingParams();\n            for (let i = 0; i < this.numvoices; i++) {\n                xloc = this.XLEFT;\n                let curCS = lastSectionParams[i].getClefSet();\n                if (curCS != null) {\n                    xloc += curCS.getXSize() * this.VIEWSCALE;\n                    let mk = curCS.getLastClefEvent().getModernKeySig();\n                    if (mk.numEls() > 0 && (this.displayEditTags || this.useModernAccSystem))\n                        xloc += this.getModKeySigSize(mk, curCS.getPrincipalClefEvent());\n                }\n                me = lastSectionParams[i].getMens();\n                if (me != null)\n                    xloc += me.getimgxsize() * this.VIEWSCALE;\n                if (xloc > maxx)\n                    maxx = xloc;\n            }\n        }\n        else\n            for (let i = 0; i < this.curVersionMusicData.getSection(snum).getNumVoices_1(); i++)\n                if (this.curVersionMusicData.getSection(snum).getVoice_1(i) != null) {\n                    xloc = curXLEFT;\n                    let curCS = this.renderedSections[snum].eventinfo[i].getClefEvents(leftMeasure.reventindex[i]);\n                    if (curCS != null)\n                        xloc += curCS.getXSize() * this.VIEWSCALE;\n                    let mk = this.renderedSections[snum].eventinfo[i].getModernKeySig(leftMeasure.reventindex[i]);\n                    if (mk.numEls() > 0 && curCS != null && (this.displayEditTags || this.useModernAccSystem))\n                        xloc += this.getModKeySigSize(mk, curCS.getPrincipalClefEvent());\n                    me = leftMeasure.startMensEvent[i];\n                    if (me != null) {\n                        me = leftMeasure.startMensEvent[i];\n                        xloc += me.getimgxsize() * this.VIEWSCALE;\n                    }\n                    if (xloc > maxx)\n                        maxx = xloc;\n                }\n        maxx += ViewCanvas.LEFTINFO_XPADDING * this.VIEWSCALE;\n        return maxx + ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE;\n    }\n    /* clefs */\n    /* modern key signature */\n    /* mensuration */\n    /* modern key signature */\n    //renderedSections[snum].eventinfo[i].getMensEvent(leftMeasure.reventindex[i]);\n    /*------------------------------------------------------------------------\nMethod:  void forcePaint()\nPurpose: Repaint immediately\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    forcePaint() {\n        this.paintImmediately(0, 0, this.screensize.width, this.screensize.height);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void rerender()\nPurpose: Force immediate music rerendering\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    rerender_1() {\n        let oldSCREEN_MINHEIGHT = this.SCREEN_MINHEIGHT;\n        this.loadoptions();\n        this.numvoices = this.curVersionMusicData.getVoiceData().length;\n        this.initVoiceLabels();\n        let oldnummeasures = this.nummeasures;\n        this.renderSections_1();\n        if (this.curmeasure >= this.nummeasures)\n            this.curmeasure = ((this.nummeasures - 1) | 0);\n        if (this.nummeasures > oldnummeasures) {\n            this.parentwin.setScrollBarXmax_2();\n            this.parentwin.setmeasurenum(((this.curmeasure + 1) | 0));\n        }\n        if (this.SCREEN_MINHEIGHT != oldSCREEN_MINHEIGHT)\n            this.updateScrollBarY();\n        this.parentwin.updatemusicgfx = true;\n    }\n    rerender_2(snum) {\n        let oldSCREEN_MINHEIGHT = this.SCREEN_MINHEIGHT;\n        this.loadoptions();\n        this.numvoices = this.curVersionMusicData.getVoiceData().length;\n        this.initVoiceLabels();\n        let oldnummeasures = this.nummeasures;\n        this.renderedSections[snum].render();\n        if (this.curmeasure >= this.nummeasures)\n            this.curmeasure = ((this.nummeasures - 1) | 0);\n        if (this.nummeasures > oldnummeasures) {\n            this.parentwin.setScrollBarXmax_2();\n            this.parentwin.setmeasurenum(((this.curmeasure + 1) | 0));\n        }\n        if (this.SCREEN_MINHEIGHT != oldSCREEN_MINHEIGHT)\n            this.updateScrollBarY();\n        this.parentwin.updatemusicgfx = true;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void update(Graphics g)\nPurpose: Update graphics area\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    update(g) {\n        this.paintComponent(g);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void paintComponent(Graphics g)\nPurpose: Repaint area\nParameters:\n  Input:  Graphics g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    paintComponent(g) {\n        this.redisplaying++;\n        super.paintComponent(g);\n        if (this.parentwin.rerendermusic) {\n            this.parentwin.rerendermusic = false;\n            this.rerender_1();\n        }\n        if (this.parentwin.updatemusicgfx) {\n            this.parentwin.updatemusicgfx = false;\n            g.setClip(0, 0, this.screensize.width, this.screensize.height);\n            this.paintbuffer(this.curbufferg2d);\n            this.parentwin.setScrollBarXmax_2();\n            this.parentwin.setmeasurenum(((this.curmeasure + 1) | 0));\n        }\n        if (this.parentwin.redrawscr) {\n            this.parentwin.redrawscr = false;\n            g.setClip(0, 0, this.screensize.width, this.screensize.height);\n        }\n        g.drawImage(this.curbuffer, 0, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(0 - this.VIEWYSTART), this);\n        if (this.parentwin.updateMeasure != -1)\n            this.parentwin.gotomeasure(this.parentwin.updateMeasure);\n        this.redisplaying--;\n    }\n    /* rerender music if necessary */\n    /* redraw music if necessary */\n    /* set parameters for redraw if necessary */\n    /* copy current offscreen buffer to screen */\n    /*------------------------------------------------------------------------\nMethod:  Dimension cursize()\nPurpose: Return current canvas size\nParameters:\n  Input:  -\n  Output: -\n  Return: current size\n------------------------------------------------------------------------*/\n    cursize() {\n        return this.getSize();\n    }\n    //    return screensize;\n    /*------------------------------------------------------------------------\nMethod:  Graphics2D getbufferg2d()\nPurpose: Return graphics for display buffer\nParameters:\n  Input:  -\n  Output: -\n  Return: curbufferg2d\n------------------------------------------------------------------------*/\n    getbufferg2d() {\n        return this.curbufferg2d;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void newsize(int newwidth,int newheight)\nPurpose: Resize canvas\nParameters:\n  Input:  int newwidth,newheight - new size\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newsize(newwidth, newheight) {\n        this.screensize.setSize(newwidth, newheight);\n        this.initbuffers();\n        this.updateScrollBarY();\n        this.parentwin.updatemusicgfx = true;\n        this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void newViewScale()\nPurpose: Update graphics when scale has changed\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newViewScale_1() {\n        this.initbuffers();\n        if (this.VIEWYSTART > this.SCREEN_MINHEIGHT - this.screensize.height / this.VIEWSCALE)\n            this.VIEWYSTART = this.SCREEN_MINHEIGHT - this.screensize.height / this.VIEWSCALE;\n        if (this.VIEWYSTART < 0)\n            this.VIEWYSTART = 0;\n        this.updateScrollBarY();\n        this.MusicGfx.newScale(this.VIEWSCALE);\n        this.parentwin.updatemusicgfx = true;\n        this.repaint();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void updateScrollBarY()\nPurpose: Update vertical scroll bar to reflect buffer size\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    updateScrollBarY() {\n        this.parentwin.setScrollBarYparams(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.SCREEN_MINHEIGHT * this.VIEWSCALE), this.screensize.height, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.VIEWYSTART));\n    }\n    //System.out.println(\"SMH*VS=\"+(SCREEN_MINHEIGHT*VIEWSCALE)+\" SSH=\"+screensize.height);\n    /*------------------------------------------------------------------------\nMethod:  void newY(int newystart)\nPurpose: Change y position of viewport\nParameters:\n  Input:  int newystart - new value for VIEWYSTART\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    newY_1(newystart) {\n        this.redisplaying++;\n        this.VIEWYSTART = newystart;\n        this.paintbuffer(this.curbufferg2d);\n        this.parentwin.redrawscr = true;\n        this.repaint();\n        this.redisplaying--;\n    }\n    /*------------------------------------------------------------------------\nMethod:  Dimension getPreferredSize()\nPurpose: Return canvas size preference\nParameters:\n  Input:  -\n  Output: -\n  Return: size preference\n------------------------------------------------------------------------*/\n    getPreferredSize() {\n        return this.screensize;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void movedisplay(int newmeasure)\nPurpose: Move display to a new measure location\nParameters:\n  Input:  int newmeasure - measure number\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    movedisplay_1(newmeasure) {\n        this.redisplaying++;\n        this.curmeasure = newmeasure < this.nummeasures ? newmeasure : ((this.nummeasures - 1) | 0);\n        this.paintbuffer(this.curbufferg2d);\n        this.parentwin.redrawscr = true;\n        this.repaint();\n        this.redisplaying--;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void MIDIMeasureStarted(int mnum,JScrollBar musicScrollBarX)\nPurpose: Show measure currently being played back\nParameters:\n  Input:  int mnum                   - measure number\n          JScrollBar musicScrollBarX - scroll bar controlling score position\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    measureDisplayed(mnum) {\n        if (this.nummeasures < 2)\n            return true;\n        if (mnum < this.curmeasure || mnum >= ((((this.curmeasure + this.nummeasuresdisplayed) | 0) - 1) | 0))\n            return false;\n        return true;\n    }\n    MIDIMeasureStarted_1(mnum, musicScrollBarX) {\n        this.MIDIMeasurePlaying = mnum;\n        if (this.MIDIMeasurePlaying < 0) {\n            this.movedisplay_1(this.curmeasure);\n            return;\n        }\n        if (!this.measureDisplayed(mnum)) {\n            musicScrollBarX.setValue(((mnum - 1) | 0));\n            this.movedisplay_1(((mnum - 1) | 0));\n        }\n        else\n            this.movedisplay_1(this.curmeasure);\n    }\n    /* stopped */\n    /* redisplay to move playback line, scrolling if necessary */\n    /*------------------------------------------------------------------------\nMethod:  void selectEvent(int vnum,int eventnum)\nPurpose: Select or de-select music events in GUI\nParameters:\n  Input:  int vnum,eventnum - voice number/event number to select (vnum==-1\n                              for none)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    selectEvent(vnum, eventnum) {\n        this.selectedVoicenum = vnum;\n        this.selectedEventnum = eventnum;\n        let measureNum = -1;\n        let edCommentary = null;\n        if (this.selectedVoicenum >= 0) {\n            let re = this.renderedSections[this.leftRendererNum].eventinfo[vnum].getEvent(eventnum);\n            measureNum = re.getmeasurenum();\n            edCommentary = re.getEvent_1().getEdCommentary();\n            if (edCommentary == null)\n                this.selectedVoicenum = -1;\n        }\n        this.parentwin.updatemusicgfx = true;\n        this.repaint();\n        this.parentwin.updateCommentaryArea(this.selectedVoicenum, measureNum, edCommentary);\n    }\n    /* for now, only select commentary */\n    /*------------------------------------------------------------------------\nMethod:  void showVariants(int snum,int vnum,int eventNum,int fx,int fy)\nPurpose: Show variant readings popup in GUI (if there are readings at this point)\nParameters:\n  Input:  int snum,vnum,eventNum - section number/voice number/event number\n                                   to show (vnum==-1 for none)\n          int fx,fy -              screen location to pop up frame\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    showVariants_1(snum, vnum, eventNum, fx, fy) {\n        if (this.musicData.getVariantVersions().size() == 0)\n            return;\n        let re = this.renderedSections[snum].eventinfo[vnum].getEvent(eventNum);\n        let renderedVar = re.getVarReadingInfo();\n        if (renderedVar == null)\n            return;\n        let varFrame = new _VariantDisplayFrame__WEBPACK_IMPORTED_MODULE_1__.VariantDisplayFrame(renderedVar, this.musicData.getSection(snum).getVoice_1(vnum), this.renderedSections[snum], vnum, fx, fy, this, this.MusicGfx, this.STAFFSCALE, this.VIEWSCALE);\n        varFrame.setVisible(true);\n    }\n    paintbuffer(g) {\n        if (this.repaintingbuffer > 0) {\n            let repaintg = g;\n            requestAnimationFrame(() => { this.paintbuffer(repaintg); });\n        }\n        else {\n            this.repaintingbuffer++;\n            this.realpaintbuffer_1(g);\n            this.repaintingbuffer--;\n        }\n    }\n    /* real painting code, which can be overridden */\n    realpaintbuffer_1(g) {\n        try {\n            this.ORIGXLEFT = this.displayVarTexts ? this.TEXT_NAMES_SIZE + ViewCanvas.LEFT_BLANK_BORDER * 2 * this.VIEWSCALE : this.ORIGXLEFT;\n            this.XLEFT = this.ORIGXLEFT;\n            this.num_redisplays++;\n            this.barline_type = this.options.get_barline_type();\n            this.usemodernclefs = this.options.get_usemodernclefs();\n            this.useModernAccSystem = this.options.getUseModernAccidentalSystem();\n            this.displayligbrackets = this.options.get_displayligbrackets();\n            this.displayEditTags = this.options.get_displayedittags();\n            this.markdissonances = this.options.get_markdissonances();\n            this.markdirectedprogressions = this.options.get_markdirectedprogressions();\n            this.displayVarTexts = this.options.markVariant(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_ORIGTEXT) && !this.options.get_displayedittags();\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n            g.fillRect(0, 0, ((this.viewsize.width + 1) | 0), ((this.viewsize.height + 1) | 0));\n            g.setFont(this.defaultTextFontSMALL);\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.red);\n            g.drawString(this.musicData.getFullTitle(), this.XLEFT, 15 * this.VIEWSCALE);\n            g.drawString(this.musicData.getComposer(), this.XLEFT, 25 * this.VIEWSCALE);\n            this.leftRendererNum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedSections, this.curmeasure);\n            let leftMeasure = this.getLeftMeasure();\n            let fm = g.getFontMetrics();\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n            let XLEFT_AFTER_BREAK = this.calcXLEFT(this.curmeasure);\n            let topLeftStaff = -1;\n            let bottomLeftStaff = -1;\n            let topNewStaff = -1;\n            let bottomNewStaff = -1;\n            let lastSectionParams = null;\n            if (this.leftRendererNum > 0 && this.curmeasure == this.renderedSections[this.leftRendererNum].getFirstMeasureNum())\n                lastSectionParams = this.renderedSections[(((this.leftRendererNum - 1) | 0))].getEndingParams();\n            for (let i = 0; i < this.numvoices; i++) {\n                if (this.curVersionMusicData.getVoiceData()[i].isEditorial())\n                    g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.red);\n                g.drawString(this.voicelabels[i], this.XLEFT - 10 - fm.stringWidth(this.voicelabels[i]), this.YTOP + (((((((((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) + ((2 * this.STAFFSCALE) | 0)) | 0) + this.STAFFPOSSCALE) | 0) - 1) | 0)) * this.VIEWSCALE);\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n                let si = this.leftRendererNum;\n                let sectionStartDisplayX = XLEFT_AFTER_BREAK - leftMeasure.leftx * this.VIEWSCALE;\n                let sectionStaffStartX = _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.max(sectionStartDisplayX, this.XLEFT);\n                if (lastSectionParams != null && (lastSectionParams[i].getClefSet() != null || lastSectionParams[i].getMens() != null)) {\n                    this.drawStaff_1(g, this.XLEFT, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.min(sectionStartDisplayX, ((this.viewsize.width - 1) | 0)), this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE, 5);\n                    if (topLeftStaff == -1)\n                        topLeftStaff = i;\n                    if (i > bottomLeftStaff)\n                        bottomLeftStaff = i;\n                }\n                let doneStaves = false;\n                while (!doneStaves) {\n                    let sectionEndX = sectionStartDisplayX + (this.renderedSections[si].getXsize() + _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING) * this.VIEWSCALE;\n                    if (this.curVersionMusicData.getSection(si).getVoice_1(i) != null) {\n                        this.drawStaff_1(g, sectionStaffStartX, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.min(sectionEndX, ((this.viewsize.width - 1) | 0)), this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE, 5);\n                        if (sectionStaffStartX <= this.XLEFT) {\n                            if (topLeftStaff == -1)\n                                topLeftStaff = i;\n                            if (i > bottomLeftStaff)\n                                bottomLeftStaff = i;\n                        }\n                        if (si == this.leftRendererNum) {\n                            if (topNewStaff == -1)\n                                topNewStaff = i;\n                            if (i > bottomNewStaff)\n                                bottomNewStaff = i;\n                        }\n                    }\n                    si++;\n                    if (si >= this.curVersionMusicData.getNumSections() || sectionEndX >= this.viewsize.width)\n                        doneStaves = true;\n                    else\n                        sectionStartDisplayX = (sectionStaffStartX = sectionEndX);\n                }\n            }\n            if (this.curmeasure > 0) {\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n                for (let i = 0; i < this.numvoices; i++)\n                    g.fillRect(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(XLEFT_AFTER_BREAK - ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) - 1) | 0)) * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round((((((this.STAFFSCALE * this.STAFFSPACING) | 0) + 2) | 0)) * this.VIEWSCALE));\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n            }\n            if (lastSectionParams == null)\n                g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.XLEFT), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((topLeftStaff * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.XLEFT), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((((bottomLeftStaff * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) + ((this.STAFFSCALE * 4) | 0)) | 0)) * this.VIEWSCALE));\n            else {\n                g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(XLEFT_AFTER_BREAK - ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((topLeftStaff * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(XLEFT_AFTER_BREAK - ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((((bottomLeftStaff * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) + ((this.STAFFSCALE * 4) | 0)) | 0)) * this.VIEWSCALE));\n                g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(XLEFT_AFTER_BREAK), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((topNewStaff * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(XLEFT_AFTER_BREAK), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((((bottomNewStaff * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) + ((this.STAFFSCALE * 4) | 0)) | 0)) * this.VIEWSCALE));\n            }\n            if (this.curmeasure != 0)\n                this.drawleftinfo(g);\n            if (this.numvoices > 0)\n                this.drawEvents_1(g);\n            if (this.displayVarTexts)\n                this.writeTextVersionNames_1(g);\n            g.setFont(this.defaultTextFontSMALL);\n        }\n        catch (methodGuard) { }\n    }\n    /* get drawing options */\n    /* clear area */\n    //g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);CHANGE removed\n    /* write piece information */\n    /* calculate section position */\n    /* prepare staves */\n    /* voice information */\n    /* draw staves */\n    /*        else\n          if (sectionStaffStartX>XLEFT)\n            sectionStaffStartX=XLEFT;*/\n    /* visibly break initial information from music */\n    /* left barline */\n    //    if (curVersionMusicData.getSection(leftRendererNum).getSectionType()==MusicSection.MENSURAL_MUSIC)\n    /* don't draw left barline at section change */\n    /* section change barlines */\n    /* add clef/mensuration at left */\n    /* now draw music */\n    /* version names for variant text display */\n    writeTextVersionNames_1(g) {\n        let textx = ViewCanvas.LEFT_BLANK_BORDER * this.VIEWSCALE;\n        for (let vi = 0; vi < this.numvoices; vi++)\n            this.writeTextVersionNames_2(g, textx, this.YTOP + (((((vi * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) + ((7 * this.STAFFSCALE) | 0)) | 0)) * this.VIEWSCALE);\n    }\n    writeTextVersionNames_2(g, curx, cury) {\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n        g.fillRect(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.ORIGXLEFT - 1 * this.VIEWSCALE), (cury - (((this.STAFFPOSSCALE * (((_OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.SPACES_PER_TEXTLINE + 1) | 0))) | 0)) * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(3 * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round((((((((this.musicData.getVariantVersions().size() * this.STAFFPOSSCALE) | 0) * _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.SPACES_PER_TEXTLINE) | 0) + ((this.STAFFPOSSCALE * 2) | 0)) | 0)) * this.VIEWSCALE));\n        g.setFont(this.defaultTextFontSMALL);\n        let versionNum = 0;\n        for (let vvd of this.musicData.getVariantVersions()) {\n            let txtColor = (((versionNum++) % _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.TEXTVERSION_COLORS + 1) | 0);\n            g.setColor(_DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_14__.Coloration.AWTColors[txtColor]);\n            g.drawString(vvd.getID(), curx, cury);\n            cury += (((this.STAFFPOSSCALE * _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.SPACES_PER_TEXTLINE) | 0)) * this.VIEWSCALE;\n        }\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n    }\n    /* clear area for version names */\n    //               Math.round(TEXT_NAMES_SIZE),\n    /* write names */\n    /*------------------------------------------------------------------------\nMethod:  void drawleftinfo(Graphics2D g)\nPurpose: Draw clefs/mensuration at left side of viewscreen, and shift event\n         drawing space over\nParameters:\n  Input:  Graphics2D g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawleftinfo(g) {\n        let leftMeasure;\n        let clefi;\n        let me;\n        let xloc = 0;\n        let yloc = 0;\n        let maxx = 0;\n        leftMeasure = this.getLeftMeasure();\n        let numLeftSectionVoices = this.curVersionMusicData.getSection(this.leftRendererNum).getNumVoices_1();\n        if (this.leftRendererNum > 0 && this.curmeasure == this.renderedSections[this.leftRendererNum].getFirstMeasureNum()) {\n            let lastSectionParams = this.renderedSections[(((this.leftRendererNum - 1) | 0))].getEndingParams();\n            for (let i = 0; i < numLeftSectionVoices; i++) {\n                xloc = this.XLEFT;\n                yloc = this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE;\n                let curCS = lastSectionParams[i].getClefSet();\n                if (curCS != null) {\n                    xloc += curCS.draw_1(this.useModernAccSystem, g, this.MusicGfx, xloc, yloc, this.VIEWSCALE);\n                    let mk = curCS.getLastClefEvent().getModernKeySig();\n                    if (mk.numEls() > 0 && (this.displayEditTags || this.useModernAccSystem))\n                        xloc += this.drawModKeySig_3(g, mk, curCS.getPrincipalClefEvent(), xloc, yloc);\n                }\n                me = lastSectionParams[i].getMens();\n                if (me != null) {\n                    me.drawMens(g, this.MusicGfx, this, xloc, yloc, this.VIEWSCALE);\n                    xloc += me.getimgxsize() * this.VIEWSCALE;\n                }\n                if (xloc > maxx)\n                    maxx = xloc;\n            }\n        }\n        else\n            for (let i = 0; i < numLeftSectionVoices; i++)\n                if (this.curVersionMusicData.getSection(this.leftRendererNum).getVoice_1(i) != null) {\n                    xloc = this.XLEFT;\n                    yloc = this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE;\n                    let curCS = this.renderedSections[this.leftRendererNum].eventinfo[i].getClefEvents(leftMeasure.reventindex[i]);\n                    if (curCS != null)\n                        xloc += curCS.draw_1(this.useModernAccSystem, g, this.MusicGfx, xloc, yloc, this.VIEWSCALE);\n                    let mk = this.renderedSections[this.leftRendererNum].eventinfo[i].getModernKeySig(leftMeasure.reventindex[i]);\n                    if (mk.numEls() > 0 && curCS != null && (this.displayEditTags || this.useModernAccSystem))\n                        xloc += this.drawModKeySig_3(g, mk, curCS.getPrincipalClefEvent(), xloc, yloc);\n                    me = leftMeasure.startMensEvent[i];\n                    if (me != null) {\n                        me = leftMeasure.startMensEvent[i];\n                        me.drawMens(g, this.MusicGfx, this, xloc, yloc, this.VIEWSCALE);\n                        xloc += me.getimgxsize() * this.VIEWSCALE;\n                    }\n                    if (xloc > maxx)\n                        maxx = xloc;\n                }\n        maxx += ViewCanvas.LEFTINFO_XPADDING * this.VIEWSCALE;\n        g.setFont(this.defaultTextFontSMALL);\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        this.XLEFT = maxx + ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE;\n        g.drawString(`${this.curmeasure + 1}`, this.XLEFT, this.YTOP - (((this.STAFFSCALE * 2) | 0)) * this.VIEWSCALE);\n    }\n    /* draw clefs */\n    /* modern key signature */\n    /* draw mensuration */\n    /* draw clefs */\n    /* modern key signature */\n    /* draw mensuration */\n    //renderedSections[leftRendererNum].eventinfo[i].getMensEvent(leftMeasure.reventindex[i]);\n    /* barline to show section beginning, if necessary\n    if (leftRendererNum!=0 && curmeasure==renderedSections[leftRendererNum].getFirstMeasureNum())\n      {\n        g.setColor(Color.black);\n        g.drawLine(Math.round(maxx),Math.round(YTOP),\n                   Math.round(maxx),Math.round(YTOP+((numvoices-1)*STAFFSCALE*STAFFSPACING+STAFFSCALE*4)*VIEWSCALE));\n        g.drawLine(Math.round(maxx+LEFTBREAK_XSIZE*VIEWSCALE),Math.round(YTOP),\n                   Math.round(maxx+LEFTBREAK_XSIZE*VIEWSCALE),Math.round(YTOP+((numLeftSectionVoices-1)*STAFFSCALE*STAFFSPACING+STAFFSCALE*4)*VIEWSCALE));\n      }*/\n    /* measure number */\n    /*------------------------------------------------------------------------\nMethod:  void drawEvents(Graphics2D g)\nPurpose: Draw music on staves\nParameters:\n  Input:  Graphics2D g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawEvents_1(g) {\n        let evloc;\n        let displayX;\n        let sectionStartDisplayX;\n        let e;\n        let ligInfo = null;\n        let tieInfo = null;\n        let doneSections;\n        let doneVoice;\n        let curRenderer;\n        let leftMeasure;\n        let curRendererNum;\n        this.leftRendererNum = _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.calcRendererNum(this.renderedSections, this.curmeasure);\n        leftMeasure = this.renderedSections[this.leftRendererNum].getMeasure(this.curmeasure);\n        this.drawAllBarlines(g);\n        curRendererNum = this.leftRendererNum;\n        curRenderer = this.renderedSections[this.leftRendererNum];\n        displayX = (sectionStartDisplayX = this.XLEFT - leftMeasure.leftx * this.VIEWSCALE);\n        doneSections = false;\n        let startv = -1;\n        let endv = -1;\n        while (!doneSections) {\n            if (this.musicData.isIncipitScore() && this.curmeasure == curRenderer.getFirstMeasureNum()) {\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.blue);\n                g.setFont(this.defaultTextFontSMALL);\n                g.drawString(\"INCIPIT\", _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(sectionStartDisplayX), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP - ((this.STAFFSCALE * 3) | 0) * this.VIEWSCALE));\n            }\n            let numv = curRenderer.getNumVoices();\n            startv = numv;\n            endv = -1;\n            let curSection = curRenderer.getSectionData();\n            if (curSection instanceof _DataStruct_MusicTextSection__WEBPACK_IMPORTED_MODULE_16__.MusicTextSection)\n                this.drawSectionText(curRenderer, g, sectionStartDisplayX, this.YTOP);\n            else\n                for (let i = 0; i < numv; i++)\n                    if (curSection.getVoice_1(i) != null) {\n                        if (i < startv)\n                            startv = i;\n                        if (i > endv)\n                            endv = i;\n                        evloc = curRendererNum == this.leftRendererNum ? leftMeasure.reventindex[i] : 0;\n                        doneVoice = (evloc >= curRenderer.eventinfo[i].size());\n                        while (!doneVoice) {\n                            e = curRenderer.eventinfo[i].getEvent(evloc);\n                            displayX = sectionStartDisplayX + e.getxloc() * this.VIEWSCALE;\n                            if (displayX < this.viewsize.width) {\n                                if (e.isdisplayed())\n                                    if (e.getEvent_1().geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_ELLIPSIS)\n                                        this.drawEllipsisBreak(g, i, displayX, e, curRenderer.eventinfo[i].getEvent(((evloc + 1) | 0)));\n                                    else if (i == this.selectedVoicenum && evloc == this.selectedEventnum)\n                                        e.drawHighlighted(g, this.MusicGfx, this, displayX, this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE, this.VIEWSCALE);\n                                    else\n                                        e.draw_2(g, this.MusicGfx, this, displayX, this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE, this.VIEWSCALE);\n                                ligInfo = e.getLigInfo();\n                                if (ligInfo.firstEventNum != -1) {\n                                    this.drawLigType(g, e, displayX + 3 * this.VIEWSCALE, this.calcligy(i, e));\n                                    if (e.isligend())\n                                        this.drawLigature_1(g, sectionStartDisplayX + (curRenderer.eventinfo[i].getEvent(ligInfo.firstEventNum).getxloc() + 4) * this.VIEWSCALE, displayX, this.calcligy(i, e), this.XLEFT, this.viewsize.width);\n                                }\n                                tieInfo = e.getTieInfo();\n                                if (tieInfo.firstEventNum != -1 && tieInfo.lastEventNum == evloc) {\n                                    let tre1 = curRenderer.eventinfo[i].getEvent(tieInfo.firstEventNum);\n                                    this.drawTies(g, tre1, e, i, sectionStartDisplayX + tre1.getxloc() * this.VIEWSCALE, displayX, this.XLEFT, this.viewsize.width);\n                                }\n                                let varReadingInfo = e.getVarReadingInfo();\n                                if (varReadingInfo != null && evloc >= varReadingInfo.lastEventNum)\n                                    this.markVariantReading_1(g, sectionStartDisplayX + (curRenderer.eventinfo[i].getEvent(varReadingInfo.firstEventNum).getxloc() + 4) * this.VIEWSCALE, displayX, this.calcVarMarkY(curRenderer.eventinfo[i], i, e), this.XLEFT, this.viewsize.width, e.getEvent_1().getVariantReading_1(this.curVariantVersion), varReadingInfo.varMarker);\n                                this.draw_analysis(g, curRenderer, evloc, i, displayX, this.YTOP + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0));\n                            }\n                            else {\n                                doneSections = true;\n                                doneVoice = true;\n                                break;\n                            }\n                            evloc++;\n                            if (evloc >= curRenderer.eventinfo[i].size())\n                                doneVoice = true;\n                        }\n                        e = curRenderer.eventinfo[i].getEvent(evloc);\n                        ligInfo = e == null ? null : e.getLigInfo();\n                        if (ligInfo != null && ligInfo.firstEventNum != -1 && evloc < ((curRenderer.eventinfo[i].size() - 1) | 0))\n                            this.drawLigature_1(g, sectionStartDisplayX + (curRenderer.eventinfo[i].getEvent(ligInfo.firstEventNum).getxloc() + 4) * this.VIEWSCALE, this.viewsize.width, this.calcligy(i, e), this.XLEFT, this.viewsize.width);\n                        tieInfo = e == null ? null : e.getTieInfo();\n                        if (tieInfo != null && tieInfo.firstEventNum != -1) {\n                            let tre1 = curRenderer.eventinfo[i].getEvent(tieInfo.firstEventNum);\n                            if (displayX < this.viewsize.width && e.doubleTied())\n                                tre1 = e;\n                            let firstEventNum = e.doubleTied() ? evloc : tieInfo.firstEventNum;\n                            this.drawTies(g, tre1, curRenderer.eventinfo[i].getEvent(tieInfo.lastEventNum), i, sectionStartDisplayX + tre1.getxloc() * this.VIEWSCALE, displayX, this.XLEFT, this.viewsize.width);\n                        }\n                        let varReadingInfo = e == null ? null : e.getVarReadingInfo();\n                        if (varReadingInfo != null && evloc < ((curRenderer.eventinfo[i].size() - 1) | 0))\n                            if (((varReadingInfo.lastEventNum - varReadingInfo.firstEventNum) | 0) > 1)\n                                this.markVariantReading_1(g, sectionStartDisplayX + (curRenderer.eventinfo[i].getEvent(varReadingInfo.firstEventNum).getxloc() + 4) * this.VIEWSCALE, this.viewsize.width, this.calcVarMarkY(curRenderer.eventinfo[i], i, e), this.XLEFT, this.viewsize.width, e.getEvent_1().getVariantReading_1(this.curVariantVersion), varReadingInfo.varMarker);\n                    }\n                    else if (curRendererNum > this.leftRendererNum || this.curmeasure == curRenderer.getFirstMeasureNum()) {\n                        let tacetText = this.curVersionMusicData.getSection(curRendererNum).getTacetText(i);\n                        if (tacetText != null) {\n                            g.setFont(this.MusicGfx.displayTextFont);\n                            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n                            g.drawString(tacetText, sectionStartDisplayX + ViewCanvas.LEFTBREAK_XSIZE * this.VIEWSCALE, this.YTOP + (((((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) + ((5 * this.STAFFPOSSCALE) | 0)) | 0)) * this.VIEWSCALE);\n                        }\n                    }\n            curRendererNum++;\n            if (curRendererNum < this.numSections) {\n                if (sectionStartDisplayX >= this.ORIGXLEFT)\n                    this.drawSectionBarline(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(sectionStartDisplayX), startv, endv, false);\n                sectionStartDisplayX += (curRenderer.getXsize() + _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING) * this.VIEWSCALE;\n                this.drawSectionBarline(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(sectionStartDisplayX), startv, endv, this.musicData.isIncipitScore() && this.numSections > 1 && curRendererNum == ((this.numSections - 1) | 0));\n                curRenderer = this.renderedSections[curRendererNum];\n            }\n            else\n                doneSections = true;\n        }\n        if (!(curRenderer.getSectionData() instanceof _DataStruct_MusicTextSection__WEBPACK_IMPORTED_MODULE_16__.MusicTextSection))\n            this.drawSectionBarline(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(sectionStartDisplayX), startv, endv, this.musicData.isIncipitScore() && this.numSections > 1 && curRendererNum == ((this.numSections - 1) | 0));\n        sectionStartDisplayX += (curRenderer.getXsize() + _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING) * this.VIEWSCALE;\n        if (!(curRenderer.getSectionData() instanceof _DataStruct_MusicTextSection__WEBPACK_IMPORTED_MODULE_16__.MusicTextSection))\n            this.drawSectionBarline(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(sectionStartDisplayX), startv, endv, this.musicData.isIncipitScore() && this.numSections > 1 && curRendererNum == ((this.numSections - 1) | 0));\n    }\n    /* draw barlines */\n    /* draw each section in turn */\n    /*        if (displayEditTags &&\n            (curRendererNum>leftRendererNum || curmeasure==curRenderer.getFirstMeasureNum()))\n          addSectionTag(g,curRenderer,(int)Math.round(sectionStartDisplayX),\n                                      Math.round(YTOP-STAFFSCALE*2*VIEWSCALE));*/\n    /* draw each voice in turn */\n    /* draw event */\n    //if (displayX>=XLEFT)\n    /* draw ligatures */\n    /* tie notes */\n    /* mark variant readings */\n    //                      if (varReadingInfo.lastEventNum-varReadingInfo.firstEventNum>1)\n    //                      else\n    //                        markVariantReading(g,displayX,calcVarMarkY(curRenderer.eventinfo[i],i,e));\n    /* analysis functions */\n    /* past right edge of view area = last section */\n    //System.out.println(\"evloc=\"+evloc+\" e=\"+e.getEvent()+\" tieinfo=\"+e.getTieInfo());\n    /* finish any remaining ligature */\n    /* finish any unclosed tie */\n    // &&\n    //                (tieInfo.lastEventNum!=evloc || e.doubleTied()))\n    //System.out.println(\"ttt v=\"+i+\" double? \"+e.doubleTied()+\n    //                   \" evloc=\"+evloc+\" tie1=\"+tieInfo.firstEventNum+\" tie2=\"+tieInfo.lastEventNum);\n    /* finish any remaining variant reading */\n    /* tacet text */\n    //musicData.isIncipitScore() && numSections>1 && curRendererNum==numSections-1);\n    //        if (curRendererNum>=numSections)\n    /* barlines of last rendered section */\n    //    g.setFont(defaultTextFontSMALL);\n    /*------------------------------------------------------------------------\nMethod:  float calcligy(int vnum,RenderedEvent e)\nPurpose: Calculate y position of a ligature at a given event\nParameters:\n  Input:  int vnum        - voice number\n          RenderedEvent e - event\n  Output: -\n  Return: y position of ligature\n------------------------------------------------------------------------*/\n    calcligy(vnum, e) {\n        let ligInfo = e.getLigInfo();\n        let lige = ligInfo.reventList.getEvent(ligInfo.yMaxEventNum);\n        let ligevclef = lige.getClef();\n        let lignoteev = ligInfo.yMaxEvent;\n        let ligyval = ((((((this.STAFFSCALE * 4) | 0) - 12) | 0) - ((this.STAFFPOSSCALE * lignoteev.getPitch_1().calcypos(ligevclef)) | 0)) | 0);\n        if (ligyval > -7)\n            ligyval = -7;\n        ligyval = this.YTOP + (ligyval + ((((vnum * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) * this.VIEWSCALE;\n        return ligyval;\n    }\n    static calcTieY_1(tieRE, yTop, STAFFSCALE, STAFFPOSSCALE, VIEWSCALE) {\n        return yTop + VIEWSCALE * (((((((STAFFSCALE * 4) | 0) - 12) | 0) - ((STAFFPOSSCALE * tieRE.getEvent_1().getPitch_1().calcypos(tieRE.getClef())) | 0)) | 0));\n    }\n    calcTieY_2(vnum, e) {\n        return ViewCanvas.calcTieY_1(e, this.YTOP + ((((vnum * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) * this.VIEWSCALE, this.STAFFSCALE, this.STAFFPOSSCALE, this.VIEWSCALE);\n    }\n    //e.getTieInfo().reventList.getEvent(e.getTieInfo().yMaxEventNum),\n    /*------------------------------------------------------------------------\nMethod:  float calcVarMarkY(RenderList rl,int vnum,RenderedEvent e)\nPurpose: Calculate y position for marking variant readings at a given event\nParameters:\n  Input:  RenderList rl   - rendered event list\n          int vnum        - voice number\n          RenderedEvent e - event\n  Output: -\n  Return: y position of variant marker\n------------------------------------------------------------------------*/\n    calcVarMarkY(rl, vnum, e) {\n        return this.YTOP + (((-8 + ((((vnum * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) | 0)) * this.VIEWSCALE;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawStaff(Graphics2D g,float x1,float x2,float yloc,int numlines)\nPurpose: Draw staff at specified location\nParameters:\n  Input:  Graphics2D g - graphical context\n          float x1,x2  - x location for left and right ends of staff\n          float yloc   - y location for top of staff\n          int numlines - number of lines for staff\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawStaff_1(g, x1, x2, yloc, numlines) {\n        for (let i = 0; i < numlines; i++)\n            g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc + ((i * this.STAFFSCALE) | 0) * this.VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc + ((i * this.STAFFSCALE) | 0) * this.VIEWSCALE));\n    }\n    static drawStaff_2(g, x1, x2, yloc, numlines, STAFFSCALE, VIEWSCALE) {\n        for (let i = 0; i < numlines; i++)\n            g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc + i * STAFFSCALE * VIEWSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc + i * STAFFSCALE * VIEWSCALE));\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawLigType(Graphics2D g,RenderedEvent re,double x,double y)\nPurpose: Indicate ligature connection type (recta/obliqua) at specified\n         location\nParameters:\n  Input:  Graphics2D g     - graphical context\n          RenderedEvent re - first ligated note\n          double x,y       - location in context for drawing\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawLigType(g, re, x, y) {\n        if (!this.displayligbrackets)\n            return;\n        let e = re.getEvent_1();\n        if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_NOTE) {\n            let ne = e;\n            g.setFont(this.defaultTextFontSMALL);\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.gray);\n            switch (ne.getligtype()) {\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.LIG_RECTA:\n                    {\n                        g.drawString(\"R\", x, y);\n                        break;\n                    }\n                case _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.LIG_OBLIQUA:\n                    {\n                        g.drawString(\"O\", x, y);\n                        break;\n                    }\n            }\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawLigature(Graphics2D g,double x1,double x2,double y,double leftx,double rightx)\nPurpose: Draw ligature bracket for one voice\nParameters:\n  Input:  Graphics2D g        - graphical context\n          double x1,x2        - left and right coordinates of bracket\n          double y            - y level of bracket\n          double leftx,rightx - horizontal bounds of drawing space\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawLigature_1(g, x1, x2, y, leftx, rightx) {\n        if (this.displayligbrackets)\n            ViewCanvas.drawLigOnCanvas_1(g, x1, x2, y, leftx, rightx, this.VIEWSCALE);\n    }\n    static drawLigOnCanvas_1(g, x1, x2, y, leftx, rightx, VS) {\n        x1 += VS;\n        if (x1 >= leftx)\n            g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y + 3 * VS));\n        else\n            x1 = leftx;\n        x2 += VS * (((4 + _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_NOTESTART + _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.NOTEHEADSTYLE_SEMIBREVE) | 0))) | 0));\n        if (x2 < rightx)\n            g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y + 3 * VS));\n        else\n            x2 = rightx - 1;\n        g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y));\n    }\n    static drawLigOnCanvas_2(g, x1, x2, y, leftx, rightx) {\n        ViewCanvas.drawLigOnCanvas_1(g, x1, x2, y, leftx, rightx, 1);\n    }\n    drawTies(g, tre1, tre2, vi, x1, x2, leftx, rightx) {\n        try {\n            let multiEventList = tre1.getEventList();\n            if (multiEventList == null)\n                this.drawTie_1(g, tre1.getTieType(), x1, x2, this.calcTieY_2(vi, tre2), leftx, rightx);\n            else\n                for (let re of multiEventList) {\n                    let tieType = re.getTieType();\n                    if (tieType != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.TIE_NONE)\n                        this.drawTie_1(g, tieType, x1, x2, this.calcTieY_2(vi, re), leftx, rightx);\n                }\n        }\n        catch (methodGuard) { }\n    }\n    drawTie_1(g, tieType, x1, x2, y, leftx, rightx) {\n        ViewCanvas.drawTieOnCanvas_1(g, tieType, x1, x2, y, leftx, rightx, this.VIEWSCALE);\n    }\n    static drawTieOnCanvas_1(g, tieType, x1, x2, y, leftx, rightx, VS) {\n        let xAdjust = VS * (((4 + _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_NOTESTART + _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.NOTEHEADSTYLE_SEMIBREVE) | 0))) | 0));\n        x1 = _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.max(x1 + xAdjust, leftx - xAdjust / 2);\n        x2 += VS * 4;\n        let arc1 = 0;\n        let arc2 = 180;\n        if (tieType == _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.TIE_UNDER) {\n            arc1 = 180;\n            y += _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.CONNECTION_SCREEN_L_UPSTEMY * 2 * VS;\n        }\n        g.drawArc(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2 - x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(15 * VS), arc1, arc2);\n    }\n    static drawTieOnCanvas_2(g, tieType, x1, x2, y, leftx, rightx) {\n        ViewCanvas.drawTieOnCanvas_1(g, tieType, x1, x2, y, leftx, rightx, 1);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawSectionText(MusicTextSection ts,Graphics2D g,double x,double y)\nPurpose: Draw text section on canvas\nParameters:\n  Input:  ScoreRenderer rs - rendered section\n          Graphics2D g     - graphical context\n          double x,y       - location at which to draw\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawSectionText(rs, g, x, y) {\n        let ts = (rs.getSectionData());\n        x += _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING * this.VIEWSCALE;\n        g.setFont(this.MusicGfx.displayTextFont);\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        g.drawString(ts.getSectionText(), x, y);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void markVariantReading(Graphics2D g,double x1,double x2,double y,double leftx,double rightx,\n                                 VariantReading vr,VariantMarkerEvent vme)\nPurpose: Draw variant reading mark\nParameters:\n  Input:  Graphics2D g           - graphical context\n          double x1,x2           - left and right coordinates of mark\n          double y               - y level of mark\n          double leftx,rightx    - horizontal bounds of drawing space\n          VariantReading vr      - reading being marked\n          VariantMarkerEvent vme - event marking start of variant\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    chooseVarColor(vr, vme) {\n        if (vr != null && vr.isError())\n            return _java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.red;\n        if (vme.includesVarType(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_RHYTHM) || vme.includesVarType(_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_PITCH))\n            return _java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.magenta;\n        return _java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.green;\n    }\n    markVariantReading_1(g, x1, x2, y, leftx, rightx, vr, vme) {\n        let varTypeFlags = vme.getVarTypeFlags();\n        if (varTypeFlags == _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_ORIGTEXT || !this.options.markVariant(varTypeFlags & ~_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_ORIGTEXT))\n            return;\n        this.markVariantReadingOnCanvas_1(g, x1, x2, y, leftx, rightx, this.VIEWSCALE, this.chooseVarColor(vr, vme));\n        if (vr != null && vr.isError()) {\n            g.setFont(this.defaultTextFontSMALL);\n            g.drawString(\"X\", x1, y);\n        }\n    }\n    markVariantReading_2(g, x, y, vr, vme) {\n        let varTypeFlags = vme.getVarTypeFlags();\n        if (varTypeFlags == _DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_ORIGTEXT || !this.options.markVariant(varTypeFlags & ~_DataStruct_VariantReading__WEBPACK_IMPORTED_MODULE_18__.VariantReading.VAR_ORIGTEXT))\n            return;\n        this.markVariantReadingOnCanvas_2(g, x, y, this.VIEWSCALE, this.chooseVarColor(vr, vme));\n        if (vr != null && vr.isError()) {\n            g.setFont(this.defaultTextFontSMALL);\n            g.drawString(\"X\", x, y);\n        }\n    }\n    markVariantReadingOnCanvas_1(g, x1, x2, y, leftx, rightx, VS, c) {\n        let MARKSCALE = 5 * VS;\n        g.setColor(c);\n        x1 += VS;\n        if (x1 >= leftx) { }\n        else\n            x1 = leftx;\n        if (this.displayEditTags)\n            x2 += VS * (((4 + _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.getDefaultGlyphWidth(((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_NOTESTART + _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_17__.NoteEvent.NOTEHEADSTYLE_SEMIBREVE) | 0))) | 0));\n        if (x2 < rightx) { }\n        else\n            x2 = rightx - 1;\n        g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x1), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x2), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y));\n    }\n    //g.drawLine((int)Math.round(x1),(int)Math.round(y-MARKSCALE),(int)Math.round(x1),(int)Math.round(y+MARKSCALE));\n    //g.drawLine((int)Math.round(x2),(int)Math.round(y-MARKSCALE),(int)Math.round(x2),(int)Math.round(y+MARKSCALE));\n    markVariantReadingOnCanvas_2(g, x, y, VS, c) {\n        let MARKSCALE = 3 * VS;\n        g.setColor(c);\n        g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x - 2 * MARKSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x - MARKSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y + 2 * MARKSCALE));\n        g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x - MARKSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y + 2 * MARKSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y));\n        g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x - 2 * MARKSCALE), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(x), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(y));\n    }\n    /*------------------------------------------------------------------------\nMethod:  float drawModKeySig(Graphics2D g,ModernKeySignature mk,RenderedEvent cre,float xloc,float yloc)\nPurpose: Draw modern key signature on staff with specified clef\nParameters:\n  Input:  Graphics2D g          - graphical context\n          ModernKeySignature mk - signature to draw\n          RenderedEvent cre     - event with current clef on staff\n          float xloc,yloc       - location to draw\n  Output: -\n  Return: amount of x space taken by sig\n------------------------------------------------------------------------*/\n    static drawModKeySig_1(g, MusicGfx, mk, cre, xloc, yloc, VIEWSCALE, displayEditTags, STAFFSCALE, STAFFPOSSCALE) {\n        let curx = xloc + 5 * VIEWSCALE;\n        let c = cre.getClef();\n        let staffApos = c.getApos();\n        let accColor = displayEditTags ? _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_14__.Coloration.BLUE : _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_14__.Coloration.BLACK;\n        if (staffApos < 0)\n            staffApos += 7;\n        else if (staffApos > 5)\n            staffApos -= 7;\n        for (let i = mk.iterator(); i.hasNext();) {\n            let kse = i.next();\n            for (let ai = 0; ai < kse.accidental.numAcc; ai++) {\n                MusicGfx.drawGlyph(g, ((((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_13__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0), curx, yloc + (((((STAFFSCALE * 4) | 0) - ((STAFFPOSSCALE * (((staffApos + kse.calcAOffset()) | 0))) | 0)) | 0)) * VIEWSCALE, _DataStruct_Coloration__WEBPACK_IMPORTED_MODULE_14__.Coloration.AWTColors[accColor]);\n                curx += (MusicGfx.getGlyphWidth(((((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_13__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.CONNECTION_SCREEN_MODACC_DBLFLAT) * VIEWSCALE;\n            }\n        }\n        return curx - xloc;\n    }\n    /* draw individual accidentals in signature */\n    static drawModKeySig_2(outp, cb, mk, cre, xloc, yloc) {\n        let curx = xloc + 5 * _PDFCreator__WEBPACK_IMPORTED_MODULE_3__.PDFCreator.XEVENTSPACE_SCALE;\n        let c = cre.getClef();\n        let staffApos = c.getApos();\n        if (staffApos < 0)\n            staffApos += 7;\n        else if (staffApos > 5)\n            staffApos -= 7;\n        for (let i = mk.iterator(); i.hasNext();) {\n            let kse = i.next();\n            for (let ai = 0; ai < kse.accidental.numAcc; ai++) {\n                outp.drawGlyph(((((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_13__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0), curx, yloc, 0, 0, ((staffApos + kse.calcAOffset()) | 0), cb);\n                curx += _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.CONNECTION_MODACCX * 2;\n            }\n        }\n        return curx - xloc;\n    }\n    /* draw individual accidentals in signature */\n    /*            MusicGfx.drawGlyph(\n              g,MusicFont.PIC_CLEFSTART+Clef.CLEF_MODERNFlat+kse.accidental.accType,\n              curx,yloc+(STAFFSCALE*4-STAFFPOSSCALE*(staffApos+kse.calcAOffset()))*VIEWSCALE,\n              Coloration.AWTColors[accColor]);\n            curx+=(MusicGfx.getGlyphWidth(MusicFont.PIC_CLEFSTART+Clef.CLEF_MODERNFlat+kse.accidental.accType)+\n                   MusicFont.CONNECTION_SCREEN_MODACC_DBLFLAT)*VIEWSCALE;*/\n    drawModKeySig_3(g, mk, cre, xloc, yloc) {\n        return ViewCanvas.drawModKeySig_1(g, this.MusicGfx, mk, cre, xloc, yloc, this.VIEWSCALE, this.displayEditTags, this.STAFFSCALE, this.STAFFPOSSCALE);\n    }\n    /*------------------------------------------------------------------------\nMethod:  float getModKeySigSize(ModernKeySignature mk,RenderedEvent cre)\nPurpose: Get x-size of modern key signature on staff with specified clef\nParameters:\n  Input:  ModernKeySignature mk - signature to draw\n          RenderedEvent cre     - event with current clef on staff\n  Output: -\n  Return: amount of x space taken by sig\n------------------------------------------------------------------------*/\n    getModKeySigSize(mk, cre) {\n        let curx = 5 * this.VIEWSCALE;\n        let c = cre.getClef();\n        for (let i = mk.iterator(); i.hasNext();) {\n            let kse = i.next();\n            for (let ai = 0; ai < kse.accidental.numAcc; ai++)\n                curx += (this.MusicGfx.getGlyphWidth(((((_MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.PIC_CLEFSTART + _DataStruct_Clef__WEBPACK_IMPORTED_MODULE_13__.Clef.CLEF_MODERNFlat) | 0) + kse.accidental.accType) | 0)) + _MusicFont__WEBPACK_IMPORTED_MODULE_5__.MusicFont.CONNECTION_SCREEN_MODACC_DBLFLAT) * this.VIEWSCALE;\n        }\n        return curx;\n    }\n    /* loop through individual accidentals in signature */\n    /*------------------------------------------------------------------------\nMethod:  void drawEllipsisBreak(Graphics2D g,int vnum,double xloc,RenderedEvent e1,RenderedEvent e2)\nPurpose: Remove part of staff in one voice to show break between incipit and\n         explicit (in incipit-score)\nParameters:\n  Input:  Graphics2D g        - graphical context\n          int vnum            - voice number\n          double xloc         - left x-coordinate for drawing\n          RenderedEvent e1,e2 - ellipsis event and next event (left and right\n                                boundaries of break)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawEllipsisBreak(g, vnum, xloc, e1, e2) {\n        let xsize = (e2.getxloc() - e1.getxloc()) * this.VIEWSCALE;\n        let yloc = this.YTOP + (((((vnum * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) - this.STAFFSCALE) | 0)) * this.VIEWSCALE;\n        let ysize = ((6 * this.STAFFSCALE) | 0) * this.VIEWSCALE;\n        if (xloc < this.XLEFT) {\n            xsize -= this.XLEFT - xloc;\n            xloc = this.XLEFT;\n        }\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n        g.fillRect(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xloc), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xsize), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(ysize));\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n    }\n    /* clip */\n    /*------------------------------------------------------------------------\nMethod:  void drawAllBarlines(Graphics2D g)\nPurpose: Draw barlines across screen\nParameters:\n  Input:  Graphics2D g - graphical context\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawAllBarlines(g) {\n        let i;\n        let si;\n        let xloc = this.XLEFT + 6 * this.VIEWSCALE;\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        this.nummeasuresdisplayed = 0;\n        si = this.leftRendererNum;\n        for (i = this.curmeasure; i < ((this.nummeasures - 1) | 0) && xloc < this.viewsize.width; i++) {\n            if (i > this.renderedSections[si].getLastMeasureNum()) {\n                si++;\n                xloc += _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING * this.VIEWSCALE;\n            }\n            if (i == this.MIDIMeasurePlaying)\n                this.drawPlaybackLine(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xloc));\n            xloc += this.renderedSections[si].getMeasure(i).xlength * this.VIEWSCALE;\n            if (i != this.renderedSections[si].getLastMeasureNum())\n                this.drawBarlines_1(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xloc), si);\n            this.nummeasuresdisplayed++;\n            if (this.nummeasuresdisplayed % 5 == 0)\n                g.drawString(`${i + 2}`, xloc, this.YTOP - ((this.STAFFSCALE * 2) | 0) * this.VIEWSCALE);\n        }\n        if (i > this.renderedSections[si].getLastMeasureNum())\n            si++;\n        if (i == this.MIDIMeasurePlaying)\n            this.drawPlaybackLine(g, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xloc));\n        if (i == ((this.nummeasures - 1) | 0)) {\n            xloc += this.renderedSections[si].getMeasure(i).xlength * this.VIEWSCALE;\n        }\n        if (xloc < this.viewsize.width)\n            this.nummeasuresdisplayed++;\n        this.parentwin.setScrollBarXextent(this.nummeasuresdisplayed);\n    }\n    /* advance one section */\n    /* MIDI playback line */\n    /* no barline at section change */\n    /* measure number */\n    /* MIDI playback line */\n    /* ending barline */\n    //        drawEndBarline(g,Math.round(xloc));\n    drawPlaybackLine(g, xloc) {\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.blue);\n        g.drawLine(xloc, 0, xloc, this.viewsize.height);\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawBarlines(Graphics2D g,int xloc,int snum)\nPurpose: Draw barlines at specified x location\nParameters:\n  Input:  Graphics2D g - graphical context\n          int xloc     - x location for barlines\n          int snum     - section number\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawBarlines_1(g, xloc, snum) {\n        switch (this.barline_type) {\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_NONE:\n                {\n                    break;\n                }\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_MENSS:\n                {\n                    let v1 = -1;\n                    for (let i = 0; i < this.numvoices; i++)\n                        if (this.curVersionMusicData.getSection(snum).getVoice_1(i) != null) {\n                            if (v1 != -1)\n                                g.drawLine(xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((v1 * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) + ((this.STAFFSCALE * 4) | 0)) | 0)) * this.VIEWSCALE), xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0)) * this.VIEWSCALE));\n                            v1 = i;\n                        }\n                    break;\n                }\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_TICK:\n                {\n                    for (let i = 0; i < this.numvoices; i++)\n                        if (this.curVersionMusicData.getSection(snum).getVoice_1(i) != null) {\n                            g.drawLine(xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP - 5 * this.VIEWSCALE + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0) * this.VIEWSCALE), xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0)) * this.VIEWSCALE));\n                            g.drawLine(xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((5 + ((this.STAFFSCALE * 4) | 0)) | 0) + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0)) | 0)) * this.VIEWSCALE), xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((this.STAFFSCALE * 4) | 0) + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0)) | 0)) * this.VIEWSCALE));\n                        }\n                    break;\n                }\n            case _OptionSet__WEBPACK_IMPORTED_MODULE_4__.OptionSet.OPT_BARLINE_MODERN:\n                {\n                    for (let i = 0; i < this.numvoices; i++)\n                        if (this.curVersionMusicData.getSection(snum).getVoice_1(i) != null) {\n                            g.drawLine(xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0)) * this.VIEWSCALE), xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((this.STAFFSCALE * 4) | 0) + ((i * (((this.STAFFSCALE * this.STAFFSPACING) | 0))) | 0)) | 0)) * this.VIEWSCALE));\n                        }\n                    break;\n                }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawSectionBarline(Graphics2D g,int xloc,int startv,int endv,boolean incipitEnd)\nPurpose: Draw section barline (end or beginning) at specified x location\nParameters:\n  Input:  Graphics2D g       - graphical context\n          int xloc           - x location for barline\n          int startv,endv    - starting/ending voice number (top/bottom)\n          boolean incipitEnd - whether this barline separates an incipit\n                               from its finalis\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawSectionBarline(g, xloc, startv, endv, incipitEnd) {\n        if (xloc >= this.viewsize.width)\n            return;\n        if (incipitEnd) {\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.blue);\n            g.setFont(this.defaultTextFontSMALL);\n            g.drawString(\"FINALIS\", xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP - ((this.STAFFSCALE * 3) | 0) * this.VIEWSCALE));\n        }\n        else\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n        g.drawLine(xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((startv * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) * this.VIEWSCALE), xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((((endv * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) + ((this.STAFFSCALE * 4) | 0)) | 0)) * this.VIEWSCALE));\n        if (incipitEnd)\n            g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void drawEndBarline(Graphics2D g,int xloc)\nPurpose: Draw ending (full) barline at specified x location\nParameters:\n  Input:  Graphics2D g    - graphical context\n          int startv,endv - starting/ending voice number (top/bottom)\n          int xloc        - x location for barline\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    drawEndBarline_1(g, startv, endv, xloc) {\n        if (xloc >= this.viewsize.width)\n            return;\n        g.drawLine(xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((startv * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0)) * this.VIEWSCALE), xloc, _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(this.YTOP + (((((((endv * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) + ((this.STAFFSCALE * 4) | 0)) | 0)) * this.VIEWSCALE));\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.white);\n        g.fillRect(((xloc + 1) | 0), 0, ((this.viewsize.width - xloc) | 0), ((this.viewsize.height + 1) | 0));\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addSectionTag(Graphics2D g,ScoreRenderer rs,int x,int y)\nPurpose: Add editing tag for music section at specified location\nParameters:\n  Input:  ScoreRenderer rs - rendered section information\n          int x,y          - location for display\n  Output: Graphics2D g     - graphical context\n  Return: -\n------------------------------------------------------------------------*/\n    addSectionTag(g, rs, x, y) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void draw_analysis(Graphics2D g,ScoreRenderer renderedSection,int renum,int vnum,float xloc,float yloc)\nPurpose: Mark one event in score with analytical aids\nParameters:\n  Input:  Graphics2D g                  - graphical context\n          ScoreRenderer renderedSection - section to check\n          int renum                     - index of event to check\n          int vnum                      - voice number of event\n          float xloc,yloc               - location at which event was drawn\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    draw_analysis(g, renderedSection, renum, vnum, xloc, yloc) {\n        let re = renderedSection.eventinfo[vnum].getEvent(renum);\n        let e = re.getEvent_1();\n        if (e.geteventtype() != _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_NOTE)\n            return;\n        let mt = re.getmusictime().toDouble();\n        let measurepos = (((mt - mt) * 4) | 0);\n        g.setFont(this.FontBOLD18);\n        if (this.markdissonances) {\n            if ((measurepos == 0 || measurepos == 2) && this.isdissonant(renderedSection, re, vnum)) {\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.red);\n                g.drawString(\"X\", xloc + 8, yloc - 5);\n            }\n            else if ((measurepos == 1 || measurepos == 3) && this.isdissonant(renderedSection, re, vnum)) {\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.blue);\n                g.drawString(\"X\", xloc + 5, yloc - 5);\n            }\n        }\n        if (this.markdirectedprogressions)\n            if (measurepos == 0 || measurepos == 2) {\n                g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.red);\n                let progdir = this.getprogressiondir(renderedSection, renum, vnum);\n                if (progdir != 0)\n                    g.drawLine(_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xloc - 10), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(xloc + 10), _java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.round(yloc + (((-5 * progdir) | 0))));\n            }\n        g.setColor(_java_awt_Color__WEBPACK_IMPORTED_MODULE_6__.Color.black);\n    }\n    /* mark dissonances */\n    /* mark directed progressions */\n    /*------------------------------------------------------------------------\nMethod:  boolean isdissonant(ScoreRenderer renderedSection,RenderedEvent re,int vnum)\nPurpose: Check whether note is dissonant against other voices\nParameters:\n  Input:  ScoreRenderer renderedSection - section to check\n          RenderedEvent re              - event to check\n          int vnum                      - voice number of event\n  Output: -\n  Return: true if dissonant\n------------------------------------------------------------------------*/\n    isdissonant(renderedSection, re, vnum) {\n        let measure = renderedSection.getMeasure(re.getmeasurenum());\n        let e = re.getEvent_1();\n        for (let i = 0; i < this.numvoices; i++)\n            if (i != vnum) {\n                let ei = measure.reventindex[i];\n                let otherre = renderedSection.eventinfo[i].getEvent(ei);\n                while (otherre != null && otherre.getmusictime().toDouble() <= re.getmusictime().toDouble()) {\n                    let oe = otherre.getEvent_1();\n                    if (oe.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_NOTE && otherre.getmusictime().equals(re.getmusictime())) {\n                        let p1 = e.getPitch_1().placenum;\n                        let p2 = oe.getPitch_1().placenum;\n                        let interval = ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.abs(((p1 - p2) | 0)) % 7 + 1) | 0);\n                        if (interval == 2 || interval == 7)\n                            return true;\n                    }\n                    otherre = renderedSection.eventinfo[i].getEvent(++ei);\n                }\n            }\n        return false;\n    }\n    /*------------------------------------------------------------------------\nMethod:  int getprogressiondir(ScoreRenderer renderedSection,int renum,int vnum)\nPurpose: Check whether note is the end of a 6-8 directed progression, and whether\n         it is ascending or descending\nParameters:\n  Input:  ScoreRenderer renderedSection - section to check\n          int renum                     - index of event to check\n          int vnum                      - voice number of event\n  Output: -\n  Return: 1=ascending, -1=descending, 0=not a directed progression\n------------------------------------------------------------------------*/\n    getprogressiondir(renderedSection, renum, vnum) {\n        let re = renderedSection.eventinfo[vnum].getEvent(renum);\n        let e = re.getEvent_1();\n        let measure = renderedSection.getMeasure(re.getmeasurenum());\n        for (let i = 0; i < this.numvoices; i++)\n            if (i != vnum) {\n                let ei = measure.reventindex[i];\n                let otherre = renderedSection.eventinfo[i].getEvent(ei);\n                while (otherre != null && otherre.getmusictime().toDouble() <= re.getmusictime().toDouble()) {\n                    let oe = otherre.getEvent_1();\n                    if (oe.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_NOTE && otherre.getmusictime().equals(re.getmusictime())) {\n                        let interval2 = this.getAbsInterval(e, oe);\n                        if (interval2 == 1) {\n                            let pe1 = this.getPreviousNote(renderedSection, vnum, renum);\n                            let pe2 = this.getPreviousNote(renderedSection, i, ei);\n                            if (pe1 != null && pe2 != null) {\n                                let interval1 = this.getAbsInterval(pe1, pe2);\n                                if (interval1 == 6 || interval1 == 3) {\n                                    let thisint = ((e.getPitch_1().placenum - pe1.getPitch_1().placenum) | 0);\n                                    let otherint = ((oe.getPitch_1().placenum - pe2.getPitch_1().placenum) | 0);\n                                    if (((thisint + otherint) | 0) == 0)\n                                        return thisint;\n                                }\n                            }\n                        }\n                    }\n                    otherre = renderedSection.eventinfo[i].getEvent(++ei);\n                }\n            }\n        return 0;\n    }\n    getAbsInterval(n1, n2) {\n        let p1 = n1.getPitch_1().placenum;\n        let p2 = n2.getPitch_1().placenum;\n        return ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_0__.Math.abs(((p1 - p2) | 0)) % 7 + 1) | 0);\n    }\n    getPreviousNote(renderedSection, vnum, evnum) {\n        for (let i = ((evnum - 1) | 0); i >= 0; i--) {\n            let e = renderedSection.eventinfo[vnum].getEvent(i).getEvent_1();\n            if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_NOTE)\n                return e;\n            else if (e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_15__.Event.EVENT_REST)\n                return null;\n        }\n        return null;\n    }\n    /*------------------------- PUBLIC CALCULATIONS -------------------------*/\n    /*------------------------------------------------------------------------\nMethod:  int calc[SectionNum|VNum|Eventnum|HLEventnum](int newsnum,int newvnum,int x,int y)\nPurpose: Calculate section/voice/event number at given x-y screen coordinates\nParameters:\n  Input:  int newsnum,newvnum - section/voice number (for calculating event numbers)\n          int x,y             - coordinates on screen\n  Output: -\n  Return: section|voice|event number\n------------------------------------------------------------------------*/\n    calcSectionNum(x) {\n        let absoluteX = ((this.renderedSections[this.leftRendererNum].getStartX() + this.getLeftMeasure().leftx) * this.VIEWSCALE - this.XLEFT + x);\n        for (let si = 0; si < this.numSections; si++)\n            if (absoluteX < (this.renderedSections[si].getStartX() + this.renderedSections[si].getXsize()) * this.VIEWSCALE)\n                return si;\n        return ((this.numSections - 1) | 0);\n    }\n    calcVNum(snum, y) {\n        let newvnum;\n        for (newvnum = 0; newvnum < ((this.renderedSections[snum].getNumVoices() - 1) | 0); newvnum++)\n            if (y + this.VIEWYSTART < this.YTOP + ((((((((((newvnum + 1) | 0)) * this.STAFFSCALE) | 0) * this.STAFFSPACING) | 0) - ((((this.STAFFSCALE * (((this.STAFFSPACING - 4) | 0))) | 0) / 2) | 0)) | 0)) * this.VIEWSCALE)\n                break;\n        return this.curVersionMusicData.getSection(snum).getValidVoicenum(newvnum);\n    }\n    calcEventnum(newsnum, newvnum, x) {\n        let leftMeasure = this.getLeftMeasure();\n        let neweventnum = newsnum == this.leftRendererNum ? leftMeasure.reventindex[newvnum] : 0;\n        let sectionXstart = 0 - leftMeasure.leftx;\n        let exloc = 0;\n        let lastexloc;\n        let e;\n        let nen_found = false;\n        for (let si = this.leftRendererNum; si < newsnum; si++)\n            sectionXstart += this.renderedSections[si].getXsize() + _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING;\n        if (neweventnum >= this.renderedSections[newsnum].eventinfo[newvnum].size())\n            neweventnum = ((this.renderedSections[newsnum].eventinfo[newvnum].size() - 1) | 0);\n        while (!nen_found) {\n            e = this.renderedSections[newsnum].eventinfo[newvnum].getEvent(neweventnum);\n            exloc = this.XLEFT + (sectionXstart + e.getxloc()) * this.VIEWSCALE;\n            if (x > exloc)\n                if (((neweventnum + 1) | 0) < this.renderedSections[newsnum].eventinfo[newvnum].size())\n                    neweventnum++;\n                else\n                    nen_found = true;\n            else\n                nen_found = true;\n            if (nen_found) {\n                if ((newsnum > this.leftRendererNum && neweventnum > 0) || (newsnum == this.leftRendererNum && neweventnum > leftMeasure.reventindex[newvnum])) {\n                    lastexloc = this.XLEFT + (sectionXstart + this.renderedSections[newsnum].eventinfo[newvnum].getEvent(((neweventnum - 1) | 0)).getxloc()) * this.VIEWSCALE;\n                    if (x <= lastexloc + (((exloc - lastexloc) / 2) | 0)) {\n                        neweventnum--;\n                        exloc = lastexloc;\n                    }\n                }\n            }\n        }\n        while (neweventnum < this.renderedSections[newsnum].eventinfo[newvnum].size() && !this.renderedSections[newsnum].eventinfo[newvnum].getEvent(neweventnum).isdisplayed())\n            neweventnum++;\n        return neweventnum;\n    }\n    //    newvnum=curVersionMusicData.getSection(newsnum).getValidVoicenum(newvnum);\n    /*            if (newsnum<numSections-1)\n              {\n                sectionXstart+=renderedSections[newsnum].getXsize()+ScoreRenderer.SECTION_END_SPACING;\n                newsnum++;\n                neweventnum=0;\n              }\n            else*/\n    /* make sure selection is a displayed event */\n    /* calculate event numbers for highlighting */\n    calcHLEventnum(newsnum, newvnum, x) {\n        newvnum = this.curVersionMusicData.getSection(newsnum).getValidVoicenum(newvnum);\n        let leftMeasure = this.getLeftMeasure();\n        let neweventnum = newsnum == this.leftRendererNum ? leftMeasure.reventindex[newvnum] : 0;\n        let sectionXstart = 0 - leftMeasure.leftx;\n        let exloc = 0;\n        let lastexloc;\n        let e;\n        let nen_found = false;\n        for (let si = this.leftRendererNum; si < newsnum; si++)\n            sectionXstart += this.renderedSections[si].getXsize() + _ScoreRenderer__WEBPACK_IMPORTED_MODULE_2__.ScoreRenderer.SECTION_END_SPACING;\n        if (neweventnum >= this.renderedSections[newsnum].eventinfo[newvnum].size())\n            neweventnum = ((this.renderedSections[newsnum].eventinfo[newvnum].size() - 1) | 0);\n        while (!nen_found) {\n            e = this.renderedSections[newsnum].eventinfo[newvnum].getEvent(neweventnum);\n            exloc = this.XLEFT + (sectionXstart + e.getxloc()) * this.VIEWSCALE;\n            if (x > exloc)\n                if (((neweventnum + 1) | 0) < this.renderedSections[newsnum].eventinfo[newvnum].size())\n                    neweventnum++;\n                else\n                    nen_found = true;\n            else\n                nen_found = true;\n            if (nen_found) {\n                if ((newsnum > this.leftRendererNum && neweventnum > 0) || (newsnum == this.leftRendererNum && neweventnum > leftMeasure.reventindex[newvnum])) {\n                    let laste = this.renderedSections[newsnum].eventinfo[newvnum].getEvent(((neweventnum - 1) | 0));\n                    lastexloc = this.XLEFT + (sectionXstart + this.renderedSections[newsnum].eventinfo[newvnum].getEvent(((neweventnum - 1) | 0)).getxloc()) * this.VIEWSCALE;\n                    if (x <= lastexloc + laste.getrenderedxsize()) {\n                        neweventnum--;\n                        exloc = lastexloc;\n                    }\n                }\n            }\n        }\n        while (neweventnum < this.renderedSections[newsnum].eventinfo[newvnum].size() && !this.renderedSections[newsnum].eventinfo[newvnum].getEvent(neweventnum).isdisplayed())\n            neweventnum++;\n        return neweventnum;\n    }\n    /*            if (newsnum<numSections-1)\n              {\n                sectionXstart+=renderedSections[newsnum].getXsize()+ScoreRenderer.SECTION_END_SPACING;\n                newsnum++;\n                neweventnum=0;\n              }\n            else*/\n    /* make sure selection is a displayed event */\n    /*------------------------------------------------------------------------\nMethods: get*() / is*()\nPurpose: Routines to return attribute variables\nParameters:\n  Input:  -\n  Output: -\n  Return: attribute variables\n------------------------------------------------------------------------*/\n    getCurrentVariantVersion_1() {\n        return this.curVariantVersion;\n    }\n    getMusicData_1() {\n        return this.curVersionMusicData;\n    }\n    getRenderedMusic() {\n        return this.renderedSections;\n    }\n    inVariantVersion() {\n        return this.getCurrentVariantVersion_1() != this.musicData.getDefaultVariantVersion();\n    }\n    /*------------------------------------------------------------------------\nMethods: set*()\nPurpose: Routines to set attribute variables\nParameters:\n  Input:  new attribute values\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    setCurrentVariantVersion_1(vvd) {\n        this.curVariantVersion = vvd;\n        this.setMusicDataForDisplay_1(this.curVariantVersion == this.musicData.getDefaultVariantVersion() ? this.musicData.recalcAllEventParams() : this.curVariantVersion.constructMusicData_1(this.musicData).recalcAllEventParams());\n    }\n    setMusicDataForDisplay_1(musicData) {\n        this.curVersionMusicData = musicData;\n        this.rerender_1();\n        this.repaint();\n    }\n    /*--------------------------- EVENT LISTENERS ---------------------------*/\n    /*------------------------------------------------------------------------\nMethod:     void mousePressed(MouseEvent e)\nImplements: MouseListener.mousePressed\nPurpose:    Handle mouse click on canvas\nParameters:\n  Input:  MouseEvent e - event to handle\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    mousePressed(e) {\n        let newSNum = this.calcSectionNum(e.getX());\n        let newVNum = this.calcVNum(newSNum, e.getY());\n        let newEventnum = this.calcHLEventnum(newSNum, newVNum, e.getX());\n        switch (e.getButton()) {\n            case _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__.MouseEvent.BUTTON1:\n                {\n                    this.selectEvent(newVNum, newEventnum);\n                    break;\n                }\n            case _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__.MouseEvent.BUTTON2:\n                {\n                }\n            case _java_awt_event_MouseEvent__WEBPACK_IMPORTED_MODULE_9__.MouseEvent.BUTTON3:\n                {\n                    this.showVariants_1(newSNum, newVNum, newEventnum, e.getXOnScreen(), e.getYOnScreen());\n                    break;\n                }\n        }\n    }\n    /* empty MouseListener methods */\n    mouseClicked(e) {\n    }\n    mouseDragged(e) {\n    }\n    mouseEntered(e) {\n    }\n    mouseExited(e) {\n    }\n    mouseReleased(e) {\n    }\n    /*------------------------------------------------------------------------\nMethod:  void unregisterListeners()\nPurpose: Remove all action/item/etc listeners when disposing of resources\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    unregisterListeners_1() {\n        this.removeMouseListener(this);\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nViewCanvas.DEFAULT_TEXTFONTSMALL_SIZE = 12;\nViewCanvas.DEFAULT_TEXTFONTLARGE_SIZE = 18;\nViewCanvas.LEFTBREAK_XSIZE = 10;\nViewCanvas.LEFTINFO_XPADDING = 5;\nViewCanvas.LEFT_BLANK_BORDER = 10;\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/ViewCanvas.ts?");

/***/ }),

/***/ "./src/Gfx/ZoomControl.ts":
/*!********************************!*\
  !*** ./src/Gfx/ZoomControl.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ZoomControl: () => (/* binding */ ZoomControl)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Integer */ \"./src/java/lang/Integer.ts\");\n/* harmony import */ var _MusicWin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MusicWin */ \"./src/Gfx/MusicWin.ts\");\n/* harmony import */ var _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/awt/GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n/* harmony import */ var _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../java/awt/GridBagLayout */ \"./src/java/awt/GridBagLayout.ts\");\n/* harmony import */ var _java_awt_Insets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../java/awt/Insets */ \"./src/java/awt/Insets.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../java/net/URL */ \"./src/java/net/URL.ts\");\n/* harmony import */ var _java_net_MalformedURLException__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../java/net/MalformedURLException */ \"./src/java/net/MalformedURLException.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/JTextField */ \"./src/javax/swing/JTextField.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass ZoomControl extends _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_9__.JPanel {\n    constructor() {\n        super(...arguments);\n        this.viewSizeField = null;\n    }\n    static new0_5(startSize, listener) {\n        let _new0 = new ZoomControl;\n        ZoomControl.set0_5(_new0, startSize, listener);\n        return _new0;\n    }\n    static set0_5(new0, startSize, listener) {\n        ZoomControl.set1_5(new0, startSize, listener, ZoomControl.DEFAULT_MINSIZE, ZoomControl.DEFAULT_MAXSIZE, ZoomControl.DEFAULT_SIZES);\n    }\n    static new1_5(startSize, listener, minSize, maxSize, sizes) {\n        let _new1 = new ZoomControl;\n        ZoomControl.set1_5(_new1, startSize, listener, minSize, maxSize, sizes);\n        return _new1;\n    }\n    static set1_5(new1, startSize, listener, minSize, maxSize, sizes) {\n        new1.listener = listener;\n        new1.curViewSize = startSize;\n        new1.minSize = minSize;\n        new1.maxSize = maxSize;\n        new1.sizes = new1.insertIntoSizes(sizes, new1.curViewSize);\n        new1.setLayout(new _java_awt_GridBagLayout__WEBPACK_IMPORTED_MODULE_5__.GridBagLayout());\n        let zcc = new _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_4__.GridBagConstraints();\n        zcc.anchor = _java_awt_GridBagConstraints__WEBPACK_IMPORTED_MODULE_4__.GridBagConstraints.WEST;\n        zcc.weightx = 0;\n        new1.viewSizeField = new _javax_swing_JTextField__WEBPACK_IMPORTED_MODULE_12__.JTextField(new1.curViewSize + \"%\", 3);\n        try {\n            new1.zoomOutButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_11__.JButton(new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_10__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_7__.URL(_MusicWin__WEBPACK_IMPORTED_MODULE_3__.MusicWin.BaseDataURL + \"imgs/zoomout-button.gif\")));\n            new1.zoomInButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_11__.JButton(new _javax_swing_ImageIcon__WEBPACK_IMPORTED_MODULE_10__.ImageIcon(new _java_net_URL__WEBPACK_IMPORTED_MODULE_7__.URL(_MusicWin__WEBPACK_IMPORTED_MODULE_3__.MusicWin.BaseDataURL + \"imgs/zoomin-button.gif\")));\n        }\n        catch (e) {\n            if (e instanceof _java_net_MalformedURLException__WEBPACK_IMPORTED_MODULE_8__.MalformedURLException) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error loading Zoom-Control icons: \" + e);\n            }\n            else\n                throw e;\n        }\n        new1.zoomOutButton.setFocusable(false);\n        new1.zoomInButton.setFocusable(false);\n        new1.zoomOutButton.setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_6__.Insets(1, 1, 1, 1));\n        new1.zoomInButton.setMargin(new _java_awt_Insets__WEBPACK_IMPORTED_MODULE_6__.Insets(1, 1, 1, 1));\n        new1.zoomOutButton.setToolTipText(\"Zoom out\");\n        new1.zoomInButton.setToolTipText(\"Zoom in\");\n        new1.addListeners_2();\n        zcc.weightx = 0;\n        zcc.gridx = 0;\n        zcc.gridy = 0;\n        new1.add(new1.zoomOutButton, zcc);\n        zcc.weightx = 0;\n        zcc.gridx++;\n        new1.add(new1.viewSizeField, zcc);\n        zcc.weightx = 1;\n        zcc.gridx++;\n        new1.add(new1.zoomInButton, zcc);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void addListeners()\nPurpose: Register GUI listeners\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    addListeners_2() {\n        this.viewSizeField.addActionListener(this.listener);\n        this.zoomInButton.addActionListener(this.listener);\n        this.zoomOutButton.addActionListener(this.listener);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void removeListeners()\nPurpose: Unregister GUI listeners (should match addListeners)\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeListeners_2() {\n        this.viewSizeField.removeActionListener(this.listener);\n        this.zoomInButton.removeActionListener(this.listener);\n        this.zoomOutButton.removeActionListener(this.listener);\n    }\n    /*------------------------------------------------------------------------\nMethod:  void setViewSize|viewSizeFieldAction|zoomIn|zoomOut()\nPurpose: Functions to control GUI\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    viewSizeFieldAction() {\n        let newVS;\n        try {\n            let intText = this.viewSizeField.getText().replaceAll(\"\\\\D\", \"\");\n            newVS = (new _java_lang_Integer__WEBPACK_IMPORTED_MODULE_2__.Integer(intText)).intValue();\n            if (newVS < this.minSize)\n                newVS = this.minSize;\n            else if (newVS > this.maxSize)\n                newVS = this.maxSize;\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                newVS = this.curViewSize;\n            }\n            else\n                throw e;\n        }\n        this.curViewSize = newVS;\n        return this.curViewSize;\n    }\n    zoomOut_1() {\n        if (this.curViewSize > this.sizes[(((this.sizes.length - 1) | 0))]) {\n            let si = this.getLesserSize(this.curViewSize);\n            this.setViewSize_1(this.sizes[si]);\n        }\n        return this.curViewSize;\n    }\n    zoomIn_1() {\n        if (this.curViewSize < this.sizes[0]) {\n            let si = this.getGreaterSize(this.curViewSize);\n            this.setViewSize_1(this.sizes[si]);\n        }\n        return this.curViewSize;\n    }\n    setViewSize_1(ns) {\n        this.curViewSize = ns;\n        if (this.viewSizeField != null)\n            this.viewSizeField.setText(this.curViewSize + \"%\");\n    }\n    /* get next largest or smallest number in array of available sizes */\n    getGreaterSize(vs) {\n        for (let i = ((this.sizes.length - 1) | 0); i >= 0; i--)\n            if (this.sizes[i] > vs)\n                return i;\n        return -1;\n    }\n    getLesserSize(vs) {\n        for (let i = 0; i < this.sizes.length; i++)\n            if (this.sizes[i] < vs)\n                return i;\n        return -1;\n    }\n    getSizeIndex(vs) {\n        for (let i = 0; i < this.sizes.length; i++)\n            if (this.sizes[i] == vs)\n                return i;\n        return -1;\n    }\n    insertIntoSizes(oldSizes, newNum) {\n        let curIndex = -1;\n        for (let i = 0; i < oldSizes.length; i++)\n            if (oldSizes[i] == newNum) {\n                curIndex = i;\n                break;\n            }\n        if (curIndex != -1)\n            return oldSizes;\n        let newSizes = Array((((oldSizes.length + 1) | 0)));\n        let vi = 0;\n        for (let i = 0; i < oldSizes.length; i++) {\n            if (vi == i && oldSizes[i] < newNum) {\n                newSizes[vi] = newNum;\n                vi++;\n            }\n            newSizes[(vi++)] = oldSizes[i];\n        }\n        if (vi <= oldSizes.length)\n            newSizes[vi] = newNum;\n        return newSizes;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nZoomControl.DEFAULT_MINSIZE = 10;\nZoomControl.DEFAULT_MAXSIZE = 400;\nZoomControl.DEFAULT_SIZES = [200, 175, 150, 125, 100, 75, 50];\n\n\n//# sourceURL=webpack://cmme/./src/Gfx/ZoomControl.ts?");

/***/ }),

/***/ "./src/Test/index.ts":
/*!***************************!*\
  !*** ./src/Test/index.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Viewer_Main__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Viewer/Main */ \"./src/Viewer/Main.ts\");\n/* harmony import */ var _Editor_Main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Editor/Main */ \"./src/Editor/Main.ts\");\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Util/Resources */ \"./src/Util/Resources.ts\");\n/* harmony import */ var _java_applet_Applet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/applet/Applet */ \"./src/java/applet/Applet.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\n\nString.prototype.replaceAll = function (regex, replacement) {\n    return this.replace(new RegExp(regex, \"g\"), replacement);\n};\nString.prototype.replaceFirst = function (regex, replacement) {\n    return this.replace(new RegExp(regex), replacement); // No \"g\" flag ensures only the first match is replaced\n};\nString.prototype.matches = function (regex) {\n    return new RegExp(`^(${regex})$`).test(this); // Wraps the pattern in ^ and $ to match the entire string\n};\nString.prototype.toCharArray = function () {\n    return [...this];\n};\nfunction awaitResources() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield document.fonts.load('16px cmme');\n        yield _Util_Resources__WEBPACK_IMPORTED_MODULE_2__.Resources.boot();\n    });\n}\nfunction run() {\n    return __awaiter(this, void 0, void 0, function* () {\n        yield awaitResources();\n        boot();\n    });\n}\nfunction boot() {\n    var applet = false;\n    if (applet) {\n        _java_applet_Applet__WEBPACK_IMPORTED_MODULE_3__.Applet._mapParams.set(\"file\", \"Missa-Mort-et-Merci_01kyrie.cmme.xml\");\n        var appletMain = new _Viewer_Main__WEBPACK_IMPORTED_MODULE_0__.Main();\n        appletMain.init();\n        appletMain.start();\n    }\n    else {\n        _Editor_Main__WEBPACK_IMPORTED_MODULE_1__.Main.main([\"Missa-Mort-et-Merci_01kyrie.cmme.xml\"]);\n    }\n}\nrun();\n//document.body.appendChild(main.getContentPane().getHTMLElement());\n// Main.startingFilenames = new ArrayList<string>();\n// Main.startingFilenames.add(\"Missa-Mort-et-Merci_01kyrie.cmme.xml\");\n//Main.main([\"Missa-Mort-et-Merci_01kyrie.cmme.xml\"]);  \n//  document.body.appendChild(Main.theFrame.getHTMLElement());\n//AppContext.setBaseDataLocations(null,true,false);\n//MusicFont.loadmusicface(AppContext.BaseDataURL);\n//p.constructPieceData(xmlDoc, undefined);\n/*var inputFile = document.getElementById(\"file\");\n\ninputFile.addEventListener('change', function(event)\n{\n  const file = (event.target as any).files[0];\n\n  if (!file)\n    return;\n\n  const reader = new FileReader();\n\n  reader.onload = function(e)\n  {\n    boot(e.target.result as string);\n  };\n\n  reader.readAsText(file);\n});*/\n/*\nvar p:CMMEParser = new CMMEParser();\n\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(fileContent, \"text/xml\");\n\n    const parseError = xmlDoc.getElementsByTagName(\"parsererror\");\n    if (parseError.length > 0)\n    {\n      console.error(\"Error parsing XML:\", parseError[0].textContent);\n    }\n    \n    else\n    {\n      console.log(\"XML parsed successfully:\", xmlDoc);\n    }\n\n    AppContext.setBaseDataLocations(null,true,false);\n\n    MusicFont.loadmusicface(AppContext.BaseDataURL);\n\n    p.constructPieceData(xmlDoc, undefined);\n\n\n\n\n\n  var mw:MusicWin = new MusicWin();\n  mw.musicData = p.piece;\n\n  var vc:ViewCanvas = new ViewCanvas(p.piece, mw.MusicGfx, mw, mw.optSet)\n  \n  var bi:BufferedImage = new BufferedImage(640*2, 480*2, 0);\n  document.body.appendChild(bi.canvas);\n  var g:Graphics2D = bi.createGraphics();\n\n  vc.paintComponent(g);\n*/ \n\n\n//# sourceURL=webpack://cmme/./src/Test/index.ts?");

/***/ }),

/***/ "./src/Util/Analyzer.ts":
/*!******************************!*\
  !*** ./src/Util/Analyzer.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Analyzer: () => (/* binding */ Analyzer),\n/* harmony export */   VoiceAnalysisData: () => (/* binding */ VoiceAnalysisData)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _java_lang_Math__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/lang/Math */ \"./src/java/lang/Math.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../DataStruct/Event */ \"./src/DataStruct/Event.ts\");\n/* harmony import */ var _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../DataStruct/MensSignElement */ \"./src/DataStruct/MensSignElement.ts\");\n/* harmony import */ var _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DataStruct/Mensuration */ \"./src/DataStruct/Mensuration.ts\");\n/* harmony import */ var _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../DataStruct/NoteEvent */ \"./src/DataStruct/NoteEvent.ts\");\n/* harmony import */ var _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../DataStruct/Pitch */ \"./src/DataStruct/Pitch.ts\");\n/* harmony import */ var _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../DataStruct/Proportion */ \"./src/DataStruct/Proportion.ts\");\n/* harmony import */ var _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Gfx/MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Gfx/MusicWin */ \"./src/Gfx/MusicWin.ts\");\n/* harmony import */ var _Gfx_RenderedSectionParams__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Gfx/RenderedSectionParams */ \"./src/Gfx/RenderedSectionParams.ts\");\n/* harmony import */ var _Gfx_ScoreRenderer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Gfx/ScoreRenderer */ \"./src/Gfx/ScoreRenderer.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Analyzer {\n    /*----------------------------------------------------------------------*/\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  void main(String args[])\nPurpose: Main routine\nParameters:\n  Input:  String args[] - program arguments\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static main(args) {\n        let cmdlineFilename = Analyzer.parseCmdLine(args);\n        try {\n            Analyzer.initdirectory = new _java_io_File__WEBPACK_IMPORTED_MODULE_3__.File(\".\").getCanonicalPath() + Analyzer.BaseDataDir;\n            Analyzer.BaseDataURL = \"file:///\" + Analyzer.initdirectory;\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error loading local file locations: \" + e);\n                e.printStackTrace();\n            }\n            else\n                throw e;\n        }\n        _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_11__.MusicWin.initScoreWindowing_1(Analyzer.BaseDataURL, Analyzer.initdirectory + \"music/\", false);\n        try {\n            _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_10__.MusicFont.loadmusicface(Analyzer.BaseDataURL);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Error loading font: \" + e);\n                e.printStackTrace();\n            }\n            else\n                throw e;\n        }\n        Analyzer.analyzeFiles(cmdlineFilename);\n    }\n    /* initialize data locations */\n    //DataStruct.XMLReader.initparser(BaseDataURL,false); //CHANGE\n    /*------------------------------------------------------------------------\nMethod:  void analyzeFiles(String mainFilename)\nPurpose: Analyze one set of files (recursing to subdirectories if necessary)\nParameters:\n  Input:  String mainFilename - name of file set in one directory\n          String subdirName   - name of subdirectory (null for base directory)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static analyzeFiles(mainFilename) {\n    }\n    /* //CHANGE\n    try\n      {\n        PrintStream outs;\n        OptionSet   optSet=new OptionSet(null);\n\n        RecursiveFileList    fl=new RecursiveFileList(mainFilename,recursive);\n        LinkedList<Analyzer> results=new LinkedList<Analyzer>();\n\n        //analyze individual pieces\n        for (File curfile : fl)\n          {\n            URL fileURL=curfile.toURI().toURL();\n            String fileName=curfile.getName();\n                   \n            System.out.print(\"Analyzing: \"+fileName+\"...\");\n\n            PieceData       musicData=new CMMEParser(fileURL).piece;\n            ScoreRenderer[] renderedSections=renderSections(musicData,optSet);\n            Analyzer        a=new Analyzer(musicData,renderedSections);\n\n            outs=screenoutput ? System.out : new PrintStream(\"data/stats/\"+fileName+\".txt\");\n            a.printGeneralAnalysis(outs);\n            if (!screenoutput)\n              outs.close();\n\n            System.out.println(\"done\");\n\n            results.add(a);\n          }\n\n        // output result summary\n        outs=screenoutput ? System.out : new PrintStream(\"data/stats/summary.txt\");\n        if (screenoutput)\n          {\n            outs.println();\n            outs.println(\"SUMMARY\");\n            outs.println();\n          }\n        outs.println(\"Composer\\tTitle\\tDensity (O)\\tDensity (C)\\tDensity (3)\\tDensity (P)\\tSyncop density\\tUnprepared syncop diss\\tPassing SM diss density\\tOffbeat M diss density\");\n        for (Analyzer a : results)\n          {\n            outs.print(a.musicData.getComposer()+\"\\t\"+a.musicData.getFullTitle());\n            for (int mi=0; mi<NUM_MENSURATIONS; mi++)\n              {\n                outs.print(\"\\t\");\n                if (a.avgRhythmicDensity[mi]>0)\n                  outs.print(String.valueOf(a.avgRhythmicDensity[mi]));\n                else\n                  outs.print(\"-\");\n              }\n            outs.print(\"\\t\"+a.avgSyncopationDensity+\"\\t\"+a.totalUnpreparedSBDiss);\n            outs.print(\"\\t\"+a.passingSMDissDensity+\"\\t\"+a.offbeatMDissDensity);\n            outs.println();\n          }\n        if (!screenoutput)\n          outs.close();\n      }\n    catch (Exception e)\n      {\n        System.err.println(\"Error: \"+e);\n        e.printStackTrace();\n      }*/\n    /*------------------------------------------------------------------------\nMethod:  String parseCmdLine(String args[])\nPurpose: Parse command line\nParameters:\n  Input:  String args[] - program arguments\n  Output: -\n  Return: filename (or \"*\" if recursive with no filename specified)\n------------------------------------------------------------------------*/\n    static parseCmdLine(args) {\n        let fn = null;\n        if (args.length < 1)\n            Analyzer.usage_exit();\n        for (let i = 0; i < args.length; i++)\n            if (args[i].charAt(0) == \"-\")\n                for (let opti = 1; opti < args[i].length; opti++)\n                    switch (args[i].charAt(opti)) {\n                        case \"s\":\n                            {\n                                Analyzer.screenoutput = true;\n                                break;\n                            }\n                        case \"r\":\n                            {\n                                Analyzer.recursive = true;\n                                break;\n                            }\n                        default:\n                            {\n                                Analyzer.usage_exit();\n                            }\n                    }\n            else if (i != ((args.length - 1) | 0))\n                Analyzer.usage_exit();\n            else\n                fn = args[i];\n        if (fn == null)\n            if (Analyzer.recursive)\n                fn = \"*\";\n            else\n                Analyzer.usage_exit();\n        return \"data\\\\music\\\\\" + fn;\n    }\n    /* options */\n    /* filename */\n    /*------------------------------------------------------------------------\nMethod:  void usage_exit()\nPurpose: Exit for invalid command line\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static usage_exit() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Usage: java Util.Analyzer [options] filename\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"Options:\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"  -s: Screen output\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(\"  -r: Recursively search subdirectories\");\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.exit(1);\n    }\n    static renderSections(musicData, options) {\n        let startX = 0;\n        let numVoices = musicData.getVoiceData().length;\n        let sectionParams = Array(numVoices);\n        for (let i = 0; i < numVoices; i++)\n            sectionParams[i] = _Gfx_RenderedSectionParams__WEBPACK_IMPORTED_MODULE_12__.RenderedSectionParams.new0();\n        let numSections = musicData.getNumSections();\n        let renderedSections = Array(numSections);\n        let nummeasures = 0;\n        for (let i = 0; i < numSections; i++) {\n            renderedSections[i] = new _Gfx_ScoreRenderer__WEBPACK_IMPORTED_MODULE_13__.ScoreRenderer(i, musicData.getSection(i), musicData, sectionParams, options, nummeasures, startX);\n            sectionParams = renderedSections[i].getEndingParams();\n            nummeasures += renderedSections[i].getNumMeasures();\n            startX += renderedSections[i].getXsize() + Analyzer.SECTION_END_SPACING;\n        }\n        return renderedSections;\n    }\n    /* initialize voice parameters */\n    /* initialize sections */\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nConstructor: Analyzer(PieceData musicData,ScoreRenderer renderedSections[])\nPurpose:     Initialize analysis functions for one score\nParameters:\n  Input:  PieceData musicData              - original music data\n          ScoreRenderer renderedSections[] - scored+rendered music data\n  Output: -\n------------------------------------------------------------------------*/\n    constructor(musicData, renderedSections) {\n        this.totalUnpreparedSBDiss = 0;\n        this.totalPassingDissSMPair = 0;\n        this.totalOffbeatDissM = 0;\n        this.avgSyncopationDensity = 0;\n        this.OCLength = 0;\n        this.passingSMDissDensity = 0;\n        this.offbeatMDissDensity = 0;\n        this.dissDensity = 0;\n        this.musicData = musicData;\n        this.renderedSections = renderedSections;\n        this.numVoices = musicData.getVoiceData().length;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void printGeneralAnalysis(PrintStream outp)\nPurpose: Print generic score analysis\nParameters:\n  Input:  -\n  Output: PrintStream outp - output destination\n  Return: -\n------------------------------------------------------------------------*/\n    printGeneralAnalysis(outp) {\n        outp.println(\"General analysis: \" + this.musicData.getComposer() + \", \" + this.musicData.getFullTitle());\n        outp.println();\n        outp.println(\"Number of voices: \" + this.numVoices);\n        outp.println(\"Number of sections: \" + this.renderedSections.length);\n        outp.println();\n        this.vad = Array(this.numVoices);\n        for (let i = 0; i < this.numVoices; i++) {\n            this.vad[i] = new VoiceAnalysisData();\n            this.vad[i].vData = this.musicData.getVoiceData()[i];\n        }\n        this.totalUnpreparedSBDiss = 0;\n        this.totalPassingDissSMPair = 0;\n        for (let s of this.renderedSections) {\n            for (let i = 0; i < s.getNumVoices(); i++) {\n                let curMens = Analyzer.MENS_C;\n                let curProp = _DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_9__.Proportion.new1(_DataStruct_Proportion__WEBPACK_IMPORTED_MODULE_9__.Proportion.EQUALITY);\n                let curPropVal = curProp.toDouble();\n                let curMensStartTime = 0;\n                let rl = s.getRenderedVoice(i);\n                if (rl == null)\n                    break;\n                let vnum = -1;\n                for (let i1 = 0; i1 < this.numVoices; i1++)\n                    if (rl.getVoiceData() == this.vad[i1].vData)\n                        vnum = i1;\n                let ne = null;\n                let rne = null;\n                let renum = 0;\n                for (let re of rl) {\n                    switch (re.getEvent_1().geteventtype()) {\n                        case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_NOTE:\n                            {\n                                ne = re.getEvent_1();\n                                rne = re;\n                                this.vad[i].numNotes[curMens]++;\n                                this.vad[i].totalNumNotes++;\n                                this.vad[i].totalNoteLengths[curMens] += ne.getmusictime().toDouble() * curPropVal;\n                                if (ne.getPitch_1().isLowerThan(this.vad[i].lowestPitch))\n                                    this.vad[i].lowestPitch = ne.getPitch_1();\n                                if (ne.getPitch_1().isHigherThan(this.vad[i].highestPitch))\n                                    this.vad[i].highestPitch = ne.getPitch_1();\n                                if (curMens != Analyzer.MENS_3 && curMens != Analyzer.MENS_P) {\n                                    this.vad[i].numNotesOC++;\n                                    if (this.syncopated(s, re))\n                                        this.vad[i].totalOffbeat++;\n                                    if (this.isUnpreparedSuspension(s, re)) {\n                                        this.totalUnpreparedSBDiss++;\n                                        outp.println(\"Unprepared SB/M dissonance in m. \" + (((re.getmeasurenum() + 1) | 0)));\n                                    }\n                                    if (this.isPassingDissonantSMPair(s, i, renum))\n                                        this.totalPassingDissSMPair++;\n                                    if (this.isOffbeatDissonantM(s, re))\n                                        this.totalOffbeatDissM++;\n                                }\n                                break;\n                            }\n                        case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_MULTIEVENT:\n                            {\n                                let m = re.getEvent_1().getMensInfo_1();\n                                if (m != null)\n                                    curMens = this.getMensType(m);\n                                break;\n                            }\n                        case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_MENS:\n                            {\n                                this.vad[i].totalPassageLengths[curMens] += re.getmusictime().toDouble() - curMensStartTime;\n                                curMensStartTime = re.getmusictime().toDouble();\n                                curMens = this.getMensType(re.getEvent_1().getMensInfo_1());\n                                if (curMens == Analyzer.MENS_O && re.getEvent_1().getSigns().size() > 1 || re.getEvent_1().getMainSign().signType == _DataStruct_MensSignElement__WEBPACK_IMPORTED_MODULE_5__.MensSignElement.NUMBERS)\n                                    curMens = Analyzer.MENS_3;\n                                break;\n                            }\n                        case _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_PROPORTION:\n                            {\n                                curProp.multiply_2(re.getEvent_1().getproportion());\n                                curPropVal = curProp.toDouble();\n                                break;\n                            }\n                    }\n                    renum++;\n                }\n                if (ne != null) {\n                    this.vad[i].numNotes[curMens]--;\n                    this.vad[i].totalNumNotes--;\n                    this.vad[i].totalNoteLengths[curMens] -= ne.getmusictime().toDouble() * curPropVal;\n                    this.vad[i].totalPassageLengths[curMens] += rne.getmusictime().toDouble() - curMensStartTime;\n                }\n            }\n        }\n        if (this.totalUnpreparedSBDiss > 0)\n            outp.println();\n        for (let i = 0; i < this.numVoices; i++) {\n            outp.println(\"Voice \" + (((i + 1) | 0)) + \": \" + this.musicData.getVoiceData()[i].getName());\n            outp.println(\"  Range: \" + this.vad[i].lowestPitch + \" - \" + this.vad[i].highestPitch);\n            for (let mi = 0; mi < Analyzer.NUM_MENSURATIONS; mi++)\n                if (this.vad[i].numNotes[mi] != 0) {\n                    outp.println(\"  Mensuration type: \" + Analyzer.MENSURATION_NAMES[mi]);\n                    outp.println(\"    Number of notes (not including final): \" + this.vad[i].numNotes[mi]);\n                    outp.println(\"    Total note lengths: \" + this.vad[i].totalNoteLengths[mi]);\n                    this.vad[i].rhythmicDensity[mi] = this.vad[i].totalNoteLengths[mi] / this.vad[i].numNotes[mi];\n                    outp.println(\"    Rhythmic density: \" + this.vad[i].rhythmicDensity[mi]);\n                }\n            this.vad[i].syncopationDensity = this.vad[i].totalOffbeat / this.vad[i].numNotesOC;\n            outp.println(\"  Number of syncopated notes: \" + this.vad[i].totalOffbeat);\n            outp.println(\"  Syncopation density: \" + this.vad[i].syncopationDensity);\n            outp.println();\n        }\n        this.avgRhythmicDensity = [0, 0, 0, 0];\n        outp.println();\n        outp.println(\"Averages for highest \" + Analyzer.NUMVOICES_FOR_RHYTHM_AVG + \" voices\");\n        for (let i = 0; i < this.numVoices && i < Analyzer.NUMVOICES_FOR_RHYTHM_AVG; i++)\n            for (let mi = 0; mi < Analyzer.NUM_MENSURATIONS; mi++)\n                if (this.vad[i].numNotes[mi] > 0)\n                    this.avgRhythmicDensity[mi] += this.vad[i].rhythmicDensity[mi] / 2;\n        for (let mi = 0; mi < Analyzer.NUM_MENSURATIONS; mi++) {\n            if (this.numVoices > ((Analyzer.NUMVOICES_FOR_RHYTHM_AVG - 1) | 0))\n                this.avgRhythmicDensity[mi] /= Analyzer.NUMVOICES_FOR_RHYTHM_AVG;\n            if (this.avgRhythmicDensity[mi] > 0)\n                outp.println(\"  Rhythmic density in SB (\" + Analyzer.MENSURATION_NAMES[mi] + \"): \" + this.avgRhythmicDensity[mi]);\n        }\n        this.avgSyncopationDensity = 0;\n        for (let i = 0; i < this.numVoices && i < Analyzer.NUMVOICES_FOR_RHYTHM_AVG; i++)\n            this.avgSyncopationDensity += this.vad[i].syncopationDensity;\n        if (this.numVoices > ((Analyzer.NUMVOICES_FOR_RHYTHM_AVG - 1) | 0))\n            this.avgSyncopationDensity /= Analyzer.NUMVOICES_FOR_RHYTHM_AVG;\n        outp.println(\"  Syncopation density: \" + this.avgSyncopationDensity);\n        if (this.totalUnpreparedSBDiss > 0)\n            outp.println(\"Number of unprepared syncopated SB/M dissonances: \" + this.totalUnpreparedSBDiss);\n        outp.println(\"Number of passing dissonant SM pairs: \" + this.totalPassingDissSMPair);\n        outp.println(\"Number of dissonant offbeat Ms: \" + this.totalOffbeatDissM);\n        let avgMensLengths = [0, 0, 0, 0];\n        for (let i = 0; i < this.numVoices; i++)\n            for (let mi = 0; mi < Analyzer.NUM_MENSURATIONS; mi++)\n                avgMensLengths[mi] += this.vad[i].totalPassageLengths[mi];\n        for (let mi = 0; mi < Analyzer.NUM_MENSURATIONS; mi++)\n            avgMensLengths[mi] /= this.numVoices;\n        this.OCLength = (((avgMensLengths[Analyzer.MENS_O] + avgMensLengths[Analyzer.MENS_C]) / 2) | 0);\n        this.passingSMDissDensity = this.totalPassingDissSMPair / this.OCLength;\n        this.offbeatMDissDensity = this.totalOffbeatDissM / this.OCLength;\n        this.dissDensity = (((this.totalPassingDissSMPair + this.totalOffbeatDissM) | 0)) / this.OCLength;\n        outp.println(\"Total length of O/C sections: \" + this.OCLength);\n        outp.println(\"Passing dissonant SM pair density: \" + this.passingSMDissDensity);\n        outp.println(\"Offbeat dissonant M density: \" + this.offbeatMDissDensity);\n    }\n    // to be implemented\n    /* discount final longa */\n    /* averages of the top two voices */\n    // for SB, not minims\n    /* in SB */\n    //    outp.println(\"Basic dissonance density: \"+dissDensity);\n    getMensType(m) {\n        if (m.prolatio == _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_6__.Mensuration.MENS_TERNARY)\n            return Analyzer.MENS_P;\n        if (m.tempus == _DataStruct_Mensuration__WEBPACK_IMPORTED_MODULE_6__.Mensuration.MENS_TERNARY)\n            return Analyzer.MENS_O;\n        return Analyzer.MENS_C;\n    }\n    isUnpreparedSuspension(s, re) {\n        let measure = s.getMeasure(re.getmeasurenum());\n        let mt = re.getmusictime().toDouble();\n        let measurePos = mt - measure.startMusicTime.toDouble();\n        let len = re.getEvent_1().getLength_1().toDouble();\n        let ne = re.getEvent_1();\n        if (re.getmusictime().i2 % 3 == 0)\n            return false;\n        if (len < 1)\n            return false;\n        if (len >= 2 && measurePos % 2 == 0)\n            return false;\n        if (len >= 1 && len < 2 && (measurePos - measurePos) <= 0)\n            return false;\n        let p = ne.getPitch_1();\n        let rs = re.getFullSonority();\n        for (let i = 0; i < rs.getNumPitches(); i++)\n            if (this.isDissonant(p, rs.getPitch(i), i == 0) && rs.getRenderedNote(i).getmusictime().toDouble() < mt)\n                return true;\n        return false;\n    }\n    /* avoid sesquialtera/tripla */\n    isPassingDissonantSMPair(s, vnum, renum) {\n        let re = s.eventinfo[vnum].getEvent(renum);\n        let measure = s.getMeasure(re.getmeasurenum());\n        let mt = re.getmusictime().toDouble();\n        let measurePos = mt - measure.startMusicTime.toDouble();\n        let ne = re.getEvent_1();\n        if (ne.getnotetype_1() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_7__.NoteEvent.NT_Semiminima || (measurePos - measurePos) > 0 || measurePos % 2 == 0)\n            return false;\n        let nextNote = s.getNeighboringEventOfType(_DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_NOTE, vnum, ((renum + 1) | 0), 1);\n        if (nextNote == null || nextNote.getmusictime().toDouble() > mt + 0.5)\n            return false;\n        let e = nextNote.getEvent_1();\n        let ne2 = e.geteventtype() == _DataStruct_Event__WEBPACK_IMPORTED_MODULE_4__.Event.EVENT_MULTIEVENT ? e.getLowestNote() : e;\n        if (ne2.getnotetype_1() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_7__.NoteEvent.NT_Semiminima)\n            return false;\n        let p = ne.getPitch_1();\n        let rs = re.getFullSonority();\n        for (let i = 0; i < rs.getNumPitches(); i++)\n            if (this.isDissonant(p, rs.getPitch(i), i == 0))\n                return true;\n        return false;\n    }\n    /* check next note */\n    /* check for dissonance */\n    isOffbeatDissonantM(s, re) {\n        let measure = s.getMeasure(re.getmeasurenum());\n        let mt = re.getmusictime().toDouble();\n        let measurePos = mt - measure.startMusicTime.toDouble();\n        let len = re.getEvent_1().getLength_1().toDouble();\n        let ne = re.getEvent_1();\n        if (ne.getnotetype_1() != _DataStruct_NoteEvent__WEBPACK_IMPORTED_MODULE_7__.NoteEvent.NT_Minima || (measurePos - measurePos) > 0 || measurePos % 2 == 0)\n            return false;\n        if (len > 1)\n            return false;\n        let p = ne.getPitch_1();\n        let rs = re.getFullSonority();\n        for (let i = 0; i < rs.getNumPitches(); i++)\n            if (this.isDissonant(p, rs.getPitch(i), i == 0) && rs.getRenderedNote(i).getmusictime().toDouble() < mt)\n                return true;\n        return false;\n    }\n    isDissonant(p1, p2, bassInterval) {\n        let interval = this.getAbsInterval(p1, p2);\n        if (interval == 2 || interval == 7 || (bassInterval && interval == 4))\n            return true;\n        return false;\n    }\n    getAbsInterval(p1, p2) {\n        return ((_java_lang_Math__WEBPACK_IMPORTED_MODULE_2__.Math.abs(((p1.placenum - p2.placenum) | 0)) % 7 + 1) | 0);\n    }\n    syncopated(s, re) {\n        let measure = s.getMeasure(re.getmeasurenum());\n        let mt = re.getmusictime().toDouble();\n        let measurePos = mt - measure.startMusicTime.toDouble();\n        let len = re.getEvent_1().getLength_1().toDouble();\n        if (re.getmusictime().i2 % 3 == 0)\n            return false;\n        if (len <= 0.5)\n            return false;\n        if (len <= 1 && measurePos - measurePos > 0)\n            return true;\n        if (len > 1 && (measurePos - measurePos > 0 || measurePos % 2 != 0))\n            return true;\n        return false;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\n/* for standalone application use */\nAnalyzer.screenoutput = false;\nAnalyzer.recursive = false;\nAnalyzer.BaseDataDir = \"/data/\";\nAnalyzer.NUM_MENSURATIONS = 4;\nAnalyzer.MENS_O = 0;\nAnalyzer.MENS_C = 1;\nAnalyzer.MENS_3 = 2;\nAnalyzer.MENS_P = 3;\nAnalyzer.MENSURATION_NAMES = [\"O\", \"C\", \"3\", \"P\"];\nAnalyzer.NUMVOICES_FOR_RHYTHM_AVG = 2;\n/*------------------------------------------------------------------------\nMethod:  ScoreRenderer[] void renderSections()\nPurpose: Pre-render all sections of one piece\nParameters:\nInput:  -\nOutput: -\nReturn: rendered section array\n------------------------------------------------------------------------*/\nAnalyzer.SECTION_END_SPACING = 10;\n/* avoid sesquialtera/tripla */\n/* no SM or smaller */\n/*------------------------------------------------------------------------\nClass:   VoiceAnalysisData\nExtends: -\nPurpose: Analysis parameters for one voice\n------------------------------------------------------------------------*/\nclass VoiceAnalysisData {\n    constructor() {\n        this.vData = null;\n        this.numNotes = [0, 0, 0, 0];\n        this.totalNumNotes = 0;\n        this.numNotesOC = 0;\n        this.totalNoteLengths = [0, 0, 0, 0];\n        this.rhythmicDensity = [0, 0, 0, 0];\n        this.totalPassageLengths = [0, 0, 0, 0];\n        this.lowestPitch = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_8__.Pitch.HIGHEST_PITCH;\n        this.highestPitch = _DataStruct_Pitch__WEBPACK_IMPORTED_MODULE_8__.Pitch.LOWEST_PITCH;\n        this.totalOffbeat = 0;\n        this.syncopationDensity = 0;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Util/Analyzer.ts?");

/***/ }),

/***/ "./src/Util/AppContext.ts":
/*!********************************!*\
  !*** ./src/Util/AppContext.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AppContext: () => (/* binding */ AppContext)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../java/net/URL */ \"./src/java/net/URL.ts\");\n/* harmony import */ var _java_net_MalformedURLException__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../java/net/MalformedURLException */ \"./src/java/net/MalformedURLException.ts\");\n/* harmony import */ var _java_net_URISyntaxException__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../java/net/URISyntaxException */ \"./src/java/net/URISyntaxException.ts\");\n\n\n\n\n\nclass AppContext {\n    /*\n   * Calculates data directories depending on context\n   *\n   * @param aContext - applet for context info\n   * @param local - whether to get data from local file system or net\n   * @param inApplet - whether the context is a real or simulated applet\n   */\n    static setBaseDataLocations(aContext, local, inApplet) {\n        if (inApplet)\n            AppContext.BaseDataDomain = aContext.getDocumentBase().getHost();\n        else\n            AppContext.BaseDataDomain = AppContext.NetBaseDataDomain;\n        if (local) {\n            AppContext.BaseDataDir = AppContext.getBaseAppPath() + AppContext.BaseDataRelativeDir;\n            AppContext.BaseDataURL = AppContext.BaseDataDir;\n        }\n        else\n            AppContext.BaseDataURL = AppContext.BaseDataDomain + AppContext.BaseDataRelativeDir;\n    }\n    /*\"file:///\"+*/\n    /*\"http://\"+*/\n    /*\n   * Returns path to base running directory.\n   * JAR path stuff horked from the internet\n   *\n   * @param o - object to use for getting base path\n   * @return string with base path\n   */\n    static getBaseAppPath() {\n        let JARurl = \"\";\n        try {\n            let dir = new _java_io_File__WEBPACK_IMPORTED_MODULE_1__.File(new _java_net_URL__WEBPACK_IMPORTED_MODULE_2__.URL(JARurl).toURI());\n            JARurl = dir.getAbsolutePath();\n        }\n        catch (e) {\n            if (e instanceof _java_net_MalformedURLException__WEBPACK_IMPORTED_MODULE_3__.MalformedURLException) {\n                JARurl = null;\n            }\n            else if (e instanceof _java_net_URISyntaxException__WEBPACK_IMPORTED_MODULE_4__.URISyntaxException) {\n                JARurl = null;\n            }\n            else\n                throw e;\n        }\n        let DIRurl = null;\n        try {\n            DIRurl = new _java_io_File__WEBPACK_IMPORTED_MODULE_1__.File(\".\").getCanonicalPath();\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                DIRurl = null;\n            }\n            else\n                throw e;\n        }\n        return JARurl == null ? DIRurl : JARurl;\n    }\n}\nAppContext.CMME_OPT_TESTING = false;\nAppContext.CMME_OPT_VALIDATEXML = false;\nAppContext.NetBaseDataDomain = AppContext.CMME_OPT_TESTING ? \"test2.cmme.org\" : \"www.cmme.org\";\nAppContext.BaseDataRelativeDir = \"data/\";\n\n\n//# sourceURL=webpack://cmme/./src/Util/AppContext.ts?");

/***/ }),

/***/ "./src/Util/GlobalConfig.ts":
/*!**********************************!*\
  !*** ./src/Util/GlobalConfig.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalConfig: () => (/* binding */ GlobalConfig)\n/* harmony export */ });\n/* harmony import */ var _AppContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AppContext */ \"./src/Util/AppContext.ts\");\n/* harmony import */ var _java_util_HashMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/util/HashMap */ \"./src/java/util/HashMap.ts\");\n\n\nclass GlobalConfig {\n    /*----------------------------------------------------------------------*/\n    /* Class variables/methods */\n    static get(key) {\n        return GlobalConfig.getConfigMap().getVal(key);\n    }\n    static getConfigMap() {\n        if (GlobalConfig.configMap == null)\n            GlobalConfig.configMap = new GlobalConfig(_AppContext__WEBPACK_IMPORTED_MODULE_0__.AppContext.BaseDataURL + GlobalConfig.CONFIG_LOC);\n        return GlobalConfig.configMap;\n    }\n    constructor(configLoc) {\n        this.config = this.readConfigFromFile(configLoc);\n    }\n    getVal(key) {\n        return this.config.get(key);\n    }\n    readConfigFromFile(configLoc) {\n        let configDoc;\n        let cmap = new _java_util_HashMap__WEBPACK_IMPORTED_MODULE_1__.HashMap();\n        return cmap;\n    }\n    /*  try\n      {\n        configDoc = XMLReader.getNonValidatingParser().build(new URL(configLoc));\n      }\n    catch (Exception e)\n      {\n        System.err.println(\"Exception loading config file: \" + e);\n        return cmap;\n      }\n\n    readConfigTree(configDoc.getRootElement(), cmap, \"\", true);*/\n    //CHANGE\n    /* inserts entries with slash-separated keys into cmap, e.g., \"MIDI/BPM\"=\"80\" */\n    readConfigTree(el, cmap, mapNS, root) {\n        let k = el.getName();\n        let childNS;\n        let children = el.getChildren_3();\n        if (!children.isEmpty()) {\n            childNS = root ? \"\" : mapNS + k + \"/\";\n            for (let child of children)\n                this.readConfigTree(child, cmap, childNS, false);\n        }\n        else\n            cmap.put(mapNS + k, el.getText());\n    }\n}\n/* lazy-load config */\nGlobalConfig.CONFIG_LOC = \"config/cmme-config.xml\";\nGlobalConfig.configMap = null;\n\n\n//# sourceURL=webpack://cmme/./src/Util/GlobalConfig.ts?");

/***/ }),

/***/ "./src/Util/Resources.ts":
/*!*******************************!*\
  !*** ./src/Util/Resources.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Resources: () => (/* binding */ Resources)\n/* harmony export */ });\n/* harmony import */ var _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/RuntimeException */ \"./src/java/lang/RuntimeException.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/net/URL */ \"./src/java/net/URL.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\nclass Resources {\n    static getResource(s) {\n        s = s.toLowerCase();\n        var u = new _java_net_URL__WEBPACK_IMPORTED_MODULE_1__.URL(s);\n        u._content = Resources.map.get(s);\n        return u;\n    }\n    static ensureResource(url) {\n        url._content = Resources.map.get(url.getFile().toLowerCase());\n        return url;\n    }\n    static getResourceAsStream(s) {\n        s = s.toLowerCase();\n        throw new _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_0__.RuntimeException();\n    }\n    static bootResourceImage(file) {\n        const img = new Image();\n        const promise = new Promise((resolve, reject) => {\n            img.onload = () => {\n                this.map.set(file.toLowerCase(), img);\n                resolve();\n            };\n            img.onerror = () => reject(new Error(`Failed to load image: ${file}`));\n        });\n        img.src = file;\n        return promise;\n    }\n    static bootResourceFileString(file) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                var _a;\n                const fileContent = (_a = event.target) === null || _a === void 0 ? void 0 : _a.result; // The content of the file as a string\n                this.map.set(file.name, fileContent);\n                resolve(); // Resolve the Promise with the content\n            };\n            // Set up the onerror event handler to handle any errors that occur while reading the file\n            reader.onerror = function (event) {\n                reject(new Error(\"Error reading file\")); // Reject the Promise with an error\n            };\n            // Read the file as a string (text)\n            reader.readAsText(file);\n        });\n    }\n    static bootResourceString(file) {\n        return fetch(file)\n            .then(response => {\n            if (!response.ok) {\n                throw new Error(`Failed to load text: ${file}`);\n            }\n            return response.text();\n        })\n            .then(text => {\n            this.map.set(file.toLowerCase(), text);\n        });\n    }\n    static boot() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const arrPromises = [];\n            for (var i = 0; i < files.length; i++) {\n                var file = files[i]; //.toLowerCase();\n                if (file.endsWith(\".xml\"))\n                    arrPromises.push(Resources.bootResourceString(file));\n                else if (file.endsWith(\".gif\"))\n                    arrPromises.push(Resources.bootResourceImage(file));\n                //  else\n                //     debugger;\n            }\n            yield Promise.all(arrPromises);\n        });\n    }\n}\nResources.map = new Map();\nvar files = [\n    \"Missa-Mort-et-Merci_01kyrie.cmme.xml\",\n    \"data/imgs/buttonbg-dark.gif\",\n    \"data/imgs/buttonbg-light.gif\",\n    \"data/imgs/clef-buttonBmol1a.gif\",\n    \"data/imgs/clef-buttonBmol1a.psd\",\n    \"data/imgs/clef-buttonBqua1a.gif\",\n    \"data/imgs/clef-buttonBqua1a.psd\",\n    \"data/imgs/clef-buttonC1a.gif\",\n    \"data/imgs/clef-buttonC1a.psd\",\n    \"data/imgs/clef-buttonDiesis1a.gif\",\n    \"data/imgs/clef-buttonDiesis1a.psd\",\n    \"data/imgs/clef-buttonF1a.gif\",\n    \"data/imgs/clef-buttonF1a.psd\",\n    \"data/imgs/clef-buttonFrnd1a.psd\",\n    \"data/imgs/clef-buttonG1a.gif\",\n    \"data/imgs/clef-buttonG1a.psd\",\n    \"data/imgs/clef-buttonMODERNFLAT1a.gif\",\n    \"data/imgs/clef-buttonMODERNFLAT1a.psd\",\n    \"data/imgs/clef-buttonMODERNG1a.gif\",\n    \"data/imgs/clef-buttonMODERNG1a.psd\",\n    \"data/imgs/clef-buttonMODERNnotea.gif\",\n    \"data/imgs/clef-buttonMODERNnotea.psd\",\n    \"data/imgs/edacc-button.gif\",\n    \"data/imgs/edacc-button.psdv\",\n    \"data/imgs/icon1.gif\",\n    \"data/imgs/icon1.psd\",\n    \"data/imgs/icon2.ico\",\n    \"data/imgs/icon2.psd\",\n    \"data/imgs/mens-button2.gif\",\n    \"data/imgs/mens-button2.psd\",\n    \"data/imgs/mens-button3.gif\",\n    \"data/imgs/mens-button3.psd\",\n    \"data/imgs/mens-buttonC.gif\",\n    \"data/imgs/mens-buttonC.psd\",\n    \"data/imgs/mens-buttonDot.gif\",\n    \"data/imgs/mens-buttonDot.psd\",\n    \"data/imgs/mens-buttonO.gif\",\n    \"data/imgs/mens-buttonO.psd\",\n    \"data/imgs/mens-buttonStroke.gif\",\n    \"data/imgs/mens-buttonStroke.psd\",\n    \"data/imgs/misc-buttonDot.gif\",\n    \"data/imgs/misc-buttonDot.psd\",\n    \"data/imgs/misc-buttonDotDiv.gif\",\n    \"data/imgs/misc-buttonDotDiv.psd\",\n    \"data/imgs/noteval-button1a-dark.gif\",\n    \"data/imgs/noteval-button1a.gif\",\n    \"data/imgs/noteval-button1a.psd\",\n    \"data/imgs/noteval-button2a-dark.gif\",\n    \"data/imgs/noteval-button2a.gif\",\n    \"data/imgs/noteval-button2a.psd\",\n    \"data/imgs/noteval-button3a-dark.gif\",\n    \"data/imgs/noteval-button3a.gif\",\n    \"data/imgs/noteval-button3a.psd\",\n    \"data/imgs/noteval-button4a-dark.gif\",\n    \"data/imgs/noteval-button4a.gif\",\n    \"data/imgs/noteval-button4a.psd\",\n    \"data/imgs/noteval-button5a-dark.gif\",\n    \"data/imgs/noteval-button5a.gif\",\n    \"data/imgs/noteval-button5a.psd\",\n    \"data/imgs/noteval-button6a-dark.gif\",\n    \"data/imgs/noteval-button6a.gif\",\n    \"data/imgs/noteval-button6a.psd\",\n    \"data/imgs/noteval-button6aa.psd\",\n    \"data/imgs/noteval-button6b-dark.gif\",\n    \"data/imgs/noteval-button6b.gif\",\n    \"data/imgs/noteval-button6b.psd\",\n    \"data/imgs/noteval-button7a-dark.gif\",\n    \"data/imgs/noteval-button7a.gif\",\n    \"data/imgs/noteval-button7a.psd\",\n    \"data/imgs/noteval-button8a-dark.gif\",\n    \"data/imgs/noteval-button8a.gif\",\n    \"data/imgs/noteval-button8a.psd\",\n    \"data/imgs/noteval-buttonMODERNa.gif\",\n    \"data/imgs/noteval-buttonMODERNa.psd\",\n    \"data/imgs/noteval-buttonORIGa.gif\",\n    \"data/imgs/noteval-buttonORIGa.psd\",\n    \"data/imgs/restval-button1a-dark.gif\",\n    \"data/imgs/restval-button1a.gif\",\n    \"data/imgs/restval-button1a.psd\",\n    \"data/imgs/restval-button2a-dark.gif\",\n    \"data/imgs/restval-button2a.gif\",\n    \"data/imgs/restval-button2a.psd\",\n    \"data/imgs/restval-button3a-dark.gif\",\n    \"data/imgs/restval-button3a.gif\",\n    \"data/imgs/restval-button3a.psd\",\n    \"data/imgs/restval-button4a-dark.gif\",\n    \"data/imgs/restval-button4a.gif\",\n    \"data/imgs/restval-button4a.psd\",\n    \"data/imgs/restval-button5a-dark.gif\",\n    \"data/imgs/restval-button5a.gif\",\n    \"data/imgs/restval-button5a.psd\",\n    \"data/imgs/restval-button6a-dark.gif\",\n    \"data/imgs/restval-button6a.gif\",\n    \"data/imgs/restval-button6a.psd\",\n    \"data/imgs/restval-button7a-dark.gif\",\n    \"data/imgs/restval-button7a.gif\",\n    \"data/imgs/restval-button7a.psd\",\n    \"data/imgs/restval-button8a-dark.gif\",\n    \"data/imgs/restval-button8a.gif\",\n    \"data/imgs/restval-button8a.psd\",\n    \"data/imgs/textmodern-button.gif\",\n    \"data/imgs/textmodern-button.psd\",\n    \"data/imgs/textorig-button.gif\",\n    \"data/imgs/textorig-button.psd\",\n    \"data/imgs/zoomin-button.gif\",\n    \"data/imgs/zoomin-button.psd\",\n    \"data/imgs/zoomout-button.gif\",\n    \"data/imgs/zoomout-button.psd\",\n    \"data/imgs/guiicons/buttonbg-dark.gif\",\n    \"data/imgs/guiicons/buttonbg-light.gif\",\n    \"data/imgs/guiicons/clef-buttonBmol1a.gif\",\n    \"data/imgs/guiicons/clef-buttonC1a.gif\",\n    \"data/imgs/guiicons/clef-buttonMODERNFLAT1a.gif\",\n    \"data/imgs/guiicons/clef-buttonMODERNG1a.gif\",\n    \"data/imgs/guiicons/edacc-button.gif\",\n    \"data/imgs/guiicons/noteval-buttonMODERNa.gif\",\n    \"data/imgs/guiicons/noteval-buttonORIGa.gif\",\n    \"data/imgs/guiicons/textmodern-button.gif\",\n    \"data/imgs/guiicons/textorig-button.gif\",\n    \"data/imgs/guiicons/zoomin-button.gif\",\n    \"data/imgs/guiicons/zoomout-button.gif\"\n];\n\n\n//# sourceURL=webpack://cmme/./src/Util/Resources.ts?");

/***/ }),

/***/ "./src/Viewer/Main.ts":
/*!****************************!*\
  !*** ./src/Viewer/Main.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Main: () => (/* binding */ Main)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_System__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../java/lang/System */ \"./src/java/lang/System.ts\");\n/* harmony import */ var _javax_swing_Timer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../javax/swing/Timer */ \"./src/javax/swing/Timer.ts\");\n/* harmony import */ var _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../javax/swing/JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../javax/swing/Box */ \"./src/javax/swing/Box.ts\");\n/* harmony import */ var _javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../javax/swing/BorderFactory */ \"./src/javax/swing/BorderFactory.ts\");\n/* harmony import */ var _javax_swing_JList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../javax/swing/JList */ \"./src/javax/swing/JList.ts\");\n/* harmony import */ var _javax_swing_JApplet__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../javax/swing/JApplet */ \"./src/javax/swing/JApplet.ts\");\n/* harmony import */ var _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../javax/swing/JFrame */ \"./src/javax/swing/JFrame.ts\");\n/* harmony import */ var _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../javax/swing/JButton */ \"./src/javax/swing/JButton.ts\");\n/* harmony import */ var _javax_swing_SwingUtilities__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../javax/swing/SwingUtilities */ \"./src/javax/swing/SwingUtilities.ts\");\n/* harmony import */ var _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../javax/swing/JScrollPane */ \"./src/javax/swing/JScrollPane.ts\");\n/* harmony import */ var _javax_swing_DefaultListModel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../javax/swing/DefaultListModel */ \"./src/javax/swing/DefaultListModel.ts\");\n/* harmony import */ var _javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../javax/swing/SwingConstants */ \"./src/javax/swing/SwingConstants.ts\");\n/* harmony import */ var _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../javax/swing/JLabel */ \"./src/javax/swing/JLabel.ts\");\n/* harmony import */ var _javax_swing_text_html_parser_ParserDelegator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../javax/swing/text/html/parser/ParserDelegator */ \"./src/javax/swing/text/html/parser/ParserDelegator.ts\");\n/* harmony import */ var _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../java/awt/BorderLayout */ \"./src/java/awt/BorderLayout.ts\");\n/* harmony import */ var _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../java/util/ArrayList */ \"./src/java/util/ArrayList.ts\");\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../DataStruct/CMMEParser */ \"./src/DataStruct/CMMEParser.ts\");\n/* harmony import */ var _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DataStruct/MetaData */ \"./src/DataStruct/MetaData.ts\");\n/* harmony import */ var _Gfx_MessageWin__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../Gfx/MessageWin */ \"./src/Gfx/MessageWin.ts\");\n/* harmony import */ var _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../Gfx/MusicFont */ \"./src/Gfx/MusicFont.ts\");\n/* harmony import */ var _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../Gfx/MusicWin */ \"./src/Gfx/MusicWin.ts\");\n/* harmony import */ var _Util_AppContext__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../Util/AppContext */ \"./src/Util/AppContext.ts\");\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../Util/Resources */ \"./src/Util/Resources.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*------------------------------------------------------------------------\nClass:   Main\nExtends: JApplet\nPurpose: Contains main routines\n------------------------------------------------------------------------*/\n/*------------------------------------------------------------------------\nInner Class: ButtonListener\nImplements:  ActionListener\nPurpose:     Handles button events\n------------------------------------------------------------------------*/\n\nclass ButtonListener {\n    constructor(inner) {\n        this.mytype_ActionListener = true;\n        this.inner = inner;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Instance methods */\n    /*------------------------------------------------------------------------\nMethod:  void actionPerformed(ActionEvent event)\nPurpose: Check for action types on buttons and take appropriate action\nParameters:\nInput:  ActionEvent event - event to handle\nOutput: -\nReturn: -\n------------------------------------------------------------------------*/\n    actionPerformed(event) {\n        let item = event.getSource();\n        if (Main.local && item == this.inner.BrowseButton) {\n            let fn = Main.musicWinFuncs.fileChooseAndOpen();\n            if (fn != null) {\n                fn = (new _java_io_File__WEBPACK_IMPORTED_MODULE_18__.File(fn)).getName();\n                this.inner.insertIntoWindowList(fn);\n            }\n        }\n    }\n}\nclass Main extends _javax_swing_JApplet__WEBPACK_IMPORTED_MODULE_7__.JApplet {\n    constructor() {\n        super(...arguments);\n        this.BrowseButton = null;\n        // ArrayList musicfiles=null;\n        this.curselection = -1;\n    }\n    /*----------------------------------------------------------------------*/\n    /* Class methods */\n    /*------------------------------------------------------------------------\nMethod:  void main(String args[])\nPurpose: Perform initializations as an application\nParameters:\n  Input:  String args[] - program arguments\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static main(args) {\n        Main.inApplet = false;\n        Main.local = true;\n        Main.startingFilenames = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_17__.ArrayList();\n        Main.parsecmdline(args);\n        _javax_swing_SwingUtilities__WEBPACK_IMPORTED_MODULE_10__.SwingUtilities.invokeLater({\n            /* set up GUI to run on swing's event-dispatching thread */\n            run: () => {\n                Main.createAppletFrame();\n            }\n        });\n    }\n    static createAppletFrame() {\n        let appletwin = new ApplicationFrame(\"CMME Applet\");\n        appletwin.setSize(500, 300);\n        appletwin.setVisible(true);\n        Main.theFrame = appletwin;\n    }\n    /*------------------------------------------------------------------------\nMethod:  void parsecmdline(String args[])\nPurpose: Parse command line\nParameters:\n  Input:  String args[] - program arguments\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static parsecmdline(args) {\n        for (let i = 0; i < args.length; i++)\n            if ((args[i] == \"-local\"))\n                Main.local = true;\n            else if (args[i].charAt(0) != \"-\")\n                Main.startingFilenames.add(args[i]);\n            else\n                Main.usageexit();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void usagexit()\nPurpose: Print program usage and exit\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    static usageexit() {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.out.println(\"Usage: java Viewer.Main [-local]\");\n    }\n    /* May 2011: JRE is currently weird about running applets a second time. It calls\n     init() a second time, but retains objects and variables from the previous\n     run. reinit() tries to deal. */\n    reinit() {\n        DTDSetter.resetDefaultDTD();\n        this.layoutAppletFrame();\n        Main.startingFilenames = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_17__.ArrayList();\n        if (Main.inApplet && this.getParameter(\"file\") != null)\n            Main.startingFilenames.add(this.getParameter(\"file\"));\n        for (let fn of Main.startingFilenames)\n            this.openScore(fn);\n    }\n    /* hack: JRE 1.6.0_22 does not re-init ParserDelegator when applet is\n       brought up a second time */\n    realinit() {\n        Main.appletInited = true;\n        Main.parentWin = this;\n        _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_20__.MetaData.CMME_OPT_TESTING = _Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.CMME_OPT_TESTING;\n        _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_20__.MetaData.CMME_OPT_VALIDATEXML = _Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.CMME_OPT_VALIDATEXML;\n        try {\n            _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_23__.MusicWin.setViewerWin(this);\n            _Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.setBaseDataLocations(this, Main.local, Main.inApplet);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.showError(\"Error loading local file locations: \" + e);\n            }\n            else\n                throw e;\n        }\n        _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_23__.MusicWin.initScoreWindowing_1(_Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.BaseDataURL, _Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.BaseDataDir + \"music/\", Main.inApplet);\n        try {\n            _Gfx_MusicFont__WEBPACK_IMPORTED_MODULE_22__.MusicFont.loadmusicface(_Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.BaseDataURL);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                this.showError(\"Error loading font: \" + e);\n                e.printStackTrace();\n            }\n            else\n                throw e;\n        }\n        this.layoutAppletFrame();\n        if (Main.startingFilenames == null)\n            Main.startingFilenames = new _java_util_ArrayList__WEBPACK_IMPORTED_MODULE_17__.ArrayList();\n        if (Main.inApplet && this.getParameter(\"file\") != null)\n            Main.startingFilenames.add(this.getParameter(\"file\"));\n        for (let fn of Main.startingFilenames)\n            if (Main.local)\n                this.openLocalScore(fn);\n            else\n                this.openScore(fn);\n    }\n    /* initialize data locations */\n    /* load XML parser */\n    // XMLReader.initparser(AppContext.BaseDataURL,AppContext.CMME_OPT_VALIDATEXML);\n    /* initialize graphics/score windowing system */\n    /* open initial score file specified in applet parameter */\n    layoutAppletFrame() {\n        this.TitlePanel = new _javax_swing_JPanel__WEBPACK_IMPORTED_MODULE_3__.JPanel();\n        this.TitlePanel.setLayout(new _java_awt_BorderLayout__WEBPACK_IMPORTED_MODULE_16__.BorderLayout());\n        this.TitleLab1 = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_14__.JLabel(Main.TitleText1);\n        this.TitleLab1.setHorizontalAlignment(_javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_13__.SwingConstants.CENTER);\n        this.TitleLab2 = new _javax_swing_JLabel__WEBPACK_IMPORTED_MODULE_14__.JLabel(Main.TitleText2);\n        this.TitleLab2.setHorizontalAlignment(_javax_swing_SwingConstants__WEBPACK_IMPORTED_MODULE_13__.SwingConstants.CENTER);\n        this.TitlePanel.add(this.TitleLab1, \"North\");\n        this.TitlePanel.add(this.TitleLab2, \"South\");\n        this.createWindowListDisplay();\n        this.FileInfoScroller = new _javax_swing_JScrollPane__WEBPACK_IMPORTED_MODULE_11__.JScrollPane(this.WindowListDisplay);\n        let ButtonPane = _javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalBox();\n        ButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalGlue());\n        if (Main.local) {\n            this.BrowseButton = new _javax_swing_JButton__WEBPACK_IMPORTED_MODULE_9__.JButton(\"Browse...\");\n            ButtonPane.add(this.BrowseButton);\n            ButtonPane.add(_javax_swing_Box__WEBPACK_IMPORTED_MODULE_4__.Box.createHorizontalStrut(10));\n        }\n        ButtonPane.setBorder(_javax_swing_BorderFactory__WEBPACK_IMPORTED_MODULE_5__.BorderFactory.createEmptyBorder(10, 10, 10, 10));\n        if (Main.local) {\n            this.bListener = new ButtonListener(this);\n            this.BrowseButton.addActionListener(this.bListener);\n        }\n        let cp = this.getContentPane();\n        cp.add(this.TitlePanel, \"North\");\n        cp.add(this.FileInfoScroller, \"Center\");\n        cp.add(ButtonPane, \"South\");\n        this.addComponentListener({\n            /* lay out applet frame */\n            componentShown: (event) => {\n                if (Main.inApplet)\n                    this.showStatus(Main.StatusStr);\n            }\n        });\n    }\n    /*------------------------------------------------------------------------\nMethod:  void openScore(String filename)\nPurpose: Open new music window for one file - APPLET VERSION\nParameters:\n  Input:  String filename - name of file (local or remote)\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    openLocalScore(filename) {\n    }\n    openScore(filename) {\n        Main.jscriptOpenFilename = filename;\n        let launcher = new _javax_swing_Timer__WEBPACK_IMPORTED_MODULE_2__.Timer(50, Main.jscriptOpenLauncher);\n        launcher.setRepeats(false);\n        launcher.start();\n    }\n    static realOpenScore(filename) {\n        Main.tmpmusicdat = null;\n        let lw = _Gfx_MessageWin__WEBPACK_IMPORTED_MODULE_21__.MessageWin.new0_7(\"Loading, please wait...\", Main.parentWin, true);\n        let fURL = _Util_Resources__WEBPACK_IMPORTED_MODULE_25__.Resources.getResource(\"Missa-Mort-et-Merci_01kyrie.cmme.xml\");\n        Main.tmpmusicdat = _DataStruct_CMMEParser__WEBPACK_IMPORTED_MODULE_19__.CMMEParser.new3(fURL).piece;\n        try {\n            let newWin = _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_23__.MusicWin.new1_6(filename, Main.tmpmusicdat);\n        }\n        catch (e) {\n            if (e instanceof _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception) {\n                Main.parentWin.showError(\"Error creating music window: \" + e);\n                e.printStackTrace();\n            }\n            else\n                throw e;\n        }\n        lw.dispose();\n        Main.parentWin.insertIntoWindowList(filename);\n    }\n    /* load file and create window in separate thread */\n    // final Gfx.SwingWorker ofthread=new Gfx.SwingWorker()\n    // {\n    // public Object construct()\n    // {\n    /* real code */\n    /* use doPrivileged() to allow Javascript-invoked calls to open network connection\n       back to the originating host */\n    //  new Util.ProgressInputStream(fURL.openStream(),\n    //                             lw.getProgressBar(),flen,0,75));\n    // tmpmusicdat=new CMMEParser(zipIn,lw.getProgressBar()).piece;\n    /*java.security.AccessController.doPrivileged(new java.security.PrivilegedAction() //CHANGE\n    {\n    public Object run() {\n    // privileged code goes here:\n\n    // load music data\n    try\n      {\n            URL fURL=new URL(AppContext.BaseDataURL+\"music/\"+filename+\".gz\");\n            int flen=fURL.openConnection().getContentLength();\n            GZIPInputStream zipIn=new GZIPInputStream(\n              new Util.ProgressInputStream(fURL.openStream(),\n                                           lw.getProgressBar(),flen,0,75));\n            tmpmusicdat=new CMMEParser(zipIn,lw.getProgressBar()).piece;\n\n      }\n    catch (Exception e)\n      {\n        JOptionPane.showMessageDialog(parentWin,\n          \"Error loading \"+filename+\"\\n\\n\"+e+\"\\n\\nURL: \"+AppContext.BaseDataURL+\"music/\"+filename+\".gz\",\n          \"Error\",JOptionPane.ERROR_MESSAGE);\n        lw.dispose();\n        if (AppContext.CMME_OPT_TESTING)\n          e.printStackTrace();\n        return null;\n      }\n\n    return null;\n    }\n    });*/\n    /* open music window */\n    //  return null; /* not used */\n    //  }\n    //  }; /* end SwingWorker */\n    //  ofthread.start();\n    /*------------------------------------------------------------------------\nMethod:  void createWindowListDisplay()\nPurpose: Create list for display of currently open score windows\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    createWindowListDisplay() {\n        this.WindowListData = new _javax_swing_DefaultListModel__WEBPACK_IMPORTED_MODULE_12__.DefaultListModel();\n        this.WindowListDisplay = new _javax_swing_JList__WEBPACK_IMPORTED_MODULE_6__.JList(this.WindowListData);\n        this.WindowListDisplay.setSelectionMode(0);\n        this.WindowListDisplay.setLayoutOrientation(_javax_swing_JList__WEBPACK_IMPORTED_MODULE_6__.JList.VERTICAL);\n        this.WindowListDisplay.setVisibleRowCount(-1);\n    }\n    /*ListSelectionModel.SINGLE_SELECTION*/\n    //CHANGE\n    /*------------------------------------------------------------------------\nMethod:  void insertIntoWindowList(String fn)\nPurpose: Add new title to list of open windows\nParameters:\n  Input:  String fn - filename to add\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    insertIntoWindowList(fn) {\n        let insertPos = 0;\n        for (let i = 0; i < this.WindowListData.getSize(); i++) {\n            let curfn = this.WindowListData.getElementAt(i);\n            insertPos = ((i + 1) | 0);\n        }\n        this.WindowListData.insertElementAt(fn, insertPos);\n    }\n    //  if (curfn.compareTo(fn)>0) /* order alphabetically/lexically */\n    //   break;\n    //  else //CHANGE\n    /*------------------------------------------------------------------------\nMethod:  void removeFromWindowList(String fn)\nPurpose: Remove title from list of open windows\nParameters:\n  Input:  String fn - filename to remove\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    removeFromWindowList(fn) {\n        let i = 0;\n        let done = false;\n        while (!done) {\n            let curfn = this.WindowListData.getElementAt(i);\n            if ((curfn == fn)) {\n                this.WindowListData.removeElementAt(i);\n                done = true;\n            }\n            else {\n                i++;\n                done = i >= this.WindowListData.getSize();\n            }\n        }\n    }\n    /*------------------------------------------------------------------------\nMethod:  void init/start()\nPurpose: Perform applet initializations\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    init() {\n        if (!Main.appletInited)\n            this.realinit();\n        else\n            this.reinit();\n    }\n    start() {\n        if (!Main.appletInited)\n            this.realinit();\n    }\n    /*------------------------------------------------------------------------\nMethod:  void exitprog()\nPurpose: Clean up and get out\nParameters:\n  Input:  -\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    exitprog() {\n        this.destroy();\n    }\n    /*      mw.dispose();*/\n    destroy() {\n        _Gfx_MusicWin__WEBPACK_IMPORTED_MODULE_23__.MusicWin.closeAllWindows();\n        if (Main.local)\n            this.BrowseButton.removeActionListener(this.bListener);\n        let cl = this.getListeners(\"ComponentListener\");\n        for (let i = 0; i < cl.length; i++)\n            this.removeComponentListener(cl[i]);\n    }\n    //    Gfx.MusicFont.destroyMusicFace();\n    /*------------------------------------------------------------------------\nMethod:  void showError(String e)\nPurpose: Show error information\nParameters:\n  Input:  String e - error info\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    showError(e) {\n        _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.err.println(e);\n        if (Main.inApplet)\n            this.showStatus(e);\n        Main.StatusStr = e;\n    }\n}\n/*----------------------------------------------------------------------*/\n/* Class variables */\nMain.TitleText1 = _Util_AppContext__WEBPACK_IMPORTED_MODULE_24__.AppContext.CMME_OPT_TESTING ? \"CMME Score Viewer (DEBUGGING VERSION \" + _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_20__.MetaData.CMME_VERSION + \")\" : \"CMME Score Viewer (beta \" + _DataStruct_MetaData__WEBPACK_IMPORTED_MODULE_20__.MetaData.CMME_VERSION + \")\";\nMain.TitleText2 = \"Currently viewing:\";\nMain.StatusStr = \"CMME System loaded\";\nMain.inApplet = true;\nMain.local = false;\nMain.appletInited = false;\n//=new MusicWin();\nMain.startingFilenames = null;\nMain.jscriptOpenLauncher = {\n    actionPerformed: (evt) => {\n        Main.realOpenScore(Main.jscriptOpenFilename);\n    }\n};\n/*------------------------------------------------------------------------\nClass:   ApplicationFrame\nExtends: JFrame\nPurpose: Window for application to simulate applet frame\n------------------------------------------------------------------------*/\nclass ApplicationFrame extends _javax_swing_JFrame__WEBPACK_IMPORTED_MODULE_8__.JFrame {\n    /*------------------------------------------------------------------------\nConstructor: ApplicationFrame(String title)\nPurpose:     Initialize window\nParameters:\n  Input:  String title - window title\n  Output: -\n  Return: -\n------------------------------------------------------------------------*/\n    constructor(title) {\n        super(title);\n        this.mainapplet = new Main();\n        this.mainapplet.start();\n        this.getContentPane().add(this.mainapplet, \"Center\");\n        this.addWindowListener({\n            windowClosing: (event) => {\n                this.dispose();\n                this.mainapplet.exitprog();\n                _java_lang_System__WEBPACK_IMPORTED_MODULE_1__.System.exit(0);\n            }\n        });\n    }\n}\nclass DTDSetter extends _javax_swing_text_html_parser_ParserDelegator__WEBPACK_IMPORTED_MODULE_15__.ParserDelegator {\n    static resetDefaultDTD() {\n        _javax_swing_text_html_parser_ParserDelegator__WEBPACK_IMPORTED_MODULE_15__.ParserDelegator.setDefaultDTD();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/Viewer/Main.ts?");

/***/ }),

/***/ "./src/java/applet/Applet.ts":
/*!***********************************!*\
  !*** ./src/java/applet/Applet.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Applet: () => (/* binding */ Applet)\n/* harmony export */ });\n/* harmony import */ var _net_URL__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/URL */ \"./src/java/net/URL.ts\");\n/* harmony import */ var _awt_Panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../awt/Panel */ \"./src/java/awt/Panel.ts\");\n\n\nclass Applet extends _awt_Panel__WEBPACK_IMPORTED_MODULE_1__.Panel {\n    constructor(tag = undefined, arrClass = undefined) {\n        super(tag === undefined ? \"div\" : tag, arrClass === undefined ? [\"Applet\"] : arrClass.concat(\"Applet\"));\n    }\n    showStatus(arg0) {\n        throw new Error(\"Not Implemented\");\n    }\n    getDocumentBase() {\n        return new _net_URL__WEBPACK_IMPORTED_MODULE_0__.URL(\"\");\n    }\n    getParameter(arg0) {\n        return Applet._mapParams.has(arg0) ? Applet._mapParams.get(arg0) : null;\n    }\n}\nApplet._mapParams = new Map();\n\n\n//# sourceURL=webpack://cmme/./src/java/applet/Applet.ts?");

/***/ }),

/***/ "./src/java/awt/AWTEvent.ts":
/*!**********************************!*\
  !*** ./src/java/awt/AWTEvent.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AWTEvent: () => (/* binding */ AWTEvent)\n/* harmony export */ });\n/* harmony import */ var _util_EventObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/EventObject */ \"./src/java/util/EventObject.ts\");\n\nclass AWTEvent extends _util_EventObject__WEBPACK_IMPORTED_MODULE_0__.EventObject {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/AWTEvent.ts?");

/***/ }),

/***/ "./src/java/awt/AWTKeyStroke.ts":
/*!**************************************!*\
  !*** ./src/java/awt/AWTKeyStroke.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AWTKeyStroke: () => (/* binding */ AWTKeyStroke)\n/* harmony export */ });\nclass AWTKeyStroke {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/AWTKeyStroke.ts?");

/***/ }),

/***/ "./src/java/awt/BorderLayout.ts":
/*!**************************************!*\
  !*** ./src/java/awt/BorderLayout.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BorderLayout: () => (/* binding */ BorderLayout)\n/* harmony export */ });\n/* harmony import */ var _js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js */ \"./src/js.ts\");\n\nclass BorderLayout {\n    constructor() {\n    }\n    layoutContainer(container) {\n        container._getHTMLElement().style.display = \"grid\";\n        container._getHTMLElement().style.height = \"100%\";\n        container._getHTMLElement().style.width = \"100%\";\n        var constraints = container._getConstraints();\n        var components = container.getComponents();\n        const iNorth = constraints.findIndex(x => (0,_js__WEBPACK_IMPORTED_MODULE_0__.isString)(x) && x.toLowerCase() == \"north\");\n        const iSouth = constraints.findIndex(x => (0,_js__WEBPACK_IMPORTED_MODULE_0__.isString)(x) && x.toLowerCase() == \"south\");\n        const iWest = constraints.findIndex(x => (0,_js__WEBPACK_IMPORTED_MODULE_0__.isString)(x) && x.toLowerCase() == \"west\");\n        const iEast = constraints.findIndex(x => (0,_js__WEBPACK_IMPORTED_MODULE_0__.isString)(x) && x.toLowerCase() == \"east\");\n        const iCenter = constraints.findIndex(x => (0,_js__WEBPACK_IMPORTED_MODULE_0__.isString)(x) && x.toLowerCase() == \"center\");\n        const hasNorth = iNorth != -1;\n        const hasSouth = iSouth != -1;\n        const hasWest = iWest != -1;\n        const hasEast = iEast != -1;\n        const hasCenter = iCenter != -1;\n        let rows = [];\n        if (hasNorth)\n            rows.push(\"auto\"); // `North` takes its content height\n        rows.push(\"1fr\"); // `Center` (or just empty space)\n        if (hasSouth)\n            rows.push(\"auto\"); // `South` takes its content height\n        let cols = [];\n        if (hasWest)\n            cols.push(\"auto\"); // `West` takes content width\n        cols.push(\"1fr\"); // `Center` expands\n        if (hasEast)\n            cols.push(\"auto\"); // `East` takes content width\n        container._getHTMLElement().style.gridTemplateRows = rows.join(\" \");\n        container._getHTMLElement().style.gridTemplateColumns = cols.join(\" \");\n        // Add components to grid\n        if (hasNorth) {\n            const northElem = components[iNorth]._getHTMLElement();\n            northElem.style.gridColumn = \"1 / -1\";\n        }\n        if (hasWest) {\n            const westElem = components[iWest]._getHTMLElement();\n            westElem.style.gridRow = \"2\";\n        }\n        if (hasCenter) {\n            const centerElem = components[iCenter]._getHTMLElement();\n            centerElem.style.gridRow = hasNorth ? \"2\" : \"1\";\n            centerElem.style.gridColumn = hasWest ? \"2\" : \"1\";\n        }\n        if (hasEast) {\n            const eastElem = components[iEast]._getHTMLElement();\n            eastElem.style.gridRow = \"2\";\n        }\n        if (hasSouth) {\n            const southElem = components[iSouth]._getHTMLElement();\n            southElem.style.gridColumn = \"1 / -1\";\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/BorderLayout.ts?");

/***/ }),

/***/ "./src/java/awt/Color.ts":
/*!*******************************!*\
  !*** ./src/java/awt/Color.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Color: () => (/* binding */ Color)\n/* harmony export */ });\nclass Color {\n    constructor(a = undefined, b = undefined) {\n        if (a === undefined && b == undefined)\n            this._str = \"black\";\n        else {\n            if (b === undefined) {\n                this._str = a;\n            }\n            else {\n                var rgba = a;\n                var hasalpha = b;\n                const _a = hasalpha ? ((rgba >> 24) & 0xff) / 255 : 1; // Extract alpha and normalize to [0, 1]\n                const _r = (rgba >> 16) & 0xff; // Extract red\n                const _g = (rgba >> 8) & 0xff; // Extract green\n                const _b = rgba & 0xff; // Extract blue\n                // Return the fillStyle string for canvas\n                this._str = `rgba(${_r}, ${_g}, ${_b}, ${_a})`;\n            }\n        }\n        //this._str = str == undefined? \"black\" : str;\n    }\n}\nColor.black = new Color(\"black\");\nColor.red = new Color(\"red\");\nColor.blue = new Color(\"blue\");\nColor.yellow = new Color(\"yellow\");\nColor.cyan = new Color(\"cyan\");\nColor.white = new Color(\"white\");\nColor.WHITE = new Color(\"white\");\nColor.gray = new Color(\"gray\");\nColor.GRAY = new Color(\"gray\");\nColor.green = new Color(\"green\");\nColor.magenta = new Color(\"magenta\");\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Color.ts?");

/***/ }),

/***/ "./src/java/awt/Component.ts":
/*!***********************************!*\
  !*** ./src/java/awt/Component.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Component: () => (/* binding */ Component)\n/* harmony export */ });\n/* harmony import */ var _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event/MouseEvent */ \"./src/java/awt/event/MouseEvent.ts\");\n/* harmony import */ var _event_KeyEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event/KeyEvent */ \"./src/java/awt/event/KeyEvent.ts\");\n/* harmony import */ var _event_FocusEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event/FocusEvent */ \"./src/java/awt/event/FocusEvent.ts\");\n/* harmony import */ var _event_ComponentEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./event/ComponentEvent */ \"./src/java/awt/event/ComponentEvent.ts\");\n/* harmony import */ var _Font__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Point */ \"./src/java/awt/Point.ts\");\n\n\n\n\n\n\n\nclass Component {\n    constructor(tag, arrClass) {\n        this.componentListeners = [];\n        this.keyListeners = [];\n        this.focusListeners = [];\n        this.focusable = false;\n        this._hasFocus = false; // Tracks focus state\n        this.lastWidth = 0;\n        this.lastHeight = 0;\n        this.mouseListeners = [];\n        this.mouseMotionListeners = [];\n        this.isPotentialDrag = false;\n        this.isActualDrag = false;\n        this.element = document.createElement(tag);\n        arrClass.forEach(x => this.element.classList.add(x));\n        this.element.style.position = 'relative';\n        // Focus handling\n        this.element.addEventListener(\"focus\", (event) => this.handleFocusGained(event));\n        this.element.addEventListener(\"blur\", (event) => this.handleFocusLost(event));\n        // Key handling (only fires when focused)\n        this.element.addEventListener(\"keydown\", (event) => this.handleKeyEvent(event, \"keyPressed\"));\n        this.element.addEventListener(\"keyup\", (event) => this.handleKeyEvent(event, \"keyReleased\"));\n    }\n    _getHTMLElement() {\n        return this.element;\n    }\n    addKeyListener(listener) {\n        this.keyListeners.push(listener);\n    }\n    removeKeyListener(listener) {\n        this.keyListeners = this.keyListeners.filter(l => l !== listener);\n    }\n    handleKeyEvent(event, eventType) {\n        if (!this.hasFocus)\n            return; // Ignore if not focused\n        const keyEvent = new _event_KeyEvent__WEBPACK_IMPORTED_MODULE_1__.KeyEvent(this, _event_KeyEvent__WEBPACK_IMPORTED_MODULE_1__.KeyEvent.KEY_PRESSED, 0, 0, event.keyCode, event.key);\n        this.keyListeners.forEach(listener => { var _a, _b; return (_b = (_a = listener)[eventType]) === null || _b === void 0 ? void 0 : _b.call(_a, keyEvent); });\n    }\n    addFocusListener(listener) {\n        this.focusListeners.push(listener);\n    }\n    removeFocusListener(listener) {\n        this.focusListeners = this.focusListeners.filter(l => l !== listener);\n    }\n    handleFocusGained(event) {\n        this._hasFocus = true;\n        const focusEvent = new _event_FocusEvent__WEBPACK_IMPORTED_MODULE_2__.FocusEvent(this);\n        this.focusListeners.forEach(listener => listener.focusGained(focusEvent));\n    }\n    /** Handles focus lost */\n    handleFocusLost(event) {\n        this._hasFocus = false;\n        const focusEvent = new _event_FocusEvent__WEBPACK_IMPORTED_MODULE_2__.FocusEvent(this);\n        this.focusListeners.forEach(listener => listener.focusLost(focusEvent));\n    }\n    setFocusable(focusable) {\n        this.focusable = focusable;\n        this.element.tabIndex = focusable ? 0 : -1;\n    }\n    getFocusable() {\n        return this.focusable;\n    }\n    requestFocus() {\n        if (this.getFocusable()) {\n            this.element.focus();\n            return true;\n        }\n        return false;\n    }\n    hasFocus() {\n        return this._hasFocus;\n    }\n    getLocation() {\n        return new _Point__WEBPACK_IMPORTED_MODULE_6__.Point(this.element.clientLeft, this.element.clientTop);\n    }\n    getSize() {\n        return new _Dimension__WEBPACK_IMPORTED_MODULE_5__.Dimension(this.element.offsetWidth, this.element.offsetHeight);\n    }\n    addComponentListener(listener) {\n        this.componentListeners.push(listener);\n        if (this.componentListeners.length === 1) {\n            this.startObservers();\n        }\n    }\n    removeComponentListener(listener) {\n        this.componentListeners = this.componentListeners.filter(l => l !== listener);\n        if (this.componentListeners.length === 0) {\n            this.stopObservers();\n        }\n    }\n    startObservers() {\n        if (!this.resizeObserver) {\n            this.resizeObserver = new ResizeObserver(() => {\n                const width = this.element.clientWidth;\n                const height = this.element.clientHeight;\n                if (width !== this.lastWidth || height !== this.lastHeight) {\n                    this.fireComponentResized();\n                    this.lastWidth = width;\n                    this.lastHeight = height;\n                }\n            });\n            this.resizeObserver.observe(this.element);\n        }\n        /*\n                if (!this.mutationObserver) {\n                    this.mutationObserver = new MutationObserver(() => {\n                        const newVisibility = this.element.offsetParent !== null;\n                        if (newVisibility !== this.isVisible) {\n                            if (newVisibility) {\n                                this.fireComponentShown();\n                            } else {\n                                this.fireComponentHidden();\n                            }\n                            this.isVisible = newVisibility;\n                        }\n                    });\n        \n                    this.mutationObserver.observe(document.body, { attributes: true, childList: true, subtree: true });\n                }*/\n    }\n    /** Stop observers when no listeners are present */\n    stopObservers() {\n        var _a;\n        (_a = this.resizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this.resizeObserver = undefined;\n        // this.mutationObserver?.disconnect();\n        // this.mutationObserver = undefined;\n    }\n    fireComponentResized() {\n        const event = new _event_ComponentEvent__WEBPACK_IMPORTED_MODULE_3__.ComponentEvent(this);\n        this.componentListeners.forEach(listener => listener.componentResized ? listener.componentResized(event) : undefined);\n    }\n    addMouseListener(listener) {\n        this.mouseListeners.push(listener);\n        if (this.mouseListeners.length + this.mouseMotionListeners.length == 1)\n            this.startMouseListeners();\n    }\n    removeMouseListener(listener) {\n        this.mouseListeners = this.mouseListeners.filter(l => l !== listener);\n        if (this.mouseListeners.length + this.mouseMotionListeners.length == 0)\n            this.stopMouseListeners();\n    }\n    addMouseMotionListener(listener) {\n        this.mouseMotionListeners.push(listener);\n        if (this.mouseListeners.length + this.mouseMotionListeners.length == 1)\n            this.startMouseListeners();\n    }\n    removeMouseMotionListener(listener) {\n        this.mouseMotionListeners = this.mouseMotionListeners.filter(l => l !== listener);\n        if (this.mouseListeners.length + this.mouseMotionListeners.length == 0)\n            this.stopMouseListeners();\n    }\n    startMouseListeners() {\n        this.element.addEventListener(\"mousedown\", (event) => this.handleMouseDown);\n        this.element.addEventListener(\"mouseup\", (event) => this.handleMouseUp);\n        this.element.addEventListener(\"mouseleave\", (event) => this.handleMouseLeave);\n        this.element.addEventListener(\"mouseenter\", (event) => this.handleMouseEnter);\n        this.element.addEventListener(\"mousemove\", (event) => this.handleMouseMove);\n    }\n    /** Stops mouse event listeners */\n    stopMouseListeners() {\n        this.element.removeEventListener(\"mousedown\", (event) => this.handleMouseDown);\n        this.element.removeEventListener(\"mouseup\", (event) => this.handleMouseUp);\n        this.element.removeEventListener(\"mouseleave\", (event) => this.handleMouseLeave);\n        this.element.removeEventListener(\"mouseenter\", (event) => this.handleMouseEnter);\n        this.element.removeEventListener(\"mousemove\", (event) => this.handleMouseMove);\n    }\n    handleMouseEnter(event) {\n        const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_ENTERED, 0, 0, event.clientX, event.clientY, 0, false);\n        this.mouseListeners.forEach(listener => { var _a; return (_a = listener.mouseEntered) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n    }\n    handleMouseLeave(event) {\n        const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_EXITED, 0, 0, event.clientX, event.clientY, 0, false);\n        this.mouseListeners.forEach(listener => { var _a; return (_a = listener.mouseExited) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n    }\n    handleMouseDown(event) {\n        this.isPotentialDrag = true;\n        const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_PRESSED, 0, 0, event.clientX, event.clientY, 0, false);\n        this.mouseListeners.forEach(listener => { var _a; return (_a = listener.mousePressed) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n    }\n    handleMouseUp(event) {\n        const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_RELEASED, 0, 0, event.clientX, event.clientY, 0, false);\n        this.mouseListeners.forEach(listener => { var _a; return (_a = listener.mouseReleased) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n        if (this.isPotentialDrag == false) {\n            const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_CLICKED, 0, 0, event.clientX, event.clientY, 0, false);\n            this.mouseListeners.forEach(listener => { var _a; return (_a = listener.mouseClicked) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n        }\n        this.isPotentialDrag = false;\n        this.isActualDrag = false;\n    }\n    handleMouseMove(event) {\n        if (this.isPotentialDrag)\n            this.isActualDrag = true;\n        if (this.isActualDrag) {\n            const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_DRAGGED, 0, 0, event.clientX, event.clientY, 0, false);\n            this.mouseMotionListeners.forEach(listener => { var _a; return (_a = listener.mouseDragged) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n        }\n        else {\n            const mouseEvent = new _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent(this, _event_MouseEvent__WEBPACK_IMPORTED_MODULE_0__.MouseEvent.MOUSE_MOVED, 0, 0, event.clientX, event.clientY, 0, false);\n            this.mouseMotionListeners.forEach(listener => { var _a; return (_a = listener.mouseMoved) === null || _a === void 0 ? void 0 : _a.call(listener, mouseEvent); });\n        }\n    }\n    ;\n    getFont() {\n        var _a;\n        return (_a = this.font) !== null && _a !== void 0 ? _a : new _Font__WEBPACK_IMPORTED_MODULE_4__.Font(\"Arial\", 0, 12);\n    }\n    repaint(a = undefined, b = undefined, c = undefined, d = undefined) {\n        requestAnimationFrame(() => this.paint());\n    }\n    /** Equivalent to `update(Graphics g)` in AWT */\n    paint() {\n        // Placeholder - JComponent will override this\n    }\n    setVisible(visible) {\n        if (visible == false)\n            this._getHTMLElement().style.display = \"none\";\n    }\n    isVisible() {\n        return true;\n    }\n}\nComponent.LEFT_ALIGNMENT = 0.0;\nComponent.RIGHT_ALIGNMENT = 1; // new\nComponent.CENTER_ALIGNMENT = 2;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Component.ts?");

/***/ }),

/***/ "./src/java/awt/Container.ts":
/*!***********************************!*\
  !*** ./src/java/awt/Container.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Container: () => (/* binding */ Container)\n/* harmony export */ });\n/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js */ \"./src/js.ts\");\n/* harmony import */ var _GridBagConstraints__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n\n\n\nclass Container extends _Component__WEBPACK_IMPORTED_MODULE_0__.Component {\n    constructor(tag, arrClass) {\n        super(tag, arrClass.concat([\"container\"]));\n        this.layout = null;\n        this.children = new Map();\n    }\n    paint() {\n        super.paint();\n        for (var component of this.children.keys())\n            component.repaint();\n    }\n    setLayout(layout) {\n        this.layout = layout;\n        this.layout.layoutContainer(this);\n    }\n    getComponents() {\n        return Array.from(this.children.keys());\n    }\n    _getConstraints() {\n        return Array.from(this.children.values());\n    }\n    add(a, b = undefined, c = undefined) {\n        var comp;\n        var constraints = undefined;\n        var index = 0;\n        if ((0,_js__WEBPACK_IMPORTED_MODULE_1__.isString)(a)) {\n            if (b === undefined)\n                throw new Error();\n            constraints = a;\n            comp = b;\n        }\n        else {\n            comp = a;\n            if (b !== undefined) {\n                if ((0,_js__WEBPACK_IMPORTED_MODULE_1__.isNumber)(b))\n                    index = b;\n                else {\n                    constraints = b;\n                    if (c !== undefined && (0,_js__WEBPACK_IMPORTED_MODULE_1__.isNumber)(c))\n                        index = c;\n                }\n            }\n        }\n        if (constraints instanceof _GridBagConstraints__WEBPACK_IMPORTED_MODULE_2__.GridBagConstraints)\n            constraints = constraints._copy();\n        this.children.set(comp, constraints);\n        this.addImpl(comp, constraints, index);\n        if (this.layout)\n            this.layout.layoutContainer(this);\n        return comp;\n    }\n    addImpl(comp, constraints, index) {\n        this._getHTMLElement().appendChild(comp._getHTMLElement());\n    }\n    removeImpl(component) {\n        this._getHTMLElement().removeChild(component._getHTMLElement());\n    }\n    remove(component) {\n        this.children.delete(component);\n        this.removeImpl(component);\n        if (this.layout)\n            this.layout.layoutContainer(this);\n    }\n    removeAll() {\n        var allChildren = Array.from(this.children.keys());\n        while (allChildren.length != 0)\n            this.remove(allChildren.pop());\n    }\n    validate() {\n        throw new Error(\"Not Implemented\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Container.ts?");

/***/ }),

/***/ "./src/java/awt/Dialog.ts":
/*!********************************!*\
  !*** ./src/java/awt/Dialog.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dialog: () => (/* binding */ Dialog)\n/* harmony export */ });\n/* harmony import */ var _Window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Window */ \"./src/java/awt/Window.ts\");\n\nclass Dialog extends _Window__WEBPACK_IMPORTED_MODULE_0__.Window {\n    constructor(tag, arrClass) {\n        super(tag, arrClass);\n        this.title = \"\";\n        this.setVisible(false);\n    }\n    setTitle(arg0) {\n        this.title = arg0;\n        this._getHTMLElement().setAttribute(\"data-title\", arg0);\n    }\n    setBackground(arg0) {\n        this._getHTMLElement().style.backgroundColor = arg0._str;\n    }\n    setVisible(arg0) {\n        this._getHTMLElement().style.display = arg0 ? \"table\" : \"none\";\n        this.toFront();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Dialog.ts?");

/***/ }),

/***/ "./src/java/awt/Dimension.ts":
/*!***********************************!*\
  !*** ./src/java/awt/Dimension.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dimension: () => (/* binding */ Dimension)\n/* harmony export */ });\nclass Dimension {\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    constructor(a, b = undefined) {\n        if (a instanceof Dimension) {\n            this.width = a.width;\n            this.height = a.height;\n        }\n        else {\n            this.width = a;\n            this.height = b;\n        }\n    }\n    setSize(a, b = undefined) {\n        if (a instanceof Dimension) {\n            this.width = a.width;\n            this.height = a.height;\n        }\n        else {\n            this.width = a;\n            this.height = b;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Dimension.ts?");

/***/ }),

/***/ "./src/java/awt/Event.ts":
/*!*******************************!*\
  !*** ./src/java/awt/Event.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Event: () => (/* binding */ Event)\n/* harmony export */ });\nclass Event {\n}\nEvent.CTRL_MASK = 1;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Event.ts?");

/***/ }),

/***/ "./src/java/awt/Font.ts":
/*!******************************!*\
  !*** ./src/java/awt/Font.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Font: () => (/* binding */ Font)\n/* harmony export */ });\nclass Font {\n    _context() {\n        var str = \"\";\n        if ((this.style & Font.ITALIC) != 0)\n            str += \"italic \";\n        if ((this.style & Font.BOLD) != 0)\n            str += \"bold \";\n        str += this.size + \"px \";\n        str += this.family;\n        //console.log(str);\n        return str;\n    }\n    constructor(a, b = undefined, c = undefined) {\n        var family = null;\n        var style = 0;\n        var size = 0;\n        if (a instanceof Font) //constructor(font:Font);\n         {\n            family = a.family;\n            size = a.size;\n            style = a.style;\n        }\n        else if (a instanceof Map) //constructor(attributes:Map<any, any>);\n         {\n            if (a.has(\"FAMILY\"))\n                family = a.get(\"FAMILY\");\n            if (a.has(\"SIZE\"))\n                size = a.get(\"SIZE\");\n        }\n        else {\n            if (b instanceof Map) //constructor(name:string | null, attributes:Map<any, any>);\n             {\n                family = a;\n                if (b.has(\"SIZE\"))\n                    size = b.get(\"SIZE\");\n            }\n            else // constructor(name:string | null, style:number, size:number);\n             {\n                family = a;\n                style = b;\n                size = c;\n            }\n        }\n        this.family = family == null ? \"Arial\" : family;\n        this.style = style;\n        this.size = size;\n    }\n    deriveFont(a, b = undefined) {\n        if (b === undefined) {\n            var size = a;\n            var out = new Font(this);\n            out.size = size;\n            return out;\n        }\n        else {\n            var style = a;\n            var size = b;\n            var out = new Font(this);\n            out.style = style;\n            out.size = size;\n            return out;\n        }\n    }\n    static createFont(fontFormat, fontStream) {\n        return new Font(\"cmme\", 0, 16);\n    }\n    getSize() {\n        return this.size;\n    }\n}\nFont.NORMAL = 0;\nFont.PLAIN = 0;\nFont.ITALIC = 1;\nFont.BOLD = 2;\nFont.TRUETYPE_FONT = 99;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Font.ts?");

/***/ }),

/***/ "./src/java/awt/FontMetrics.ts":
/*!*************************************!*\
  !*** ./src/java/awt/FontMetrics.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontMetrics: () => (/* binding */ FontMetrics)\n/* harmony export */ });\nclass FontMetrics {\n    constructor(font) {\n    }\n    charWidth(s) { return 25; }\n    getHeight() { return 25; }\n    getDescent() { return 25; }\n    stringWidth(str) { return 20; }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/FontMetrics.ts?");

/***/ }),

/***/ "./src/java/awt/Frame.ts":
/*!*******************************!*\
  !*** ./src/java/awt/Frame.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Frame: () => (/* binding */ Frame)\n/* harmony export */ });\n/* harmony import */ var _Window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Window */ \"./src/java/awt/Window.ts\");\n\nclass Frame extends _Window__WEBPACK_IMPORTED_MODULE_0__.Window {\n    constructor(tag, arrClass) {\n        super(tag, arrClass.concat(\"Frame\"));\n        this.title = \"\";\n    }\n    getTitle() {\n        return this.title;\n    }\n    setTitle(title) {\n        this.title = title;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Frame.ts?");

/***/ }),

/***/ "./src/java/awt/Graphics.ts":
/*!**********************************!*\
  !*** ./src/java/awt/Graphics.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Graphics: () => (/* binding */ Graphics)\n/* harmony export */ });\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Rectangle */ \"./src/java/awt/Rectangle.ts\");\n\nclass Graphics {\n    constructor(ctx, bgCol = \"white\") {\n        this.clipBounds = null;\n        this.ctx = ctx;\n        this.bgCol = bgCol;\n    }\n    setColor(c) {\n        this.col = c._str;\n    }\n    setClip(x, y, w, h) {\n        this.clipBounds = new _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x, y, w, h);\n        this.ctx.beginPath();\n        this.ctx.rect(x, y, w, h);\n        this.ctx.clip();\n    }\n    getClipBounds() {\n        if (!this.clipBounds) {\n            return new _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n        }\n        else\n            return this.clipBounds; //copy?\n    }\n    drawImage(curbuffer, x, y, io) {\n        if (curbuffer.canvas.width != 0 && curbuffer.canvas.height != 0)\n            this.ctx.drawImage(curbuffer.canvas, x, y);\n    }\n    fillRect(x, y, width, height) {\n        this.ctx.fillRect(x, y, width, height);\n    }\n    clearRect(x, y, width, height) {\n        const prevFillStyle = this.ctx.fillStyle;\n        this.ctx.fillStyle = this.bgCol;\n        this.ctx.fillRect(x, y, width, height);\n        this.ctx.fillStyle = prevFillStyle;\n    }\n    drawLine(x1, y1, x2, y2) {\n        throw new Error();\n    }\n    setXORMode(c1) {\n        this.ctx.globalCompositeOperation = 'xor';\n        this.ctx.fillStyle = c1._str;\n    }\n    setPaintMode() {\n        this.ctx.globalCompositeOperation = 'source-over';\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Graphics.ts?");

/***/ }),

/***/ "./src/java/awt/Graphics2D.ts":
/*!************************************!*\
  !*** ./src/java/awt/Graphics2D.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Graphics2D: () => (/* binding */ Graphics2D)\n/* harmony export */ });\n/* harmony import */ var _Graphics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics */ \"./src/java/awt/Graphics.ts\");\n/* harmony import */ var _Font__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Font */ \"./src/java/awt/Font.ts\");\n/* harmony import */ var _Color__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Color */ \"./src/java/awt/Color.ts\");\n/* harmony import */ var _FontMetrics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FontMetrics */ \"./src/java/awt/FontMetrics.ts\");\n/* harmony import */ var _geom_Line2D__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./geom/Line2D */ \"./src/java/awt/geom/Line2D.ts\");\n/* harmony import */ var _geom_AffineTransform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./geom/AffineTransform */ \"./src/java/awt/geom/AffineTransform.ts\");\n\n\n\n\n//import { Shape } from \"./graphics/Shape\";\n\n\nclass Graphics2D extends _Graphics__WEBPACK_IMPORTED_MODULE_0__.Graphics {\n    constructor(context) {\n        super(context);\n        this.font = new _Font__WEBPACK_IMPORTED_MODULE_1__.Font(\"Arial\", 0, 10);\n        this.color = _Color__WEBPACK_IMPORTED_MODULE_2__.Color.black;\n    }\n    getFontMetrics(font = undefined) {\n        font = font === undefined ? this.font : font;\n        return new _FontMetrics__WEBPACK_IMPORTED_MODULE_3__.FontMetrics(font);\n    }\n    setFont(font) {\n        this.font = font;\n    }\n    setColor(c) {\n        this.color = c;\n        this.ctx.fillStyle = c._str;\n        this.ctx.strokeStyle = c._str;\n    }\n    drawString(str, x, y) {\n        this.ctx.font = this.font._context();\n        this.ctx.fillText(str, x, y);\n    }\n    drawArc(x, y, width, height, startAngle, arcAngle) {\n        const centerX = x + width / 2;\n        const centerY = y + height / 2;\n        const radiusX = Math.abs((width + 1) / 2);\n        const radiusY = Math.abs((height + 1) / 2);\n        if (radiusX === 0 || radiusY === 0) {\n            return; // Avoid invalid ellipse drawing\n        }\n        // Convert degrees to radians\n        const startRad = (Math.PI / 180) * -startAngle;\n        const endRad = startRad + (Math.PI / 180) * -arcAngle;\n        this.ctx.beginPath();\n        this.ctx.ellipse(centerX, centerY, radiusX, radiusY, 0, startRad, endRad, arcAngle < 0);\n        this.ctx.stroke();\n    }\n    //t:AffineTransform = new AffineTransform();\n    getTransform() {\n        return new _geom_AffineTransform__WEBPACK_IMPORTED_MODULE_5__.AffineTransform(this.ctx.getTransform());\n    }\n    translate(tx, ty) {\n        this.ctx.translate(tx, ty);\n    }\n    scale(sx, sy) {\n        this.ctx.scale(sx, sy);\n    }\n    rotate(theta) {\n        this.ctx.rotate(theta);\n    }\n    draw(shape) {\n        if (shape instanceof _geom_Line2D__WEBPACK_IMPORTED_MODULE_4__.Line2DFloat) {\n            var line = shape;\n            this.drawLine(line.x1, line.y1, line.x2, line.y2);\n        }\n        else\n            console.log(\"draw\");\n    }\n    fill(shape) { console.log(\"fill\"); }\n    setTransform(at) {\n        this.ctx.setTransform(at._matrix);\n    }\n    fillRect(x, y, w, h) {\n        this.ctx.fillRect(x, y, w, h);\n    }\n    drawLine(x1, y1, x2, y2) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(x1, y1);\n        this.ctx.lineTo(x2, y2);\n        this.ctx.stroke();\n    }\n    setRenderingHint(a, b) { }\n    setBackground(color) {\n        const prevFillStyle = this.ctx.fillStyle; // Save current fill style\n        this.ctx.fillStyle = color._str;\n        this.ctx.fillRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n        this.ctx.fillStyle = prevFillStyle;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Graphics2D.ts?");

/***/ }),

/***/ "./src/java/awt/GridBagConstraints.ts":
/*!********************************************!*\
  !*** ./src/java/awt/GridBagConstraints.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GridBagConstraints: () => (/* binding */ GridBagConstraints)\n/* harmony export */ });\nclass GridBagConstraints {\n    constructor() {\n        this.gridx = 0;\n        this.gridy = 0;\n        this.gridwidth = 1;\n        this.weightx = 0;\n        this.anchor = GridBagConstraints.WEST;\n        this.LINE_START = 2;\n        this.gridheight = 1;\n    }\n    _copy() {\n        var out = new GridBagConstraints();\n        out.gridx = this.gridx;\n        out.gridy = this.gridy;\n        out.gridwidth = this.gridwidth;\n        out.weightx = this.weightx;\n        out.anchor = this.anchor;\n        return out;\n    }\n}\nGridBagConstraints.REMAINDER = -1;\nGridBagConstraints.WEST = 0;\n//new\nGridBagConstraints.EAST = 1;\nGridBagConstraints.LINE_START = 2;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/GridBagConstraints.ts?");

/***/ }),

/***/ "./src/java/awt/GridBagLayout.ts":
/*!***************************************!*\
  !*** ./src/java/awt/GridBagLayout.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GridBagLayout: () => (/* binding */ GridBagLayout)\n/* harmony export */ });\n/* harmony import */ var _GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GridBagConstraints */ \"./src/java/awt/GridBagConstraints.ts\");\n\nclass GridBagLayout {\n    constructor() {\n    }\n    layoutContainer(container) {\n        var constraints = container._getConstraints();\n        var components = container.getComponents();\n        // Find max grid size\n        let maxRow = 0, maxCol = 0;\n        for (let c of constraints) {\n            if (!(c instanceof _GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints))\n                continue;\n            maxRow = Math.max(maxRow, c.gridy);\n            maxCol = Math.max(maxCol, c.gridx + (c.gridwidth === _GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints.REMAINDER ? 1 : c.gridwidth));\n        }\n        // Create a CSS Grid container\n        const elem = container._getHTMLElement();\n        elem.style.display = \"grid\";\n        elem.style.gridTemplateColumns = `repeat(${maxCol}, auto)`;\n        elem.style.gridTemplateRows = `repeat(${maxRow + 1}, auto)`;\n        // Layout components\n        for (let i = 0; i < components.length; i++) {\n            const component = components[i];\n            const c = constraints[i];\n            if (!(c instanceof _GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints))\n                continue;\n            const childElem = component._getHTMLElement();\n            childElem.style.gridColumnStart = \"\" + (c.gridx + 1);\n            childElem.style.gridRowStart = \"\" + (c.gridy + 1);\n            // Handle grid width\n            if (c.gridwidth === _GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints.REMAINDER) {\n                childElem.style.gridColumnEnd = \"-1\"; // Span until the end\n            }\n            else if (c.gridwidth > 1) //bug if constraint changes as property will remain\n             {\n                childElem.style.gridColumnEnd = `span ${c.gridwidth}`;\n            }\n            // Handle weightx (flex grow)\n            if (c.weightx > 0) {\n                childElem.style.flexGrow = `${c.weightx}`;\n            }\n            // Handle anchor (only WEST supported)\n            if (c.anchor === _GridBagConstraints__WEBPACK_IMPORTED_MODULE_0__.GridBagConstraints.WEST) {\n                childElem.style.justifySelf = \"start\";\n            }\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/GridBagLayout.ts?");

/***/ }),

/***/ "./src/java/awt/GridLayout.ts":
/*!************************************!*\
  !*** ./src/java/awt/GridLayout.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GridLayout: () => (/* binding */ GridLayout)\n/* harmony export */ });\nclass GridLayout {\n    constructor(rows, cols) {\n        this.rows = rows;\n        this.cols = cols;\n    }\n    layoutContainer(container) {\n        const components = container.getComponents();\n        const total = components.length;\n        // Ensure the container uses a CSS grid\n        const containerElem = container._getHTMLElement();\n        containerElem.style.display = \"grid\";\n        containerElem.style.gridTemplateRows = `repeat(${this.rows}, 1fr)`;\n        containerElem.style.gridTemplateColumns = `repeat(${this.cols}, 1fr)`;\n        containerElem.style.gap = \"0\"; // Default no spacing\n        // Ensure all components are positioned correctly\n        for (let i = 0; i < total; i++) {\n            const comp = components[i]._getHTMLElement();\n            comp.style.gridRow = `${Math.floor(i / this.cols) + 1}`;\n            comp.style.gridColumn = `${(i % this.cols) + 1}`;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/GridLayout.ts?");

/***/ }),

/***/ "./src/java/awt/Image.ts":
/*!*******************************!*\
  !*** ./src/java/awt/Image.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Image: () => (/* binding */ Image)\n/* harmony export */ });\nclass Image {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Image.ts?");

/***/ }),

/***/ "./src/java/awt/Insets.ts":
/*!********************************!*\
  !*** ./src/java/awt/Insets.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Insets: () => (/* binding */ Insets)\n/* harmony export */ });\nclass Insets {\n    constructor(top, left, bottom, right) {\n        this.top = top;\n        this.left = left;\n        this.bottom = bottom;\n        this.right = right;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Insets.ts?");

/***/ }),

/***/ "./src/java/awt/Panel.ts":
/*!*******************************!*\
  !*** ./src/java/awt/Panel.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Panel: () => (/* binding */ Panel)\n/* harmony export */ });\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"./src/java/awt/Container.ts\");\n\nclass Panel extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\n    constructor(tag, arrClass) {\n        super(tag, arrClass.concat(\"panel\"));\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Panel.ts?");

/***/ }),

/***/ "./src/java/awt/Point.ts":
/*!*******************************!*\
  !*** ./src/java/awt/Point.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Point: () => (/* binding */ Point)\n/* harmony export */ });\n/* harmony import */ var _geom_Point2D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geom/Point2D */ \"./src/java/awt/geom/Point2D.ts\");\n\nclass Point extends _geom_Point2D__WEBPACK_IMPORTED_MODULE_0__.Point2D {\n    constructor(a = undefined, b = undefined) {\n        super();\n        if (a === undefined) {\n            this.x = 0;\n            this.y = 0;\n        }\n        else {\n            this.x = a;\n            this.y = b;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Point.ts?");

/***/ }),

/***/ "./src/java/awt/Polygon.ts":
/*!*********************************!*\
  !*** ./src/java/awt/Polygon.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Polygon: () => (/* binding */ Polygon)\n/* harmony export */ });\nclass Polygon {\n    constructor(arg0, arg1, arg2) {\n        throw new Error(\"Not Implemented\");\n    }\n    getBounds() {\n        throw new Error();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Polygon.ts?");

/***/ }),

/***/ "./src/java/awt/Rectangle.ts":
/*!***********************************!*\
  !*** ./src/java/awt/Rectangle.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Rectangle: () => (/* binding */ Rectangle)\n/* harmony export */ });\nclass Rectangle {\n    constructor(a = undefined, b = undefined, c = undefined, d = undefined) {\n        if (a === undefined) {\n            this.x = 0;\n            this.y = 0;\n            this.width = 0;\n            this.height = 0;\n        }\n        else {\n            this.x = a;\n            this.y = b;\n            this.width = c;\n            this.height = d;\n        }\n    }\n    getX() {\n        return this.x;\n    }\n    getY() {\n        return this.y;\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Rectangle.ts?");

/***/ }),

/***/ "./src/java/awt/Toolkit.ts":
/*!*********************************!*\
  !*** ./src/java/awt/Toolkit.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toolkit: () => (/* binding */ Toolkit)\n/* harmony export */ });\n/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ \"./src/java/awt/Dimension.ts\");\n\nclass Toolkit {\n    getScreenSize() {\n        return new _Dimension__WEBPACK_IMPORTED_MODULE_0__.Dimension(640, 480);\n    }\n    static getDefaultToolkit() {\n        if (Toolkit.singleton == null)\n            Toolkit.singleton = new Toolkit();\n        return Toolkit.singleton;\n    }\n}\nToolkit.singleton = null;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Toolkit.ts?");

/***/ }),

/***/ "./src/java/awt/Window.ts":
/*!********************************!*\
  !*** ./src/java/awt/Window.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Window: () => (/* binding */ Window)\n/* harmony export */ });\n/* harmony import */ var _Container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Container */ \"./src/java/awt/Container.ts\");\n\nclass Window extends _Container__WEBPACK_IMPORTED_MODULE_0__.Container {\n    constructor(tag = undefined, arrClass = undefined) {\n        super(tag === undefined ? \"div\" : tag, arrClass === undefined ? [\"Window\"] : arrClass.concat(\"Window\"));\n        this.windowFocusListeners = [];\n        this.windowListeners = [];\n        document.body.appendChild(this._getHTMLElement());\n        this.toFront();\n    }\n    /*\n    When window is created, toFront();\n    \n    When window is clicked in (drag frame) toFront();\n    */\n    setSize(width, height) {\n        // this._getHTMLElement().style.width = `${width}px`;\n        //this._getHTMLElement().style.height = `${height}px`;\n    }\n    toFront() {\n        var arrWindows = document.body.querySelectorAll(\".Window\");\n        var max = 0;\n        for (var i = 0; i < arrWindows.length; i++) {\n            var z = parseInt(arrWindows[i].style.zIndex);\n            if (!isNaN(z))\n                max = Math.max(max, z);\n        }\n        this._getHTMLElement().style.zIndex = \"\" + (max + 1);\n    }\n    getListeners(arg0) {\n        if (arg0 == \"WindowFocusListener\")\n            return this.windowFocusListeners.concat();\n        if (arg0 == \"WindowListener\")\n            return this.windowListeners.concat();\n        else {\n            debugger;\n        }\n    }\n    addWindowFocusListener(listener) {\n        this.windowFocusListeners.push(listener);\n    }\n    removeWindowFocusListener(listener) {\n        throw new Error();\n    }\n    addWindowListener(listener) {\n        this.windowListeners.push(listener);\n    }\n    removeWindowListener(listener) {\n        this.windowListeners = this.windowListeners.filter(l => l !== listener);\n    }\n    setLocationRelativeTo(component) {\n        let x = 0, y = 0;\n        if (component && component.isVisible()) {\n            // Get component's location and size\n            const compRect = component._getHTMLElement().getBoundingClientRect();\n            const winRect = this._getHTMLElement().getBoundingClientRect();\n            // Calculate new position to center relative to component\n            x = compRect.left + (compRect.width - winRect.width) / 2;\n            y = compRect.top + (compRect.height - winRect.height) / 2;\n        }\n        else {\n            // Center on screen\n            const winWidth = window.innerWidth;\n            const winHeight = window.innerHeight;\n            const winRect = this._getHTMLElement().getBoundingClientRect();\n            x = (winWidth - winRect.width) / 2;\n            y = (winHeight - winRect.height) / 2;\n        }\n        // Apply new position\n        this.setLocation(x, y);\n    }\n    pack() {\n        let maxWidth = 0;\n        let maxHeight = 0;\n        /* this.children.forEach((constraint, component) => {\n             const preferredSize = component.getPreferredSize();\n             maxWidth = Math.max(maxWidth, preferredSize.width);\n             maxHeight = Math.max(maxHeight, preferredSize.height);\n         });\n \n         // Account for window padding, borders, and layout constraints\n         const padding = 10; // Example padding\n         this.setSize(maxWidth + padding * 2, maxHeight + padding * 2);*/\n    }\n    dispose() {\n        this._getHTMLElement().remove();\n    }\n    setLocation(x, y) {\n        this._getHTMLElement().style.left = `${x}px`;\n        this._getHTMLElement().style.top = `${y}px`;\n    }\n    _getLocationX() {\n        var out = parseInt(this._getHTMLElement().style.left);\n        return isNaN(out) ? 0 : out;\n    }\n    _getLocationY() {\n        var out = parseInt(this._getHTMLElement().style.top);\n        return isNaN(out) ? 0 : out;\n    }\n    setVisible(visible) {\n        this._getHTMLElement().style.display = visible ? \"block\" : \"none\";\n    }\n    isShowing() {\n        return this._getHTMLElement().style.display != \"none\";\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/Window.ts?");

/***/ }),

/***/ "./src/java/awt/event/ActionEvent.ts":
/*!*******************************************!*\
  !*** ./src/java/awt/event/ActionEvent.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionEvent: () => (/* binding */ ActionEvent)\n/* harmony export */ });\n/* harmony import */ var _AWTEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AWTEvent */ \"./src/java/awt/AWTEvent.ts\");\n\nclass ActionEvent extends _AWTEvent__WEBPACK_IMPORTED_MODULE_0__.AWTEvent {\n    constructor(actionCommand = null, source) {\n        super(source);\n        this.actionCommand = actionCommand;\n    }\n    getActionCommand() {\n        return this.actionCommand;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/ActionEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/AdjustmentEvent.ts":
/*!***********************************************!*\
  !*** ./src/java/awt/event/AdjustmentEvent.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdjustmentEvent: () => (/* binding */ AdjustmentEvent)\n/* harmony export */ });\n/* harmony import */ var _AWTEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AWTEvent */ \"./src/java/awt/AWTEvent.ts\");\n\nclass AdjustmentEvent extends _AWTEvent__WEBPACK_IMPORTED_MODULE_0__.AWTEvent {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/AdjustmentEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/ComponentEvent.ts":
/*!**********************************************!*\
  !*** ./src/java/awt/event/ComponentEvent.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComponentEvent: () => (/* binding */ ComponentEvent)\n/* harmony export */ });\n/* harmony import */ var _AWTEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AWTEvent */ \"./src/java/awt/AWTEvent.ts\");\n;\n\nclass ComponentEvent extends _AWTEvent__WEBPACK_IMPORTED_MODULE_0__.AWTEvent {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/ComponentEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/FocusEvent.ts":
/*!******************************************!*\
  !*** ./src/java/awt/event/FocusEvent.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FocusEvent: () => (/* binding */ FocusEvent)\n/* harmony export */ });\n/* harmony import */ var _ComponentEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComponentEvent */ \"./src/java/awt/event/ComponentEvent.ts\");\n\nclass FocusEvent extends _ComponentEvent__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent {\n    constructor(source) {\n        super(source);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/FocusEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/InputEvent.ts":
/*!******************************************!*\
  !*** ./src/java/awt/event/InputEvent.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputEvent: () => (/* binding */ InputEvent)\n/* harmony export */ });\n/* harmony import */ var _ComponentEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComponentEvent */ \"./src/java/awt/event/ComponentEvent.ts\");\n\nclass InputEvent extends _ComponentEvent__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent {\n    constructor(source, modifiers) {\n        super(source);\n        this.modifiers = modifiers;\n    }\n    isShiftDown() {\n        return (this.modifiers & InputEvent.SHIFT_MASK) !== 0;\n    }\n    // Check if Meta key is pressed (typically the \"Command\" key on macOS or \"Windows\" key on Windows)\n    isMetaDown() {\n        return (this.modifiers & InputEvent.META_MASK) !== 0;\n    }\n    // Check if Control key is pressed\n    isControlDown() {\n        return (this.modifiers & InputEvent.CTRL_MASK) !== 0;\n    }\n}\nInputEvent.SHIFT_MASK = 1;\nInputEvent.CTRL_MASK = 2;\nInputEvent.META_MASK = 4;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/InputEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/ItemEvent.ts":
/*!*****************************************!*\
  !*** ./src/java/awt/event/ItemEvent.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ItemEvent: () => (/* binding */ ItemEvent)\n/* harmony export */ });\n/* harmony import */ var _AWTEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../AWTEvent */ \"./src/java/awt/AWTEvent.ts\");\n\nclass ItemEvent extends _AWTEvent__WEBPACK_IMPORTED_MODULE_0__.AWTEvent {\n    constructor(source, id, item, stateChange) {\n        super(source);\n    }\n    getItemSelectable() {\n        return this.getSource();\n    }\n}\nItemEvent.SELECTED = 1;\nItemEvent.DESELECTED = 0;\nItemEvent.ITEM_STATE_CHANGED = 3;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/ItemEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/KeyEvent.ts":
/*!****************************************!*\
  !*** ./src/java/awt/event/KeyEvent.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyEvent: () => (/* binding */ KeyEvent)\n/* harmony export */ });\n/* harmony import */ var _InputEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputEvent */ \"./src/java/awt/event/InputEvent.ts\");\n\nclass KeyEvent extends _InputEvent__WEBPACK_IMPORTED_MODULE_0__.InputEvent {\n    constructor(source, id, when, modifiers, keyCode, keyChar) {\n        super(source, modifiers);\n        this.id = id;\n        this.when = when;\n        this.keyCode = keyCode;\n        this.keyChar = keyChar;\n    }\n    getKeyCode() {\n        return this.keyCode;\n    }\n    getKeyChar() {\n        return this.keyChar.charCodeAt(0);\n    }\n}\nKeyEvent.KEY_PRESSED = 0;\nKeyEvent.VK_BACK_SPACE = 8;\nKeyEvent.VK_TAB = 9;\nKeyEvent.VK_ENTER = 10;\nKeyEvent.VK_SHIFT = 16;\nKeyEvent.VK_CTRL = 17;\nKeyEvent.VK_ALT = 18;\nKeyEvent.VK_PAUSE = 19;\nKeyEvent.VK_CAPS_LOCK = 20;\nKeyEvent.VK_ESCAPE = 27;\nKeyEvent.VK_SPACE = 32;\nKeyEvent.VK_PAGE_UP = 33;\nKeyEvent.VK_PAGE_DOWN = 34;\nKeyEvent.VK_END = 35;\nKeyEvent.VK_HOME = 36;\nKeyEvent.VK_LEFT = 37;\nKeyEvent.VK_UP = 38;\nKeyEvent.VK_RIGHT = 39;\nKeyEvent.VK_DOWN = 40;\nKeyEvent.VK_COMMA = 44;\nKeyEvent.VK_PERIOD = 46;\nKeyEvent.VK_SLASH = 47;\nKeyEvent.VK_0 = 48;\nKeyEvent.VK_1 = 49;\nKeyEvent.VK_2 = 50;\nKeyEvent.VK_3 = 51;\nKeyEvent.VK_4 = 52;\nKeyEvent.VK_5 = 53;\nKeyEvent.VK_6 = 54;\nKeyEvent.VK_7 = 55;\nKeyEvent.VK_8 = 56;\nKeyEvent.VK_9 = 57;\nKeyEvent.VK_SEMICOLON = 59;\nKeyEvent.VK_EQUALS = 61;\nKeyEvent.VK_A = 65;\nKeyEvent.VK_B = 66;\nKeyEvent.VK_C = 67;\nKeyEvent.VK_D = 68;\nKeyEvent.VK_E = 69;\nKeyEvent.VK_F = 70;\nKeyEvent.VK_G = 71;\nKeyEvent.VK_H = 72;\nKeyEvent.VK_I = 73;\nKeyEvent.VK_J = 74;\nKeyEvent.VK_K = 75;\nKeyEvent.VK_L = 76;\nKeyEvent.VK_M = 77;\nKeyEvent.VK_N = 78;\nKeyEvent.VK_O = 79;\nKeyEvent.VK_P = 80;\nKeyEvent.VK_Q = 81;\nKeyEvent.VK_R = 82;\nKeyEvent.VK_S = 83;\nKeyEvent.VK_T = 84;\nKeyEvent.VK_U = 85;\nKeyEvent.VK_V = 86;\nKeyEvent.VK_W = 87;\nKeyEvent.VK_X = 88;\nKeyEvent.VK_Y = 89;\nKeyEvent.VK_Z = 90;\nKeyEvent.VK_OPEN_BRACKET = 91;\nKeyEvent.VK_BACK_SLASH = 92;\nKeyEvent.VK_CLOSE_BRACKET = 93;\nKeyEvent.VK_CIRCUMFLEX = 94;\nKeyEvent.VK_UNDERSCORE = 95;\nKeyEvent.VK_BACKQUOTE = 96;\nKeyEvent.VK_QUOTE = 222;\nKeyEvent.VK_DELETE = 127;\nKeyEvent.VK_KP_0 = 48;\nKeyEvent.VK_KP_1 = 49;\nKeyEvent.VK_KP_2 = 50;\nKeyEvent.VK_KP_3 = 51;\nKeyEvent.VK_KP_4 = 52;\nKeyEvent.VK_KP_5 = 53;\nKeyEvent.VK_KP_6 = 54;\nKeyEvent.VK_KP_7 = 55;\nKeyEvent.VK_KP_8 = 56;\nKeyEvent.VK_KP_9 = 57;\nKeyEvent.VK_KP_LEFT = 37;\nKeyEvent.VK_KP_RIGHT = 39;\nKeyEvent.VK_KP_UP = 38;\nKeyEvent.VK_KP_DOWN = 40;\nKeyEvent.VK_COLON = 58; // The colon (:) key\nKeyEvent.VK_NUMBER_SIGN = 35; // The number sign (#), also known as the hash or pound key\nKeyEvent.VK_PLUS = 43; // The plus (+) key\nKeyEvent.VK_MINUS = 45;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/KeyEvent.ts?");

/***/ }),

/***/ "./src/java/awt/event/MouseEvent.ts":
/*!******************************************!*\
  !*** ./src/java/awt/event/MouseEvent.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MouseEvent: () => (/* binding */ MouseEvent)\n/* harmony export */ });\n/* harmony import */ var _InputEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputEvent */ \"./src/java/awt/event/InputEvent.ts\");\n\nclass MouseEvent extends _InputEvent__WEBPACK_IMPORTED_MODULE_0__.InputEvent {\n    constructor(source, id, when, modifiers, x, y, clickCount, popupTrgger) {\n        super(source, modifiers);\n        this.id = id;\n        this.when = when;\n        this.x = x;\n        this.y = y;\n        this.clickCount = clickCount;\n        this.popupTrgger = popupTrgger;\n    }\n    getButton() {\n        return MouseEvent.BUTTON1;\n    }\n    getX() {\n        return this.x - this.getSource()._getHTMLElement().clientLeft;\n    }\n    getXOnScreen() {\n        return this.x;\n    }\n    getY() {\n        return this.y - this.getSource()._getHTMLElement().clientTop;\n    }\n    getYOnScreen() {\n        return this.y;\n    }\n}\nMouseEvent.MOUSE_CLICKED = 0;\nMouseEvent.MOUSE_PRESSED = 1;\nMouseEvent.MOUSE_RELEASED = 2;\nMouseEvent.MOUSE_ENTERED = 3;\nMouseEvent.MOUSE_EXITED = 4;\nMouseEvent.MOUSE_DRAGGED = 5;\nMouseEvent.MOUSE_MOVED = 6;\nMouseEvent.BUTTON1 = 1;\nMouseEvent.BUTTON2 = 2;\nMouseEvent.BUTTON3 = 3;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/event/MouseEvent.ts?");

/***/ }),

/***/ "./src/java/awt/geom/AffineTransform.ts":
/*!**********************************************!*\
  !*** ./src/java/awt/geom/AffineTransform.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AffineTransform: () => (/* binding */ AffineTransform)\n/* harmony export */ });\nclass AffineTransform {\n    constructor(matrix) {\n        this._matrix = matrix;\n    }\n    rotate(theta) {\n        throw new Error();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/geom/AffineTransform.ts?");

/***/ }),

/***/ "./src/java/awt/geom/Line2D.ts":
/*!*************************************!*\
  !*** ./src/java/awt/geom/Line2D.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Line2D: () => (/* binding */ Line2D),\n/* harmony export */   Line2DFloat: () => (/* binding */ Line2DFloat)\n/* harmony export */ });\n/* harmony import */ var _Rectangle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Rectangle */ \"./src/java/awt/Rectangle.ts\");\n\nclass Line2DFloat {\n    constructor(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    getBounds() {\n        var x;\n        var y;\n        var w;\n        var h;\n        if (this.x1 < this.x2) {\n            x = this.x1;\n            w = this.x2 - this.x1;\n        }\n        else {\n            x = this.x2;\n            w = this.x1 - this.x2;\n        }\n        if (this.y1 < this.y2) {\n            y = this.y1;\n            h = this.y2 - this.y1;\n        }\n        else {\n            y = this.y2;\n            h = this.y1 - this.y2;\n        }\n        return new _Rectangle__WEBPACK_IMPORTED_MODULE_0__.Rectangle(x, y, w, h);\n    }\n}\nclass Line2D //implements Shape\n {\n}\nLine2D.Float = Line2DFloat;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/geom/Line2D.ts?");

/***/ }),

/***/ "./src/java/awt/geom/Point2D.ts":
/*!**************************************!*\
  !*** ./src/java/awt/geom/Point2D.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Point2D: () => (/* binding */ Point2D)\n/* harmony export */ });\nclass Point2D {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/geom/Point2D.ts?");

/***/ }),

/***/ "./src/java/awt/geom/Rectangle2D.ts":
/*!******************************************!*\
  !*** ./src/java/awt/geom/Rectangle2D.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Rectangle2D: () => (/* binding */ Rectangle2D)\n/* harmony export */ });\nclass Rectangle2DFloat {\n    constructor(x, y, w, h) {\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n    }\n}\nclass Rectangle2D {\n}\nRectangle2D.Float = Rectangle2DFloat;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/geom/Rectangle2D.ts?");

/***/ }),

/***/ "./src/java/awt/image/BufferedImage.ts":
/*!*********************************************!*\
  !*** ./src/java/awt/image/BufferedImage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BufferedImage: () => (/* binding */ BufferedImage)\n/* harmony export */ });\n/* harmony import */ var _Graphics2D__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Graphics2D */ \"./src/java/awt/Graphics2D.ts\");\n/* harmony import */ var _Image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Image */ \"./src/java/awt/Image.ts\");\n\n\nclass BufferedImage extends _Image__WEBPACK_IMPORTED_MODULE_1__.Image {\n    constructor(a, b = undefined, c = undefined) {\n        super();\n        this.canvas = document.createElement(\"canvas\");\n        if (a instanceof HTMLImageElement) {\n            this.canvas.width = a.naturalWidth;\n            this.canvas.height = a.naturalHeight;\n            const ctx = this.canvas.getContext(\"2d\");\n            ctx.drawImage(a, 0, 0, this.canvas.width, this.canvas.height);\n        }\n        else {\n            this.canvas.width = a;\n            this.canvas.height = b;\n        }\n    }\n    createGraphics() {\n        var context = this.canvas.getContext(\"2d\");\n        return new _Graphics2D__WEBPACK_IMPORTED_MODULE_0__.Graphics2D(context);\n    }\n    getWidth() {\n        return this.canvas.width;\n    }\n    getHeight() {\n        return this.canvas.height;\n    }\n}\nBufferedImage.TYPE_INT_ARGB = 0;\nBufferedImage.TYPE_INT_RGB = 0;\n\n\n//# sourceURL=webpack://cmme/./src/java/awt/image/BufferedImage.ts?");

/***/ }),

/***/ "./src/java/io/File.ts":
/*!*****************************!*\
  !*** ./src/java/io/File.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   File: () => (/* binding */ File)\n/* harmony export */ });\n/* harmony import */ var _net_URI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../net/URI */ \"./src/java/net/URI.ts\");\n/* harmony import */ var _js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../js */ \"./src/js.ts\");\n\n\nclass File {\n    constructor(arg0, arg1 = undefined) {\n        this.uri = null;\n        if (arg0 instanceof _net_URI__WEBPACK_IMPORTED_MODULE_0__.URI) {\n            this.uri = arg0;\n        }\n        else if ((0,_js__WEBPACK_IMPORTED_MODULE_1__.isString)(arg0)) {\n            this.uri = new _net_URI__WEBPACK_IMPORTED_MODULE_0__.URI(arg0);\n        }\n        else\n            throw new Error(\"Not Implemented\");\n    }\n    getName() {\n        var _a;\n        return (_a = this.uri._path.split('/').pop()) !== null && _a !== void 0 ? _a : \"\";\n    }\n    getCanonicalPath() {\n        return this.uri._path;\n    }\n    exists() {\n        throw new Error(\"Not Implemented\");\n    }\n    getAbsolutePath() {\n        return this.uri._path;\n    }\n    isDirectory() {\n        throw new Error(\"Not Implemented\");\n    }\n    toURI() {\n        return new _net_URI__WEBPACK_IMPORTED_MODULE_0__.URI(this.uri._path);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/File.ts?");

/***/ }),

/***/ "./src/java/io/FileOutputStream.ts":
/*!*****************************************!*\
  !*** ./src/java/io/FileOutputStream.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileOutputStream: () => (/* binding */ FileOutputStream)\n/* harmony export */ });\nclass FileOutputStream {\n    constructor(file) {\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/FileOutputStream.ts?");

/***/ }),

/***/ "./src/java/io/FilterOutputStream.ts":
/*!*******************************************!*\
  !*** ./src/java/io/FilterOutputStream.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilterOutputStream: () => (/* binding */ FilterOutputStream)\n/* harmony export */ });\n/* harmony import */ var _OutputStream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./OutputStream */ \"./src/java/io/OutputStream.ts\");\n\nclass FilterOutputStream extends _OutputStream__WEBPACK_IMPORTED_MODULE_0__.OutputStream {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/FilterOutputStream.ts?");

/***/ }),

/***/ "./src/java/io/IOException.ts":
/*!************************************!*\
  !*** ./src/java/io/IOException.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IOException: () => (/* binding */ IOException)\n/* harmony export */ });\n/* harmony import */ var _lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lang/Exception */ \"./src/java/lang/Exception.ts\");\n\nclass IOException extends _lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/IOException.ts?");

/***/ }),

/***/ "./src/java/io/InputStream.ts":
/*!************************************!*\
  !*** ./src/java/io/InputStream.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputStream: () => (/* binding */ InputStream)\n/* harmony export */ });\nclass InputStream {\n    constructor(path) {\n        this._path = path;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/InputStream.ts?");

/***/ }),

/***/ "./src/java/io/OutputStream.ts":
/*!*************************************!*\
  !*** ./src/java/io/OutputStream.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OutputStream: () => (/* binding */ OutputStream)\n/* harmony export */ });\nclass OutputStream {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/OutputStream.ts?");

/***/ }),

/***/ "./src/java/io/PrintStream.ts":
/*!************************************!*\
  !*** ./src/java/io/PrintStream.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrintStream: () => (/* binding */ PrintStream)\n/* harmony export */ });\n/* harmony import */ var _FilterOutputStream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FilterOutputStream */ \"./src/java/io/FilterOutputStream.ts\");\n\nclass PrintStream extends _FilterOutputStream__WEBPACK_IMPORTED_MODULE_0__.FilterOutputStream {\n    constructor(a) {\n        super();\n    }\n    println(arg0 = undefined) {\n        throw new Error(\"Not Implemented\");\n    }\n    print(arg0) {\n        throw new Error(\"Not Implemented\");\n    }\n    close() {\n        throw new Error();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/io/PrintStream.ts?");

/***/ }),

/***/ "./src/java/lang/Character.ts":
/*!************************************!*\
  !*** ./src/java/lang/Character.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Character: () => (/* binding */ Character)\n/* harmony export */ });\n/* harmony import */ var _js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../js */ \"./src/js.ts\");\n\nclass Character {\n    static _(a) {\n        return (0,_js__WEBPACK_IMPORTED_MODULE_0__.isNumber)(a) ? new Character(a) : new Character(a.charCodeAt(0));\n    }\n    constructor(val) {\n        this.val = val;\n    }\n    toString() {\n        return String.fromCharCode(this.val);\n    }\n    _number() {\n        return this.val;\n    }\n    static codePointAt(str, index) {\n        return str.charCodeAt(index);\n    }\n    static toString(n) {\n        return String.fromCharCode(n);\n    }\n    static toUpperCase(c) {\n        return String.fromCharCode(c).toUpperCase().charCodeAt(0);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Character.ts?");

/***/ }),

/***/ "./src/java/lang/Double.ts":
/*!*********************************!*\
  !*** ./src/java/lang/Double.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Double: () => (/* binding */ Double)\n/* harmony export */ });\nclass Double extends Number {\n    static parseDouble(s) {\n        return parseFloat(s);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Double.ts?");

/***/ }),

/***/ "./src/java/lang/Exception.ts":
/*!************************************!*\
  !*** ./src/java/lang/Exception.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Exception: () => (/* binding */ Exception)\n/* harmony export */ });\n/* harmony import */ var _Throwable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Throwable */ \"./src/java/lang/Throwable.ts\");\n\nclass Exception extends _Throwable__WEBPACK_IMPORTED_MODULE_0__.Throwable {\n    constructor(arg0 = undefined) {\n        super();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Exception.ts?");

/***/ }),

/***/ "./src/java/lang/Float.ts":
/*!********************************!*\
  !*** ./src/java/lang/Float.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Float: () => (/* binding */ Float)\n/* harmony export */ });\nclass Float {\n    constructor(value) {\n        this.value = typeof value === \"string\" ? Float.parseFloat(value) : Math.fround(value);\n    }\n    static parseFloat(s) {\n        let result = parseFloat(s);\n        if (isNaN(result)) {\n            throw new Error(`NumberFormatException: For input string \"${s}\"`);\n        }\n        return Math.fround(result); // Ensure 32-bit float precision\n    }\n    static valueOf(s) {\n        return new Float(Float.parseFloat(s));\n    }\n    static isNaN(v) {\n        return isNaN(v);\n    }\n    static toString(v) {\n        return v.toString();\n    }\n    floatValue() {\n        return this.value;\n    }\n    toString() {\n        return this.value.toString();\n    }\n}\nFloat.MAX_VALUE = 3.4028235e38; // Java Float.MAX_VALUE\nFloat.MIN_VALUE = 1.4e-45; // Java Float.MIN_VALUE\nFloat.NaN = NaN;\nFloat.POSITIVE_INFINITY = Infinity;\nFloat.NEGATIVE_INFINITY = -Infinity;\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Float.ts?");

/***/ }),

/***/ "./src/java/lang/Integer.ts":
/*!**********************************!*\
  !*** ./src/java/lang/Integer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Integer: () => (/* binding */ Integer)\n/* harmony export */ });\n/* harmony import */ var _NumberFormatException__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NumberFormatException */ \"./src/java/lang/NumberFormatException.ts\");\n\nclass Integer {\n    constructor(value) {\n        if (typeof value === \"string\") {\n            this.value = Integer.parseInt(value);\n        }\n        else {\n            this.value = Math.trunc(value); // Ensure it's an integer\n        }\n    }\n    static toString(i, radix = 10) {\n        if (radix < 2 || radix > 36) {\n            throw new Error(`IllegalArgumentException: radix ${radix} out of range`);\n        }\n        return Math.trunc(i).toString(radix);\n    }\n    toString(radix = 10) {\n        return Integer.toString(this.value, radix);\n    }\n    static parseInt(s, radix = 10) {\n        let result = parseInt(s, radix);\n        if (isNaN(result)) {\n            // throw new Error(`NumberFormatException: For input string \"${s}\"`);\n            throw new _NumberFormatException__WEBPACK_IMPORTED_MODULE_0__.NumberFormatException();\n        }\n        return result;\n    }\n    intValue() {\n        return this.value;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Integer.ts?");

/***/ }),

/***/ "./src/java/lang/Math.ts":
/*!*******************************!*\
  !*** ./src/java/lang/Math.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Math: () => (/* binding */ Math)\n/* harmony export */ });\n/* harmony import */ var _Math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_Math */ \"./src/java/lang/_Math.ts\");\n\nclass Math {\n    static abs(a) {\n        // Math.abs in Java handles -0.0 correctly, so we replicate that\n        return a === 0 ? 0 : (a < 0 ? -a : a);\n    }\n    static round(v) {\n        return _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.round(v);\n    }\n    static max(a, b) {\n        return _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.max(a, b);\n    }\n    static min(a, b) {\n        return _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.min(a, b);\n    }\n    static toRadians(degrees) {\n        return degrees * (Math.PI / 180);\n    }\n    static ceil(n) {\n        return _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.ceil(n);\n    }\n    static floor(a) {\n        return _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.floor(a);\n    }\n    static log(a) {\n        return _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.log(a);\n    }\n}\nMath.PI = _Math__WEBPACK_IMPORTED_MODULE_0__.NativeMath.PI;\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Math.ts?");

/***/ }),

/***/ "./src/java/lang/NumberFormatException.ts":
/*!************************************************!*\
  !*** ./src/java/lang/NumberFormatException.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NumberFormatException: () => (/* binding */ NumberFormatException)\n/* harmony export */ });\n/* harmony import */ var _Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Exception */ \"./src/java/lang/Exception.ts\");\n\nclass NumberFormatException extends _Exception__WEBPACK_IMPORTED_MODULE_0__.Exception {\n    constructor() {\n        super();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/NumberFormatException.ts?");

/***/ }),

/***/ "./src/java/lang/RuntimeException.ts":
/*!*******************************************!*\
  !*** ./src/java/lang/RuntimeException.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RuntimeException: () => (/* binding */ RuntimeException)\n/* harmony export */ });\n/* harmony import */ var _Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Exception */ \"./src/java/lang/Exception.ts\");\n\nclass RuntimeException extends _Exception__WEBPACK_IMPORTED_MODULE_0__.Exception {\n    constructor() {\n        super();\n        throw new Error(\"Not Implemented\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/RuntimeException.ts?");

/***/ }),

/***/ "./src/java/lang/StringBuffer.ts":
/*!***************************************!*\
  !*** ./src/java/lang/StringBuffer.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StringBuffer: () => (/* binding */ StringBuffer)\n/* harmony export */ });\nclass StringBuffer {\n    constructor(initial) {\n        this.buffer = initial ? [initial] : [];\n    }\n    append(str) {\n        this.buffer.push(str);\n        return this;\n    }\n    insert(index, str) {\n        const current = this.toString();\n        this.buffer = [current.slice(0, index), str, current.slice(index)];\n        return this;\n    }\n    replace(start, end, str) {\n        const current = this.toString();\n        this.buffer = [current.slice(0, start), str, current.slice(end)];\n        return this;\n    }\n    toString() {\n        return this.buffer.join('');\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/StringBuffer.ts?");

/***/ }),

/***/ "./src/java/lang/System.ts":
/*!*********************************!*\
  !*** ./src/java/lang/System.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Err: () => (/* binding */ Err),\n/* harmony export */   Out: () => (/* binding */ Out),\n/* harmony export */   System: () => (/* binding */ System)\n/* harmony export */ });\n/* harmony import */ var _io_PrintStream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../io/PrintStream */ \"./src/java/io/PrintStream.ts\");\n//https://docs.oracle.com/javase/8/docs/api/index.html?java/awt/geom/Rectangle2D.html\n\nclass Out extends _io_PrintStream__WEBPACK_IMPORTED_MODULE_0__.PrintStream {\n    constructor() {\n        super(null);\n    }\n    println(data = undefined) {\n        if (data === undefined)\n            console.log(data);\n        if (data === null)\n            console.log(\"null\");\n        if (data[\"valueOf\"] !== undefined)\n            console.log(data.valueOf());\n        else {\n            console.log(\"\" + data);\n        }\n    }\n    print(x) {\n        console.log(x);\n    }\n}\nclass Err {\n    print(x) {\n        console.log(x);\n    }\n    println(ln = undefined) {\n        console.log(ln === undefined ? \"\\n\" : ln);\n    }\n}\nclass System {\n    static exit(code) {\n    }\n    static currentTimeMillis() {\n        return Date.now();\n    }\n}\nSystem.out = new Out();\nSystem.err = new Err();\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/System.ts?");

/***/ }),

/***/ "./src/java/lang/Throwable.ts":
/*!************************************!*\
  !*** ./src/java/lang/Throwable.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Throwable: () => (/* binding */ Throwable)\n/* harmony export */ });\nclass Throwable {\n    printStackTrace() {\n        //throw new Error(\"Not Implemented\"); \n    }\n    getStackTrace() {\n        //throw new Error(\"Not Implemented\"); \n        return [];\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/Throwable.ts?");

/***/ }),

/***/ "./src/java/lang/_Math.ts":
/*!********************************!*\
  !*** ./src/java/lang/_Math.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NativeMath: () => (/* binding */ NativeMath)\n/* harmony export */ });\nconst NativeMath = Math; // Alias the built-in Math ob\n\n\n//# sourceURL=webpack://cmme/./src/java/lang/_Math.ts?");

/***/ }),

/***/ "./src/java/net/MalformedURLException.ts":
/*!***********************************************!*\
  !*** ./src/java/net/MalformedURLException.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MalformedURLException: () => (/* binding */ MalformedURLException)\n/* harmony export */ });\n/* harmony import */ var _io_IOException__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../io/IOException */ \"./src/java/io/IOException.ts\");\n\nclass MalformedURLException extends _io_IOException__WEBPACK_IMPORTED_MODULE_0__.IOException {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/net/MalformedURLException.ts?");

/***/ }),

/***/ "./src/java/net/URI.ts":
/*!*****************************!*\
  !*** ./src/java/net/URI.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   URI: () => (/* binding */ URI)\n/* harmony export */ });\n/* harmony import */ var _URL__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./URL */ \"./src/java/net/URL.ts\");\n\nclass URI {\n    constructor(_path) {\n        this._path = _path;\n    }\n    toURL() {\n        return new _URL__WEBPACK_IMPORTED_MODULE_0__.URL(this._path);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/net/URI.ts?");

/***/ }),

/***/ "./src/java/net/URISyntaxException.ts":
/*!********************************************!*\
  !*** ./src/java/net/URISyntaxException.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   URISyntaxException: () => (/* binding */ URISyntaxException)\n/* harmony export */ });\n/* harmony import */ var _lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lang/Exception */ \"./src/java/lang/Exception.ts\");\n\nclass URISyntaxException extends _lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/net/URISyntaxException.ts?");

/***/ }),

/***/ "./src/java/net/URL.ts":
/*!*****************************!*\
  !*** ./src/java/net/URL.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   URL: () => (/* binding */ URL)\n/* harmony export */ });\n/* harmony import */ var _URI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./URI */ \"./src/java/net/URI.ts\");\n/* harmony import */ var _io_InputStream__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../io/InputStream */ \"./src/java/io/InputStream.ts\");\n\n\nclass URL {\n    constructor(arg0) {\n        this.path = arg0;\n    }\n    openStream() {\n        return new _io_InputStream__WEBPACK_IMPORTED_MODULE_1__.InputStream(this.path);\n    }\n    toURI() {\n        return new _URI__WEBPACK_IMPORTED_MODULE_0__.URI(this.path);\n    }\n    getFile() {\n        return this.path;\n    }\n    getHost() {\n        return \"\";\n    }\n    openConnection() {\n        throw new Error(\"Not Implemented\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/net/URL.ts?");

/***/ }),

/***/ "./src/java/util/AbstractCollection.ts":
/*!*********************************************!*\
  !*** ./src/java/util/AbstractCollection.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractCollection: () => (/* binding */ AbstractCollection)\n/* harmony export */ });\nclass AbstractCollection {\n    [Symbol.iterator]() {\n        throw new Error(\"Method not implemented.\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/AbstractCollection.ts?");

/***/ }),

/***/ "./src/java/util/AbstractList.ts":
/*!***************************************!*\
  !*** ./src/java/util/AbstractList.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractList: () => (/* binding */ AbstractList)\n/* harmony export */ });\n/* harmony import */ var _AbstractCollection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractCollection */ \"./src/java/util/AbstractCollection.ts\");\n\nclass AbstractList extends _AbstractCollection__WEBPACK_IMPORTED_MODULE_0__.AbstractCollection {\n    constructor() {\n        super();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/AbstractList.ts?");

/***/ }),

/***/ "./src/java/util/AbstractMap.ts":
/*!**************************************!*\
  !*** ./src/java/util/AbstractMap.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractMap: () => (/* binding */ AbstractMap)\n/* harmony export */ });\nclass AbstractMap {\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/AbstractMap.ts?");

/***/ }),

/***/ "./src/java/util/ArrayList.ts":
/*!************************************!*\
  !*** ./src/java/util/ArrayList.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrayList: () => (/* binding */ ArrayList)\n/* harmony export */ });\n/* harmony import */ var _AbstractList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractList */ \"./src/java/util/AbstractList.ts\");\n\nclass ArrayList extends _AbstractList__WEBPACK_IMPORTED_MODULE_0__.AbstractList {\n    constructor(param) {\n        super();\n        this.elements = [];\n        if (typeof param === \"number\")\n            this.elements = new Array( /*param*/); //capacity not size\n        else if (param) // Initialize from collection\n         {\n            this.elements = Array.from(param); //assumed to be ts iterable\n        }\n        else // Default constructor (empty array)\n         {\n            this.elements = [];\n        }\n    }\n    toArray() {\n        throw new Error();\n    }\n    addAll(arg1, arg2) {\n        if (typeof arg1 === \"number\" && arg2) {\n            // Insert at specified index\n            const index = arg1;\n            const collection = arg2;\n            if (index < 0 || index > this.elements.length) {\n                throw new Error(\"Index out of bounds\");\n            }\n            const items = Array.from(collection);\n            this.elements.splice(index, 0, ...items);\n            return items.length > 0;\n        }\n        else {\n            // Append to the end\n            const collection = arg1;\n            const items = Array.from(collection);\n            this.elements.push(...items);\n            return items.length > 0;\n        }\n    }\n    // Single implementation handling both cases\n    add(arg1, arg2) {\n        if (typeof arg1 === \"number\" && arg2 !== undefined) {\n            // Overload: add(index, element)\n            this.elements.splice(arg1, 0, arg2);\n        }\n        else {\n            // Overload: add(element)\n            this.elements.push(arg1);\n        }\n        return true;\n    }\n    indexOf(element) {\n        return this.elements.indexOf(element);\n    }\n    get(index) {\n        if (index < 0 || index >= this.elements.length) {\n            throw new Error(\"Index out of bounds\");\n        }\n        return this.elements[index];\n    }\n    size() {\n        return this.elements.length;\n    }\n    /** Single method implementation */\n    remove(arg) {\n        if (typeof arg === \"number\") {\n            // Remove by index\n            if (arg < 0 || arg >= this.elements.length) {\n                throw new Error(\"Index out of bounds\");\n            }\n            return this.elements.splice(arg, 1)[0];\n        }\n        else {\n            // Remove by element\n            const index = this.elements.indexOf(arg);\n            if (index !== -1) {\n                this.elements.splice(index, 1);\n                return true;\n            }\n            return false;\n        }\n    }\n    contains(element) {\n        return this.elements.includes(element);\n    }\n    isEmpty() {\n        return this.elements.length === 0;\n    }\n    clear() {\n        this.elements = [];\n    }\n    iterator() {\n        return this.listIterator(0);\n    }\n    listIterator(index = 0) {\n        if (index < 0 || index > this.elements.length) {\n            throw new Error(\"Index out of bounds\");\n        }\n        let cursor = index;\n        let lastReturnedIndex = -1;\n        const elements = this.elements;\n        return {\n            hasNext() {\n                return cursor < elements.length;\n            },\n            next() {\n                if (!this.hasNext()) {\n                    throw new Error(\"No such element\");\n                }\n                lastReturnedIndex = cursor;\n                return elements[cursor++];\n            },\n            hasPrevious() {\n                return cursor > 0;\n            },\n            previous() {\n                if (!this.hasPrevious()) {\n                    throw new Error(\"No such element\");\n                }\n                lastReturnedIndex = --cursor;\n                return elements[cursor];\n            },\n            nextIndex() {\n                return cursor;\n            },\n            previousIndex() {\n                return cursor - 1;\n            },\n            remove() {\n                if (lastReturnedIndex < 0) {\n                    throw new Error(\"Illegal state: next() or previous() must be called before remove()\");\n                }\n                elements.splice(lastReturnedIndex, 1);\n                if (cursor > lastReturnedIndex) {\n                    cursor--; // Adjust cursor after removal\n                }\n                lastReturnedIndex = -1;\n            },\n            set(element) {\n                if (lastReturnedIndex < 0) {\n                    throw new Error(\"Illegal state: next() or previous() must be called before set()\");\n                }\n                elements[lastReturnedIndex] = element;\n            },\n            add(element) {\n                elements.splice(cursor, 0, element);\n                cursor++; // Move cursor forward\n                lastReturnedIndex = -1;\n            }\n        };\n    }\n    //  FIX: Implements TypeScript's iterator protocol\n    [Symbol.iterator]() {\n        let iter = this.listIterator(0);\n        return {\n            next() {\n                if (iter.hasNext()) {\n                    return { value: iter.next(), done: false };\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/ArrayList.ts?");

/***/ }),

/***/ "./src/java/util/EventObject.ts":
/*!**************************************!*\
  !*** ./src/java/util/EventObject.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventObject: () => (/* binding */ EventObject)\n/* harmony export */ });\nclass EventObject {\n    constructor(source) {\n        this.source = source;\n    }\n    getSource() {\n        return this.source;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/EventObject.ts?");

/***/ }),

/***/ "./src/java/util/HashMap.ts":
/*!**********************************!*\
  !*** ./src/java/util/HashMap.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HashMap: () => (/* binding */ HashMap)\n/* harmony export */ });\n/* harmony import */ var _AbstractMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractMap */ \"./src/java/util/AbstractMap.ts\");\n\nclass HashMap extends _AbstractMap__WEBPACK_IMPORTED_MODULE_0__.AbstractMap {\n    constructor() {\n        super();\n        this.map = new Map();\n    }\n    get(arg0) {\n        return this.map.get(arg0);\n    }\n    put(arg0, arg1) {\n        this.map.set(arg0, arg1);\n        return arg1;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/HashMap.ts?");

/***/ }),

/***/ "./src/java/util/LinkedList.ts":
/*!*************************************!*\
  !*** ./src/java/util/LinkedList.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LinkedList: () => (/* binding */ LinkedList)\n/* harmony export */ });\n/** Internal node structure */\nclass Node {\n    constructor(value, next = null, prev = null) {\n        this.value = value;\n        this.next = next;\n        this.prev = prev;\n    }\n}\nclass LinkedList {\n    constructor(collection) {\n        this.head = null;\n        this.tail = null;\n        this._size = 0;\n        if (collection)\n            this.addAll(collection);\n    }\n    subList(fromIndex, toIndex) {\n        if (fromIndex < 0 || toIndex > this._size || fromIndex > toIndex) {\n            throw new Error(\"IndexOutOfBoundsException: Invalid range\");\n        }\n        const sublist = new LinkedList();\n        let current = this.getNode(fromIndex);\n        for (let i = fromIndex; i < toIndex; i++) {\n            if (!current)\n                break;\n            sublist.add(current.value);\n            current = current.next;\n        }\n        return sublist;\n    }\n    toArray() {\n        throw new Error();\n    }\n    addAll(collection) {\n        let added = false;\n        for (const element of collection) {\n            this.add(element);\n            added = true;\n        }\n        return added;\n    }\n    removeLast() {\n        if (!this.tail) {\n            throw new Error(\"NoSuchElementException: LinkedList is empty\");\n        }\n        const value = this.tail.value;\n        if (this.tail.prev) {\n            this.tail.prev.next = null;\n        }\n        else {\n            this.head = null;\n        }\n        this.tail = this.tail.prev;\n        this._size--;\n        return value;\n    }\n    getFirst() {\n        if (!this.head) {\n            throw new Error(\"NoSuchElementException: LinkedList is empty\");\n        }\n        return this.head.value;\n    }\n    getLast() {\n        if (!this.tail) {\n            throw new Error(\"NoSuchElementException: LinkedList is empty\");\n        }\n        return this.tail.value;\n    }\n    size() {\n        return this._size;\n    }\n    isEmpty() {\n        return this._size === 0;\n    }\n    clear() {\n        this.head = null;\n        this.tail = null;\n        this._size = 0;\n    }\n    add(arg1, arg2) {\n        if (typeof arg1 === \"number\" && arg2 !== undefined) {\n            const index = arg1;\n            const element = arg2;\n            if (index < 0 || index > this._size) {\n                throw new Error(\"Index out of bounds\");\n            }\n            const newNode = new Node(element);\n            if (index === 0) {\n                if (!this.head) {\n                    this.head = this.tail = newNode;\n                }\n                else {\n                    newNode.next = this.head;\n                    this.head.prev = newNode;\n                    this.head = newNode;\n                }\n            }\n            else if (index === this._size) {\n                this.add(element);\n                return;\n            }\n            else {\n                let current = this.getNode(index);\n                newNode.prev = current.prev;\n                newNode.next = current;\n                current.prev.next = newNode;\n                current.prev = newNode;\n            }\n            this._size++;\n        }\n        else {\n            const element = arg1;\n            const newNode = new Node(element);\n            if (!this.tail) {\n                this.head = this.tail = newNode;\n            }\n            else {\n                this.tail.next = newNode;\n                newNode.prev = this.tail;\n                this.tail = newNode;\n            }\n            this._size++;\n            return true;\n        }\n    }\n    get(index) {\n        const node = this.getNode(index);\n        if (!node)\n            throw new Error(\"Index out of bounds\");\n        return node.value;\n    }\n    remove(arg) {\n        if (typeof arg === \"number\") {\n            if (arg < 0 || arg >= this._size) {\n                throw new Error(\"Index out of bounds\");\n            }\n            let current = this.getNode(arg);\n            if (!current)\n                throw new Error(\"Index out of bounds\");\n            if (current.prev)\n                current.prev.next = current.next;\n            if (current.next)\n                current.next.prev = current.prev;\n            if (current === this.head)\n                this.head = current.next;\n            if (current === this.tail)\n                this.tail = current.prev;\n            this._size--;\n            return current.value;\n        }\n        else {\n            let current = this.head;\n            while (current) {\n                if (current.value === arg) {\n                    if (current.prev)\n                        current.prev.next = current.next;\n                    else\n                        this.head = current.next;\n                    if (current.next)\n                        current.next.prev = current.prev;\n                    else\n                        this.tail = current.prev;\n                    this._size--;\n                    return true;\n                }\n                current = current.next;\n            }\n            return false;\n        }\n    }\n    getNode(index) {\n        if (index < 0 || index >= this._size)\n            return null;\n        let current = this.head;\n        for (let i = 0; i < index; i++) {\n            current = current.next;\n        }\n        return current;\n    }\n    contains(element) {\n        return this.indexOf(element) !== -1;\n    }\n    indexOf(element) {\n        let current = this.head;\n        let index = 0;\n        while (current) {\n            if (current.value === element)\n                return index;\n            current = current.next;\n            index++;\n        }\n        return -1;\n    }\n    /** Returns a Java-like list iterator */\n    listIterator(index = 0) {\n        if (index < 0 || index > this._size)\n            throw new Error(\"Index out of bounds\");\n        let current = this.getNode(index);\n        let cursor = index;\n        let lastReturned = null;\n        return {\n            hasNext() {\n                return cursor < this._size;\n            },\n            next() {\n                if (!this.hasNext())\n                    throw new Error(\"No such element\");\n                lastReturned = current;\n                if (current)\n                    current = current.next;\n                cursor++;\n                return lastReturned.value;\n            },\n            hasPrevious() {\n                return cursor > 0;\n            },\n            previous() {\n                if (!this.hasPrevious())\n                    throw new Error(\"No such element\");\n                if (current)\n                    current = current.prev;\n                cursor--;\n                lastReturned = current;\n                return lastReturned.value;\n            },\n            nextIndex() {\n                return cursor;\n            },\n            previousIndex() {\n                return cursor - 1;\n            },\n            remove() {\n                if (!lastReturned)\n                    throw new Error(\"Illegal state: next() or previous() must be called before remove()\");\n                if (lastReturned.prev)\n                    lastReturned.prev.next = lastReturned.next;\n                if (lastReturned.next)\n                    lastReturned.next.prev = lastReturned.prev;\n                if (lastReturned === this.head)\n                    this.head = lastReturned.next;\n                if (lastReturned === this.tail)\n                    this.tail = lastReturned.prev;\n                this._size--;\n                lastReturned = null;\n            },\n            set(element) {\n                if (!lastReturned)\n                    throw new Error(\"Illegal state: next() or previous() must be called before set()\");\n                lastReturned.value = element;\n            },\n            add(element) {\n                const newNode = new this.Node(element);\n                if (!current) {\n                    this.head = this.tail = newNode;\n                }\n                else {\n                    newNode.next = current;\n                    newNode.prev = current.prev;\n                    if (current.prev)\n                        current.prev.next = newNode;\n                    current.prev = newNode;\n                    if (cursor === 0)\n                        this.head = newNode;\n                }\n                cursor++;\n                this._size++;\n                lastReturned = null;\n            }\n        };\n    }\n    iterator() {\n        let current = this.head;\n        let lastReturned = null;\n        return {\n            hasNext() {\n                return current !== null;\n            },\n            next() {\n                if (!current)\n                    throw new Error(\"NoSuchElementException: No more elements\");\n                lastReturned = current;\n                const value = current.value;\n                current = current.next;\n                return value;\n            },\n            remove() {\n                if (!lastReturned)\n                    throw new Error(\"IllegalStateException: next() must be called before remove()\");\n                if (lastReturned.prev)\n                    lastReturned.prev.next = lastReturned.next;\n                if (lastReturned.next)\n                    lastReturned.next.prev = lastReturned.prev;\n                if (lastReturned === this.head)\n                    this.head = lastReturned.next;\n                if (lastReturned === this.tail)\n                    this.tail = lastReturned.prev;\n                this._size--;\n                lastReturned = null;\n            }\n        };\n    }\n    /** Implements TypeScript's iterator protocol for `for...of` support */\n    [Symbol.iterator]() {\n        let iter = this.listIterator(0);\n        return {\n            next() {\n                return iter.hasNext() ? { value: iter.next(), done: false } : { value: undefined, done: true };\n            }\n        };\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/LinkedList.ts?");

/***/ }),

/***/ "./src/java/util/Vector.ts":
/*!*********************************!*\
  !*** ./src/java/util/Vector.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Vector: () => (/* binding */ Vector)\n/* harmony export */ });\n/* harmony import */ var _AbstractList__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractList */ \"./src/java/util/AbstractList.ts\");\n\nclass Vector extends _AbstractList__WEBPACK_IMPORTED_MODULE_0__.AbstractList {\n    add(element) {\n        throw new Error('Method not implemented.');\n    }\n    get(index) {\n        throw new Error('Method not implemented.');\n    }\n    remove(index) {\n        throw new Error('Method not implemented.');\n    }\n    contains(element) {\n        throw new Error('Method not implemented.');\n    }\n    isEmpty() {\n        throw new Error('Method not implemented.');\n    }\n    clear() {\n        throw new Error('Method not implemented.');\n    }\n    listIterator(index) {\n        throw new Error('Method not implemented.');\n    }\n    size() {\n        throw new Error('Method not implemented.');\n    }\n    iterator() {\n        throw new Error('Method not implemented.');\n    }\n    toArray() {\n        throw new Error('Method not implemented.');\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/java/util/Vector.ts?");

/***/ }),

/***/ "./src/javax/imageio/ImageIO.ts":
/*!**************************************!*\
  !*** ./src/javax/imageio/ImageIO.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageIO: () => (/* binding */ ImageIO)\n/* harmony export */ });\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Util/Resources */ \"./src/Util/Resources.ts\");\n\n\nclass ImageIO {\n    static write(arg0, arg1, arg2) {\n        throw new Error(\"Not Implemented\");\n    }\n    static read(arg0) {\n        var res = _Util_Resources__WEBPACK_IMPORTED_MODULE_1__.Resources.ensureResource(arg0)._content;\n        if (res === undefined || !(res instanceof HTMLImageElement))\n            throw new Error(\"Not Implemented\");\n        var img = res;\n        var bi = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_0__.BufferedImage(img.naturalWidth, img.naturalHeight, 0);\n        const ctx = bi.canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        return bi;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/imageio/ImageIO.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/MetaMessage.ts":
/*!*********************************************!*\
  !*** ./src/javax/sound/midi/MetaMessage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MetaMessage: () => (/* binding */ MetaMessage)\n/* harmony export */ });\n/* harmony import */ var _MidiMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MidiMessage */ \"./src/javax/sound/midi/MidiMessage.ts\");\n\nclass MetaMessage extends _MidiMessage__WEBPACK_IMPORTED_MODULE_0__.MidiMessage {\n    constructor() {\n        super();\n        this.type = 0;\n        this.data = [];\n        this.length = 0;\n    }\n    setMessage(type, data, length) {\n        this.type = type;\n        this.data = data;\n        this.length = length;\n    }\n    getType() {\n        return this.type;\n    }\n    getData() {\n        return this.data;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/MetaMessage.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/MidiChannel.ts":
/*!*********************************************!*\
  !*** ./src/javax/sound/midi/MidiChannel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MidiChannel: () => (/* binding */ MidiChannel)\n/* harmony export */ });\nclass MidiChannel {\n    controlChange(controller, value) {\n        // Handle control change message for a given controller and value\n        console.log(`Control change: Controller ${controller}, Value ${value}`);\n    }\n    noteOn(note, velocity) {\n        console.log(`Note On: ${note} with velocity ${velocity}`);\n    }\n    noteOff(note) {\n        console.log(`Note Off: ${note}`);\n    }\n    programChange(program) {\n        console.log(`Program Change: Program ${program}`);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/MidiChannel.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/MidiEvent.ts":
/*!*******************************************!*\
  !*** ./src/javax/sound/midi/MidiEvent.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MidiEvent: () => (/* binding */ MidiEvent)\n/* harmony export */ });\nclass MidiEvent {\n    constructor(message, tick) {\n        this.message = message;\n        this.tick = tick;\n    }\n    getMessage() {\n        return this.message;\n    }\n    getTick() {\n        return this.tick;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/MidiEvent.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/MidiMessage.ts":
/*!*********************************************!*\
  !*** ./src/javax/sound/midi/MidiMessage.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MidiMessage: () => (/* binding */ MidiMessage)\n/* harmony export */ });\nclass MidiMessage {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/MidiMessage.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/MidiSystem.ts":
/*!********************************************!*\
  !*** ./src/javax/sound/midi/MidiSystem.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MidiSystem: () => (/* binding */ MidiSystem)\n/* harmony export */ });\n/* harmony import */ var _MetaMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MetaMessage */ \"./src/javax/sound/midi/MetaMessage.ts\");\n/* harmony import */ var _MidiChannel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MidiChannel */ \"./src/javax/sound/midi/MidiChannel.ts\");\n/* harmony import */ var _ShortMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShortMessage */ \"./src/javax/sound/midi/ShortMessage.ts\");\n\n\n\nclass MidiSystem {\n    static getSequencer() {\n        return new SequencerWebAudioImpl();\n    }\n    static getSynthesizer() {\n        return new SynthesizerImpl();\n    }\n    static write(sequence, type, out) {\n        var blob = MidiFileWriter.write(sequence);\n        const url = URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = \"export.midi\";\n        link.click();\n        URL.revokeObjectURL(url);\n        return blob.size;\n    }\n}\nclass SynthesizerImpl {\n    constructor() {\n        this.channels = Array.from({ length: 16 }, () => new _MidiChannel__WEBPACK_IMPORTED_MODULE_1__.MidiChannel());\n    }\n    open() {\n        console.log('Synthesizer opened');\n    }\n    getReceiver() {\n        return new ReceiverImpl();\n    }\n    getChannels() {\n        return this.channels;\n    }\n}\nclass ReceiverImpl {\n}\nclass TransmitterImpl {\n    setReceiver(receiver) {\n        console.log('Receiver set');\n    }\n}\nclass SequencerDebugImpl {\n    constructor() {\n        this.sequence = null;\n        this.currentTick = 0;\n        this.isRunning = false;\n        this.timerId = null;\n        this.listeners = [];\n    }\n    loop() {\n        if (!this.isRunning || !this.sequence)\n            return;\n        // Get the current track and its events\n        const tracks = this.sequence.getTracks();\n        tracks.forEach(track => {\n            const events = track.getEventsForTick(this.currentTick);\n            events.forEach(event => {\n                // Here you would process the MIDI event, e.g., print it to the console\n                console.log(`Tick ${this.currentTick}:`, event);\n            });\n        });\n        // Move to the next tick\n        this.currentTick++;\n        // Request the next frame\n        if (this.isRunning) {\n            this.timerId = requestAnimationFrame(() => this.loop());\n        }\n    }\n    ;\n    open() {\n        console.log('Sequencer opened');\n    }\n    setSequence(sequence) {\n        this.sequence = sequence;\n        console.log('Sequence set');\n    }\n    getTransmitter() {\n        return new TransmitterImpl();\n    }\n    addMetaEventListener(listener) {\n        this.listeners.push(listener);\n        return true;\n    }\n    removeMetaEventListener(listener) {\n        this.listeners = this.listeners.filter(l => l !== listener);\n    }\n    setTickPosition(tick) {\n        this.currentTick = tick;\n        console.log(`Tick position set to ${tick}`);\n    }\n    setTempoInBPM(bpm) {\n        console.log(`Tempo set to ${bpm} BPM`);\n        // You could adjust the timing of the `loop` based on the BPM here\n    }\n    start() {\n        if (this.isRunning)\n            return;\n        this.isRunning = true;\n        this.loop(); // Start the sequence\n        console.log('Sequencer started');\n    }\n    stop() {\n        if (!this.isRunning)\n            return;\n        this.isRunning = false;\n        if (this.timerId !== null) {\n            cancelAnimationFrame(this.timerId);\n        }\n        console.log('Sequencer stopped');\n    }\n    close() {\n        console.log('Sequencer closed');\n    }\n    setTempoFactor(factor) {\n        console.log(`Tempo factor set to ${factor}`);\n    }\n}\n//this.sequencer.getTransmitter().setReceiver(synthesizer.getReceiver());\nclass SequencerWebAudioImpl {\n    constructor() {\n        this.secPlaybackStart = 0;\n        this.tick = 0;\n        this.timerId = null;\n        this.sequence = null;\n        this.listeners = [];\n        this.masterGain = null;\n        this.tempoBPM = 120;\n        this.ppq = 40; //960;\n        this.mapNoteToOscillatorNode = new Map();\n        this.gainNodes = new Map();\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    }\n    open() {\n    }\n    setSequence(sequence) {\n        this.sequence = sequence;\n        this.ppq = sequence.getResolution();\n    }\n    getTransmitter() {\n        return new TransmitterImpl();\n    }\n    addMetaEventListener(listener) {\n        this.listeners.push(listener);\n        return true;\n    }\n    removeMetaEventListener(listener) {\n        this.listeners = this.listeners.filter(l => l !== listener);\n    }\n    setTickPosition(tick) {\n    }\n    setTempoInBPM(bpm) {\n        this.tempoBPM = bpm;\n    }\n    close() {\n    }\n    setTempoFactor(factor) {\n    }\n    isPlaying() {\n        return this.timerId != null;\n    }\n    start() {\n        if (this.isPlaying())\n            return;\n        this.anotherLoop();\n        this.secPlaybackStart = this.audioContext.currentTime;\n        this.tick = 0;\n        this.masterGain = this.audioContext.createGain();\n        this.masterGain.connect(this.audioContext.destination);\n        this.audioContext.resume();\n    }\n    stop() {\n        if (!this.isPlaying())\n            return;\n        cancelAnimationFrame(this.timerId);\n        this.timerId = null;\n        //  this.masterGain.gain.setValueAtTime(0, 0);\n        this.masterGain.disconnect();\n        this.mapNoteToOscillatorNode.clear();\n        this.gainNodes.clear();\n    }\n    tickToSecs(tick) {\n        var ticksPerQuarterNote = this.ppq;\n        var beatsPerSecond = this.tempoBPM / 60.0;\n        var ticksPerSecond = ticksPerQuarterNote * beatsPerSecond;\n        return tick / ticksPerSecond;\n    }\n    secsToTick(seconds) {\n        var ticksPerQuarterNote = this.ppq;\n        var beatsPerSecond = this.tempoBPM / 60.0;\n        var ticksPerSecond = ticksPerQuarterNote * beatsPerSecond;\n        return Math.round(ticksPerSecond * seconds);\n    }\n    // The loop now triggers events using the Web Audio API\n    loop() {\n        if (!this.isPlaying() || !this.sequence)\n            return;\n        // Calculate the future tick position (current time + 2 seconds)\n        const futureTime = this.audioContext.currentTime - this.secPlaybackStart + 0.2;\n        const futureTick = this.secsToTick(futureTime);\n        // Get the current track and its events\n        const tracks = this.sequence.getTracks();\n        tracks.forEach(track => {\n            let eventsToProcess = track.getEventsForTickRange(this.tick, futureTick);\n            eventsToProcess.forEach(event => {\n                this.processEvent(event);\n            });\n        });\n        this.tick = futureTick;\n        this.anotherLoop();\n    }\n    ;\n    anotherLoop() {\n        this.timerId = requestAnimationFrame(() => this.loop());\n    }\n    // Process each event: Start/Stop Oscillators\n    processEvent(event) {\n        const message = event.getMessage();\n        const tick = event.getTick();\n        if (message instanceof _ShortMessage__WEBPACK_IMPORTED_MODULE_2__.ShortMessage) {\n            const status = message.getData()[0];\n            const note = message.getData()[1];\n            const velocity = message.getData()[2];\n            if (status === _ShortMessage__WEBPACK_IMPORTED_MODULE_2__.ShortMessage.NOTE_ON)\n                this.noteOn(note, velocity, tick);\n            else if (status === _ShortMessage__WEBPACK_IMPORTED_MODULE_2__.ShortMessage.NOTE_OFF)\n                this.noteOff(note, tick);\n        }\n        else if (message instanceof _MetaMessage__WEBPACK_IMPORTED_MODULE_0__.MetaMessage) {\n            for (const listener of this.listeners) {\n                listener.meta(message);\n            }\n        }\n    }\n    noteOn(note, velocity, tick) {\n        const frequency = this.midiToFrequency(note);\n        var secs = this.tickToSecs(tick) + this.secPlaybackStart;\n        const oscillator = this.audioContext.createOscillator();\n        oscillator.frequency.setValueAtTime(frequency, secs);\n        const gainNode = this.audioContext.createGain();\n        gainNode.gain.setValueAtTime(velocity / 127, secs); // Normalize the velocity to 0-1 range\n        // Connect nodes\n        oscillator.connect(gainNode);\n        //gainNode.connect(this.audioContext.destination);\n        gainNode.connect(this.masterGain);\n        oscillator.start(secs);\n        this.mapNoteToOscillatorNode.set(note, oscillator);\n        this.gainNodes.set(note, gainNode);\n        console.log(\"Note ON\");\n    }\n    noteOff(note, tick) {\n        const oscillator = this.mapNoteToOscillatorNode.get(note);\n        if (oscillator === undefined)\n            return;\n        const gainNode = this.gainNodes.get(note);\n        var secs = this.tickToSecs(tick) + this.secPlaybackStart;\n        oscillator.stop(secs);\n        //        if (oscillator && gainNode) {\n        //          // Fade out the note by reducing its volume to 0\n        //        gainNode.gain.setValueAtTime(0, startTime);\n        //      oscillator.stop(startTime + 0.1); // Stop with a short fade out\n        //}\n    }\n    midiToFrequency(note) {\n        return 440 * Math.pow(2, (note - 69) / 12); // A4 = 440Hz, MIDI note 69\n    }\n}\nclass MidiFileWriter {\n    static write(sequence) {\n        var w = new Writer();\n        MidiFileWriter.writeHeader(w, sequence);\n        for (var i = 0; i < sequence.getTracks().length; i++) {\n            MidiFileWriter.writeTrack(w, sequence.getTracks()[i], {});\n        }\n        //w buffer to blob\n        return new Blob([new Uint8Array(w.getBuffer())], { type: \"audio/midi\" });\n    }\n    static writeHeader(w, sequence) {\n        var format = 1;\n        var timeDivision = sequence.getResolution();\n        var h = new Writer();\n        h.writeUInt16(format);\n        h.writeUInt16(sequence.getTracks().length);\n        h.writeUInt16(timeDivision);\n        w.writeChunk('MThd', h.getBuffer());\n    }\n    static writeTrack(w, track, opts) {\n        MidiFileWriter.lastTick = 0;\n        var t = new Writer();\n        var i, len = track.getEvents().length;\n        for (i = 0; i < len; i++) {\n            MidiFileWriter.writeEvent(t, track.getEvents()[i]);\n        }\n        w.writeChunk('MTrk', t.getBuffer());\n    }\n    static writeEvent(w, event) {\n        var statusByte = event.getMessage().getData()[0];\n        var messageType = (statusByte & 0xF0); // >> 4; // Extract upper 4 bits\n        var messageChannel = statusByte & 0x0F; // Extract lower 4 bits\n        var type = messageType == 0x80 ? \"noteOff\" : messageType == 0x90 ? \"noteOn\" : \"\";\n        if (type != \"noteOn\" && type != \"noteOff\")\n            return null;\n        var deltaTime = event.getTick() - MidiFileWriter.lastTick;\n        MidiFileWriter.lastTick = event.getTick();\n        var eventTypeByte = null;\n        w.writeVarInt(deltaTime);\n        switch (type) {\n            case 'noteOff':\n                var noteByte = 0x80;\n                eventTypeByte = noteByte | messageChannel;\n                w.writeUInt8(eventTypeByte);\n                w.writeUInt8(event.getMessage().getData()[1]);\n                w.writeUInt8(event.getMessage().getData()[2]);\n                break;\n            case 'noteOn':\n                eventTypeByte = 0x90 | messageChannel;\n                w.writeUInt8(eventTypeByte);\n                w.writeUInt8(event.getMessage().getData()[1]);\n                w.writeUInt8(event.getMessage().getData()[2]);\n                break;\n            default:\n                return;\n        }\n    }\n}\nMidiFileWriter.lastTick = 0;\nclass Writer {\n    constructor() {\n        this.buffer = [];\n    }\n    getBuffer() {\n        return this.buffer;\n    }\n    writeUInt8(v) {\n        this.buffer.push(v & 0xFF);\n    }\n    writeInt8(v) {\n        this.writeInt8(v);\n    }\n    writeUInt16(v) {\n        var b0 = (v >> 8) & 0xFF, b1 = v & 0xFF;\n        this.writeUInt8(b0);\n        this.writeUInt8(b1);\n    }\n    writeInt16(v) {\n        this.writeUInt16(v);\n    }\n    writeUInt24(v) {\n        var b0 = (v >> 16) & 0xFF, b1 = (v >> 8) & 0xFF, b2 = v & 0xFF;\n        this.writeUInt8(b0);\n        this.writeUInt8(b1);\n        this.writeUInt8(b2);\n    }\n    writeInt24(v) {\n        this.writeUInt24(v);\n    }\n    writeUInt32(v) {\n        var b0 = (v >> 24) & 0xFF, b1 = (v >> 16) & 0xFF, b2 = (v >> 8) & 0xFF, b3 = v & 0xFF;\n        this.writeUInt8(b0);\n        this.writeUInt8(b1);\n        this.writeUInt8(b2);\n        this.writeUInt8(b3);\n    }\n    writeInt32(v) {\n        this.writeUInt32(v);\n    }\n    writeBytes(arr) {\n        this.buffer = this.buffer.concat(Array.prototype.slice.call(arr, 0));\n    }\n    writeString(str) {\n        var i, len = str.length, arr = [];\n        for (i = 0; i < len; i++) {\n            arr.push(str.codePointAt(i));\n        }\n        this.writeBytes(arr);\n    }\n    writeVarInt(v) {\n        if (v < 0)\n            throw \"Cannot write negative variable-length integer\";\n        if (v <= 0x7F) {\n            this.writeUInt8(v);\n        }\n        else {\n            var i = v;\n            var bytes = [];\n            bytes.push(i & 0x7F);\n            i >>= 7;\n            while (i) {\n                var b = i & 0x7F | 0x80;\n                bytes.push(b);\n                i >>= 7;\n            }\n            this.writeBytes(bytes.reverse());\n        }\n    }\n    writeChunk(id, data) {\n        this.writeString(id);\n        this.writeUInt32(data.length);\n        this.writeBytes(data);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/MidiSystem.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/Sequence.ts":
/*!******************************************!*\
  !*** ./src/javax/sound/midi/Sequence.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sequence: () => (/* binding */ Sequence)\n/* harmony export */ });\n/* harmony import */ var _Track__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Track */ \"./src/javax/sound/midi/Track.ts\");\n\nclass Sequence {\n    constructor(divisionType, resolution, numTracks) {\n        this.divisionType = divisionType;\n        this.resolution = resolution;\n        this.tracks = new Array(numTracks).fill(null).map(() => new _Track__WEBPACK_IMPORTED_MODULE_0__.Track());\n    }\n    getResolution() {\n        return this.resolution;\n    }\n    getTracks() {\n        return this.tracks;\n    }\n}\nSequence.PPQ = 960; // Typical PPQ value\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/Sequence.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/ShortMessage.ts":
/*!**********************************************!*\
  !*** ./src/javax/sound/midi/ShortMessage.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ShortMessage: () => (/* binding */ ShortMessage)\n/* harmony export */ });\n/* harmony import */ var _MidiMessage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MidiMessage */ \"./src/javax/sound/midi/MidiMessage.ts\");\n\nclass ShortMessage extends _MidiMessage__WEBPACK_IMPORTED_MODULE_0__.MidiMessage {\n    constructor() {\n        super();\n        this.status = 0;\n        this.data1 = 0;\n        this.data2 = 0;\n    }\n    setMessage(a, b, c, d = undefined) {\n        if (arguments.length == 3) {\n            this.status = a;\n            this.data1 = b;\n            this.data2 = c;\n        }\n        else {\n            this.status = (a & 0xF0) | (b & 0x0F); // (command & 0xF0) ensures the command bits are preserved, and (channel & 0x0F) ensures the channel is encoded in the lower nibble.\n            this.data1 = c;\n            this.data2 = d;\n        }\n    }\n    getData() {\n        return [this.status, this.data1, this.data2];\n    }\n}\nShortMessage.PROGRAM_CHANGE = 0xC0;\nShortMessage.NOTE_ON = 0x90;\nShortMessage.NOTE_OFF = 0x80;\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/ShortMessage.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/Synthesizer.ts":
/*!*********************************************!*\
  !*** ./src/javax/sound/midi/Synthesizer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Synthesizer: () => (/* binding */ Synthesizer)\n/* harmony export */ });\nclass Synthesizer {\n    open() {\n        throw new Error();\n    }\n    getReceiver() {\n        throw new Error();\n    }\n    getChannels() {\n        throw new Error();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/Synthesizer.ts?");

/***/ }),

/***/ "./src/javax/sound/midi/Track.ts":
/*!***************************************!*\
  !*** ./src/javax/sound/midi/Track.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Track: () => (/* binding */ Track)\n/* harmony export */ });\nclass Track {\n    constructor() {\n        this.dirty = false;\n        this.events = [];\n    }\n    getEvents() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.events.sort((a, b) => a.getTick() - b.getTick());\n        }\n        return this.events;\n    }\n    add(event) {\n        this.dirty = true;\n        this.events.push(event);\n        return true;\n    }\n    getEventsForTick(tick) {\n        if (this.dirty) {\n            this.dirty = false;\n            this.events.sort((a, b) => a.getTick() - b.getTick());\n        }\n        return this.events.filter(event => event.getTick() === tick);\n    }\n    getEventsForTickRange(tickGreaterThanOrEqual, tickLessThan) {\n        return this.events.filter(event => event.getTick() >= tickGreaterThanOrEqual && event.getTick() < tickLessThan);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/sound/midi/Track.ts?");

/***/ }),

/***/ "./src/javax/swing/AbstractButton.ts":
/*!*******************************************!*\
  !*** ./src/javax/swing/AbstractButton.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractButton: () => (/* binding */ AbstractButton)\n/* harmony export */ });\n/* harmony import */ var _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/event/ActionEvent */ \"./src/java/awt/event/ActionEvent.ts\");\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\n\nclass AbstractButton extends _JComponent__WEBPACK_IMPORTED_MODULE_1__.JComponent {\n    constructor(tag, arrClass) {\n        //super('button', [\"AbstractButton\"]);\n        super(tag, arrClass.concat(\"AbstractButton\"));\n        this.actionListeners = [];\n        this.itemListeners = [];\n        this.selected = false;\n        this._getHTMLElement().addEventListener('click', (event) => { this.doClick(); event.stopPropagation(); });\n    }\n    addActionListener(listener) {\n        this.actionListeners.push(listener);\n    }\n    removeActionListener(listener) {\n        this.actionListeners = this.actionListeners.filter(l => l !== listener);\n    }\n    setActionCommand(command) {\n        this.actionCommand = command;\n    }\n    setMnemonic(key) {\n        const mnemonicChar = String.fromCharCode(key).toLowerCase();\n        this._getHTMLElement().setAttribute(\"accesskey\", mnemonicChar);\n    }\n    getText() {\n        return this.text;\n    }\n    setText(text) {\n        this.text = text;\n        this._getHTMLElement().textContent = text;\n    }\n    doClick() {\n        this.actionListeners.forEach(listener => listener.actionPerformed(new _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_0__.ActionEvent(this.actionCommand, this)));\n        this.clickPerformed();\n    }\n    clickPerformed() {\n    }\n    setIcon(icon) {\n        this.icon2 = icon;\n        this._getHTMLElement().innerHTML = '';\n        const img = document.createElement('img');\n        img.src = icon.getImage().canvas.toDataURL();\n        img.style.maxWidth = '24px';\n        img.style.maxHeight = '24px';\n        img.style.marginRight = this.text ? '5px' : '0';\n        this._getHTMLElement().appendChild(img);\n        if (this.text) {\n            this._getHTMLElement().appendChild(document.createTextNode(this.text));\n        }\n    }\n    setSelected(selected) {\n        this.selected = selected;\n    }\n    isSelected() {\n        return this.selected;\n    }\n    setEnabled(enabled) {\n        this._getHTMLElement().disabled = !enabled;\n    }\n    setMargin(arg0) {\n        //this.margin = arg0;\n        this._getHTMLElement().style.padding = `${arg0.top}px ${arg0.right}px ${arg0.bottom}px ${arg0.left}px`;\n    }\n    addItemListener(listener) {\n        this.itemListeners.push(listener);\n    }\n    removeItemListener(listener) {\n        this.itemListeners = this.itemListeners.filter(l => l !== listener);\n    }\n    fireItemEvent(event) {\n        this.itemListeners.forEach(listener => listener.itemStateChanged(event));\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/AbstractButton.ts?");

/***/ }),

/***/ "./src/javax/swing/AbstractListModel.ts":
/*!**********************************************!*\
  !*** ./src/javax/swing/AbstractListModel.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractListModel: () => (/* binding */ AbstractListModel)\n/* harmony export */ });\nclass AbstractListModel {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/AbstractListModel.ts?");

/***/ }),

/***/ "./src/javax/swing/AbstractSpinnerModel.ts":
/*!*************************************************!*\
  !*** ./src/javax/swing/AbstractSpinnerModel.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractSpinnerModel: () => (/* binding */ AbstractSpinnerModel)\n/* harmony export */ });\n/* harmony import */ var _event_ChangeEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event/ChangeEvent */ \"./src/javax/swing/event/ChangeEvent.ts\");\n\nclass AbstractSpinnerModel {\n    constructor() {\n        this.changeListeners = [];\n    }\n    addChangeListener(listener) {\n        this.changeListeners.push(listener);\n    }\n    removeChangeListener(listener) {\n        this.changeListeners = this.changeListeners.filter(l => l !== listener);\n    }\n    fireStageChanged() {\n        var e = new _event_ChangeEvent__WEBPACK_IMPORTED_MODULE_0__.ChangeEvent(this._source);\n        this.changeListeners.forEach(listener => listener.stateChanged(e));\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/AbstractSpinnerModel.ts?");

/***/ }),

/***/ "./src/javax/swing/ActionMap.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/ActionMap.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionMap: () => (/* binding */ ActionMap)\n/* harmony export */ });\nclass ActionMap {\n    constructor() {\n        this.map = new Map();\n    }\n    put(key, action) {\n        this.map.set(key, action);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/ActionMap.ts?");

/***/ }),

/***/ "./src/javax/swing/BorderFactory.ts":
/*!******************************************!*\
  !*** ./src/javax/swing/BorderFactory.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BorderFactory: () => (/* binding */ BorderFactory)\n/* harmony export */ });\n/* harmony import */ var _border_TitledBorder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./border/TitledBorder */ \"./src/javax/swing/border/TitledBorder.ts\");\n/* harmony import */ var _border_CompoundBorder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./border/CompoundBorder */ \"./src/javax/swing/border/CompoundBorder.ts\");\n/* harmony import */ var _border_EmptyBorder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./border/EmptyBorder */ \"./src/javax/swing/border/EmptyBorder.ts\");\n\n\n\nclass BorderFactory {\n    static createCompoundBorder(arg0, arg1) {\n        return new _border_CompoundBorder__WEBPACK_IMPORTED_MODULE_1__.CompoundBorder(arg0, arg1);\n    }\n    static createTitledBorder(arg0) {\n        return new _border_TitledBorder__WEBPACK_IMPORTED_MODULE_0__.TitledBorder(arg0);\n    }\n    static createEmptyBorder(arg0, arg1, arg2, arg3) {\n        return new _border_EmptyBorder__WEBPACK_IMPORTED_MODULE_2__.EmptyBorder(arg0, arg1, arg2, arg3);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/BorderFactory.ts?");

/***/ }),

/***/ "./src/javax/swing/Box.ts":
/*!********************************!*\
  !*** ./src/javax/swing/Box.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Box: () => (/* binding */ Box)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/Component */ \"./src/java/awt/Component.ts\");\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\n\nclass Box extends _JComponent__WEBPACK_IMPORTED_MODULE_1__.JComponent {\n    constructor(axis) {\n        super(\"div\", [\"Box\"]);\n        this._getHTMLElement().style.display = 'flex';\n        this._getHTMLElement().style.flexDirection = axis === 'horizontal' ? 'row' : 'column';\n    }\n    static createHorizontalBox() {\n        return new Box('horizontal');\n    }\n    static createVerticalBox() {\n        return new Box('vertical');\n    }\n    static createVerticalStrut(height) {\n        const strut = new _java_awt_Component__WEBPACK_IMPORTED_MODULE_0__.Component(\"div\", [\"Component\"]);\n        strut._getHTMLElement().style.height = `${height}px`;\n        strut._getHTMLElement().style.flex = 'none';\n        return strut;\n    }\n    static createHorizontalStrut(width) {\n        const strut = new _java_awt_Component__WEBPACK_IMPORTED_MODULE_0__.Component(\"div\", [\"Component\"]);\n        strut._getHTMLElement().style.width = `${width}px`;\n        strut._getHTMLElement().style.flex = 'none';\n        return strut;\n    }\n    static createHorizontalGlue() {\n        const glue = new _java_awt_Component__WEBPACK_IMPORTED_MODULE_0__.Component('div', [\"Component\"]);\n        glue._getHTMLElement().style.flexGrow = '1';\n        return glue;\n    }\n    //new\n    static createGlue() {\n        const glue = new _java_awt_Component__WEBPACK_IMPORTED_MODULE_0__.Component(\"div\", [\"Component\"]);\n        glue._getHTMLElement().style.flexGrow = '1'; // Allow it to grow in both directions\n        glue._getHTMLElement().style.flexShrink = '1'; // Allow it to shrink if needed\n        glue._getHTMLElement().style.flexBasis = '0'; // Allow it to take up available space\n        return glue;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/Box.ts?");

/***/ }),

/***/ "./src/javax/swing/BoxLayout.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/BoxLayout.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BoxLayout: () => (/* binding */ BoxLayout)\n/* harmony export */ });\nclass BoxLayout {\n    constructor(arg0, arg1) {\n        this.axis = arg1;\n        arg0._getHTMLElement().style.display = \"flex\";\n        arg0._getHTMLElement().style.flexDirection = this.axis === BoxLayout.X_AXIS ? \"row\" : \"column\";\n    }\n    layoutContainer(container) {\n        container._getHTMLElement().style.display = \"flex\";\n        container._getHTMLElement().style.flexDirection = this.axis === BoxLayout.X_AXIS ? \"row\" : \"column\";\n        container._getHTMLElement().style.alignItems = \"flex-start\";\n    }\n}\nBoxLayout.X_AXIS = 0;\nBoxLayout.Y_AXIS = 1;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/BoxLayout.ts?");

/***/ }),

/***/ "./src/javax/swing/ButtonGroup.ts":
/*!****************************************!*\
  !*** ./src/javax/swing/ButtonGroup.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ButtonGroup: () => (/* binding */ ButtonGroup)\n/* harmony export */ });\nclass ButtonGroup {\n    constructor() {\n        this.buttons = [];\n        this.selectedButton = null;\n    }\n    add(button) {\n        if (this.buttons.includes(button))\n            return;\n        this.buttons.push(button);\n        var self = this;\n        button.addActionListener({ actionPerformed: () => self.setSelected(button) });\n    }\n    setSelected(button) {\n        var _a;\n        if (this.selectedButton !== button) {\n            (_a = this.selectedButton) === null || _a === void 0 ? void 0 : _a.setSelected(false);\n            button.setSelected(true);\n            this.selectedButton = button;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/ButtonGroup.ts?");

/***/ }),

/***/ "./src/javax/swing/DefaultListModel.ts":
/*!*********************************************!*\
  !*** ./src/javax/swing/DefaultListModel.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultListModel: () => (/* binding */ DefaultListModel)\n/* harmony export */ });\n/* harmony import */ var _AbstractListModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractListModel */ \"./src/javax/swing/AbstractListModel.ts\");\n\nclass DefaultListModel extends _AbstractListModel__WEBPACK_IMPORTED_MODULE_0__.AbstractListModel {\n    constructor() {\n        super();\n        this.items = [];\n    }\n    getSize() {\n        return this.items.length;\n    }\n    insertElementAt(element, index) {\n        if (index < 0 || index > this.items.length) {\n            throw new RangeError(\"Index out of bounds\");\n        }\n        this.items.splice(index, 0, element);\n    }\n    removeElementAt(index) {\n        if (index < 0 || index >= this.items.length) {\n            throw new RangeError(\"Index out of bounds\");\n        }\n        this.items.splice(index, 1);\n    }\n    getElementAt(index) {\n        if (index < 0 || index >= this.items.length) {\n            throw new RangeError(\"Index out of bounds\");\n        }\n        return this.items[index];\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/DefaultListModel.ts?");

/***/ }),

/***/ "./src/javax/swing/ImageIcon.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/ImageIcon.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageIcon: () => (/* binding */ ImageIcon)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/Image */ \"./src/java/awt/Image.ts\");\n/* harmony import */ var _java_net_URL__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../java/net/URL */ \"./src/java/net/URL.ts\");\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Util/Resources */ \"./src/Util/Resources.ts\");\n/* harmony import */ var _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../java/awt/image/BufferedImage */ \"./src/java/awt/image/BufferedImage.ts\");\n\n\n\n\nclass ImageIcon {\n    constructor(arg0) {\n        this.image = null;\n        if (arg0 instanceof _java_awt_Image__WEBPACK_IMPORTED_MODULE_0__.Image)\n            this.setImage(arg0);\n        else if (arg0 instanceof _java_net_URL__WEBPACK_IMPORTED_MODULE_1__.URL) {\n            this.image = new _java_awt_image_BufferedImage__WEBPACK_IMPORTED_MODULE_3__.BufferedImage(_Util_Resources__WEBPACK_IMPORTED_MODULE_2__.Resources.ensureResource(arg0)._content);\n        }\n        else {\n            debugger;\n        }\n    }\n    getImage() {\n        return this.image;\n    }\n    setImage(image) {\n        this.image = image;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/ImageIcon.ts?");

/***/ }),

/***/ "./src/javax/swing/InputMap.ts":
/*!*************************************!*\
  !*** ./src/javax/swing/InputMap.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputMap: () => (/* binding */ InputMap)\n/* harmony export */ });\nclass InputMap {\n    constructor() {\n        this.map = new Map();\n    }\n    put(keyStroke, actionMapKey) {\n        this.map.set(keyStroke, actionMapKey);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/InputMap.ts?");

/***/ }),

/***/ "./src/javax/swing/JApplet.ts":
/*!************************************!*\
  !*** ./src/javax/swing/JApplet.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JApplet: () => (/* binding */ JApplet)\n/* harmony export */ });\n/* harmony import */ var _java_applet_Applet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/applet/Applet */ \"./src/java/applet/Applet.ts\");\n/* harmony import */ var _JPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JPanel */ \"./src/javax/swing/JPanel.ts\");\n\n\nclass JApplet extends _java_applet_Applet__WEBPACK_IMPORTED_MODULE_0__.Applet {\n    constructor() {\n        super(\"div\", [\"JApplet\"]);\n        this.contentPane = new _JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel();\n        this.add(this.contentPane);\n    }\n    getContentPane() {\n        return this.contentPane;\n    }\n    getListeners(arg0) {\n        throw new Error(\"Not Implemented\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JApplet.ts?");

/***/ }),

/***/ "./src/javax/swing/JButton.ts":
/*!************************************!*\
  !*** ./src/javax/swing/JButton.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JButton: () => (/* binding */ JButton)\n/* harmony export */ });\n/* harmony import */ var _AbstractButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractButton */ \"./src/javax/swing/AbstractButton.ts\");\n/* harmony import */ var _ImageIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n\n\nclass JButton extends _AbstractButton__WEBPACK_IMPORTED_MODULE_0__.AbstractButton {\n    constructor(arg0) {\n        super(\"button\", [\"JButton\"]);\n        this._getHTMLElement().style.display = 'inline-flex';\n        this._getHTMLElement().style.alignItems = 'center';\n        this._getHTMLElement().style.justifyContent = 'center';\n        this._getHTMLElement().style.padding = '5px 10px';\n        this._getHTMLElement().style.border = '1px solid #ccc';\n        this._getHTMLElement().style.background = '#f0f0f0';\n        this._getHTMLElement().style.cursor = 'pointer';\n        if (typeof arg0 === 'string') {\n            this.setText(arg0);\n        }\n        else if (arg0 instanceof _ImageIcon__WEBPACK_IMPORTED_MODULE_1__.ImageIcon) {\n            this.setIcon(arg0);\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JButton.ts?");

/***/ }),

/***/ "./src/javax/swing/JCheckBox.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/JCheckBox.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JCheckBox: () => (/* binding */ JCheckBox)\n/* harmony export */ });\n/* harmony import */ var _JToggleButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JToggleButton */ \"./src/javax/swing/JToggleButton.ts\");\n\nclass JCheckBox extends _JToggleButton__WEBPACK_IMPORTED_MODULE_0__.JToggleButton {\n    constructor(a = undefined, b = undefined) {\n        super(\"button\", [\"JCheckBox\"]);\n        this.updateCheckmark();\n    }\n    updateCheckmark() {\n        this._getHTMLElement().innerHTML = \"\"; // Clear existing content\n        const checkmark = document.createElement(\"span\");\n        checkmark.textContent = this.isSelected() ? \" \" : \"\"; // Show checkmark when selected\n        this._getHTMLElement().appendChild(checkmark);\n        this._getHTMLElement().appendChild(document.createTextNode(this.getText() ? this.getText() : \"\")); // Append text\n    }\n    /** Handles clicks to toggle the selected state */\n    clickPerformed() {\n        super.clickPerformed();\n        this.setSelected(!this.isSelected());\n        this.updateCheckmark();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JCheckBox.ts?");

/***/ }),

/***/ "./src/javax/swing/JCheckBoxMenuItem.ts":
/*!**********************************************!*\
  !*** ./src/javax/swing/JCheckBoxMenuItem.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JCheckBoxMenuItem: () => (/* binding */ JCheckBoxMenuItem)\n/* harmony export */ });\n/* harmony import */ var _JMenuItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JMenuItem */ \"./src/javax/swing/JMenuItem.ts\");\n/* harmony import */ var _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../java/awt/event/ItemEvent */ \"./src/java/awt/event/ItemEvent.ts\");\n\n\nclass JCheckBoxMenuItem extends _JMenuItem__WEBPACK_IMPORTED_MODULE_0__.JMenuItem {\n    constructor(a, b = undefined) {\n        super(a);\n        if (b !== undefined)\n            this.setState(b);\n        this.updateCheckmark();\n    }\n    /** Updates the visual checkmark based on state */\n    updateCheckmark() {\n        this._getHTMLElement().innerHTML = \"\"; // Clear existing content\n        const checkmark = document.createElement(\"span\");\n        checkmark.textContent = this.isSelected() ? \" \" : \"\"; // Show checkmark when selected\n        this._getHTMLElement().appendChild(checkmark);\n        this._getHTMLElement().appendChild(document.createTextNode(this.getText())); // Append text\n    }\n    /** Handles clicks to toggle the selected state */\n    clickPerformed() {\n        this.setState(!this.isSelected()); // Toggle state\n        this.updateCheckmark();\n        // Notify item listeners (if any)\n        const event = new _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent(this, _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent.ITEM_STATE_CHANGED, undefined, this.isSelected() ? _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent.SELECTED : _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent.DESELECTED);\n        this.fireItemEvent(event);\n        // Close the menu if needed\n        if (this.parentMenu !== undefined) {\n            this.parentMenu.childMenuClicked();\n        }\n    }\n    /** Sets the selected state */\n    setSelected(selected) {\n        super.setSelected(selected);\n        this.updateCheckmark();\n    }\n    setState(b) {\n        this.setSelected(b);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JCheckBoxMenuItem.ts?");

/***/ }),

/***/ "./src/javax/swing/JComboBox.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/JComboBox.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JComboBox: () => (/* binding */ JComboBox)\n/* harmony export */ });\n/* harmony import */ var _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/event/ActionEvent */ \"./src/java/awt/event/ActionEvent.ts\");\n/* harmony import */ var _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../java/awt/event/ItemEvent */ \"./src/java/awt/event/ItemEvent.ts\");\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\n\n\nclass JComboBox extends _JComponent__WEBPACK_IMPORTED_MODULE_2__.JComponent {\n    constructor(a = undefined) {\n        super(\"div\", [\"JComboBox\"]);\n        this.items = [];\n        this.selectedIndex = -1;\n        this.actionListeners = [];\n        this.itemListeners = [];\n        this._getHTMLElement().style.position = \"relative\";\n        this._getHTMLElement().style.display = \"inline-block\";\n        this._getHTMLElement().style.border = \"1px solid black\";\n        this._getHTMLElement().style.padding = \"5px\";\n        this._getHTMLElement().style.cursor = \"pointer\";\n        this._getHTMLElement().style.background = \"white\";\n        // Create display area\n        this.display = document.createElement(\"div\");\n        this.display.style.padding = \"5px\";\n        this.display.style.userSelect = \"none\";\n        // Create dropdown menu\n        this.dropdown = document.createElement(\"div\");\n        this.dropdown.style.position = \"absolute\";\n        this.dropdown.style.top = \"100%\";\n        this.dropdown.style.left = \"0\";\n        //this.dropdown.style.width = \"100%\";\n        this.dropdown.style.background = \"white\";\n        this.dropdown.style.border = \"1px solid black\";\n        this.dropdown.style.display = \"none\";\n        this.dropdown.style.zIndex = \"999\";\n        this._getHTMLElement().appendChild(this.display);\n        this._getHTMLElement().appendChild(this.dropdown);\n        this._getHTMLElement().addEventListener(\"click\", () => this._openDropdown());\n        if (Array.isArray(a)) {\n            a.forEach(item => this.addItem(item));\n        }\n        // Close dropdown on outside click\n        document.addEventListener(\"mousedown\", (event) => this.handleOutsideClick(event));\n    }\n    _closeDropdown() {\n        this.dropdown.style.display = \"none\";\n    }\n    _openDropdown() {\n        this.dropdown.style.display = \"block\";\n    }\n    _isOpen() {\n        return this.dropdown.style.display !== \"none\";\n    }\n    toggleDropdown() {\n        if (this._isOpen())\n            this._closeDropdown();\n        else\n            this._openDropdown();\n    }\n    handleOutsideClick(event) {\n        if (!this._getHTMLElement().contains(event.target)) {\n            this._closeDropdown();\n        }\n    }\n    addItem(item) {\n        this.items.push(item);\n        const option = document.createElement(\"div\");\n        option.classList.add(\"JComboBox_item\");\n        option.textContent = String(item);\n        option.style.padding = \"5px\";\n        option.style.cursor = \"pointer\";\n        option.addEventListener(\"click\", () => this.setSelectedIndex(this.items.indexOf(item)));\n        this.dropdown.appendChild(option);\n    }\n    /** Removes all items from the combo box */\n    removeAllItems() {\n        this.items = [];\n        this.dropdown.innerHTML = \"\";\n        this.selectedIndex = -1;\n        this.display.textContent = \"\";\n    }\n    getItemAt(index) {\n        return this.items[index];\n    }\n    getSelectedIndex() {\n        return this.selectedIndex;\n    }\n    addActionListener(l) {\n        this.actionListeners.push(l);\n    }\n    removeActionListener(l) {\n        this.actionListeners = this.actionListeners.filter(listener => listener !== l);\n    }\n    addItemListener(l) {\n        this.itemListeners.push(l);\n    }\n    removeItemListener(l) {\n        this.itemListeners = this.itemListeners.filter(listener => listener !== l);\n    }\n    setSelectedIndex(index) {\n        if (index >= 0 && index < this.items.length) {\n            this.selectedIndex = index;\n            this.display.textContent = String(this.items[index]);\n            this.dropdown.style.display = \"none\"; // Close dropdown\n            // Fire item event\n            const event = new _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent(this, _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent.ITEM_STATE_CHANGED, undefined, _java_awt_event_ItemEvent__WEBPACK_IMPORTED_MODULE_1__.ItemEvent.SELECTED);\n            this.itemListeners.forEach(listener => listener.itemStateChanged(event));\n            // Fire action event\n            const actionEvent = new _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_0__.ActionEvent(String(this.items[index]), this);\n            this.actionListeners.forEach(listener => listener.actionPerformed(actionEvent));\n            this._closeDropdown();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JComboBox.ts?");

/***/ }),

/***/ "./src/javax/swing/JComponent.ts":
/*!***************************************!*\
  !*** ./src/javax/swing/JComponent.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JComponent: () => (/* binding */ JComponent)\n/* harmony export */ });\n/* harmony import */ var _InputMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputMap */ \"./src/javax/swing/InputMap.ts\");\n/* harmony import */ var _ActionMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionMap */ \"./src/javax/swing/ActionMap.ts\");\n/* harmony import */ var _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../java/awt/Dimension */ \"./src/java/awt/Dimension.ts\");\n/* harmony import */ var _java_awt_Graphics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../java/awt/Graphics */ \"./src/java/awt/Graphics.ts\");\n/* harmony import */ var _java_awt_Container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../java/awt/Container */ \"./src/java/awt/Container.ts\");\n\n\n\n\n\nclass JComponent extends _java_awt_Container__WEBPACK_IMPORTED_MODULE_4__.Container {\n    constructor(a = undefined, b = undefined) {\n        super(a === undefined ? \"div\" : a, a === undefined ? [\"JComponent\"] : b.concat(\"JComponent\"));\n        this.alignmentX = 0.5;\n        this.alignmentY = 0.5;\n        // private focusable: boolean = false;\n        this.context = null;\n        this.enabled = false;\n        this.actionMap = new _ActionMap__WEBPACK_IMPORTED_MODULE_1__.ActionMap();\n        this.inputMap = new _InputMap__WEBPACK_IMPORTED_MODULE_0__.InputMap();\n        if (this.paintImmediately !== JComponent.prototype.paintImmediately\n            || this.paint !== JComponent.prototype.paint\n            || this.paintComponent !== JComponent.prototype.paintComponent) {\n            var c = document.createElement(\"canvas\");\n            c.style.position = \"absolute\";\n            c.style.top = \"0\";\n            c.style.left = \"0\";\n            this.context = c.getContext(\"2d\");\n            this._getHTMLElement().appendChild(c);\n        }\n        // this.repaint();\n    }\n    paintImmediately(x, y, w, h) {\n        if (this.context !== null) {\n            this.context.clearRect(x, y, w, h);\n            this.paint();\n        }\n    }\n    paint() {\n        if (this.context !== null) {\n            this.context.canvas.width = this._getHTMLElement().clientWidth;\n            this.context.canvas.height = this._getHTMLElement().clientHeight;\n            this.paintComponent(new _java_awt_Graphics__WEBPACK_IMPORTED_MODULE_3__.Graphics(this.context, \"grey\"));\n        }\n        for (var component of this.children.keys())\n            component.repaint();\n    }\n    paintComponent(arg0) {\n        arg0.clearRect(0, 0, this._getHTMLElement().clientWidth, this._getHTMLElement().clientHeight);\n    }\n    setAlignmentX(arg0) {\n        this.alignmentX = arg0;\n    }\n    setAlignmentY(arg0) {\n        this.alignmentY = arg0;\n    }\n    setBorder(border) {\n        this.border = border;\n        border._applyTo(this._getHTMLElement());\n    }\n    setToolTipText(arg0) {\n        this.toolTipText = arg0;\n        this._getHTMLElement().title = arg0;\n    }\n    getPreferredSize() {\n        var _a;\n        return (_a = this.preferredSize) !== null && _a !== void 0 ? _a : new _java_awt_Dimension__WEBPACK_IMPORTED_MODULE_2__.Dimension(this._getHTMLElement().offsetWidth, this._getHTMLElement().offsetHeight);\n    }\n    setPreferredSize(arg0) {\n        this.preferredSize = arg0;\n        // this._getHTMLElement().style.width = `${arg0.width}px`;\n        // this._getHTMLElement().style.height = `${arg0.height}px`;\n    }\n    setMinimumSize(arg0) {\n        this.minimumSize = arg0;\n        this._getHTMLElement().style.minWidth = `${arg0.width}px`;\n        this._getHTMLElement().style.minHeight = `${arg0.height}px`;\n    }\n    requestFocusInWindow() {\n        if (this.getFocusable()) {\n            this._getHTMLElement().focus();\n            return true;\n        }\n        return false;\n    }\n    revalidate() {\n        //this._getHTMLElement().style.display = \"none\";\n        //// requestAnimationFrame(() => {\n        //     this._getHTMLElement().style.display = \"\";\n        // });\n    }\n    setBackground(arg0) {\n        this.background = arg0;\n        this._getHTMLElement().style.backgroundColor = arg0.toString();\n    }\n    setForeground(arg0) {\n        this.foreground = arg0;\n        this._getHTMLElement().style.color = arg0.toString();\n    }\n    setFont(arg0) {\n        this.font = arg0;\n        // this.element.style.fontFamily = arg0.family;\n        // this.element.style.fontSize = `${arg0.size}px`;\n        // this.element.style.fontStyle = arg0.style;\n        this._getHTMLElement().style.font = arg0._context();\n    }\n    getListeners(arg0) {\n        throw new Error(\"Not Implemented\");\n    }\n    setEnabled(enabled) {\n        this.enabled = enabled;\n        const elem = this._getHTMLElement();\n        if (elem instanceof HTMLInputElement || elem instanceof HTMLButtonElement || elem instanceof HTMLSelectElement) {\n            // Use native `disabled` attribute for form elements\n            elem.disabled = !enabled;\n        }\n        else {\n            // For non-form elements, use CSS\n            elem.style.opacity = enabled ? \"1\" : \"0.5\";\n            elem.style.pointerEvents = enabled ? \"auto\" : \"none\";\n        }\n        // Recursively disable child elements (if needed)\n        /*Array.from(elem.children).forEach(child =>\n        {\n            if (child instanceof HTMLElement) {\n                child.style.opacity = enabled ? \"1\" : \"0.5\";\n                child.style.pointerEvents = enabled ? \"auto\" : \"none\";\n            }\n        });*/\n    }\n    isEnabled() {\n        return this.enabled;\n    }\n    getActionMap() {\n        return this.actionMap;\n    }\n    getInputMap() {\n        return this.inputMap;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JComponent.ts?");

/***/ }),

/***/ "./src/javax/swing/JDialog.ts":
/*!************************************!*\
  !*** ./src/javax/swing/JDialog.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JDialog: () => (/* binding */ JDialog)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/Dialog */ \"./src/java/awt/Dialog.ts\");\n/* harmony import */ var _JPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JPanel */ \"./src/javax/swing/JPanel.ts\");\n/* harmony import */ var _JFrame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./JFrame */ \"./src/javax/swing/JFrame.ts\");\n/* harmony import */ var _js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../js */ \"./src/js.ts\");\n\n\n\n\nclass JDialog extends _java_awt_Dialog__WEBPACK_IMPORTED_MODULE_0__.Dialog {\n    constructor(arg0, arg1, arg2 = undefined) {\n        super(\"div\", [\"JDialog\"]);\n        this.titleBar = document.createElement('div');\n        this.closeButton = document.createElement('button');\n        _JFrame__WEBPACK_IMPORTED_MODULE_2__.JFrame._addTitleBarWithCloseButton(this, this.titleBar, this.closeButton, (0,_js__WEBPACK_IMPORTED_MODULE_3__.isString)(arg1) ? arg1 : \"\", () => this.closeWindow(), false);\n        this._getHTMLElement().appendChild(this.titleBar);\n        this.contentPane = new _JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel();\n        this._getHTMLElement().appendChild(this.contentPane._getHTMLElement());\n    }\n    closeWindow() {\n        // Logic to hide or remove the window\n        this._getHTMLElement().style.display = 'none'; // Hide the window\n        // Optionally you could remove the window entirely from the DOM\n        this._getHTMLElement().remove();\n        // Or send a message, perform cleanup, etc.\n        console.log('Window closed');\n    }\n    getContentPane() {\n        return this.contentPane;\n    }\n    setDefaultCloseOperation(operation) {\n        this.operation = operation;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JDialog.ts?");

/***/ }),

/***/ "./src/javax/swing/JEditorPane.ts":
/*!****************************************!*\
  !*** ./src/javax/swing/JEditorPane.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JEditorPane: () => (/* binding */ JEditorPane)\n/* harmony export */ });\n/* harmony import */ var _text_JTextComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text/JTextComponent */ \"./src/javax/swing/text/JTextComponent.ts\");\n\nclass JEditorPane extends _text_JTextComponent__WEBPACK_IMPORTED_MODULE_0__.JTextComponent {\n    constructor(a = undefined, b = undefined) {\n        super(\"textarea\", [\"JEditorPane\"]);\n        if (typeof a === \"string\" && typeof b === \"string\") {\n            this.setContentType(a);\n            this.setText(b);\n        }\n        else\n            this.setContentType(\"text/plain\");\n    }\n    setContentType(type) {\n        this.contentType = type;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JEditorPane.ts?");

/***/ }),

/***/ "./src/javax/swing/JFileChooser.ts":
/*!*****************************************!*\
  !*** ./src/javax/swing/JFileChooser.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JFileChooser: () => (/* binding */ JFileChooser)\n/* harmony export */ });\n/* harmony import */ var _java_io_File__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/io/File */ \"./src/java/io/File.ts\");\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _Util_Resources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Util/Resources */ \"./src/Util/Resources.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n\n\nclass JFileChooser extends _JComponent__WEBPACK_IMPORTED_MODULE_1__.JComponent {\n    constructor(currentDirectoryPath) {\n        super(\"div\", [\"JFileChooser\"]);\n        this.selectedFile = null;\n        this.callback = null;\n        // Create a hidden file input element\n        this.fileInput = document.createElement('input');\n        this.fileInput.type = 'file';\n        this.fileInput.style.display = 'none';\n        // Event listener for when a file is selected\n        this.fileInput.addEventListener('change', (event) => __awaiter(this, void 0, void 0, function* () {\n            const input = event.target;\n            if (input.files && input.files.length > 0) {\n                this.selectedFile = new _java_io_File__WEBPACK_IMPORTED_MODULE_0__.File(input.files[0].name);\n                //this.selectedFile = input.files[0];\n                yield _Util_Resources__WEBPACK_IMPORTED_MODULE_2__.Resources.bootResourceFileString(input.files[0]);\n                if (this.callback)\n                    this.callback();\n            }\n        }));\n        // Append the file input element to the component's HTMLElement\n        this._getHTMLElement().appendChild(this.fileInput);\n    }\n    addChoosableFileFilter(arg0) {\n        //throw new Error(\"Not Implemented\"); \n    }\n    getCurrentDirectory() {\n        return new _java_io_File__WEBPACK_IMPORTED_MODULE_0__.File(\"\");\n        //throw new Error(\"Not Implemented\"); \n    }\n    getSelectedFile() {\n        return this.selectedFile;\n    }\n    setCurrentDirectory(arg0) {\n        //throw new Error(\"Not Implemented\"); \n    }\n    setFileFilter(arg0) {\n        //throw new Error(\"Not Implemented\"); \n    }\n    setSelectedFile(arg0) {\n        //throw new Error(\"Not Implemented\"); \n    }\n    showOpenDialog(arg0, callback) {\n        this.callback = callback;\n        this.fileInput.click();\n        return JFileChooser.APPROVE_OPTION;\n    }\n    showSaveDialog(arg0) {\n        //throw new Error(\"Not Implemented\"); \n        return JFileChooser.APPROVE_OPTION;\n    }\n}\nJFileChooser.APPROVE_OPTION = 0;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JFileChooser.ts?");

/***/ }),

/***/ "./src/javax/swing/JFrame.ts":
/*!***********************************!*\
  !*** ./src/javax/swing/JFrame.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JFrame: () => (/* binding */ JFrame)\n/* harmony export */ });\n/* harmony import */ var _java_awt_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/Frame */ \"./src/java/awt/Frame.ts\");\n/* harmony import */ var _JPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JPanel */ \"./src/javax/swing/JPanel.ts\");\n\n\nclass JFrame extends _java_awt_Frame__WEBPACK_IMPORTED_MODULE_0__.Frame {\n    constructor(arg0) {\n        super(\"div\", [\"JFrame\"]);\n        this._getHTMLElement().style.position = 'absolute';\n        this._getHTMLElement().style.border = '1px solid black';\n        this._getHTMLElement().style.padding = '10px';\n        this._getHTMLElement().style.background = 'white';\n        this._getHTMLElement().style.display = 'flex';\n        this._getHTMLElement().style.flexDirection = 'column';\n        this.contentPane = new _JPanel__WEBPACK_IMPORTED_MODULE_1__.JPanel();\n        this.contentPane._getHTMLElement().style.flex = '1';\n        this.titleBar = document.createElement('div');\n        this.closeButton = document.createElement('button');\n        JFrame._addTitleBarWithCloseButton(this, this.titleBar, this.closeButton, arg0, () => this.closeWindow(), true);\n        this._getHTMLElement().appendChild(this.titleBar);\n        //this._getHTMLElement().appendChild(this.contentPane._getHTMLElement());\n        this.add(this.contentPane);\n    }\n    static _addTitleBarWithCloseButton(window, titleBar, closeButton, title = '', fCloseWindow, allowDrag) {\n        titleBar.textContent = title;\n        titleBar.style.fontWeight = 'bold';\n        titleBar.style.textAlign = 'center';\n        titleBar.style.padding = '5px';\n        titleBar.style.background = '#ddd';\n        titleBar.style.position = 'relative';\n        // Close Button\n        closeButton.textContent = 'X'; // Close button label\n        // closeButton.style.position = 'absolute';\n        closeButton.style.right = '10px';\n        closeButton.style.top = '5px';\n        closeButton.style.border = 'none';\n        closeButton.style.background = 'transparent';\n        closeButton.style.fontSize = '16px';\n        closeButton.style.cursor = 'pointer';\n        // Append title bar and close button\n        titleBar.appendChild(closeButton);\n        // Add event listener for the close button\n        closeButton.addEventListener('click', () => fCloseWindow());\n        if (allowDrag)\n            JFrame.setupDragging(window, titleBar);\n    }\n    closeWindow() {\n        // Logic to hide or remove the window\n        this._getHTMLElement().style.display = 'none'; // Hide the window\n        // Optionally you could remove the window entirely from the DOM\n        this._getHTMLElement().remove();\n        // Or send a message, perform cleanup, etc.\n        console.log('Window closed');\n    }\n    static setupDragging(window, titleBar) {\n        let startClientX = 0;\n        let startClientY = 0;\n        let startValueX = 0;\n        let startValueY = 0;\n        titleBar.addEventListener(\"mousedown\", (event) => {\n            startClientX = event.clientX;\n            startClientY = event.clientY;\n            startValueX = window._getLocationX();\n            startValueY = window._getLocationY();\n            document.addEventListener(\"mousemove\", onMouseMove);\n            document.addEventListener(\"mouseup\", onMouseUp);\n            window.toFront();\n        });\n        const onMouseUp = () => {\n            document.removeEventListener(\"mousemove\", onMouseMove);\n            document.removeEventListener(\"mouseup\", onMouseUp);\n        };\n        const onMouseMove = (event) => {\n            let deltaClientX = event.clientX - startClientX;\n            let deltaClientY = event.clientY - startClientY;\n            window.setLocation(startValueX + deltaClientX, startValueY + deltaClientY);\n        };\n    }\n    setDefaultCloseOperation(arg0) {\n        // Store behavior, could be used later when closing logic is implemented\n    }\n    setJMenuBar(menuBar) {\n        this.menuBar = menuBar;\n        this._getHTMLElement().insertBefore(menuBar._getHTMLElement(), this.contentPane._getHTMLElement());\n    }\n    getContentPane() {\n        return this.contentPane;\n    }\n    setIconImage(image) {\n        this.iconImage = image;\n        // Would need logic to display the icon somewhere in UI\n    }\n}\nJFrame.DO_NOTHING_ON_CLOSE = 0;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JFrame.ts?");

/***/ }),

/***/ "./src/javax/swing/JLabel.ts":
/*!***********************************!*\
  !*** ./src/javax/swing/JLabel.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JLabel: () => (/* binding */ JLabel)\n/* harmony export */ });\n/* harmony import */ var _SwingConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SwingConstants */ \"./src/javax/swing/SwingConstants.ts\");\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../js */ \"./src/js.ts\");\n/* harmony import */ var _ImageIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ImageIcon */ \"./src/javax/swing/ImageIcon.ts\");\n\n\n\n\nclass JLabel extends _JComponent__WEBPACK_IMPORTED_MODULE_1__.JComponent {\n    constructor(arg0 = undefined, arg1 = undefined) {\n        super(\"div\", [\"JLabel\"]);\n        this.text = \"\";\n        if (arg0 === undefined && arg1 === undefined) {\n            this.setText(\"\");\n        }\n        else {\n            if ((0,_js__WEBPACK_IMPORTED_MODULE_2__.isString)(arg0)) {\n                this.setText(arg0);\n            }\n            else if (arg0 instanceof _ImageIcon__WEBPACK_IMPORTED_MODULE_3__.ImageIcon) {\n                this.setIcon(arg0);\n            }\n            else {\n                debugger;\n            }\n        }\n    }\n    setText(arg0) {\n        this.text = arg0;\n        this._getHTMLElement().textContent = arg0;\n    }\n    setHorizontalAlignment(arg0) {\n        if (arg0 == _SwingConstants__WEBPACK_IMPORTED_MODULE_0__.SwingConstants.CENTER) {\n            this._getHTMLElement().style.textAlign = \"center\";\n        }\n        else if (arg0 == _SwingConstants__WEBPACK_IMPORTED_MODULE_0__.SwingConstants.RIGHT) {\n            this._getHTMLElement().style.textAlign = \"right\";\n        }\n        else {\n            debugger;\n        }\n    }\n    setLabelFor(c) {\n        //throw new Error();\n    }\n    setIcon(icon) {\n        if (!(icon instanceof _ImageIcon__WEBPACK_IMPORTED_MODULE_3__.ImageIcon))\n            debugger;\n        this.icon = icon;\n        this._getHTMLElement().innerHTML = '';\n        const img = document.createElement('img');\n        img.src = icon.getImage().canvas.toDataURL();\n        img.style.maxWidth = '24px';\n        img.style.maxHeight = '24px';\n        img.style.marginRight = this.text ? '5px' : '0';\n        this._getHTMLElement().appendChild(img);\n        if (this.text) {\n            this._getHTMLElement().appendChild(document.createTextNode(this.text));\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JLabel.ts?");

/***/ }),

/***/ "./src/javax/swing/JList.ts":
/*!**********************************!*\
  !*** ./src/javax/swing/JList.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JList: () => (/* binding */ JList)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JList extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor(a = undefined) {\n        super(\"div\", [\"JList\"]);\n    }\n    setSelectionMode(mode) {\n        this.selectionMode = mode;\n    }\n    setVisibleRowCount(arg0) {\n        this.visibleRowCount = arg0;\n    }\n    setLayoutOrientation(arg0) {\n        this.layoutOrientation = arg0;\n    }\n    getSelectedIndex() {\n        throw new Error();\n    }\n    setSelectedIndex(index) {\n        throw new Error();\n    }\n    setListData(a) {\n        throw new Error();\n    }\n}\nJList.VERTICAL = 0;\nJList.HORIZONTAL_WRAP = 1;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JList.ts?");

/***/ }),

/***/ "./src/javax/swing/JMenu.ts":
/*!**********************************!*\
  !*** ./src/javax/swing/JMenu.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JMenu: () => (/* binding */ JMenu)\n/* harmony export */ });\n/* harmony import */ var _JMenuItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JMenuItem */ \"./src/javax/swing/JMenuItem.ts\");\n\nclass JMenu extends _JMenuItem__WEBPACK_IMPORTED_MODULE_0__.JMenuItem {\n    constructor(label) {\n        super(label, \"button\", [\"JMenu\"]);\n        this.menuItems = [];\n        this.menuElement = document.createElement(\"div\");\n        this.menuElement.style.display = \"none\";\n        this.menuElement.style.position = \"absolute\";\n        this.menuElement.style.background = \"white\";\n        this.menuElement.style.border = \"1px solid black\";\n        this.menuElement.style.boxShadow = \"2px 2px 5px rgba(0,0,0,0.2)\";\n        this.menuElement.style.padding = \"5px 0\";\n        this.menuElement.style.zIndex = \"99999\";\n        /* this._getHTMLElement().addEventListener(\"click\", (event) => {\n             this.toggleMenu();\n             event.stopPropagation();\n         });*/\n        // document.addEventListener(\"mousedown\", (event) => this.handleOutsideClick(event));\n    }\n    addImpl(comp, constraints, index) {\n        this.menuItems.push(comp);\n        this.menuElement.appendChild(comp._getHTMLElement());\n        comp.parentMenu = this;\n    }\n    removeImpl(component) {\n        var i = this.menuItems.indexOf(component);\n        if (i == -1)\n            debugger;\n        this.menuItems.splice(i, 1);\n        this.menuElement.removeChild(component._getHTMLElement());\n    }\n    addSeparator() {\n        const separator = document.createElement(\"div\");\n        separator.style.borderTop = \"1px solid #ccc\";\n        separator.style.margin = \"5px 0\";\n        this.menuElement.appendChild(separator);\n    }\n    toggleMenu() {\n        if (this.isOpen())\n            this.closeMenu();\n        else\n            this.openMenu();\n    }\n    isOpen() {\n        return this.menuElement.style.display === \"block\";\n    }\n    openMenu() {\n        var _a;\n        if (JMenu.currentOpenMenu !== this) {\n            (_a = JMenu.currentOpenMenu) === null || _a === void 0 ? void 0 : _a.closeMenu(); // Close any other open menu\n            JMenu.currentOpenMenu = this; // Set this as the currently open menu\n        }\n        if (!this.isOpen()) {\n            document.body.appendChild(this.menuElement);\n            const rect = this._getHTMLElement().getBoundingClientRect();\n            this.menuElement.style.left = `${rect.left}px`;\n            this.menuElement.style.top = `${rect.bottom}px`;\n            this.menuElement.style.display = \"block\";\n        }\n    }\n    closeMenu() {\n        if (this.isOpen()) {\n            this.menuElement.style.display = \"none\";\n            document.body.removeChild(this.menuElement);\n        }\n    }\n    childMenuClicked() {\n        this.closeMenu();\n        if (this.parentMenu !== undefined)\n            this.parentMenu.childMenuClicked();\n    }\n    clickPerformed() {\n        if (this.isOpen()) {\n            this.closeMenu();\n        }\n        else {\n            this.openMenu();\n        }\n        //if( (this as any).parentMenu !== undefined ) \n        //  (this as any).parentMenu.childMenuClicked();\n    }\n    handleOutsideClick(event) {\n        if (!this._getHTMLElement().contains(event.target) &&\n            !this.menuElement.contains(event.target)) {\n            this.menuElement.style.display = \"none\";\n        }\n    }\n}\nJMenu.currentOpenMenu = null;\n/* public add(arg0: JMenuItem): JMenuItem {\n       this.menuItems.push(arg0);\n       this.menuElement.appendChild(arg0.getHTMLElement());\n       return arg0;\n   }*/ \n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JMenu.ts?");

/***/ }),

/***/ "./src/javax/swing/JMenuBar.ts":
/*!*************************************!*\
  !*** ./src/javax/swing/JMenuBar.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JMenuBar: () => (/* binding */ JMenuBar)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JMenuBar extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    //private menus: JMenu[] = [];\n    constructor() {\n        super(\"div\", [\"JMenuBar\"]);\n        this._getHTMLElement().style.display = \"flex\";\n        this._getHTMLElement().style.background = \"#ddd\";\n        this._getHTMLElement().style.padding = \"5px\";\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JMenuBar.ts?");

/***/ }),

/***/ "./src/javax/swing/JMenuItem.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/JMenuItem.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JMenuItem: () => (/* binding */ JMenuItem)\n/* harmony export */ });\n/* harmony import */ var _AbstractButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractButton */ \"./src/javax/swing/AbstractButton.ts\");\n\nclass JMenuItem extends _AbstractButton__WEBPACK_IMPORTED_MODULE_0__.AbstractButton {\n    constructor(label, a = undefined, b = undefined) {\n        super(a !== undefined ? a : \"button\", b !== undefined ? b.concat([\"JMenuItem\"]) : [\"JMenuItem\"]);\n        this.setText(label);\n        this._getHTMLElement().style.cursor = \"pointer\";\n        this._getHTMLElement().style.padding = \"5px 10px\";\n        this._getHTMLElement().style.border = \"1px solid transparent\";\n        this._getHTMLElement().addEventListener(\"mouseenter\", () => {\n            this._getHTMLElement().style.backgroundColor = \"#ddd\";\n        });\n        this._getHTMLElement().addEventListener(\"mouseleave\", () => {\n            this._getHTMLElement().style.backgroundColor = \"\";\n        });\n    }\n    setAccelerator(arg0) {\n    }\n    clickPerformed() {\n        if (this.parentMenu !== undefined)\n            this.parentMenu.childMenuClicked();\n    }\n}\n/*\n    public setEnabled (arg0: boolean ): void\n    {\n        throw new Error(\"Not Implemented\");\n    } */\n//protected subMenu?: JMenu;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JMenuItem.ts?");

/***/ }),

/***/ "./src/javax/swing/JOptionPane.ts":
/*!****************************************!*\
  !*** ./src/javax/swing/JOptionPane.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JOptionPane: () => (/* binding */ JOptionPane)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JOptionPane extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    static showConfirmDialog(arg0, arg1, arg2, arg3, arg4) {\n        throw new Error(\"Not Implemented\");\n    }\n    static showMessageDialog(arg0, arg1, arg2, arg3) {\n        throw new Error(\"Not Implemented\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JOptionPane.ts?");

/***/ }),

/***/ "./src/javax/swing/JPanel.ts":
/*!***********************************!*\
  !*** ./src/javax/swing/JPanel.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JPanel: () => (/* binding */ JPanel)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JPanel extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor(a = undefined) {\n        super(\"div\", [\"JPanel\"]);\n        if (a !== undefined)\n            this.setLayout(a);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JPanel.ts?");

/***/ }),

/***/ "./src/javax/swing/JProgressBar.ts":
/*!*****************************************!*\
  !*** ./src/javax/swing/JProgressBar.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JProgressBar: () => (/* binding */ JProgressBar)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JProgressBar extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor(arg0, arg1) {\n        super(\"div\", [\"JProgressBar\"]);\n    }\n    setValue(value) {\n        this.value = value;\n    }\n    getValue() {\n        return this.value;\n    }\n    getMaximum() {\n        return this.max;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JProgressBar.ts?");

/***/ }),

/***/ "./src/javax/swing/JRadioButton.ts":
/*!*****************************************!*\
  !*** ./src/javax/swing/JRadioButton.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JRadioButton: () => (/* binding */ JRadioButton)\n/* harmony export */ });\n/* harmony import */ var _JToggleButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JToggleButton */ \"./src/javax/swing/JToggleButton.ts\");\n\nclass JRadioButton extends _JToggleButton__WEBPACK_IMPORTED_MODULE_0__.JToggleButton {\n    constructor(arg0, arg1 = undefined) {\n        super(\"button\", [\"JRadioButton\"]);\n        this.setText(arg0);\n        if (arguments.length == 2)\n            this.setSelected(arg1);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JRadioButton.ts?");

/***/ }),

/***/ "./src/javax/swing/JRadioButtonMenuItem.ts":
/*!*************************************************!*\
  !*** ./src/javax/swing/JRadioButtonMenuItem.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JRadioButtonMenuItem: () => (/* binding */ JRadioButtonMenuItem)\n/* harmony export */ });\n/* harmony import */ var _JMenuItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JMenuItem */ \"./src/javax/swing/JMenuItem.ts\");\n\nclass JRadioButtonMenuItem extends _JMenuItem__WEBPACK_IMPORTED_MODULE_0__.JMenuItem {\n    constructor(label) {\n        super(label, \"button\", [\"JRadioButtonMenuItem\"]);\n        this._getHTMLElement().addEventListener(\"click\", () => {\n            this.setSelected(true);\n        });\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JRadioButtonMenuItem.ts?");

/***/ }),

/***/ "./src/javax/swing/JScrollBar.ts":
/*!***************************************!*\
  !*** ./src/javax/swing/JScrollBar.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JScrollBar: () => (/* binding */ JScrollBar)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _java_awt_event_AdjustmentEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../java/awt/event/AdjustmentEvent */ \"./src/java/awt/event/AdjustmentEvent.ts\");\n\n\n//import { KeyEvent } from '../../java/awt/event/KeyEvent';\nclass JScrollBar extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor(orientation, value, extent, min, max) {\n        super(\"div\", [\"JScrollBar\"]);\n        this.HORIZONTAL = 0;\n        this.VERTICAL = 1;\n        this.blockIncrement = 10;\n        this.unitIncrement = 1;\n        this.adjustmentListeners = [];\n        this.orientation = orientation;\n        this.value = value;\n        this.visibleAmount = extent;\n        this.min = min;\n        this.max = max;\n        this._getHTMLElement().style.position = \"relative\";\n        this._getHTMLElement().style.background = \"#ccc\";\n        this._getHTMLElement().style.cursor = \"pointer\";\n        // this._getHTMLElement().style.border = \"1px solid #aaa\";\n        if (this.orientation === JScrollBar.HORIZONTAL) {\n            this._getHTMLElement().style.width = \"100%\";\n            this._getHTMLElement().style.height = \"10px\";\n        }\n        else {\n            this._getHTMLElement().style.width = \"10px\";\n            this._getHTMLElement().style.height = \"100%\";\n        }\n        this.thumb = document.createElement(\"div\");\n        this.thumb.style.position = \"absolute\";\n        this.thumb.style.background = \"#888\";\n        this.thumb.style.borderRadius = \"5px\";\n        if (this.orientation === JScrollBar.HORIZONTAL)\n            this.thumb.style.height = \"100%\";\n        else\n            this.thumb.style.width = \"100%\";\n        this._getHTMLElement().appendChild(this.thumb);\n        this.updateThumbSize();\n        this.updateThumbPosition();\n        this.setupDragging();\n        /* document.addEventListener(\"keydown\", (e:KeyboardEvent)=>\n         {\n             if( this.orientation == JScrollBar.HORIZONTAL )\n                 this.setValue(e.keyCode == 39? this.getValue() + 1 : this.getValue()-1);\n         });*/\n    }\n    getThumbSizePercentage() {\n        var extent = Math.min(this.visibleAmount, this.max - this.min);\n        return Math.max((extent / (this.max - this.min)) * 100, 10); // Ensure minimum size\n    }\n    /** Adjusts the thumb size to match the visible proportion */\n    updateThumbSize() {\n        const size = this.getThumbSizePercentage();\n        if (this.orientation === JScrollBar.HORIZONTAL)\n            this.thumb.style.width = `${size}%`;\n        else\n            this.thumb.style.height = `${size}%`;\n    }\n    /** Updates the thumb position based on the current scroll value */\n    updateThumbPosition() {\n        var extent = Math.min(this.visibleAmount, this.max - this.min);\n        const range = this.max - this.min - extent;\n        const scrollFactor = (this.value - this.min) / range;\n        const position = scrollFactor * (100 - this.getThumbSizePercentage());\n        if (this.orientation === JScrollBar.HORIZONTAL)\n            this.thumb.style.left = `${position}%`;\n        else\n            this.thumb.style.top = `${position}%`;\n    }\n    /** Handles mouse dragging of the scrollbar thumb */\n    setupDragging() {\n        let startClient = 0;\n        let startValue = 0;\n        this.thumb.addEventListener(\"mousedown\", (event) => {\n            startClient = this.orientation === JScrollBar.HORIZONTAL ? event.clientX : event.clientY;\n            startValue = this.value;\n            document.addEventListener(\"mousemove\", onMouseMove);\n            document.addEventListener(\"mouseup\", onMouseUp);\n        });\n        const onMouseUp = () => {\n            document.removeEventListener(\"mousemove\", onMouseMove);\n            document.removeEventListener(\"mouseup\", onMouseUp);\n        };\n        const onMouseMove = (event) => {\n            let deltaClient = this.orientation === JScrollBar.HORIZONTAL ? event.clientX - startClient : event.clientY - startClient;\n            let totalArea = this.orientation == JScrollBar.HORIZONTAL ? this._getHTMLElement().clientWidth : this._getHTMLElement().clientHeight;\n            totalArea -= (this.getThumbSizePercentage() / 100) * totalArea;\n            let fac = deltaClient / Math.max(1, totalArea);\n            var extent = Math.min(this.visibleAmount, this.max - this.min);\n            const range = this.max - this.min - extent;\n            let newValue = startValue + (fac * range);\n            this.setValue(newValue);\n        };\n    }\n    getValue() {\n        return this.value;\n    }\n    setValue(newValue) {\n        var extent = Math.min(this.visibleAmount, this.max - this.min);\n        newValue = Math.max(this.min, Math.min(this.max - extent, newValue));\n        newValue |= 0;\n        if (newValue != this.value) {\n            this.value = newValue;\n            this.updateThumbPosition();\n            this.fireAdjustmentEvent();\n        }\n    }\n    /** Fires an adjustment event to listeners */\n    fireAdjustmentEvent() {\n        this.adjustmentListeners.forEach(listener => listener.adjustmentValueChanged(new _java_awt_event_AdjustmentEvent__WEBPACK_IMPORTED_MODULE_1__.AdjustmentEvent(this))); //if not undefined, blocks zooming for some reason\n    }\n    addAdjustmentListener(arg0) {\n        this.adjustmentListeners.push(arg0);\n    }\n    removeAdjustmentListener(arg0) {\n        this.adjustmentListeners = this.adjustmentListeners.filter(listener => listener !== arg0);\n    }\n    setBlockIncrement(arg0) {\n        this.blockIncrement = arg0;\n    }\n    setUnitIncrement(arg0) {\n        this.unitIncrement = arg0;\n    }\n    setMaximum(max) {\n        if (this.max != max) {\n            this.max = max;\n            this.setValue(this.value); // Ensure value remains within bounds\n            this.updateThumbSize();\n            this.updateThumbPosition();\n        }\n    }\n    setVisibleAmount(extent) {\n        if (extent != this.visibleAmount) {\n            this.visibleAmount = extent;\n            this.setValue(this.value); // Ensure value remains within bounds\n            this.updateThumbSize();\n            this.updateThumbPosition();\n        }\n    }\n}\nJScrollBar.HORIZONTAL = 0;\nJScrollBar.VERTICAL = 1;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JScrollBar.ts?");

/***/ }),

/***/ "./src/javax/swing/JScrollPane.ts":
/*!****************************************!*\
  !*** ./src/javax/swing/JScrollPane.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JScrollPane: () => (/* binding */ JScrollPane)\n/* harmony export */ });\n/* harmony import */ var _JViewport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JViewport */ \"./src/javax/swing/JViewport.ts\");\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\n\nclass JScrollPane extends _JComponent__WEBPACK_IMPORTED_MODULE_1__.JComponent {\n    constructor(view, a = undefined, b = undefined) {\n        super(\"div\", [\"JScrollPane\"]);\n        this.content = view;\n        if (arguments.length == 3) {\n            this.vsbPolicy = a;\n            this.hsbPolicy = b;\n        }\n        else {\n            this.vsbPolicy = JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED;\n            this.hsbPolicy = JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED;\n        }\n        this.content = view;\n        this._getHTMLElement().style.overflow = 'auto';\n        this._getHTMLElement().style.display = 'block';\n        this._getHTMLElement().style.width = '100%';\n        this._getHTMLElement().style.height = '100%';\n        this._getHTMLElement().style.border = '1px solid #ccc';\n        this.viewport = new _JViewport__WEBPACK_IMPORTED_MODULE_0__.JViewport();\n        this.viewport.setContent(this.content);\n        this._getHTMLElement().appendChild(this.viewport._getHTMLElement());\n    }\n    getViewport() {\n        return this.viewport;\n    }\n    applyScrollPolicies() {\n        const viewportElement = this.viewport._getHTMLElement();\n        if (this.vsbPolicy === JScrollPane.VERTICAL_SCROLLBAR_ALWAYS) {\n            viewportElement.style.overflowY = 'scroll'; // Always show vertical scrollbar\n        }\n        else if (this.vsbPolicy === JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED) {\n            viewportElement.style.overflowY = 'auto'; // Show vertical scrollbar only when needed\n        }\n        if (this.hsbPolicy === JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS) {\n            viewportElement.style.overflowX = 'scroll'; // Always show horizontal scrollbar\n        }\n        else if (this.hsbPolicy === JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED) {\n            viewportElement.style.overflowX = 'auto'; // Show horizontal scrollbar only when needed\n        }\n    }\n    initialize() {\n        this.applyScrollPolicies();\n    }\n    // After the content is added, call this to update the scroll policies\n    setContent(view) {\n        this.content = view;\n        this.viewport.setContent(view);\n        this.initialize(); // Update the scroll policies\n    }\n}\nJScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED = 0;\nJScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS = 1;\nJScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED = 2;\nJScrollPane.VERTICAL_SCROLLBAR_ALWAYS = 3;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JScrollPane.ts?");

/***/ }),

/***/ "./src/javax/swing/JSpinner.ts":
/*!*************************************!*\
  !*** ./src/javax/swing/JSpinner.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JSpinner: () => (/* binding */ JSpinner)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JSpinner extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor(arg0) {\n        super(\"input\", [\"JSpinner\"]);\n        this.model = arg0;\n        this.model._source = this;\n        this._inputElement().addEventListener(\"input\", () => this.handleInputChange());\n        if (arg0._getStepSize !== undefined)\n            this._inputElement().step = arg0._getStepSize();\n    }\n    _inputElement() {\n        return this._getHTMLElement();\n    }\n    handleInputChange() {\n        const newValue = parseFloat(this._inputElement().value);\n        this.model.setValue(newValue);\n    }\n    getValue() {\n        return this.model.getValue();\n    }\n    setValue(val) {\n        this.model.setValue(val);\n    }\n    addChangeListener(listener) {\n        this.model.addChangeListener(listener);\n    }\n    removeChangeListener(listener) {\n        this.model.removeChangeListener(listener);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JSpinner.ts?");

/***/ }),

/***/ "./src/javax/swing/JTabbedPane.ts":
/*!****************************************!*\
  !*** ./src/javax/swing/JTabbedPane.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JTabbedPane: () => (/* binding */ JTabbedPane)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JTabbedPane extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor() {\n        super(\"div\", [\"JTabbedPane\"]);\n        this.tabs = [];\n        this.selectedTabIndex = 0; // To track the currently selected tab\n        this._getHTMLElement().style.display = \"flex\";\n        this._getHTMLElement().style.flexDirection = \"column\";\n    }\n    addTab(title, component) {\n        var tabIndex = this.tabs.length;\n        const tabButton = document.createElement(\"button\");\n        tabButton.classList.add(\"JTabbedPane_button\");\n        tabButton.textContent = title;\n        tabButton.addEventListener(\"click\", () => this.selectTab(tabIndex));\n        this._getHTMLElement().appendChild(tabButton);\n        // Add the component to the container but don't display it initially\n        const tabContainer = document.createElement(\"div\");\n        tabContainer.classList.add(\"JTabbedPane_container\");\n        tabContainer.style.display = \"none\"; // Hide it initially\n        tabContainer.appendChild(component._getHTMLElement());\n        this._getHTMLElement().appendChild(tabContainer);\n        this.tabs.push({ title, component, tabContainer });\n        this.selectTab(0);\n    }\n    selectTab(index) {\n        if (index >= 0 && index < this.tabs.length) {\n            this.tabs[this.selectedTabIndex].tabContainer.style.display = \"none\";\n            this.tabs[index].tabContainer.style.display = \"block\";\n            this.selectedTabIndex = index;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JTabbedPane.ts?");

/***/ }),

/***/ "./src/javax/swing/JTextArea.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/JTextArea.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JTextArea: () => (/* binding */ JTextArea)\n/* harmony export */ });\n/* harmony import */ var _text_JTextComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text/JTextComponent */ \"./src/javax/swing/text/JTextComponent.ts\");\n\nclass JTextArea extends _text_JTextComponent__WEBPACK_IMPORTED_MODULE_0__.JTextComponent {\n    constructor(text, rows, columns) {\n        super(\"textarea\", [\"JTextArea\"]);\n        this._textElement().rows = rows;\n        this._textElement().cols = columns;\n        this.setText(text);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JTextArea.ts?");

/***/ }),

/***/ "./src/javax/swing/JTextField.ts":
/*!***************************************!*\
  !*** ./src/javax/swing/JTextField.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JTextField: () => (/* binding */ JTextField)\n/* harmony export */ });\n/* harmony import */ var _text_JTextComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./text/JTextComponent */ \"./src/javax/swing/text/JTextComponent.ts\");\n/* harmony import */ var _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../java/awt/event/ActionEvent */ \"./src/java/awt/event/ActionEvent.ts\");\n\n\nclass JTextField extends _text_JTextComponent__WEBPACK_IMPORTED_MODULE_0__.JTextComponent {\n    constructor(a, b = undefined) {\n        super(\"input\", [\"JTextField\"]);\n        this.actionListeners = [];\n        var text = null;\n        var columns = 1;\n        if (arguments.length == 1) {\n            text == null;\n            columns = a;\n        }\n        else {\n            text = a;\n            columns = b;\n        }\n        this.setText(text);\n        this._textElement().size = columns;\n        this._textElement().addEventListener(\"keydown\", (event) => {\n            if (event.key === \"Enter\") {\n                this._fireActionEvent();\n            }\n        });\n    }\n    _fireActionEvent() {\n        this.actionListeners.forEach(listener => listener.actionPerformed(new _java_awt_event_ActionEvent__WEBPACK_IMPORTED_MODULE_1__.ActionEvent(this.getText(), this)));\n    }\n    addActionListener(arg0) {\n        this.actionListeners.push(arg0);\n    }\n    removeActionListener(arg0) {\n        this.actionListeners = this.actionListeners.filter(listener => listener !== arg0);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JTextField.ts?");

/***/ }),

/***/ "./src/javax/swing/JTextPane.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/JTextPane.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JTextPane: () => (/* binding */ JTextPane)\n/* harmony export */ });\n/* harmony import */ var _JEditorPane__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JEditorPane */ \"./src/javax/swing/JEditorPane.ts\");\n\nclass JTextPane extends _JEditorPane__WEBPACK_IMPORTED_MODULE_0__.JEditorPane {\n    constructor() {\n        super();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JTextPane.ts?");

/***/ }),

/***/ "./src/javax/swing/JToggleButton.ts":
/*!******************************************!*\
  !*** ./src/javax/swing/JToggleButton.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JToggleButton: () => (/* binding */ JToggleButton)\n/* harmony export */ });\n/* harmony import */ var _AbstractButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractButton */ \"./src/javax/swing/AbstractButton.ts\");\n\nclass JToggleButton extends _AbstractButton__WEBPACK_IMPORTED_MODULE_0__.AbstractButton {\n    constructor(tag, arrClass) {\n        super(tag, arrClass.concat(\"JToggleButton\"));\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JToggleButton.ts?");

/***/ }),

/***/ "./src/javax/swing/JToolBar.ts":
/*!*************************************!*\
  !*** ./src/javax/swing/JToolBar.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JToolBar: () => (/* binding */ JToolBar)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JToolBar extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor() {\n        super(\"div\", [\"JToolBar\"]);\n        this.items = [];\n        this._getHTMLElement().style.display = \"flex\";\n        this._getHTMLElement().style.gap = \"5px\";\n        this._getHTMLElement().style.padding = \"5px\";\n        this._getHTMLElement().style.background = \"#ddd\";\n    }\n    setRollover(arg0) {\n    }\n    addSeparator() {\n        /*\n        const separator = document.createElement(\"div\");\n        separator.classList.add(\"separator\");\n        separator.style.width = \"1px\";\n        separator.style.background = \"#aaa\";\n        separator.style.margin = \"0 5px\";\n        this._getHTMLElement().appendChild(separator);*/\n    }\n    setFloatable(arg0) {\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JToolBar.ts?");

/***/ }),

/***/ "./src/javax/swing/JViewport.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/JViewport.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JViewport: () => (/* binding */ JViewport)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JComponent */ \"./src/javax/swing/JComponent.ts\");\n\nclass JViewport extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor() {\n        super(\"div\", [\"JViewport\"]);\n        this.viewportElement = document.createElement('div');\n        this.viewportElement.style.width = '100%';\n        this.viewportElement.style.height = '100%';\n        this.viewportElement.style.overflow = 'auto'; // enable scrolling\n        // Append to the root element of JComponent\n        this._getHTMLElement().appendChild(this.viewportElement);\n    }\n    setContent(content) {\n        this.content = content._getHTMLElement();\n        this.viewportElement.appendChild(this.content);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/JViewport.ts?");

/***/ }),

/***/ "./src/javax/swing/KeyStroke.ts":
/*!**************************************!*\
  !*** ./src/javax/swing/KeyStroke.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyStroke: () => (/* binding */ KeyStroke)\n/* harmony export */ });\n/* harmony import */ var _java_awt_AWTKeyStroke__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/awt/AWTKeyStroke */ \"./src/java/awt/AWTKeyStroke.ts\");\n\nclass KeyStroke extends _java_awt_AWTKeyStroke__WEBPACK_IMPORTED_MODULE_0__.AWTKeyStroke {\n    constructor() {\n        super();\n    }\n    static getKeyStroke(keyChar, modifiers) {\n        var out = new KeyStroke();\n        out.keyChar = keyChar;\n        out.modifiers = modifiers;\n        return out;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/KeyStroke.ts?");

/***/ }),

/***/ "./src/javax/swing/ListSelectionModel.ts":
/*!***********************************************!*\
  !*** ./src/javax/swing/ListSelectionModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ListSelectionModel: () => (/* binding */ ListSelectionModel)\n/* harmony export */ });\nclass ListSelectionModel {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/ListSelectionModel.ts?");

/***/ }),

/***/ "./src/javax/swing/ScrollPaneConstants.ts":
/*!************************************************!*\
  !*** ./src/javax/swing/ScrollPaneConstants.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollPaneConstants: () => (/* binding */ ScrollPaneConstants)\n/* harmony export */ });\nclass ScrollPaneConstants {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/ScrollPaneConstants.ts?");

/***/ }),

/***/ "./src/javax/swing/SpinnerNumberModel.ts":
/*!***********************************************!*\
  !*** ./src/javax/swing/SpinnerNumberModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpinnerNumberModel: () => (/* binding */ SpinnerNumberModel)\n/* harmony export */ });\n/* harmony import */ var _AbstractSpinnerModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractSpinnerModel */ \"./src/javax/swing/AbstractSpinnerModel.ts\");\n\nclass SpinnerNumberModel extends _AbstractSpinnerModel__WEBPACK_IMPORTED_MODULE_0__.AbstractSpinnerModel {\n    constructor(value, minimum, maximum, stepSize) {\n        super();\n        this.value = value;\n        this.minimum = minimum;\n        this.maximum = maximum;\n        this.stepSize = stepSize;\n    }\n    _getStepSize() {\n        return this.stepSize;\n    }\n    getNextValue() {\n        return Math.min(this.maximum, this.value + this.stepSize);\n    }\n    getPreviousValue() {\n        return Math.max(this.minimum, this.value - this.stepSize);\n    }\n    getValue() {\n        return this.value;\n    }\n    setValue(value) {\n        value = Math.max(this.minimum, Math.min(this.maximum, value));\n        if (value != this.value) {\n            this.value = value;\n            this.fireStageChanged();\n        }\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/SpinnerNumberModel.ts?");

/***/ }),

/***/ "./src/javax/swing/SwingConstants.ts":
/*!*******************************************!*\
  !*** ./src/javax/swing/SwingConstants.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwingConstants: () => (/* binding */ SwingConstants)\n/* harmony export */ });\nclass SwingConstants {\n}\nSwingConstants.CENTER = 1;\n//new\nSwingConstants.RIGHT = 2;\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/SwingConstants.ts?");

/***/ }),

/***/ "./src/javax/swing/SwingUtilities.ts":
/*!*******************************************!*\
  !*** ./src/javax/swing/SwingUtilities.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SwingUtilities: () => (/* binding */ SwingUtilities)\n/* harmony export */ });\nclass SwingUtilities {\n    static invokeLater(arg0) {\n        arg0.run();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/SwingUtilities.ts?");

/***/ }),

/***/ "./src/javax/swing/Timer.ts":
/*!**********************************!*\
  !*** ./src/javax/swing/Timer.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Timer: () => (/* binding */ Timer)\n/* harmony export */ });\nclass Timer {\n    constructor(delay, actionListener) {\n        this.repeats = true;\n        this.timerId = null;\n        this.delay = delay;\n        this.actionListener = actionListener;\n    }\n    start() {\n        if (this.timerId !== null) {\n            return; // Prevent multiple timers from running\n        }\n        const execute = () => {\n            this.actionListener.actionPerformed(null);\n            if (this.repeats) {\n                this.timerId = setTimeout(execute, this.delay);\n            }\n            else {\n                this.timerId = null;\n            }\n        };\n        // Ensure repeats flag is checked before scheduling the next timeout\n        this.timerId = setTimeout(execute, this.delay);\n    }\n    setRepeats(repeats) {\n        this.repeats = repeats;\n    }\n    stop() {\n        throw new Error();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/Timer.ts?");

/***/ }),

/***/ "./src/javax/swing/WindowConstants.ts":
/*!********************************************!*\
  !*** ./src/javax/swing/WindowConstants.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WindowConstants: () => (/* binding */ WindowConstants)\n/* harmony export */ });\nclass WindowConstants {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/WindowConstants.ts?");

/***/ }),

/***/ "./src/javax/swing/border/AbstractBorder.ts":
/*!**************************************************!*\
  !*** ./src/javax/swing/border/AbstractBorder.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractBorder: () => (/* binding */ AbstractBorder)\n/* harmony export */ });\nclass AbstractBorder {\n    _applyTo(element) {\n        throw new Error('Method not implemented.');\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/border/AbstractBorder.ts?");

/***/ }),

/***/ "./src/javax/swing/border/CompoundBorder.ts":
/*!**************************************************!*\
  !*** ./src/javax/swing/border/CompoundBorder.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompoundBorder: () => (/* binding */ CompoundBorder)\n/* harmony export */ });\n/* harmony import */ var _AbstractBorder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractBorder */ \"./src/javax/swing/border/AbstractBorder.ts\");\n\nclass CompoundBorder extends _AbstractBorder__WEBPACK_IMPORTED_MODULE_0__.AbstractBorder {\n    constructor(outer, inner) {\n        super();\n        this.outer = outer;\n        this.inner = inner;\n    }\n    _applyTo(element) {\n        this.outer._applyTo(element);\n        this.inner._applyTo(element);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/border/CompoundBorder.ts?");

/***/ }),

/***/ "./src/javax/swing/border/EmptyBorder.ts":
/*!***********************************************!*\
  !*** ./src/javax/swing/border/EmptyBorder.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmptyBorder: () => (/* binding */ EmptyBorder)\n/* harmony export */ });\n/* harmony import */ var _AbstractBorder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractBorder */ \"./src/javax/swing/border/AbstractBorder.ts\");\n\nclass EmptyBorder extends _AbstractBorder__WEBPACK_IMPORTED_MODULE_0__.AbstractBorder {\n    constructor(top, right, bottom, left) {\n        super();\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    _applyTo(element) {\n        element.style.border = 'none';\n        element.style.padding = `${this.top}px ${this.right}px ${this.bottom}px ${this.left}px`;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/border/EmptyBorder.ts?");

/***/ }),

/***/ "./src/javax/swing/border/TitledBorder.ts":
/*!************************************************!*\
  !*** ./src/javax/swing/border/TitledBorder.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TitledBorder: () => (/* binding */ TitledBorder)\n/* harmony export */ });\n/* harmony import */ var _AbstractBorder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractBorder */ \"./src/javax/swing/border/AbstractBorder.ts\");\n\nclass TitledBorder extends _AbstractBorder__WEBPACK_IMPORTED_MODULE_0__.AbstractBorder {\n    constructor(title) {\n        super();\n        this.title = title;\n    }\n    _applyTo(element) {\n        element.style.border = '1px solid black';\n        element.style.position = 'relative';\n        element.style.padding = '5px';\n        const titleLabel = document.createElement('span');\n        titleLabel.textContent = this.title;\n        //titleLabel.style.position = 'absolute';\n        titleLabel.style.top = '-10px';\n        titleLabel.style.left = '10px';\n        titleLabel.style.backgroundColor = 'white';\n        element.appendChild(titleLabel);\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/border/TitledBorder.ts?");

/***/ }),

/***/ "./src/javax/swing/event/ChangeEvent.ts":
/*!**********************************************!*\
  !*** ./src/javax/swing/event/ChangeEvent.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChangeEvent: () => (/* binding */ ChangeEvent)\n/* harmony export */ });\n/* harmony import */ var _java_util_EventObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../java/util/EventObject */ \"./src/java/util/EventObject.ts\");\n\nclass ChangeEvent extends _java_util_EventObject__WEBPACK_IMPORTED_MODULE_0__.EventObject {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/event/ChangeEvent.ts?");

/***/ }),

/***/ "./src/javax/swing/filechooser/FileFilter.ts":
/*!***************************************************!*\
  !*** ./src/javax/swing/filechooser/FileFilter.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileFilter: () => (/* binding */ FileFilter)\n/* harmony export */ });\nclass FileFilter {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/filechooser/FileFilter.ts?");

/***/ }),

/***/ "./src/javax/swing/text/AbstractDocument.ts":
/*!**************************************************!*\
  !*** ./src/javax/swing/text/AbstractDocument.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractDocument: () => (/* binding */ AbstractDocument)\n/* harmony export */ });\nclass AbstractDocument {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/text/AbstractDocument.ts?");

/***/ }),

/***/ "./src/javax/swing/text/DefaultEditorKit.ts":
/*!**************************************************!*\
  !*** ./src/javax/swing/text/DefaultEditorKit.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultEditorKit: () => (/* binding */ DefaultEditorKit)\n/* harmony export */ });\n/* harmony import */ var _EditorKit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditorKit */ \"./src/javax/swing/text/EditorKit.ts\");\n\nclass DefaultEditorKit extends _EditorKit__WEBPACK_IMPORTED_MODULE_0__.EditorKit {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/text/DefaultEditorKit.ts?");

/***/ }),

/***/ "./src/javax/swing/text/DefaultStyledDocument.ts":
/*!*******************************************************!*\
  !*** ./src/javax/swing/text/DefaultStyledDocument.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultStyledDocument: () => (/* binding */ DefaultStyledDocument)\n/* harmony export */ });\n/* harmony import */ var _AbstractDocument__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AbstractDocument */ \"./src/javax/swing/text/AbstractDocument.ts\");\n\nclass DefaultStyledDocument extends _AbstractDocument__WEBPACK_IMPORTED_MODULE_0__.AbstractDocument {\n    putProperty(key, value) {\n    }\n    addDocumentListener(listener) {\n    }\n    removeDocumentListener(listener) {\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/text/DefaultStyledDocument.ts?");

/***/ }),

/***/ "./src/javax/swing/text/EditorKit.ts":
/*!*******************************************!*\
  !*** ./src/javax/swing/text/EditorKit.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorKit: () => (/* binding */ EditorKit)\n/* harmony export */ });\nclass EditorKit {\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/text/EditorKit.ts?");

/***/ }),

/***/ "./src/javax/swing/text/JTextComponent.ts":
/*!************************************************!*\
  !*** ./src/javax/swing/text/JTextComponent.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JTextComponent: () => (/* binding */ JTextComponent)\n/* harmony export */ });\n/* harmony import */ var _JComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../JComponent */ \"./src/javax/swing/JComponent.ts\");\n/* harmony import */ var _DefaultStyledDocument__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DefaultStyledDocument */ \"./src/javax/swing/text/DefaultStyledDocument.ts\");\n\n\nclass JTextComponent extends _JComponent__WEBPACK_IMPORTED_MODULE_0__.JComponent {\n    constructor(a = undefined, b = undefined) {\n        super(a === undefined ? \"input\" : a, b === undefined ? [\"JTextComponent\"] : b.concat([\"JTextComponent\"]));\n        this.doc = new _DefaultStyledDocument__WEBPACK_IMPORTED_MODULE_1__.DefaultStyledDocument();\n    }\n    _textElement() {\n        return this._getHTMLElement();\n    }\n    getText() {\n        return this._textElement().value;\n    }\n    setEditable(arg0) {\n        this._textElement().readOnly = !arg0;\n    }\n    setText(arg0) {\n        this._textElement().value = arg0;\n    }\n    getDocument() {\n        return this.doc;\n    }\n    setSelectionEnd(selectionEnd) {\n        this._textElement().selectionEnd = selectionEnd;\n    }\n    setSelectionStart(selectionStart) {\n        this._textElement().selectionStart = selectionStart;\n    }\n    setCaretPosition(position) {\n        const textElem = this._textElement();\n        textElem.selectionStart = position;\n        textElem.selectionEnd = position;\n    }\n    getCaretPosition() {\n        return this._textElement().selectionStart;\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/text/JTextComponent.ts?");

/***/ }),

/***/ "./src/javax/swing/text/html/parser/ParserDelegator.ts":
/*!*************************************************************!*\
  !*** ./src/javax/swing/text/html/parser/ParserDelegator.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ParserDelegator: () => (/* binding */ ParserDelegator)\n/* harmony export */ });\nclass ParserDelegator {\n    static setDefaultDTD() {\n        throw new Error(\"Not Implemented\");\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/javax/swing/text/html/parser/ParserDelegator.ts?");

/***/ }),

/***/ "./src/js.ts":
/*!*******************!*\
  !*** ./src/js.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isBoolean: () => (/* binding */ isBoolean),\n/* harmony export */   isInstance: () => (/* binding */ isInstance),\n/* harmony export */   isNumber: () => (/* binding */ isNumber),\n/* harmony export */   isString: () => (/* binding */ isString)\n/* harmony export */ });\nfunction isNumber(value) {\n    return (typeof value) == \"number\" || value.constructor.name == \"Number\";\n}\nfunction isString(value) {\n    return typeof value === \"string\";\n}\nfunction isInstance(value, cls) {\n    return value instanceof cls;\n}\nfunction isBoolean(value) {\n    return typeof value === \"boolean\";\n}\n\n\n//# sourceURL=webpack://cmme/./src/js.ts?");

/***/ }),

/***/ "./src/org/jdom/JDOMException.ts":
/*!***************************************!*\
  !*** ./src/org/jdom/JDOMException.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JDOMException: () => (/* binding */ JDOMException)\n/* harmony export */ });\n/* harmony import */ var _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../java/lang/Exception */ \"./src/java/lang/Exception.ts\");\n/* harmony import */ var _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../java/lang/RuntimeException */ \"./src/java/lang/RuntimeException.ts\");\n\n\nclass JDOMException extends _java_lang_Exception__WEBPACK_IMPORTED_MODULE_0__.Exception {\n    constructor(message) {\n        super();\n        throw new _java_lang_RuntimeException__WEBPACK_IMPORTED_MODULE_1__.RuntimeException();\n    }\n}\n\n\n//# sourceURL=webpack://cmme/./src/org/jdom/JDOMException.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/Test/index.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});